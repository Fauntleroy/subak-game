(function(ze,ii){typeof exports=="object"&&typeof module<"u"?ii(exports):typeof define=="function"&&define.amd?define(["exports"],ii):(ze=typeof globalThis<"u"?globalThis:ze||self,ii(ze.SubakGame={}))})(this,function(ze){"use strict";var cg=Object.defineProperty;var vg=(ze,ii,Oi)=>ii in ze?cg(ze,ii,{enumerable:!0,configurable:!0,writable:!0,value:Oi}):ze[ii]=Oi;var be=(ze,ii,Oi)=>(vg(ze,typeof ii!="symbol"?ii+"":ii,Oi),Oi);var ii=document.createElement("style");ii.textContent=`._subakGame_1q7ag_1{display:flex;align-items:center;justify-content:center;width:540px;max-width:100%;max-height:100vh;padding:1.5em;-webkit-user-select:none;user-select:none}._innerFrame_1q7ag_12{position:relative;display:flex;flex-direction:row;gap:2em;max-width:100%;max-height:100%}@media screen and (max-width: 420px){._innerFrame_1q7ag_12{flex-direction:column;gap:1.5em}}._label_1q7ag_26{font-size:.85rem;letter-spacing:.025em;line-height:1;text-transform:uppercase;font-weight:500;text-align:center;color:var(--color-very-light-text);margin:0}._hud_1q7ag_37{display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:1em 0}@media screen and (max-width: 420px){._hud_1q7ag_37{flex-direction:row;padding:0}}._hudSection_1q7ag_50{display:flex;flex-direction:column;align-items:center;gap:1em}._score_1q7ag_59{grid-area:score}._nextFruit_1q7ag_63{grid-area:next-fruit}._circleOfEvolution_1q7ag_67{grid-area:circle-of-evolution}._game_1q7ag_71{grid-area:gameplay;border:var(--color-border) 1px solid;overflow:hidden;border-radius:10px;align-self:center;cursor:-moz-grabbing}._game_1q7ag_71._isDropping_1q7ag_80{cursor:-moz-grab}._game_1q7ag_71 canvas{display:block}._hudSection_1q7ag_50,._game_1q7ag_71{transition:filter .25s}._dialogs_1q7ag_94{-webkit-user-select:all;user-select:all}._scoreNumber_1q7ag_100{font-size:1em;font-style:normal;font-weight:600;line-height:1;font-variant-numeric:tabular-nums}._isGameOver_1q7ag_108 ._hudSection_1q7ag_50,._isGameOver_1q7ag_108 ._game_1q7ag_71,._isNotStarted_1q7ag_109 ._hudSection_1q7ag_50,._isNotStarted_1q7ag_109 ._game_1q7ag_71{filter:grayscale(100%) contrast(25%) opacity(1)}._isGameOver_1q7ag_108 ._game_1q7ag_71,._isNotStarted_1q7ag_109 ._game_1q7ag_71{pointer-events:none}._touchControl_190wx_1{border-top:var(--color-border) 1px solid;background:#0000001a;height:5.5em;padding:15px;display:flex;align-items:center;justify-content:center;touch-action:none}._fruits_pytv1_1{position:relative;padding:10px 0}@media screen and (max-width: 420px){._fruits_pytv1_1{padding:0}}._fruitLoop_pytv1_10{position:absolute;border:var(--color-border) 1px solid;top:0;right:10px;bottom:0;left:10px;border-radius:25px}@media screen and (max-width: 420px){._fruitLoop_pytv1_10{top:10px;right:0;bottom:10px;left:0}}._fruitGroups_pytv1_27{position:relative;display:flex;gap:15px}@media screen and (max-width: 420px){._fruitGroups_pytv1_27{flex-direction:column;gap:10px}}._fruitGroup_pytv1_27{display:flex;flex-direction:column;gap:10px;justify-content:center}._fruitGroup_pytv1_27:nth-child(2n){flex-direction:column-reverse}@media screen and (max-width: 420px){._fruitGroup_pytv1_27{flex-direction:row;gap:8px}._fruitGroup_pytv1_27:nth-child(2n){flex-direction:row-reverse}}._fruit_pytv1_1{width:20px;aspect-ratio:1/1}@media screen and (max-width: 420px){._fruit_pytv1_1{width:17px}}._fruit_pytv1_1 img{display:block;width:100%;height:100%}._dialogBackdrop_rbm75_1{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;pointer-events:none}._dialog_rbm75_1{padding:1em;background:var(--color-background-light);color:var(--color-text);border:none;border-radius:10px;max-width:22em;display:flex;flex-direction:column;align-items:center;gap:1em;pointer-events:all;box-shadow:#00000040 0 2px 2px}._dialog_rbm75_1 header{font-weight:600}._leaderboard_n8ujv_1{display:flex;flex-direction:column;align-items:center;gap:.5em}._scores_n8ujv_8{border:var(--color-light-border) 1px solid;border-radius:10px}._scoresScroll_n8ujv_13{-webkit-mask-image:linear-gradient(to top,#0000,#000 1em);mask-image:linear-gradient(to top,#0000,#000 1em);max-height:8.5em;overflow:auto}._rank_n8ujv_19,._score_n8ujv_8,._time_n8ujv_21{font-style:normal;font-variant-numeric:tabular-nums;font-feature-settings:"ss01";text-align:right}._name_n8ujv_28{letter-spacing:.2em;font-weight:600}table{border-collapse:collapse}td{border-bottom:var(--color-light-border) 1px dotted;padding:.4em .5em}td:first-child{padding-left:1em}td:last-child{padding-right:1em}tr:last-child td{border-bottom:none}._score_10n4o_1{display:flex;flex-direction:row;gap:0;font-style:normal;font-weight:600;font-variant-numeric:tabular-nums;font-feature-settings:"ss01";font-size:1.25em;line-height:.8;color:var(--color-emphasized-text)}@media screen and (max-width: 420px){._score_10n4o_1{font-size:1em}}._debug_bvjy7_1{position:absolute;bottom:0;right:0}._nextFruitSlot_1su8i_1{width:2em;height:2em;position:relative}._nextFruitImage_1su8i_7{position:absolute;z-index:2;width:100%}._subakIcon_1wnzh_1{display:inlline-block;margin:0;width:1em;aspect-ratio:1 / 1;vertical-align:-.125em}
`,document.head.appendChild(ii);var Oi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _n(C){return C&&C.__esModule&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C}var Sr={exports:{}},ts={},Er={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ho;function $u(){if(ho)return he;ho=1;var C=Symbol.for("react.element"),A=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),p=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),t=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),a=Symbol.iterator;function r(z){return z===null||typeof z!="object"?null:(z=a&&z[a]||z["@@iterator"],typeof z=="function"?z:null)}var s={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e=Object.assign,n={};function h(z,Z,N){this.props=z,this.context=Z,this.refs=n,this.updater=N||s}h.prototype.isReactComponent={},h.prototype.setState=function(z,Z){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Z,"setState")},h.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function i(){}i.prototype=h.prototype;function o(z,Z,N){this.props=z,this.context=Z,this.refs=n,this.updater=N||s}var f=o.prototype=new i;f.constructor=o,e(f,h.prototype),f.isPureReactComponent=!0;var u=Array.isArray,d=Object.prototype.hasOwnProperty,c={current:null},m={key:!0,ref:!0,__self:!0,__source:!0};function x(z,Z,N){var Y,L={},b=null,U=null;if(Z!=null)for(Y in Z.ref!==void 0&&(U=Z.ref),Z.key!==void 0&&(b=""+Z.key),Z)d.call(Z,Y)&&!m.hasOwnProperty(Y)&&(L[Y]=Z[Y]);var W=arguments.length-2;if(W===1)L.children=N;else if(1<W){for(var j=Array(W),Q=0;Q<W;Q++)j[Q]=arguments[Q+2];L.children=j}if(z&&z.defaultProps)for(Y in W=z.defaultProps,W)L[Y]===void 0&&(L[Y]=W[Y]);return{$$typeof:C,type:z,key:b,ref:U,props:L,_owner:c.current}}function g(z,Z){return{$$typeof:C,type:z.type,key:Z,ref:z.ref,props:z.props,_owner:z._owner}}function T(z){return typeof z=="object"&&z!==null&&z.$$typeof===C}function S(z){var Z={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(N){return Z[N]})}var E=/\/+/g;function P(z,Z){return typeof z=="object"&&z!==null&&z.key!=null?S(""+z.key):Z.toString(36)}function F(z,Z,N,Y,L){var b=typeof z;(b==="undefined"||b==="boolean")&&(z=null);var U=!1;if(z===null)U=!0;else switch(b){case"string":case"number":U=!0;break;case"object":switch(z.$$typeof){case C:case A:U=!0}}if(U)return U=z,L=L(U),z=Y===""?"."+P(U,0):Y,u(L)?(N="",z!=null&&(N=z.replace(E,"$&/")+"/"),F(L,Z,N,"",function(Q){return Q})):L!=null&&(T(L)&&(L=g(L,N+(!L.key||U&&U.key===L.key?"":(""+L.key).replace(E,"$&/")+"/")+z)),Z.push(L)),1;if(U=0,Y=Y===""?".":Y+":",u(z))for(var W=0;W<z.length;W++){b=z[W];var j=Y+P(b,W);U+=F(b,Z,N,j,L)}else if(j=r(z),typeof j=="function")for(z=j.call(z),W=0;!(b=z.next()).done;)b=b.value,j=Y+P(b,W++),U+=F(b,Z,N,j,L);else if(b==="object")throw Z=String(z),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return U}function R(z,Z,N){if(z==null)return z;var Y=[],L=0;return F(z,Y,"","",function(b){return Z.call(N,b,L++)}),Y}function M(z){if(z._status===-1){var Z=z._result;Z=Z(),Z.then(function(N){(z._status===0||z._status===-1)&&(z._status=1,z._result=N)},function(N){(z._status===0||z._status===-1)&&(z._status=2,z._result=N)}),z._status===-1&&(z._status=0,z._result=Z)}if(z._status===1)return z._result.default;throw z._result}var O={current:null},I={transition:null},V={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:I,ReactCurrentOwner:c};function X(){throw Error("act(...) is not supported in production builds of React.")}return he.Children={map:R,forEach:function(z,Z,N){R(z,function(){Z.apply(this,arguments)},N)},count:function(z){var Z=0;return R(z,function(){Z++}),Z},toArray:function(z){return R(z,function(Z){return Z})||[]},only:function(z){if(!T(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},he.Component=h,he.Fragment=D,he.Profiler=H,he.PureComponent=o,he.StrictMode=G,he.Suspense=t,he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,he.act=X,he.cloneElement=function(z,Z,N){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Y=e({},z.props),L=z.key,b=z.ref,U=z._owner;if(Z!=null){if(Z.ref!==void 0&&(b=Z.ref,U=c.current),Z.key!==void 0&&(L=""+Z.key),z.type&&z.type.defaultProps)var W=z.type.defaultProps;for(j in Z)d.call(Z,j)&&!m.hasOwnProperty(j)&&(Y[j]=Z[j]===void 0&&W!==void 0?W[j]:Z[j])}var j=arguments.length-2;if(j===1)Y.children=N;else if(1<j){W=Array(j);for(var Q=0;Q<j;Q++)W[Q]=arguments[Q+2];Y.children=W}return{$$typeof:C,type:z.type,key:L,ref:b,props:Y,_owner:U}},he.createContext=function(z){return z={$$typeof:p,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:J,_context:z},z.Consumer=z},he.createElement=x,he.createFactory=function(z){var Z=x.bind(null,z);return Z.type=z,Z},he.createRef=function(){return{current:null}},he.forwardRef=function(z){return{$$typeof:y,render:z}},he.isValidElement=T,he.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:M}},he.memo=function(z,Z){return{$$typeof:l,type:z,compare:Z===void 0?null:Z}},he.startTransition=function(z){var Z=I.transition;I.transition={};try{z()}finally{I.transition=Z}},he.unstable_act=X,he.useCallback=function(z,Z){return O.current.useCallback(z,Z)},he.useContext=function(z){return O.current.useContext(z)},he.useDebugValue=function(){},he.useDeferredValue=function(z){return O.current.useDeferredValue(z)},he.useEffect=function(z,Z){return O.current.useEffect(z,Z)},he.useId=function(){return O.current.useId()},he.useImperativeHandle=function(z,Z,N){return O.current.useImperativeHandle(z,Z,N)},he.useInsertionEffect=function(z,Z){return O.current.useInsertionEffect(z,Z)},he.useLayoutEffect=function(z,Z){return O.current.useLayoutEffect(z,Z)},he.useMemo=function(z,Z){return O.current.useMemo(z,Z)},he.useReducer=function(z,Z,N){return O.current.useReducer(z,Z,N)},he.useRef=function(z){return O.current.useRef(z)},he.useState=function(z){return O.current.useState(z)},he.useSyncExternalStore=function(z,Z,N){return O.current.useSyncExternalStore(z,Z,N)},he.useTransition=function(){return O.current.useTransition()},he.version="18.3.1",he}var es={exports:{}};/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */es.exports;var lo;function Ju(){return lo||(lo=1,function(C,A){process.env.NODE_ENV!=="production"&&function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var D="18.3.1",G=Symbol.for("react.element"),H=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),l=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),r=Symbol.for("react.suspense_list"),s=Symbol.for("react.memo"),e=Symbol.for("react.lazy"),n=Symbol.for("react.offscreen"),h=Symbol.iterator,i="@@iterator";function o(q){if(q===null||typeof q!="object")return null;var at=h&&q[h]||q[i];return typeof at=="function"?at:null}var f={current:null},u={transition:null},d={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},c={current:null},m={},x=null;function g(q){x=q}m.setExtraStackFrame=function(q){x=q},m.getCurrentStack=null,m.getStackAddendum=function(){var q="";x&&(q+=x);var at=m.getCurrentStack;return at&&(q+=at()||""),q};var T=!1,S=!1,E=!1,P=!1,F=!1,R={ReactCurrentDispatcher:f,ReactCurrentBatchConfig:u,ReactCurrentOwner:c};R.ReactDebugCurrentFrame=m,R.ReactCurrentActQueue=d;function M(q){{for(var at=arguments.length,Tt=new Array(at>1?at-1:0),At=1;At<at;At++)Tt[At-1]=arguments[At];I("warn",q,Tt)}}function O(q){{for(var at=arguments.length,Tt=new Array(at>1?at-1:0),At=1;At<at;At++)Tt[At-1]=arguments[At];I("error",q,Tt)}}function I(q,at,Tt){{var At=R.ReactDebugCurrentFrame,Dt=At.getStackAddendum();Dt!==""&&(at+="%s",Tt=Tt.concat([Dt]));var Jt=Tt.map(function(jt){return String(jt)});Jt.unshift("Warning: "+at),Function.prototype.apply.call(console[q],console,Jt)}}var V={};function X(q,at){{var Tt=q.constructor,At=Tt&&(Tt.displayName||Tt.name)||"ReactClass",Dt=At+"."+at;if(V[Dt])return;O("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",at,At),V[Dt]=!0}}var z={isMounted:function(q){return!1},enqueueForceUpdate:function(q,at,Tt){X(q,"forceUpdate")},enqueueReplaceState:function(q,at,Tt,At){X(q,"replaceState")},enqueueSetState:function(q,at,Tt,At){X(q,"setState")}},Z=Object.assign,N={};Object.freeze(N);function Y(q,at,Tt){this.props=q,this.context=at,this.refs=N,this.updater=Tt||z}Y.prototype.isReactComponent={},Y.prototype.setState=function(q,at){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,at,"setState")},Y.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};{var L={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},b=function(q,at){Object.defineProperty(Y.prototype,q,{get:function(){M("%s(...) is deprecated in plain JavaScript React classes. %s",at[0],at[1])}})};for(var U in L)L.hasOwnProperty(U)&&b(U,L[U])}function W(){}W.prototype=Y.prototype;function j(q,at,Tt){this.props=q,this.context=at,this.refs=N,this.updater=Tt||z}var Q=j.prototype=new W;Q.constructor=j,Z(Q,Y.prototype),Q.isPureReactComponent=!0;function _(){var q={current:null};return Object.seal(q),q}var et=Array.isArray;function st(q){return et(q)}function ct(q){{var at=typeof Symbol=="function"&&Symbol.toStringTag,Tt=at&&q[Symbol.toStringTag]||q.constructor.name||"Object";return Tt}}function gt(q){try{return Et(q),!1}catch{return!0}}function Et(q){return""+q}function xt(q){if(gt(q))return O("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ct(q)),Et(q)}function Mt(q,at,Tt){var At=q.displayName;if(At)return At;var Dt=at.displayName||at.name||"";return Dt!==""?Tt+"("+Dt+")":Tt}function Vt(q){return q.displayName||"Context"}function Wt(q){if(q==null)return null;if(typeof q.tag=="number"&&O("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof q=="function")return q.displayName||q.name||null;if(typeof q=="string")return q;switch(q){case J:return"Fragment";case H:return"Portal";case y:return"Profiler";case p:return"StrictMode";case a:return"Suspense";case r:return"SuspenseList"}if(typeof q=="object")switch(q.$$typeof){case l:var at=q;return Vt(at)+".Consumer";case t:var Tt=q;return Vt(Tt._context)+".Provider";case v:return Mt(q,q.render,"ForwardRef");case s:var At=q.displayName||null;return At!==null?At:Wt(q.type)||"Memo";case e:{var Dt=q,Jt=Dt._payload,jt=Dt._init;try{return Wt(jt(Jt))}catch{return null}}}return null}var Nt=Object.prototype.hasOwnProperty,Pt={key:!0,ref:!0,__self:!0,__source:!0},bt,Gt,Zt;Zt={};function $t(q){if(Nt.call(q,"ref")){var at=Object.getOwnPropertyDescriptor(q,"ref").get;if(at&&at.isReactWarning)return!1}return q.ref!==void 0}function le(q){if(Nt.call(q,"key")){var at=Object.getOwnPropertyDescriptor(q,"key").get;if(at&&at.isReactWarning)return!1}return q.key!==void 0}function ve(q,at){var Tt=function(){bt||(bt=!0,O("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",at))};Tt.isReactWarning=!0,Object.defineProperty(q,"key",{get:Tt,configurable:!0})}function ie(q,at){var Tt=function(){Gt||(Gt=!0,O("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",at))};Tt.isReactWarning=!0,Object.defineProperty(q,"ref",{get:Tt,configurable:!0})}function qt(q){if(typeof q.ref=="string"&&c.current&&q.__self&&c.current.stateNode!==q.__self){var at=Wt(c.current.type);Zt[at]||(O('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',at,q.ref),Zt[at]=!0)}}var de=function(q,at,Tt,At,Dt,Jt,jt){var _t={$$typeof:G,type:q,key:at,ref:Tt,props:jt,_owner:Jt};return _t._store={},Object.defineProperty(_t._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(_t,"_self",{configurable:!1,enumerable:!1,writable:!1,value:At}),Object.defineProperty(_t,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Dt}),Object.freeze&&(Object.freeze(_t.props),Object.freeze(_t)),_t};function ce(q,at,Tt){var At,Dt={},Jt=null,jt=null,_t=null,pe=null;if(at!=null){$t(at)&&(jt=at.ref,qt(at)),le(at)&&(xt(at.key),Jt=""+at.key),_t=at.__self===void 0?null:at.__self,pe=at.__source===void 0?null:at.__source;for(At in at)Nt.call(at,At)&&!Pt.hasOwnProperty(At)&&(Dt[At]=at[At])}var Te=arguments.length-2;if(Te===1)Dt.children=Tt;else if(Te>1){for(var Ae=Array(Te),Re=0;Re<Te;Re++)Ae[Re]=arguments[Re+2];Object.freeze&&Object.freeze(Ae),Dt.children=Ae}if(q&&q.defaultProps){var Fe=q.defaultProps;for(At in Fe)Dt[At]===void 0&&(Dt[At]=Fe[At])}if(Jt||jt){var De=typeof q=="function"?q.displayName||q.name||"Unknown":q;Jt&&ve(Dt,De),jt&&ie(Dt,De)}return de(q,Jt,jt,_t,pe,c.current,Dt)}function Le(q,at){var Tt=de(q.type,at,q.ref,q._self,q._source,q._owner,q.props);return Tt}function Se(q,at,Tt){if(q==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var At,Dt=Z({},q.props),Jt=q.key,jt=q.ref,_t=q._self,pe=q._source,Te=q._owner;if(at!=null){$t(at)&&(jt=at.ref,Te=c.current),le(at)&&(xt(at.key),Jt=""+at.key);var Ae;q.type&&q.type.defaultProps&&(Ae=q.type.defaultProps);for(At in at)Nt.call(at,At)&&!Pt.hasOwnProperty(At)&&(at[At]===void 0&&Ae!==void 0?Dt[At]=Ae[At]:Dt[At]=at[At])}var Re=arguments.length-2;if(Re===1)Dt.children=Tt;else if(Re>1){for(var Fe=Array(Re),De=0;De<Re;De++)Fe[De]=arguments[De+2];Dt.children=Fe}return de(q.type,Jt,jt,_t,pe,Te,Dt)}function Ut(q){return typeof q=="object"&&q!==null&&q.$$typeof===G}var We=".",Ye=":";function ke(q){var at=/[=:]/g,Tt={"=":"=0",":":"=2"},At=q.replace(at,function(Dt){return Tt[Dt]});return"$"+At}var Bt=!1,qe=/\/+/g;function hi(q){return q.replace(qe,"$&/")}function pi(q,at){return typeof q=="object"&&q!==null&&q.key!=null?(xt(q.key),ke(""+q.key)):at.toString(36)}function mi(q,at,Tt,At,Dt){var Jt=typeof q;(Jt==="undefined"||Jt==="boolean")&&(q=null);var jt=!1;if(q===null)jt=!0;else switch(Jt){case"string":case"number":jt=!0;break;case"object":switch(q.$$typeof){case G:case H:jt=!0}}if(jt){var _t=q,pe=Dt(_t),Te=At===""?We+pi(_t,0):At;if(st(pe)){var Ae="";Te!=null&&(Ae=hi(Te)+"/"),mi(pe,at,Ae,"",function(zs){return zs})}else pe!=null&&(Ut(pe)&&(pe.key&&(!_t||_t.key!==pe.key)&&xt(pe.key),pe=Le(pe,Tt+(pe.key&&(!_t||_t.key!==pe.key)?hi(""+pe.key)+"/":"")+Te)),at.push(pe));return 1}var Re,Fe,De=0,ye=At===""?We:At+Ye;if(st(q))for(var Li=0;Li<q.length;Li++)Re=q[Li],Fe=ye+pi(Re,Li),De+=mi(Re,at,Tt,Fe,Dt);else{var zi=o(q);if(typeof zi=="function"){var Mn=q;zi===Mn.entries&&(Bt||M("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Bt=!0);for(var Vs=zi.call(Mn),Us,pr=0;!(Us=Vs.next()).done;)Re=Us.value,Fe=ye+pi(Re,pr++),De+=mi(Re,at,Tt,Fe,Dt)}else if(Jt==="object"){var Fn=String(q);throw new Error("Objects are not valid as a React child (found: "+(Fn==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Fn)+"). If you meant to render a collection of children, use an array instead.")}}return De}function gi(q,at,Tt){if(q==null)return q;var At=[],Dt=0;return mi(q,At,"","",function(Jt){return at.call(Tt,Jt,Dt++)}),At}function Ps(q){var at=0;return gi(q,function(){at++}),at}function Kn(q,at,Tt){gi(q,function(){at.apply(this,arguments)},Tt)}function Ci(q){return gi(q,function(at){return at})||[]}function xi(q){if(!Ut(q))throw new Error("React.Children.only expected to receive a single React element child.");return q}function $i(q){var at={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};at.Provider={$$typeof:t,_context:at};var Tt=!1,At=!1,Dt=!1;{var Jt={$$typeof:l,_context:at};Object.defineProperties(Jt,{Provider:{get:function(){return At||(At=!0,O("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),at.Provider},set:function(jt){at.Provider=jt}},_currentValue:{get:function(){return at._currentValue},set:function(jt){at._currentValue=jt}},_currentValue2:{get:function(){return at._currentValue2},set:function(jt){at._currentValue2=jt}},_threadCount:{get:function(){return at._threadCount},set:function(jt){at._threadCount=jt}},Consumer:{get:function(){return Tt||(Tt=!0,O("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),at.Consumer}},displayName:{get:function(){return at.displayName},set:function(jt){Dt||(M("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",jt),Dt=!0)}}}),at.Consumer=Jt}return at._currentRenderer=null,at._currentRenderer2=null,at}var li=-1,Ee=0,we=1,jn=2;function Ji(q){if(q._status===li){var at=q._result,Tt=at();if(Tt.then(function(Jt){if(q._status===Ee||q._status===li){var jt=q;jt._status=we,jt._result=Jt}},function(Jt){if(q._status===Ee||q._status===li){var jt=q;jt._status=jn,jt._result=Jt}}),q._status===li){var At=q;At._status=Ee,At._result=Tt}}if(q._status===we){var Dt=q._result;return Dt===void 0&&O(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,Dt),"default"in Dt||O(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,Dt),Dt.default}else throw q._result}function Qi(q){var at={_status:li,_result:q},Tt={$$typeof:e,_payload:at,_init:Ji};{var At,Dt;Object.defineProperties(Tt,{defaultProps:{configurable:!0,get:function(){return At},set:function(Jt){O("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),At=Jt,Object.defineProperty(Tt,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return Dt},set:function(Jt){O("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),Dt=Jt,Object.defineProperty(Tt,"propTypes",{enumerable:!0})}}})}return Tt}function ki(q){q!=null&&q.$$typeof===s?O("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof q!="function"?O("forwardRef requires a render function but was given %s.",q===null?"null":typeof q):q.length!==0&&q.length!==2&&O("forwardRef render functions accept exactly two parameters: props and ref. %s",q.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),q!=null&&(q.defaultProps!=null||q.propTypes!=null)&&O("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var at={$$typeof:v,render:q};{var Tt;Object.defineProperty(at,"displayName",{enumerable:!1,configurable:!0,get:function(){return Tt},set:function(At){Tt=At,!q.name&&!q.displayName&&(q.displayName=At)}})}return at}var Zn;Zn=Symbol.for("react.module.reference");function rt(q){return!!(typeof q=="string"||typeof q=="function"||q===J||q===y||F||q===p||q===a||q===r||P||q===n||T||S||E||typeof q=="object"&&q!==null&&(q.$$typeof===e||q.$$typeof===s||q.$$typeof===t||q.$$typeof===l||q.$$typeof===v||q.$$typeof===Zn||q.getModuleId!==void 0))}function Lt(q,at){rt(q)||O("memo: The first argument must be a component. Instead received: %s",q===null?"null":typeof q);var Tt={$$typeof:s,type:q,compare:at===void 0?null:at};{var At;Object.defineProperty(Tt,"displayName",{enumerable:!1,configurable:!0,get:function(){return At},set:function(Dt){At=Dt,!q.name&&!q.displayName&&(q.displayName=Dt)}})}return Tt}function Ot(){var q=f.current;return q===null&&O(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),q}function Qt(q){var at=Ot();if(q._context!==void 0){var Tt=q._context;Tt.Consumer===q?O("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):Tt.Provider===q&&O("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return at.useContext(q)}function ge(q){var at=Ot();return at.useState(q)}function ue(q,at,Tt){var At=Ot();return At.useReducer(q,at,Tt)}function re(q){var at=Ot();return at.useRef(q)}function te(q,at){var Tt=Ot();return Tt.useEffect(q,at)}function Xe(q,at){var Tt=Ot();return Tt.useInsertionEffect(q,at)}function Me(q,at){var Tt=Ot();return Tt.useLayoutEffect(q,at)}function ee(q,at){var Tt=Ot();return Tt.useCallback(q,at)}function Ge(q,at){var Tt=Ot();return Tt.useMemo(q,at)}function He(q,at,Tt){var At=Ot();return At.useImperativeHandle(q,at,Tt)}function ui(q,at){{var Tt=Ot();return Tt.useDebugValue(q,at)}}function Be(){var q=Ot();return q.useTransition()}function Pi(q){var at=Ot();return at.useDeferredValue(q)}function mn(){var q=Ot();return q.useId()}function gn(q,at,Tt){var At=Ot();return At.useSyncExternalStore(q,at,Tt)}var si=0,As,xn,Rs,xe,Ms,Fs,Ls;function Pe(){}Pe.__reactDisabledLog=!0;function yn(){{if(si===0){As=console.log,xn=console.info,Rs=console.warn,xe=console.error,Ms=console.group,Fs=console.groupCollapsed,Ls=console.groupEnd;var q={configurable:!0,enumerable:!0,value:Pe,writable:!0};Object.defineProperties(console,{info:q,log:q,warn:q,error:q,group:q,groupCollapsed:q,groupEnd:q})}si++}}function Tn(){{if(si--,si===0){var q={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Z({},q,{value:As}),info:Z({},q,{value:xn}),warn:Z({},q,{value:Rs}),error:Z({},q,{value:xe}),group:Z({},q,{value:Ms}),groupCollapsed:Z({},q,{value:Fs}),groupEnd:Z({},q,{value:Ls})})}si<0&&O("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Ai=R.ReactCurrentDispatcher,Sn;function qi(q,at,Tt){{if(Sn===void 0)try{throw Error()}catch(Dt){var At=Dt.stack.trim().match(/\n( *(at )?)/);Sn=At&&At[1]||""}return`
`+Sn+q}}var _i=!1,En;{var $n=typeof WeakMap=="function"?WeakMap:Map;En=new $n}function Os(q,at){if(!q||_i)return"";{var Tt=En.get(q);if(Tt!==void 0)return Tt}var At;_i=!0;var Dt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Jt;Jt=Ai.current,Ai.current=null,yn();try{if(at){var jt=function(){throw Error()};if(Object.defineProperty(jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(jt,[])}catch(ye){At=ye}Reflect.construct(q,[],jt)}else{try{jt.call()}catch(ye){At=ye}q.call(jt.prototype)}}else{try{throw Error()}catch(ye){At=ye}q()}}catch(ye){if(ye&&At&&typeof ye.stack=="string"){for(var _t=ye.stack.split(`
`),pe=At.stack.split(`
`),Te=_t.length-1,Ae=pe.length-1;Te>=1&&Ae>=0&&_t[Te]!==pe[Ae];)Ae--;for(;Te>=1&&Ae>=0;Te--,Ae--)if(_t[Te]!==pe[Ae]){if(Te!==1||Ae!==1)do if(Te--,Ae--,Ae<0||_t[Te]!==pe[Ae]){var Re=`
`+_t[Te].replace(" at new "," at ");return q.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",q.displayName)),typeof q=="function"&&En.set(q,Re),Re}while(Te>=1&&Ae>=0);break}}}finally{_i=!1,Ai.current=Jt,Tn(),Error.prepareStackTrace=Dt}var Fe=q?q.displayName||q.name:"",De=Fe?qi(Fe):"";return typeof q=="function"&&En.set(q,De),De}function yi(q,at,Tt){return Os(q,!1)}function Cn(q){var at=q.prototype;return!!(at&&at.isReactComponent)}function Pn(q,at,Tt){if(q==null)return"";if(typeof q=="function")return Os(q,Cn(q));if(typeof q=="string")return qi(q);switch(q){case a:return qi("Suspense");case r:return qi("SuspenseList")}if(typeof q=="object")switch(q.$$typeof){case v:return yi(q.render);case s:return Pn(q.type,at,Tt);case e:{var At=q,Dt=At._payload,Jt=At._init;try{return Pn(Jt(Dt),at,Tt)}catch{}}}return""}var dr={},me=R.ReactDebugCurrentFrame;function tn(q){if(q){var at=q._owner,Tt=Pn(q.type,q._source,at?at.type:null);me.setExtraStackFrame(Tt)}else me.setExtraStackFrame(null)}function $a(q,at,Tt,At,Dt){{var Jt=Function.call.bind(Nt);for(var jt in q)if(Jt(q,jt)){var _t=void 0;try{if(typeof q[jt]!="function"){var pe=Error((At||"React class")+": "+Tt+" type `"+jt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof q[jt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw pe.name="Invariant Violation",pe}_t=q[jt](at,jt,At,Tt,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Te){_t=Te}_t&&!(_t instanceof Error)&&(tn(Dt),O("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",At||"React class",Tt,jt,typeof _t),tn(null)),_t instanceof Error&&!(_t.message in dr)&&(dr[_t.message]=!0,tn(Dt),O("Failed %s type: %s",Tt,_t.message),tn(null))}}}function en(q){if(q){var at=q._owner,Tt=Pn(q.type,q._source,at?at.type:null);g(Tt)}else g(null)}var $e;$e=!1;function Ui(){if(c.current){var q=Wt(c.current.type);if(q)return`

Check the render method of \``+q+"`."}return""}function Jn(q){if(q!==void 0){var at=q.fileName.replace(/^.*[\\\/]/,""),Tt=q.lineNumber;return`

Check your code at `+at+":"+Tt+"."}return""}function Ri(q){return q!=null?Jn(q.__source):""}var ws={};function cr(q){var at=Ui();if(!at){var Tt=typeof q=="string"?q:q.displayName||q.name;Tt&&(at=`

Check the top-level render call using <`+Tt+">.")}return at}function Ve(q,at){if(!(!q._store||q._store.validated||q.key!=null)){q._store.validated=!0;var Tt=cr(at);if(!ws[Tt]){ws[Tt]=!0;var At="";q&&q._owner&&q._owner!==c.current&&(At=" It was passed a child from "+Wt(q._owner.type)+"."),en(q),O('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Tt,At),en(null)}}}function ri(q,at){if(typeof q=="object"){if(st(q))for(var Tt=0;Tt<q.length;Tt++){var At=q[Tt];Ut(At)&&Ve(At,at)}else if(Ut(q))q._store&&(q._store.validated=!0);else if(q){var Dt=o(q);if(typeof Dt=="function"&&Dt!==q.entries)for(var Jt=Dt.call(q),jt;!(jt=Jt.next()).done;)Ut(jt.value)&&Ve(jt.value,at)}}}function nn(q){{var at=q.type;if(at==null||typeof at=="string")return;var Tt;if(typeof at=="function")Tt=at.propTypes;else if(typeof at=="object"&&(at.$$typeof===v||at.$$typeof===s))Tt=at.propTypes;else return;if(Tt){var At=Wt(at);$a(Tt,q.props,"prop",At,q)}else if(at.PropTypes!==void 0&&!$e){$e=!0;var Dt=Wt(at);O("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Dt||"Unknown")}typeof at.getDefaultProps=="function"&&!at.getDefaultProps.isReactClassApproved&&O("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function An(q){{for(var at=Object.keys(q.props),Tt=0;Tt<at.length;Tt++){var At=at[Tt];if(At!=="children"&&At!=="key"){en(q),O("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",At),en(null);break}}q.ref!==null&&(en(q),O("Invalid attribute `ref` supplied to `React.Fragment`."),en(null))}}function Qn(q,at,Tt){var At=rt(q);if(!At){var Dt="";(q===void 0||typeof q=="object"&&q!==null&&Object.keys(q).length===0)&&(Dt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Jt=Ri(at);Jt?Dt+=Jt:Dt+=Ui();var jt;q===null?jt="null":st(q)?jt="array":q!==void 0&&q.$$typeof===G?(jt="<"+(Wt(q.type)||"Unknown")+" />",Dt=" Did you accidentally export a JSX literal instead of a component?"):jt=typeof q,O("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",jt,Dt)}var _t=ce.apply(this,arguments);if(_t==null)return _t;if(At)for(var pe=2;pe<arguments.length;pe++)ri(arguments[pe],q);return q===J?An(_t):nn(_t),_t}var Ti=!1;function Ja(q){var at=Qn.bind(null,q);return at.type=q,Ti||(Ti=!0,M("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(at,"type",{enumerable:!1,get:function(){return M("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:q}),q}}),at}function fi(q,at,Tt){for(var At=Se.apply(this,arguments),Dt=2;Dt<arguments.length;Dt++)ri(arguments[Dt],At.type);return nn(At),At}function Ds(q,at){var Tt=u.transition;u.transition={};var At=u.transition;u.transition._updatedFibers=new Set;try{q()}finally{if(u.transition=Tt,Tt===null&&At._updatedFibers){var Dt=At._updatedFibers.size;Dt>10&&M("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),At._updatedFibers.clear()}}}var Is=!1,sn=null;function Rn(q){if(sn===null)try{var at=("require"+Math.random()).slice(0,7),Tt=C&&C[at];sn=Tt.call(C,"timers").setImmediate}catch{sn=function(Dt){Is===!1&&(Is=!0,typeof MessageChannel>"u"&&O("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var Jt=new MessageChannel;Jt.port1.onmessage=Dt,Jt.port2.postMessage(void 0)}}return sn(q)}var Mi=0,Bs=!1;function vr(q){{var at=Mi;Mi++,d.current===null&&(d.current=[]);var Tt=d.isBatchingLegacy,At;try{if(d.isBatchingLegacy=!0,At=q(),!Tt&&d.didScheduleLegacyUpdate){var Dt=d.current;Dt!==null&&(d.didScheduleLegacyUpdate=!1,rn(Dt))}}catch(Fe){throw Fi(at),Fe}finally{d.isBatchingLegacy=Tt}if(At!==null&&typeof At=="object"&&typeof At.then=="function"){var Jt=At,jt=!1,_t={then:function(Fe,De){jt=!0,Jt.then(function(ye){Fi(at),Mi===0?bs(ye,Fe,De):Fe(ye)},function(ye){Fi(at),De(ye)})}};return!Bs&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){jt||(Bs=!0,O("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),_t}else{var pe=At;if(Fi(at),Mi===0){var Te=d.current;Te!==null&&(rn(Te),d.current=null);var Ae={then:function(Fe,De){d.current===null?(d.current=[],bs(pe,Fe,De)):Fe(pe)}};return Ae}else{var Re={then:function(Fe,De){Fe(pe)}};return Re}}}}function Fi(q){q!==Mi-1&&O("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),Mi=q}function bs(q,at,Tt){{var At=d.current;if(At!==null)try{rn(At),Rn(function(){At.length===0?(d.current=null,at(q)):bs(q,at,Tt)})}catch(Dt){Tt(Dt)}else at(q)}}var Gs=!1;function rn(q){if(!Gs){Gs=!0;var at=0;try{for(;at<q.length;at++){var Tt=q[at];do Tt=Tt(!0);while(Tt!==null)}q.length=0}catch(At){throw q=q.slice(at+1),At}finally{Gs=!1}}}var kn=Qn,Ns=fi,Qa=Ja,ka={map:gi,forEach:Kn,count:Ps,toArray:Ci,only:xi};A.Children=ka,A.Component=Y,A.Fragment=J,A.Profiler=y,A.PureComponent=j,A.StrictMode=p,A.Suspense=a,A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,A.act=vr,A.cloneElement=Ns,A.createContext=$i,A.createElement=kn,A.createFactory=Qa,A.createRef=_,A.forwardRef=ki,A.isValidElement=Ut,A.lazy=Qi,A.memo=Lt,A.startTransition=Ds,A.unstable_act=vr,A.useCallback=ee,A.useContext=Qt,A.useDebugValue=ui,A.useDeferredValue=Pi,A.useEffect=te,A.useId=mn,A.useImperativeHandle=He,A.useInsertionEffect=Xe,A.useLayoutEffect=Me,A.useMemo=Ge,A.useReducer=ue,A.useRef=re,A.useState=ge,A.useSyncExternalStore=gn,A.useTransition=Be,A.version=D,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()}(es,es.exports)),es.exports}process.env.NODE_ENV==="production"?Er.exports=$u():Er.exports=Ju();var zt=Er.exports;const Dn=_n(zt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uo;function Qu(){if(uo)return ts;uo=1;var C=zt,A=Symbol.for("react.element"),D=Symbol.for("react.fragment"),G=Object.prototype.hasOwnProperty,H=C.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J={key:!0,ref:!0,__self:!0,__source:!0};function p(y,t,l){var v,a={},r=null,s=null;l!==void 0&&(r=""+l),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(s=t.ref);for(v in t)G.call(t,v)&&!J.hasOwnProperty(v)&&(a[v]=t[v]);if(y&&y.defaultProps)for(v in t=y.defaultProps,t)a[v]===void 0&&(a[v]=t[v]);return{$$typeof:A,type:y,key:r,ref:s,props:a,_owner:H.current}}return ts.Fragment=D,ts.jsx=p,ts.jsxs=p,ts}var is={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fo;function ku(){return fo||(fo=1,process.env.NODE_ENV!=="production"&&function(){var C=zt,A=Symbol.for("react.element"),D=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),y=Symbol.for("react.context"),t=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),a=Symbol.for("react.memo"),r=Symbol.for("react.lazy"),s=Symbol.for("react.offscreen"),e=Symbol.iterator,n="@@iterator";function h(rt){if(rt===null||typeof rt!="object")return null;var Lt=e&&rt[e]||rt[n];return typeof Lt=="function"?Lt:null}var i=C.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function o(rt){{for(var Lt=arguments.length,Ot=new Array(Lt>1?Lt-1:0),Qt=1;Qt<Lt;Qt++)Ot[Qt-1]=arguments[Qt];f("error",rt,Ot)}}function f(rt,Lt,Ot){{var Qt=i.ReactDebugCurrentFrame,ge=Qt.getStackAddendum();ge!==""&&(Lt+="%s",Ot=Ot.concat([ge]));var ue=Ot.map(function(re){return String(re)});ue.unshift("Warning: "+Lt),Function.prototype.apply.call(console[rt],console,ue)}}var u=!1,d=!1,c=!1,m=!1,x=!1,g;g=Symbol.for("react.module.reference");function T(rt){return!!(typeof rt=="string"||typeof rt=="function"||rt===G||rt===J||x||rt===H||rt===l||rt===v||m||rt===s||u||d||c||typeof rt=="object"&&rt!==null&&(rt.$$typeof===r||rt.$$typeof===a||rt.$$typeof===p||rt.$$typeof===y||rt.$$typeof===t||rt.$$typeof===g||rt.getModuleId!==void 0))}function S(rt,Lt,Ot){var Qt=rt.displayName;if(Qt)return Qt;var ge=Lt.displayName||Lt.name||"";return ge!==""?Ot+"("+ge+")":Ot}function E(rt){return rt.displayName||"Context"}function P(rt){if(rt==null)return null;if(typeof rt.tag=="number"&&o("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof rt=="function")return rt.displayName||rt.name||null;if(typeof rt=="string")return rt;switch(rt){case G:return"Fragment";case D:return"Portal";case J:return"Profiler";case H:return"StrictMode";case l:return"Suspense";case v:return"SuspenseList"}if(typeof rt=="object")switch(rt.$$typeof){case y:var Lt=rt;return E(Lt)+".Consumer";case p:var Ot=rt;return E(Ot._context)+".Provider";case t:return S(rt,rt.render,"ForwardRef");case a:var Qt=rt.displayName||null;return Qt!==null?Qt:P(rt.type)||"Memo";case r:{var ge=rt,ue=ge._payload,re=ge._init;try{return P(re(ue))}catch{return null}}}return null}var F=Object.assign,R=0,M,O,I,V,X,z,Z;function N(){}N.__reactDisabledLog=!0;function Y(){{if(R===0){M=console.log,O=console.info,I=console.warn,V=console.error,X=console.group,z=console.groupCollapsed,Z=console.groupEnd;var rt={configurable:!0,enumerable:!0,value:N,writable:!0};Object.defineProperties(console,{info:rt,log:rt,warn:rt,error:rt,group:rt,groupCollapsed:rt,groupEnd:rt})}R++}}function L(){{if(R--,R===0){var rt={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:F({},rt,{value:M}),info:F({},rt,{value:O}),warn:F({},rt,{value:I}),error:F({},rt,{value:V}),group:F({},rt,{value:X}),groupCollapsed:F({},rt,{value:z}),groupEnd:F({},rt,{value:Z})})}R<0&&o("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var b=i.ReactCurrentDispatcher,U;function W(rt,Lt,Ot){{if(U===void 0)try{throw Error()}catch(ge){var Qt=ge.stack.trim().match(/\n( *(at )?)/);U=Qt&&Qt[1]||""}return`
`+U+rt}}var j=!1,Q;{var _=typeof WeakMap=="function"?WeakMap:Map;Q=new _}function et(rt,Lt){if(!rt||j)return"";{var Ot=Q.get(rt);if(Ot!==void 0)return Ot}var Qt;j=!0;var ge=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var ue;ue=b.current,b.current=null,Y();try{if(Lt){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Be){Qt=Be}Reflect.construct(rt,[],re)}else{try{re.call()}catch(Be){Qt=Be}rt.call(re.prototype)}}else{try{throw Error()}catch(Be){Qt=Be}rt()}}catch(Be){if(Be&&Qt&&typeof Be.stack=="string"){for(var te=Be.stack.split(`
`),Xe=Qt.stack.split(`
`),Me=te.length-1,ee=Xe.length-1;Me>=1&&ee>=0&&te[Me]!==Xe[ee];)ee--;for(;Me>=1&&ee>=0;Me--,ee--)if(te[Me]!==Xe[ee]){if(Me!==1||ee!==1)do if(Me--,ee--,ee<0||te[Me]!==Xe[ee]){var Ge=`
`+te[Me].replace(" at new "," at ");return rt.displayName&&Ge.includes("<anonymous>")&&(Ge=Ge.replace("<anonymous>",rt.displayName)),typeof rt=="function"&&Q.set(rt,Ge),Ge}while(Me>=1&&ee>=0);break}}}finally{j=!1,b.current=ue,L(),Error.prepareStackTrace=ge}var He=rt?rt.displayName||rt.name:"",ui=He?W(He):"";return typeof rt=="function"&&Q.set(rt,ui),ui}function st(rt,Lt,Ot){return et(rt,!1)}function ct(rt){var Lt=rt.prototype;return!!(Lt&&Lt.isReactComponent)}function gt(rt,Lt,Ot){if(rt==null)return"";if(typeof rt=="function")return et(rt,ct(rt));if(typeof rt=="string")return W(rt);switch(rt){case l:return W("Suspense");case v:return W("SuspenseList")}if(typeof rt=="object")switch(rt.$$typeof){case t:return st(rt.render);case a:return gt(rt.type,Lt,Ot);case r:{var Qt=rt,ge=Qt._payload,ue=Qt._init;try{return gt(ue(ge),Lt,Ot)}catch{}}}return""}var Et=Object.prototype.hasOwnProperty,xt={},Mt=i.ReactDebugCurrentFrame;function Vt(rt){if(rt){var Lt=rt._owner,Ot=gt(rt.type,rt._source,Lt?Lt.type:null);Mt.setExtraStackFrame(Ot)}else Mt.setExtraStackFrame(null)}function Wt(rt,Lt,Ot,Qt,ge){{var ue=Function.call.bind(Et);for(var re in rt)if(ue(rt,re)){var te=void 0;try{if(typeof rt[re]!="function"){var Xe=Error((Qt||"React class")+": "+Ot+" type `"+re+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof rt[re]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Xe.name="Invariant Violation",Xe}te=rt[re](Lt,re,Qt,Ot,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Me){te=Me}te&&!(te instanceof Error)&&(Vt(ge),o("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Qt||"React class",Ot,re,typeof te),Vt(null)),te instanceof Error&&!(te.message in xt)&&(xt[te.message]=!0,Vt(ge),o("Failed %s type: %s",Ot,te.message),Vt(null))}}}var Nt=Array.isArray;function Pt(rt){return Nt(rt)}function bt(rt){{var Lt=typeof Symbol=="function"&&Symbol.toStringTag,Ot=Lt&&rt[Symbol.toStringTag]||rt.constructor.name||"Object";return Ot}}function Gt(rt){try{return Zt(rt),!1}catch{return!0}}function Zt(rt){return""+rt}function $t(rt){if(Gt(rt))return o("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",bt(rt)),Zt(rt)}var le=i.ReactCurrentOwner,ve={key:!0,ref:!0,__self:!0,__source:!0},ie,qt,de;de={};function ce(rt){if(Et.call(rt,"ref")){var Lt=Object.getOwnPropertyDescriptor(rt,"ref").get;if(Lt&&Lt.isReactWarning)return!1}return rt.ref!==void 0}function Le(rt){if(Et.call(rt,"key")){var Lt=Object.getOwnPropertyDescriptor(rt,"key").get;if(Lt&&Lt.isReactWarning)return!1}return rt.key!==void 0}function Se(rt,Lt){if(typeof rt.ref=="string"&&le.current&&Lt&&le.current.stateNode!==Lt){var Ot=P(le.current.type);de[Ot]||(o('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',P(le.current.type),rt.ref),de[Ot]=!0)}}function Ut(rt,Lt){{var Ot=function(){ie||(ie=!0,o("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Lt))};Ot.isReactWarning=!0,Object.defineProperty(rt,"key",{get:Ot,configurable:!0})}}function We(rt,Lt){{var Ot=function(){qt||(qt=!0,o("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Lt))};Ot.isReactWarning=!0,Object.defineProperty(rt,"ref",{get:Ot,configurable:!0})}}var Ye=function(rt,Lt,Ot,Qt,ge,ue,re){var te={$$typeof:A,type:rt,key:Lt,ref:Ot,props:re,_owner:ue};return te._store={},Object.defineProperty(te._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(te,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Qt}),Object.defineProperty(te,"_source",{configurable:!1,enumerable:!1,writable:!1,value:ge}),Object.freeze&&(Object.freeze(te.props),Object.freeze(te)),te};function ke(rt,Lt,Ot,Qt,ge){{var ue,re={},te=null,Xe=null;Ot!==void 0&&($t(Ot),te=""+Ot),Le(Lt)&&($t(Lt.key),te=""+Lt.key),ce(Lt)&&(Xe=Lt.ref,Se(Lt,ge));for(ue in Lt)Et.call(Lt,ue)&&!ve.hasOwnProperty(ue)&&(re[ue]=Lt[ue]);if(rt&&rt.defaultProps){var Me=rt.defaultProps;for(ue in Me)re[ue]===void 0&&(re[ue]=Me[ue])}if(te||Xe){var ee=typeof rt=="function"?rt.displayName||rt.name||"Unknown":rt;te&&Ut(re,ee),Xe&&We(re,ee)}return Ye(rt,te,Xe,ge,Qt,le.current,re)}}var Bt=i.ReactCurrentOwner,qe=i.ReactDebugCurrentFrame;function hi(rt){if(rt){var Lt=rt._owner,Ot=gt(rt.type,rt._source,Lt?Lt.type:null);qe.setExtraStackFrame(Ot)}else qe.setExtraStackFrame(null)}var pi;pi=!1;function mi(rt){return typeof rt=="object"&&rt!==null&&rt.$$typeof===A}function gi(){{if(Bt.current){var rt=P(Bt.current.type);if(rt)return`

Check the render method of \``+rt+"`."}return""}}function Ps(rt){return""}var Kn={};function Ci(rt){{var Lt=gi();if(!Lt){var Ot=typeof rt=="string"?rt:rt.displayName||rt.name;Ot&&(Lt=`

Check the top-level render call using <`+Ot+">.")}return Lt}}function xi(rt,Lt){{if(!rt._store||rt._store.validated||rt.key!=null)return;rt._store.validated=!0;var Ot=Ci(Lt);if(Kn[Ot])return;Kn[Ot]=!0;var Qt="";rt&&rt._owner&&rt._owner!==Bt.current&&(Qt=" It was passed a child from "+P(rt._owner.type)+"."),hi(rt),o('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Ot,Qt),hi(null)}}function $i(rt,Lt){{if(typeof rt!="object")return;if(Pt(rt))for(var Ot=0;Ot<rt.length;Ot++){var Qt=rt[Ot];mi(Qt)&&xi(Qt,Lt)}else if(mi(rt))rt._store&&(rt._store.validated=!0);else if(rt){var ge=h(rt);if(typeof ge=="function"&&ge!==rt.entries)for(var ue=ge.call(rt),re;!(re=ue.next()).done;)mi(re.value)&&xi(re.value,Lt)}}}function li(rt){{var Lt=rt.type;if(Lt==null||typeof Lt=="string")return;var Ot;if(typeof Lt=="function")Ot=Lt.propTypes;else if(typeof Lt=="object"&&(Lt.$$typeof===t||Lt.$$typeof===a))Ot=Lt.propTypes;else return;if(Ot){var Qt=P(Lt);Wt(Ot,rt.props,"prop",Qt,rt)}else if(Lt.PropTypes!==void 0&&!pi){pi=!0;var ge=P(Lt);o("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",ge||"Unknown")}typeof Lt.getDefaultProps=="function"&&!Lt.getDefaultProps.isReactClassApproved&&o("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ee(rt){{for(var Lt=Object.keys(rt.props),Ot=0;Ot<Lt.length;Ot++){var Qt=Lt[Ot];if(Qt!=="children"&&Qt!=="key"){hi(rt),o("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Qt),hi(null);break}}rt.ref!==null&&(hi(rt),o("Invalid attribute `ref` supplied to `React.Fragment`."),hi(null))}}var we={};function jn(rt,Lt,Ot,Qt,ge,ue){{var re=T(rt);if(!re){var te="";(rt===void 0||typeof rt=="object"&&rt!==null&&Object.keys(rt).length===0)&&(te+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Xe=Ps();Xe?te+=Xe:te+=gi();var Me;rt===null?Me="null":Pt(rt)?Me="array":rt!==void 0&&rt.$$typeof===A?(Me="<"+(P(rt.type)||"Unknown")+" />",te=" Did you accidentally export a JSX literal instead of a component?"):Me=typeof rt,o("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Me,te)}var ee=ke(rt,Lt,Ot,ge,ue);if(ee==null)return ee;if(re){var Ge=Lt.children;if(Ge!==void 0)if(Qt)if(Pt(Ge)){for(var He=0;He<Ge.length;He++)$i(Ge[He],rt);Object.freeze&&Object.freeze(Ge)}else o("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else $i(Ge,rt)}if(Et.call(Lt,"key")){var ui=P(rt),Be=Object.keys(Lt).filter(function(gn){return gn!=="key"}),Pi=Be.length>0?"{key: someKey, "+Be.join(": ..., ")+": ...}":"{key: someKey}";if(!we[ui+Pi]){var mn=Be.length>0?"{"+Be.join(": ..., ")+": ...}":"{}";o(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Pi,ui,mn,ui),we[ui+Pi]=!0}}return rt===G?Ee(ee):li(ee),ee}}function Ji(rt,Lt,Ot){return jn(rt,Lt,Ot,!0)}function Qi(rt,Lt,Ot){return jn(rt,Lt,Ot,!1)}var ki=Qi,Zn=Ji;is.Fragment=G,is.jsx=ki,is.jsxs=Zn}()),is}process.env.NODE_ENV==="production"?Sr.exports=Qu():Sr.exports=ku();var wt=Sr.exports;const Ke={subakGame:"_subakGame_1q7ag_1",innerFrame:"_innerFrame_1q7ag_12",label:"_label_1q7ag_26",hud:"_hud_1q7ag_37",hudSection:"_hudSection_1q7ag_50",score:"_score_1q7ag_59",nextFruit:"_nextFruit_1q7ag_63",circleOfEvolution:"_circleOfEvolution_1q7ag_67",game:"_game_1q7ag_71",isDropping:"_isDropping_1q7ag_80",dialogs:"_dialogs_1q7ag_94",scoreNumber:"_scoreNumber_1q7ag_100",isGameOver:"_isGameOver_1q7ag_108",isNotStarted:"_isNotStarted_1q7ag_109"};var qu={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const co=C=>{let A;const D=new Set,G=(v,a)=>{const r=typeof v=="function"?v(A):v;if(!Object.is(r,A)){const s=A;A=a??(typeof r!="object"||r===null)?r:Object.assign({},A,r),D.forEach(e=>e(A,s))}},H=()=>A,t={setState:G,getState:H,getInitialState:()=>l,subscribe:v=>(D.add(v),()=>D.delete(v)),destroy:()=>{(qu?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),D.clear()}},l=A=C(G,H,t);return t},vo=C=>C?co(C):co;var Cr={exports:{}},Pr={},Ar={exports:{}},Rr={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var po;function _u(){if(po)return Rr;po=1;var C=zt;function A(a,r){return a===r&&(a!==0||1/a===1/r)||a!==a&&r!==r}var D=typeof Object.is=="function"?Object.is:A,G=C.useState,H=C.useEffect,J=C.useLayoutEffect,p=C.useDebugValue;function y(a,r){var s=r(),e=G({inst:{value:s,getSnapshot:r}}),n=e[0].inst,h=e[1];return J(function(){n.value=s,n.getSnapshot=r,t(n)&&h({inst:n})},[a,s,r]),H(function(){return t(n)&&h({inst:n}),a(function(){t(n)&&h({inst:n})})},[a]),p(s),s}function t(a){var r=a.getSnapshot;a=a.value;try{var s=r();return!D(a,s)}catch{return!0}}function l(a,r){return r()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:y;return Rr.useSyncExternalStore=C.useSyncExternalStore!==void 0?C.useSyncExternalStore:v,Rr}var Mr={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mo;function tf(){return mo||(mo=1,process.env.NODE_ENV!=="production"&&function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var C=zt,A=C.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function D(f){{for(var u=arguments.length,d=new Array(u>1?u-1:0),c=1;c<u;c++)d[c-1]=arguments[c];G("error",f,d)}}function G(f,u,d){{var c=A.ReactDebugCurrentFrame,m=c.getStackAddendum();m!==""&&(u+="%s",d=d.concat([m]));var x=d.map(function(g){return String(g)});x.unshift("Warning: "+u),Function.prototype.apply.call(console[f],console,x)}}function H(f,u){return f===u&&(f!==0||1/f===1/u)||f!==f&&u!==u}var J=typeof Object.is=="function"?Object.is:H,p=C.useState,y=C.useEffect,t=C.useLayoutEffect,l=C.useDebugValue,v=!1,a=!1;function r(f,u,d){v||C.startTransition!==void 0&&(v=!0,D("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var c=u();if(!a){var m=u();J(c,m)||(D("The result of getSnapshot should be cached to avoid an infinite loop"),a=!0)}var x=p({inst:{value:c,getSnapshot:u}}),g=x[0].inst,T=x[1];return t(function(){g.value=c,g.getSnapshot=u,s(g)&&T({inst:g})},[f,c,u]),y(function(){s(g)&&T({inst:g});var S=function(){s(g)&&T({inst:g})};return f(S)},[f]),l(c),c}function s(f){var u=f.getSnapshot,d=f.value;try{var c=u();return!J(d,c)}catch{return!0}}function e(f,u,d){return u()}var n=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",h=!n,i=h?e:r,o=C.useSyncExternalStore!==void 0?C.useSyncExternalStore:i;Mr.useSyncExternalStore=o,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()),Mr}process.env.NODE_ENV==="production"?Ar.exports=_u():Ar.exports=tf();var go=Ar.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xo;function ef(){if(xo)return Pr;xo=1;var C=zt,A=go;function D(l,v){return l===v&&(l!==0||1/l===1/v)||l!==l&&v!==v}var G=typeof Object.is=="function"?Object.is:D,H=A.useSyncExternalStore,J=C.useRef,p=C.useEffect,y=C.useMemo,t=C.useDebugValue;return Pr.useSyncExternalStoreWithSelector=function(l,v,a,r,s){var e=J(null);if(e.current===null){var n={hasValue:!1,value:null};e.current=n}else n=e.current;e=y(function(){function i(c){if(!o){if(o=!0,f=c,c=r(c),s!==void 0&&n.hasValue){var m=n.value;if(s(m,c))return u=m}return u=c}if(m=u,G(f,c))return m;var x=r(c);return s!==void 0&&s(m,x)?m:(f=c,u=x)}var o=!1,f,u,d=a===void 0?null:a;return[function(){return i(v())},d===null?void 0:function(){return i(d())}]},[v,a,r,s]);var h=H(l,e[0],e[1]);return p(function(){n.hasValue=!0,n.value=h},[h]),t(h),h},Pr}var Fr={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yo;function nf(){return yo||(yo=1,process.env.NODE_ENV!=="production"&&function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var C=zt,A=go;function D(v,a){return v===a&&(v!==0||1/v===1/a)||v!==v&&a!==a}var G=typeof Object.is=="function"?Object.is:D,H=A.useSyncExternalStore,J=C.useRef,p=C.useEffect,y=C.useMemo,t=C.useDebugValue;function l(v,a,r,s,e){var n=J(null),h;n.current===null?(h={hasValue:!1,value:null},n.current=h):h=n.current;var i=y(function(){var d=!1,c,m,x=function(E){if(!d){d=!0,c=E;var P=s(E);if(e!==void 0&&h.hasValue){var F=h.value;if(e(F,P))return m=F,F}return m=P,P}var R=c,M=m;if(G(R,E))return M;var O=s(E);return e!==void 0&&e(M,O)?M:(c=E,m=O,O)},g=r===void 0?null:r,T=function(){return x(a())},S=g===null?void 0:function(){return x(g())};return[T,S]},[a,r,s,e]),o=i[0],f=i[1],u=H(v,o,f);return p(function(){h.hasValue=!0,h.value=u},[u]),t(u),u}Fr.useSyncExternalStoreWithSelector=l,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()),Fr}process.env.NODE_ENV==="production"?Cr.exports=ef():Cr.exports=nf();var sf=Cr.exports;const rf=_n(sf);var af={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:of}=Dn,{useSyncExternalStoreWithSelector:hf}=rf;let To=!1;const lf=C=>C;function ci(C,A=lf,D){(af?"production":void 0)!=="production"&&D&&!To&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),To=!0);const G=hf(C.subscribe,C.getState,C.getServerState||C.getInitialState,A,D);return of(G),G}const uf=()=>{};function ff(C){zt.useEffect(()=>{typeof C=="function"&&C()},[])}const df={attributes:!0,characterData:!0,childList:!0,subtree:!0};function cf(C,A,D=df){zt.useEffect(()=>{if(C.current){const G=new MutationObserver(A);return G.observe(C.current,D),()=>{G.disconnect()}}return uf},[A,D,C])}function vf(C){return C.getBoundingClientRect()}function pf(C){const[A,D]=zt.useState(null),G=zt.useCallback(()=>{D(C.current?vf(C.current):null)},[C]);return ff(()=>{G()}),cf(C,G),A}var So={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(C){(function(){var A={}.hasOwnProperty;function D(){for(var J="",p=0;p<arguments.length;p++){var y=arguments[p];y&&(J=H(J,G(y)))}return J}function G(J){if(typeof J=="string"||typeof J=="number")return J;if(typeof J!="object")return"";if(Array.isArray(J))return D.apply(null,J);if(J.toString!==Object.prototype.toString&&!J.toString.toString().includes("[native code]"))return J.toString();var p="";for(var y in J)A.call(J,y)&&J[y]&&(p=H(p,y));return p}function H(J,p){return p?J?J+" "+p:J+p:J}C.exports?(D.default=D,C.exports=D):window.classNames=D})()})(So);var mf=So.exports;const In=_n(mf),Lr=zt.createContext({transformPagePoint:C=>C,isStatic:!1,reducedMotion:"never"}),Xs=zt.createContext({}),Ys=zt.createContext(null),Or=typeof document<"u",wr=Or?zt.useLayoutEffect:zt.useEffect,Eo=zt.createContext({strict:!1}),Dr=C=>C.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Co="data-"+Dr("framerAppearId"),gf={skipAnimations:!1,useManualTiming:!1};class Po{constructor(){this.order=[],this.scheduled=new Set}add(A){if(!this.scheduled.has(A))return this.scheduled.add(A),this.order.push(A),!0}remove(A){const D=this.order.indexOf(A);D!==-1&&(this.order.splice(D,1),this.scheduled.delete(A))}clear(){this.order.length=0,this.scheduled.clear()}}function xf(C){let A=new Po,D=new Po,G=0,H=!1,J=!1;const p=new WeakSet,y={schedule:(t,l=!1,v=!1)=>{const a=v&&H,r=a?A:D;return l&&p.add(t),r.add(t)&&a&&H&&(G=A.order.length),t},cancel:t=>{D.remove(t),p.delete(t)},process:t=>{if(H){J=!0;return}if(H=!0,[A,D]=[D,A],D.clear(),G=A.order.length,G)for(let l=0;l<G;l++){const v=A.order[l];p.has(v)&&(y.schedule(v),C()),v(t)}H=!1,J&&(J=!1,y.process(t))}};return y}const Ws=["read","resolveKeyframes","update","preRender","render","postRender"],yf=40;function Ao(C,A){let D=!1,G=!0;const H={delta:0,timestamp:0,isProcessing:!1},J=Ws.reduce((a,r)=>(a[r]=xf(()=>D=!0),a),{}),p=a=>{J[a].process(H)},y=()=>{const a=performance.now();D=!1,H.delta=G?1e3/60:Math.max(Math.min(a-H.timestamp,yf),1),H.timestamp=a,H.isProcessing=!0,Ws.forEach(p),H.isProcessing=!1,D&&A&&(G=!1,C(y))},t=()=>{D=!0,G=!0,H.isProcessing||C(y)};return{schedule:Ws.reduce((a,r)=>{const s=J[r];return a[r]=(e,n=!1,h=!1)=>(D||t(),s.schedule(e,n,h)),a},{}),cancel:a=>Ws.forEach(r=>J[r].cancel(a)),state:H,steps:J}}const{schedule:Ir,cancel:Og}=Ao(queueMicrotask,!1);function Tf(C,A,D,G){const{visualElement:H}=zt.useContext(Xs),J=zt.useContext(Eo),p=zt.useContext(Ys),y=zt.useContext(Lr).reducedMotion,t=zt.useRef();G=G||J.renderer,!t.current&&G&&(t.current=G(C,{visualState:A,parent:H,props:D,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const l=t.current;zt.useInsertionEffect(()=>{l&&l.update(D,p)});const v=zt.useRef(!!(D[Co]&&!window.HandoffComplete));return wr(()=>{l&&(Ir.render(l.render),v.current&&l.animationState&&l.animationState.animateChanges())}),zt.useEffect(()=>{l&&(l.updateFeatures(),!v.current&&l.animationState&&l.animationState.animateChanges(),v.current&&(v.current=!1,window.HandoffComplete=!0))}),l}function Bn(C){return C&&typeof C=="object"&&Object.prototype.hasOwnProperty.call(C,"current")}function Sf(C,A,D){return zt.useCallback(G=>{G&&C.mount&&C.mount(G),A&&(G?A.mount(G):A.unmount()),D&&(typeof D=="function"?D(G):Bn(D)&&(D.current=G))},[A])}function ns(C){return typeof C=="string"||Array.isArray(C)}function Hs(C){return C!==null&&typeof C=="object"&&typeof C.start=="function"}const Br=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],br=["initial",...Br];function Ks(C){return Hs(C.animate)||br.some(A=>ns(C[A]))}function Ro(C){return!!(Ks(C)||C.variants)}function Ef(C,A){if(Ks(C)){const{initial:D,animate:G}=C;return{initial:D===!1||ns(D)?D:void 0,animate:ns(G)?G:void 0}}return C.inherit!==!1?A:{}}function Cf(C){const{initial:A,animate:D}=Ef(C,zt.useContext(Xs));return zt.useMemo(()=>({initial:A,animate:D}),[Mo(A),Mo(D)])}function Mo(C){return Array.isArray(C)?C.join(" "):C}const Fo={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ss={};for(const C in Fo)ss[C]={isEnabled:A=>Fo[C].some(D=>!!A[D])};function Pf(C){for(const A in C)ss[A]={...ss[A],...C[A]}}const Gr=zt.createContext({}),Lo=zt.createContext({}),Af=Symbol.for("motionComponentSymbol");function Rf({preloadedFeatures:C,createVisualElement:A,useRender:D,useVisualState:G,Component:H}){C&&Pf(C);function J(y,t){let l;const v={...zt.useContext(Lr),...y,layoutId:Mf(y)},{isStatic:a}=v,r=Cf(y),s=G(y,a);if(!a&&Or){r.visualElement=Tf(H,s,v,A);const e=zt.useContext(Lo),n=zt.useContext(Eo).strict;r.visualElement&&(l=r.visualElement.loadFeatures(v,n,C,e))}return wt.jsxs(Xs.Provider,{value:r,children:[l&&r.visualElement?wt.jsx(l,{visualElement:r.visualElement,...v}):null,D(H,y,Sf(s,r.visualElement,t),s,a,r.visualElement)]})}const p=zt.forwardRef(J);return p[Af]=H,p}function Mf({layoutId:C}){const A=zt.useContext(Gr).id;return A&&C!==void 0?A+"-"+C:C}function Ff(C){function A(G,H={}){return Rf(C(G,H))}if(typeof Proxy>"u")return A;const D=new Map;return new Proxy(A,{get:(G,H)=>(D.has(H)||D.set(H,A(H)),D.get(H))})}const Lf=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Nr(C){return typeof C!="string"||C.includes("-")?!1:!!(Lf.indexOf(C)>-1||/[A-Z]/u.test(C))}const js={};function Of(C){Object.assign(js,C)}const rs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],on=new Set(rs);function Oo(C,{layout:A,layoutId:D}){return on.has(C)||C.startsWith("origin")||(A||D!==void 0)&&(!!js[C]||C==="opacity")}const Je=C=>!!(C&&C.getVelocity),wf={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Df=rs.length;function If(C,{enableHardwareAcceleration:A=!0,allowTransformNone:D=!0},G,H){let J="";for(let p=0;p<Df;p++){const y=rs[p];if(C[y]!==void 0){const t=wf[y]||y;J+=`${t}(${C[y]}) `}}return A&&!C.z&&(J+="translateZ(0)"),J=J.trim(),H?J=H(C,G?"":J):D&&G&&(J="none"),J}const wo=C=>A=>typeof A=="string"&&A.startsWith(C),Do=wo("--"),Bf=wo("var(--"),Vr=C=>Bf(C)?bf.test(C.split("/*")[0].trim()):!1,bf=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Gf=(C,A)=>A&&typeof C=="number"?A.transform(C):C,Yi=(C,A,D)=>D>A?A:D<C?C:D,bn={test:C=>typeof C=="number",parse:parseFloat,transform:C=>C},as={...bn,transform:C=>Yi(0,1,C)},Zs={...bn,default:1},os=C=>Math.round(C*1e5)/1e5,Ur=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,Nf=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,Vf=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function hs(C){return typeof C=="string"}const ls=C=>({test:A=>hs(A)&&A.endsWith(C)&&A.split(" ").length===1,parse:parseFloat,transform:A=>`${A}${C}`}),Wi=ls("deg"),Ei=ls("%"),kt=ls("px"),Uf=ls("vh"),zf=ls("vw"),Io={...Ei,parse:C=>Ei.parse(C)/100,transform:C=>Ei.transform(C*100)},Bo={...bn,transform:Math.round},bo={borderWidth:kt,borderTopWidth:kt,borderRightWidth:kt,borderBottomWidth:kt,borderLeftWidth:kt,borderRadius:kt,radius:kt,borderTopLeftRadius:kt,borderTopRightRadius:kt,borderBottomRightRadius:kt,borderBottomLeftRadius:kt,width:kt,maxWidth:kt,height:kt,maxHeight:kt,size:kt,top:kt,right:kt,bottom:kt,left:kt,padding:kt,paddingTop:kt,paddingRight:kt,paddingBottom:kt,paddingLeft:kt,margin:kt,marginTop:kt,marginRight:kt,marginBottom:kt,marginLeft:kt,rotate:Wi,rotateX:Wi,rotateY:Wi,rotateZ:Wi,scale:Zs,scaleX:Zs,scaleY:Zs,scaleZ:Zs,skew:Wi,skewX:Wi,skewY:Wi,distance:kt,translateX:kt,translateY:kt,translateZ:kt,x:kt,y:kt,z:kt,perspective:kt,transformPerspective:kt,opacity:as,originX:Io,originY:Io,originZ:kt,zIndex:Bo,backgroundPositionX:kt,backgroundPositionY:kt,fillOpacity:as,strokeOpacity:as,numOctaves:Bo};function zr(C,A,D,G){const{style:H,vars:J,transform:p,transformOrigin:y}=C;let t=!1,l=!1,v=!0;for(const a in A){const r=A[a];if(Do(a)){J[a]=r;continue}const s=bo[a],e=Gf(r,s);if(on.has(a)){if(t=!0,p[a]=e,!v)continue;r!==(s.default||0)&&(v=!1)}else a.startsWith("origin")?(l=!0,y[a]=e):H[a]=e}if(A.transform||(t||G?H.transform=If(C.transform,D,v,G):H.transform&&(H.transform="none")),l){const{originX:a="50%",originY:r="50%",originZ:s=0}=y;H.transformOrigin=`${a} ${r} ${s}`}}const Xr=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Go(C,A,D){for(const G in A)!Je(A[G])&&!Oo(G,D)&&(C[G]=A[G])}function Xf({transformTemplate:C},A,D){return zt.useMemo(()=>{const G=Xr();return zr(G,A,{enableHardwareAcceleration:!D},C),Object.assign({},G.vars,G.style)},[A])}function Yf(C,A,D){const G=C.style||{},H={};return Go(H,G,C),Object.assign(H,Xf(C,A,D)),H}function Wf(C,A,D){const G={},H=Yf(C,A,D);return C.drag&&C.dragListener!==!1&&(G.draggable=!1,H.userSelect=H.WebkitUserSelect=H.WebkitTouchCallout="none",H.touchAction=C.drag===!0?"none":`pan-${C.drag==="x"?"y":"x"}`),C.tabIndex===void 0&&(C.onTap||C.onTapStart||C.whileTap)&&(G.tabIndex=0),G.style=H,G}const Hf=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $s(C){return C.startsWith("while")||C.startsWith("drag")&&C!=="draggable"||C.startsWith("layout")||C.startsWith("onTap")||C.startsWith("onPan")||C.startsWith("onLayout")||Hf.has(C)}let No=C=>!$s(C);function Kf(C){C&&(No=A=>A.startsWith("on")?!$s(A):C(A))}try{Kf(require("@emotion/is-prop-valid").default)}catch{}function jf(C,A,D){const G={};for(const H in C)H==="values"&&typeof C.values=="object"||(No(H)||D===!0&&$s(H)||!A&&!$s(H)||C.draggable&&H.startsWith("onDrag"))&&(G[H]=C[H]);return G}function Vo(C,A,D){return typeof C=="string"?C:kt.transform(A+D*C)}function Zf(C,A,D){const G=Vo(A,C.x,C.width),H=Vo(D,C.y,C.height);return`${G} ${H}`}const $f={offset:"stroke-dashoffset",array:"stroke-dasharray"},Jf={offset:"strokeDashoffset",array:"strokeDasharray"};function Qf(C,A,D=1,G=0,H=!0){C.pathLength=1;const J=H?$f:Jf;C[J.offset]=kt.transform(-G);const p=kt.transform(A),y=kt.transform(D);C[J.array]=`${p} ${y}`}function Yr(C,{attrX:A,attrY:D,attrScale:G,originX:H,originY:J,pathLength:p,pathSpacing:y=1,pathOffset:t=0,...l},v,a,r){if(zr(C,l,v,r),a){C.style.viewBox&&(C.attrs.viewBox=C.style.viewBox);return}C.attrs=C.style,C.style={};const{attrs:s,style:e,dimensions:n}=C;s.transform&&(n&&(e.transform=s.transform),delete s.transform),n&&(H!==void 0||J!==void 0||e.transform)&&(e.transformOrigin=Zf(n,H!==void 0?H:.5,J!==void 0?J:.5)),A!==void 0&&(s.x=A),D!==void 0&&(s.y=D),G!==void 0&&(s.scale=G),p!==void 0&&Qf(s,p,y,t,!1)}const Uo=()=>({...Xr(),attrs:{}}),Wr=C=>typeof C=="string"&&C.toLowerCase()==="svg";function kf(C,A,D,G){const H=zt.useMemo(()=>{const J=Uo();return Yr(J,A,{enableHardwareAcceleration:!1},Wr(G),C.transformTemplate),{...J.attrs,style:{...J.style}}},[A]);if(C.style){const J={};Go(J,C.style,C),H.style={...J,...H.style}}return H}function qf(C=!1){return(D,G,H,{latestValues:J},p)=>{const t=(Nr(D)?kf:Wf)(G,J,p,D),l=jf(G,typeof D=="string",C),v=D!==zt.Fragment?{...l,...t,ref:H}:{},{children:a}=G,r=zt.useMemo(()=>Je(a)?a.get():a,[a]);return zt.createElement(D,{...v,children:r})}}function zo(C,{style:A,vars:D},G,H){Object.assign(C.style,A,H&&H.getProjectionStyles(G));for(const J in D)C.style.setProperty(J,D[J])}const Xo=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Yo(C,A,D,G){zo(C,A,void 0,G);for(const H in A.attrs)C.setAttribute(Xo.has(H)?H:Dr(H),A.attrs[H])}function Hr(C,A,D){var G;const{style:H}=C,J={};for(const p in H)(Je(H[p])||A.style&&Je(A.style[p])||Oo(p,C)||((G=D==null?void 0:D.getValue(p))===null||G===void 0?void 0:G.liveStyle)!==void 0)&&(J[p]=H[p]);return J}function Wo(C,A,D){const G=Hr(C,A,D);for(const H in C)if(Je(C[H])||Je(A[H])){const J=rs.indexOf(H)!==-1?"attr"+H.charAt(0).toUpperCase()+H.substring(1):H;G[J]=C[H]}return G}function Ho(C){const A=[{},{}];return C==null||C.values.forEach((D,G)=>{A[0][G]=D.get(),A[1][G]=D.getVelocity()}),A}function Kr(C,A,D,G){if(typeof A=="function"){const[H,J]=Ho(G);A=A(D!==void 0?D:C.custom,H,J)}if(typeof A=="string"&&(A=C.variants&&C.variants[A]),typeof A=="function"){const[H,J]=Ho(G);A=A(D!==void 0?D:C.custom,H,J)}return A}function Ko(C){const A=zt.useRef(null);return A.current===null&&(A.current=C()),A.current}const jr=C=>Array.isArray(C),_f=C=>!!(C&&typeof C=="object"&&C.mix&&C.toValue),td=C=>jr(C)?C[C.length-1]||0:C;function Js(C){const A=Je(C)?C.get():C;return _f(A)?A.toValue():A}function ed({scrapeMotionValuesFromProps:C,createRenderState:A,onMount:D},G,H,J){const p={latestValues:id(G,H,J,C),renderState:A()};return D&&(p.mount=y=>D(G,y,p)),p}const jo=C=>(A,D)=>{const G=zt.useContext(Xs),H=zt.useContext(Ys),J=()=>ed(C,A,G,H);return D?J():Ko(J)};function id(C,A,D,G){const H={},J=G(C,{});for(const r in J)H[r]=Js(J[r]);let{initial:p,animate:y}=C;const t=Ks(C),l=Ro(C);A&&l&&!t&&C.inherit!==!1&&(p===void 0&&(p=A.initial),y===void 0&&(y=A.animate));let v=D?D.initial===!1:!1;v=v||p===!1;const a=v?y:p;return a&&typeof a!="boolean"&&!Hs(a)&&(Array.isArray(a)?a:[a]).forEach(s=>{const e=Kr(C,s);if(!e)return;const{transitionEnd:n,transition:h,...i}=e;for(const o in i){let f=i[o];if(Array.isArray(f)){const u=v?f.length-1:0;f=f[u]}f!==null&&(H[o]=f)}for(const o in n)H[o]=n[o]}),H}const je=C=>C,{schedule:Ce,cancel:wi,state:Ze,steps:Zr}=Ao(typeof requestAnimationFrame<"u"?requestAnimationFrame:je,!0),nd={useVisualState:jo({scrapeMotionValuesFromProps:Wo,createRenderState:Uo,onMount:(C,A,{renderState:D,latestValues:G})=>{Ce.read(()=>{try{D.dimensions=typeof A.getBBox=="function"?A.getBBox():A.getBoundingClientRect()}catch{D.dimensions={x:0,y:0,width:0,height:0}}}),Ce.render(()=>{Yr(D,G,{enableHardwareAcceleration:!1},Wr(A.tagName),C.transformTemplate),Yo(A,D)})}})},sd={useVisualState:jo({scrapeMotionValuesFromProps:Hr,createRenderState:Xr})};function rd(C,{forwardMotionProps:A=!1},D,G){return{...Nr(C)?nd:sd,preloadedFeatures:D,useRender:qf(A),createVisualElement:G,Component:C}}function Di(C,A,D,G={passive:!0}){return C.addEventListener(A,D,G),()=>C.removeEventListener(A,D)}const Zo=C=>C.pointerType==="mouse"?typeof C.button!="number"||C.button<=0:C.isPrimary!==!1;function Qs(C,A="page"){return{point:{x:C[`${A}X`],y:C[`${A}Y`]}}}const ad=C=>A=>Zo(A)&&C(A,Qs(A));function Ii(C,A,D,G){return Di(C,A,ad(D),G)}const od=(C,A)=>D=>A(C(D)),Bi=(...C)=>C.reduce(od);function $o(C){let A=null;return()=>{const D=()=>{A=null};return A===null?(A=C,D):!1}}const Jo=$o("dragHorizontal"),Qo=$o("dragVertical");function ko(C){let A=!1;if(C==="y")A=Qo();else if(C==="x")A=Jo();else{const D=Jo(),G=Qo();D&&G?A=()=>{D(),G()}:(D&&D(),G&&G())}return A}function qo(){const C=ko(!0);return C?(C(),!1):!0}class Hi{constructor(A){this.isMounted=!1,this.node=A}update(){}}function _o(C,A){const D=A?"pointerenter":"pointerleave",G=A?"onHoverStart":"onHoverEnd",H=(J,p)=>{if(J.pointerType==="touch"||qo())return;const y=C.getProps();C.animationState&&y.whileHover&&C.animationState.setActive("whileHover",A);const t=y[G];t&&Ce.postRender(()=>t(J,p))};return Ii(C.current,D,H,{passive:!C.getProps()[G]})}class hd extends Hi{mount(){this.unmount=Bi(_o(this.node,!0),_o(this.node,!1))}unmount(){}}class ld extends Hi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let A=!1;try{A=this.node.current.matches(":focus-visible")}catch{A=!0}!A||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bi(Di(this.node.current,"focus",()=>this.onFocus()),Di(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const th=(C,A)=>A?C===A?!0:th(C,A.parentElement):!1;function $r(C,A){if(!A)return;const D=new PointerEvent("pointer"+C);A(D,Qs(D))}class ud extends Hi{constructor(){super(...arguments),this.removeStartListeners=je,this.removeEndListeners=je,this.removeAccessibleListeners=je,this.startPointerPress=(A,D)=>{if(this.isPressing)return;this.removeEndListeners();const G=this.node.getProps(),J=Ii(window,"pointerup",(y,t)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:v,globalTapTarget:a}=this.node.getProps(),r=!a&&!th(this.node.current,y.target)?v:l;r&&Ce.update(()=>r(y,t))},{passive:!(G.onTap||G.onPointerUp)}),p=Ii(window,"pointercancel",(y,t)=>this.cancelPress(y,t),{passive:!(G.onTapCancel||G.onPointerCancel)});this.removeEndListeners=Bi(J,p),this.startPress(A,D)},this.startAccessiblePress=()=>{const A=J=>{if(J.key!=="Enter"||this.isPressing)return;const p=y=>{y.key!=="Enter"||!this.checkPressEnd()||$r("up",(t,l)=>{const{onTap:v}=this.node.getProps();v&&Ce.postRender(()=>v(t,l))})};this.removeEndListeners(),this.removeEndListeners=Di(this.node.current,"keyup",p),$r("down",(y,t)=>{this.startPress(y,t)})},D=Di(this.node.current,"keydown",A),G=()=>{this.isPressing&&$r("cancel",(J,p)=>this.cancelPress(J,p))},H=Di(this.node.current,"blur",G);this.removeAccessibleListeners=Bi(D,H)}}startPress(A,D){this.isPressing=!0;const{onTapStart:G,whileTap:H}=this.node.getProps();H&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),G&&Ce.postRender(()=>G(A,D))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!qo()}cancelPress(A,D){if(!this.checkPressEnd())return;const{onTapCancel:G}=this.node.getProps();G&&Ce.postRender(()=>G(A,D))}mount(){const A=this.node.getProps(),D=Ii(A.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(A.onTapStart||A.onPointerStart)}),G=Di(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Bi(D,G)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Jr=new WeakMap,Qr=new WeakMap,fd=C=>{const A=Jr.get(C.target);A&&A(C)},dd=C=>{C.forEach(fd)};function cd({root:C,...A}){const D=C||document;Qr.has(D)||Qr.set(D,{});const G=Qr.get(D),H=JSON.stringify(A);return G[H]||(G[H]=new IntersectionObserver(dd,{root:C,...A})),G[H]}function vd(C,A,D){const G=cd(A);return Jr.set(C,D),G.observe(C),()=>{Jr.delete(C),G.unobserve(C)}}const pd={some:0,all:1};class md extends Hi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:A={}}=this.node.getProps(),{root:D,margin:G,amount:H="some",once:J}=A,p={root:D?D.current:void 0,rootMargin:G,threshold:typeof H=="number"?H:pd[H]},y=t=>{const{isIntersecting:l}=t;if(this.isInView===l||(this.isInView=l,J&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:v,onViewportLeave:a}=this.node.getProps(),r=l?v:a;r&&r(t)};return vd(this.node.current,p,y)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:A,prevProps:D}=this.node;["amount","margin","root"].some(gd(A,D))&&this.startObserver()}unmount(){}}function gd({viewport:C={}},{viewport:A={}}={}){return D=>C[D]!==A[D]}const xd={inView:{Feature:md},tap:{Feature:ud},focus:{Feature:ld},hover:{Feature:hd}};function eh(C,A){if(!Array.isArray(A))return!1;const D=A.length;if(D!==C.length)return!1;for(let G=0;G<D;G++)if(A[G]!==C[G])return!1;return!0}function ks(C,A,D){const G=C.getProps();return Kr(G,A,D!==void 0?D:G.custom,C)}const bi=C=>C*1e3,Gi=C=>C/1e3,yd={type:"spring",stiffness:500,damping:25,restSpeed:10},Td=C=>({type:"spring",stiffness:550,damping:C===0?2*Math.sqrt(550):30,restSpeed:10}),Sd={type:"keyframes",duration:.8},Ed={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Cd=(C,{keyframes:A})=>A.length>2?Sd:on.has(C)?C.startsWith("scale")?Td(A[1]):yd:Ed;function Pd({when:C,delay:A,delayChildren:D,staggerChildren:G,staggerDirection:H,repeat:J,repeatType:p,repeatDelay:y,from:t,elapsed:l,...v}){return!!Object.keys(v).length}function kr(C,A){return C[A]||C.default||C}const Ad=C=>C!==null;function qs(C,{repeat:A,repeatType:D="loop"},G){const H=C.filter(Ad),J=A&&D!=="loop"&&A%2===1?0:H.length-1;return!J||G===void 0?H[J]:G}let _s;function Rd(){_s=void 0}const Ki={now:()=>(_s===void 0&&Ki.set(Ze.isProcessing||gf.useManualTiming?Ze.timestamp:performance.now()),_s),set:C=>{_s=C,queueMicrotask(Rd)}},ih=C=>/^0[^.\s]+$/u.test(C);function Md(C){return typeof C=="number"?C===0:C!==null?C==="none"||C==="0"||ih(C):!0}let Gn=je,Ni=je;process.env.NODE_ENV!=="production"&&(Gn=(C,A)=>{!C&&typeof console<"u"&&console.warn(A)},Ni=(C,A)=>{if(!C)throw new Error(A)});const nh=C=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(C),Fd=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ld(C){const A=Fd.exec(C);if(!A)return[,];const[,D,G,H]=A;return[`--${D??G}`,H]}const Od=4;function sh(C,A,D=1){Ni(D<=Od,`Max CSS variable fallback depth detected in property "${C}". This may indicate a circular fallback dependency.`);const[G,H]=Ld(C);if(!G)return;const J=window.getComputedStyle(A).getPropertyValue(G);if(J){const p=J.trim();return nh(p)?parseFloat(p):p}return Vr(H)?sh(H,A,D+1):H}const wd=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),rh=C=>C===bn||C===kt,ah=(C,A)=>parseFloat(C.split(", ")[A]),oh=(C,A)=>(D,{transform:G})=>{if(G==="none"||!G)return 0;const H=G.match(/^matrix3d\((.+)\)$/u);if(H)return ah(H[1],A);{const J=G.match(/^matrix\((.+)\)$/u);return J?ah(J[1],C):0}},Dd=new Set(["x","y","z"]),Id=rs.filter(C=>!Dd.has(C));function Bd(C){const A=[];return Id.forEach(D=>{const G=C.getValue(D);G!==void 0&&(A.push([D,G.get()]),G.set(D.startsWith("scale")?1:0))}),A}const Nn={width:({x:C},{paddingLeft:A="0",paddingRight:D="0"})=>C.max-C.min-parseFloat(A)-parseFloat(D),height:({y:C},{paddingTop:A="0",paddingBottom:D="0"})=>C.max-C.min-parseFloat(A)-parseFloat(D),top:(C,{top:A})=>parseFloat(A),left:(C,{left:A})=>parseFloat(A),bottom:({y:C},{top:A})=>parseFloat(A)+(C.max-C.min),right:({x:C},{left:A})=>parseFloat(A)+(C.max-C.min),x:oh(4,13),y:oh(5,14)};Nn.translateX=Nn.x,Nn.translateY=Nn.y;const hh=C=>A=>A.test(C),lh=[bn,kt,Ei,Wi,zf,Uf,{test:C=>C==="auto",parse:C=>C}],uh=C=>lh.find(hh(C)),hn=new Set;let qr=!1,_r=!1;function fh(){if(_r){const C=Array.from(hn).filter(G=>G.needsMeasurement),A=new Set(C.map(G=>G.element)),D=new Map;A.forEach(G=>{const H=Bd(G);H.length&&(D.set(G,H),G.render())}),C.forEach(G=>G.measureInitialState()),A.forEach(G=>{G.render();const H=D.get(G);H&&H.forEach(([J,p])=>{var y;(y=G.getValue(J))===null||y===void 0||y.set(p)})}),C.forEach(G=>G.measureEndState()),C.forEach(G=>{G.suspendedScrollY!==void 0&&window.scrollTo(0,G.suspendedScrollY)})}_r=!1,qr=!1,hn.forEach(C=>C.complete()),hn.clear()}function dh(){hn.forEach(C=>{C.readKeyframes(),C.needsMeasurement&&(_r=!0)})}function bd(){dh(),fh()}class ta{constructor(A,D,G,H,J,p=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...A],this.onComplete=D,this.name=G,this.motionValue=H,this.element=J,this.isAsync=p}scheduleResolve(){this.isScheduled=!0,this.isAsync?(hn.add(this),qr||(qr=!0,Ce.read(dh),Ce.resolveKeyframes(fh))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:A,name:D,element:G,motionValue:H}=this;for(let J=0;J<A.length;J++)if(A[J]===null)if(J===0){const p=H==null?void 0:H.get(),y=A[A.length-1];if(p!==void 0)A[0]=p;else if(G&&D){const t=G.readValue(D,y);t!=null&&(A[0]=t)}A[0]===void 0&&(A[0]=y),H&&p===void 0&&H.set(A[0])}else A[J]=A[J-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),hn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,hn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ea=(C,A)=>D=>!!(hs(D)&&Vf.test(D)&&D.startsWith(C)||A&&Object.prototype.hasOwnProperty.call(D,A)),ch=(C,A,D)=>G=>{if(!hs(G))return G;const[H,J,p,y]=G.match(Ur);return{[C]:parseFloat(H),[A]:parseFloat(J),[D]:parseFloat(p),alpha:y!==void 0?parseFloat(y):1}},Gd=C=>Yi(0,255,C),ia={...bn,transform:C=>Math.round(Gd(C))},ln={test:ea("rgb","red"),parse:ch("red","green","blue"),transform:({red:C,green:A,blue:D,alpha:G=1})=>"rgba("+ia.transform(C)+", "+ia.transform(A)+", "+ia.transform(D)+", "+os(as.transform(G))+")"};function Nd(C){let A="",D="",G="",H="";return C.length>5?(A=C.substring(1,3),D=C.substring(3,5),G=C.substring(5,7),H=C.substring(7,9)):(A=C.substring(1,2),D=C.substring(2,3),G=C.substring(3,4),H=C.substring(4,5),A+=A,D+=D,G+=G,H+=H),{red:parseInt(A,16),green:parseInt(D,16),blue:parseInt(G,16),alpha:H?parseInt(H,16)/255:1}}const na={test:ea("#"),parse:Nd,transform:ln.transform},Vn={test:ea("hsl","hue"),parse:ch("hue","saturation","lightness"),transform:({hue:C,saturation:A,lightness:D,alpha:G=1})=>"hsla("+Math.round(C)+", "+Ei.transform(os(A))+", "+Ei.transform(os(D))+", "+os(as.transform(G))+")"},Qe={test:C=>ln.test(C)||na.test(C)||Vn.test(C),parse:C=>ln.test(C)?ln.parse(C):Vn.test(C)?Vn.parse(C):na.parse(C),transform:C=>hs(C)?C:C.hasOwnProperty("red")?ln.transform(C):Vn.transform(C)};function Vd(C){var A,D;return isNaN(C)&&hs(C)&&(((A=C.match(Ur))===null||A===void 0?void 0:A.length)||0)+(((D=C.match(Nf))===null||D===void 0?void 0:D.length)||0)>0}const vh="number",ph="color",Ud="var",zd="var(",mh="${}",Xd=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function us(C){const A=C.toString(),D=[],G={color:[],number:[],var:[]},H=[];let J=0;const y=A.replace(Xd,t=>(Qe.test(t)?(G.color.push(J),H.push(ph),D.push(Qe.parse(t))):t.startsWith(zd)?(G.var.push(J),H.push(Ud),D.push(t)):(G.number.push(J),H.push(vh),D.push(parseFloat(t))),++J,mh)).split(mh);return{values:D,split:y,indexes:G,types:H}}function gh(C){return us(C).values}function xh(C){const{split:A,types:D}=us(C),G=A.length;return H=>{let J="";for(let p=0;p<G;p++)if(J+=A[p],H[p]!==void 0){const y=D[p];y===vh?J+=os(H[p]):y===ph?J+=Qe.transform(H[p]):J+=H[p]}return J}}const Yd=C=>typeof C=="number"?0:C;function Wd(C){const A=gh(C);return xh(C)(A.map(Yd))}const ji={test:Vd,parse:gh,createTransformer:xh,getAnimatableNone:Wd},Hd=new Set(["brightness","contrast","saturate","opacity"]);function Kd(C){const[A,D]=C.slice(0,-1).split("(");if(A==="drop-shadow")return C;const[G]=D.match(Ur)||[];if(!G)return C;const H=D.replace(G,"");let J=Hd.has(A)?1:0;return G!==D&&(J*=100),A+"("+J+H+")"}const jd=/\b([a-z-]*)\(.*?\)/gu,sa={...ji,getAnimatableNone:C=>{const A=C.match(jd);return A?A.map(Kd).join(" "):C}},Zd={...bo,color:Qe,backgroundColor:Qe,outlineColor:Qe,fill:Qe,stroke:Qe,borderColor:Qe,borderTopColor:Qe,borderRightColor:Qe,borderBottomColor:Qe,borderLeftColor:Qe,filter:sa,WebkitFilter:sa},ra=C=>Zd[C];function yh(C,A){let D=ra(C);return D!==sa&&(D=ji),D.getAnimatableNone?D.getAnimatableNone(A):void 0}const $d=new Set(["auto","none","0"]);function Jd(C,A,D){let G=0,H;for(;G<C.length&&!H;){const J=C[G];typeof J=="string"&&!$d.has(J)&&us(J).values.length&&(H=C[G]),G++}if(H&&D)for(const J of A)C[J]=yh(D,H)}class Th extends ta{constructor(A,D,G,H){super(A,D,G,H,H==null?void 0:H.owner,!0)}readKeyframes(){const{unresolvedKeyframes:A,element:D,name:G}=this;if(!D.current)return;super.readKeyframes();for(let t=0;t<A.length;t++){let l=A[t];if(typeof l=="string"&&(l=l.trim(),Vr(l))){const v=sh(l,D.current);v!==void 0&&(A[t]=v),t===A.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!wd.has(G)||A.length!==2)return;const[H,J]=A,p=uh(H),y=uh(J);if(p!==y)if(rh(p)&&rh(y))for(let t=0;t<A.length;t++){const l=A[t];typeof l=="string"&&(A[t]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:A,name:D}=this,G=[];for(let H=0;H<A.length;H++)Md(A[H])&&G.push(H);G.length&&Jd(A,G,D)}measureInitialState(){const{element:A,unresolvedKeyframes:D,name:G}=this;if(!A.current)return;G==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Nn[G](A.measureViewportBox(),window.getComputedStyle(A.current)),D[0]=this.measuredOrigin;const H=D[D.length-1];H!==void 0&&A.getValue(G,H).jump(H,!1)}measureEndState(){var A;const{element:D,name:G,unresolvedKeyframes:H}=this;if(!D.current)return;const J=D.getValue(G);J&&J.jump(this.measuredOrigin,!1);const p=H.length-1,y=H[p];H[p]=Nn[G](D.measureViewportBox(),window.getComputedStyle(D.current)),y!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=y),!((A=this.removedTransforms)===null||A===void 0)&&A.length&&this.removedTransforms.forEach(([t,l])=>{D.getValue(t).set(l)}),this.resolveNoneKeyframes()}}function Sh(C){let A;return()=>(A===void 0&&(A=C()),A)}const Eh=(C,A)=>A==="zIndex"?!1:!!(typeof C=="number"||Array.isArray(C)||typeof C=="string"&&(ji.test(C)||C==="0")&&!C.startsWith("url("));function Qd(C){const A=C[0];if(C.length===1)return!0;for(let D=0;D<C.length;D++)if(C[D]!==A)return!0}function kd(C,A,D,G){const H=C[0];if(H===null)return!1;if(A==="display"||A==="visibility")return!0;const J=C[C.length-1],p=Eh(H,A),y=Eh(J,A);return Gn(p===y,`You are trying to animate ${A} from "${H}" to "${J}". ${H} is not an animatable value - to enable this animation set ${H} to a value animatable to ${J} via the \`style\` property.`),!p||!y?!1:Qd(C)||D==="spring"&&G}class Ch{constructor({autoplay:A=!0,delay:D=0,type:G="keyframes",repeat:H=0,repeatDelay:J=0,repeatType:p="loop",...y}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:A,delay:D,type:G,repeat:H,repeatDelay:J,repeatType:p,...y},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&bd(),this._resolved}onKeyframesResolved(A,D){this.hasAttemptedResolve=!0;const{name:G,type:H,velocity:J,delay:p,onComplete:y,onUpdate:t,isGenerator:l}=this.options;if(!l&&!kd(A,G,H,J))if(p)this.options.duration=0;else{t==null||t(qs(A,this.options,D)),y==null||y(),this.resolveFinishedPromise();return}const v=this.initPlayback(A,D);v!==!1&&(this._resolved={keyframes:A,finalKeyframe:D,...v},this.onPostResolved())}onPostResolved(){}then(A,D){return this.currentFinishedPromise.then(A,D)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(A=>{this.resolveFinishedPromise=A})}}function Ph(C,A){return A?C*(1e3/A):0}const qd=5;function Ah(C,A,D){const G=Math.max(A-qd,0);return Ph(D-C(G),A-G)}const aa=.001,_d=.01,Rh=10,tc=.05,ec=1;function ic({duration:C=800,bounce:A=.25,velocity:D=0,mass:G=1}){let H,J;Gn(C<=bi(Rh),"Spring duration must be 10 seconds or less");let p=1-A;p=Yi(tc,ec,p),C=Yi(_d,Rh,Gi(C)),p<1?(H=l=>{const v=l*p,a=v*C,r=v-D,s=oa(l,p),e=Math.exp(-a);return aa-r/s*e},J=l=>{const a=l*p*C,r=a*D+D,s=Math.pow(p,2)*Math.pow(l,2)*C,e=Math.exp(-a),n=oa(Math.pow(l,2),p);return(-H(l)+aa>0?-1:1)*((r-s)*e)/n}):(H=l=>{const v=Math.exp(-l*C),a=(l-D)*C+1;return-aa+v*a},J=l=>{const v=Math.exp(-l*C),a=(D-l)*(C*C);return v*a});const y=5/C,t=sc(H,J,y);if(C=bi(C),isNaN(t))return{stiffness:100,damping:10,duration:C};{const l=Math.pow(t,2)*G;return{stiffness:l,damping:p*2*Math.sqrt(G*l),duration:C}}}const nc=12;function sc(C,A,D){let G=D;for(let H=1;H<nc;H++)G=G-C(G)/A(G);return G}function oa(C,A){return C*Math.sqrt(1-A*A)}const rc=["duration","bounce"],ac=["stiffness","damping","mass"];function Mh(C,A){return A.some(D=>C[D]!==void 0)}function oc(C){let A={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...C};if(!Mh(C,ac)&&Mh(C,rc)){const D=ic(C);A={...A,...D,mass:1},A.isResolvedFromDuration=!0}return A}function Fh({keyframes:C,restDelta:A,restSpeed:D,...G}){const H=C[0],J=C[C.length-1],p={done:!1,value:H},{stiffness:y,damping:t,mass:l,duration:v,velocity:a,isResolvedFromDuration:r}=oc({...G,velocity:-Gi(G.velocity||0)}),s=a||0,e=t/(2*Math.sqrt(y*l)),n=J-H,h=Gi(Math.sqrt(y/l)),i=Math.abs(n)<5;D||(D=i?.01:2),A||(A=i?.005:.5);let o;if(e<1){const f=oa(h,e);o=u=>{const d=Math.exp(-e*h*u);return J-d*((s+e*h*n)/f*Math.sin(f*u)+n*Math.cos(f*u))}}else if(e===1)o=f=>J-Math.exp(-h*f)*(n+(s+h*n)*f);else{const f=h*Math.sqrt(e*e-1);o=u=>{const d=Math.exp(-e*h*u),c=Math.min(f*u,300);return J-d*((s+e*h*n)*Math.sinh(c)+f*n*Math.cosh(c))/f}}return{calculatedDuration:r&&v||null,next:f=>{const u=o(f);if(r)p.done=f>=v;else{let d=s;f!==0&&(e<1?d=Ah(o,f,u):d=0);const c=Math.abs(d)<=D,m=Math.abs(J-u)<=A;p.done=c&&m}return p.value=p.done?J:u,p}}}function Lh({keyframes:C,velocity:A=0,power:D=.8,timeConstant:G=325,bounceDamping:H=10,bounceStiffness:J=500,modifyTarget:p,min:y,max:t,restDelta:l=.5,restSpeed:v}){const a=C[0],r={done:!1,value:a},s=x=>y!==void 0&&x<y||t!==void 0&&x>t,e=x=>y===void 0?t:t===void 0||Math.abs(y-x)<Math.abs(t-x)?y:t;let n=D*A;const h=a+n,i=p===void 0?h:p(h);i!==h&&(n=i-a);const o=x=>-n*Math.exp(-x/G),f=x=>i+o(x),u=x=>{const g=o(x),T=f(x);r.done=Math.abs(g)<=l,r.value=r.done?i:T};let d,c;const m=x=>{s(r.value)&&(d=x,c=Fh({keyframes:[r.value,e(r.value)],velocity:Ah(f,x,r.value),damping:H,stiffness:J,restDelta:l,restSpeed:v}))};return m(0),{calculatedDuration:null,next:x=>{let g=!1;return!c&&d===void 0&&(g=!0,u(x),m(x)),d!==void 0&&x>=d?c.next(x-d):(!g&&u(x),r)}}}const Oh=(C,A,D)=>(((1-3*D+3*A)*C+(3*D-6*A))*C+3*A)*C,hc=1e-7,lc=12;function uc(C,A,D,G,H){let J,p,y=0;do p=A+(D-A)/2,J=Oh(p,G,H)-C,J>0?D=p:A=p;while(Math.abs(J)>hc&&++y<lc);return p}function fs(C,A,D,G){if(C===A&&D===G)return je;const H=J=>uc(J,0,1,C,D);return J=>J===0||J===1?J:Oh(H(J),A,G)}const fc=fs(.42,0,1,1),dc=fs(0,0,.58,1),wh=fs(.42,0,.58,1),cc=C=>Array.isArray(C)&&typeof C[0]!="number",Dh=C=>A=>A<=.5?C(2*A)/2:(2-C(2*(1-A)))/2,Ih=C=>A=>1-C(1-A),ha=C=>1-Math.sin(Math.acos(C)),Bh=Ih(ha),vc=Dh(ha),bh=fs(.33,1.53,.69,.99),la=Ih(bh),pc=Dh(la),Gh={linear:je,easeIn:fc,easeInOut:wh,easeOut:dc,circIn:ha,circInOut:vc,circOut:Bh,backIn:la,backInOut:pc,backOut:bh,anticipate:C=>(C*=2)<1?.5*la(C):.5*(2-Math.pow(2,-10*(C-1)))},Nh=C=>{if(Array.isArray(C)){Ni(C.length===4,"Cubic bezier arrays must contain four numerical values.");const[A,D,G,H]=C;return fs(A,D,G,H)}else if(typeof C=="string")return Ni(Gh[C]!==void 0,`Invalid easing type '${C}'`),Gh[C];return C},ds=(C,A,D)=>{const G=A-C;return G===0?1:(D-C)/G},Ie=(C,A,D)=>C+(A-C)*D;function ua(C,A,D){return D<0&&(D+=1),D>1&&(D-=1),D<1/6?C+(A-C)*6*D:D<1/2?A:D<2/3?C+(A-C)*(2/3-D)*6:C}function mc({hue:C,saturation:A,lightness:D,alpha:G}){C/=360,A/=100,D/=100;let H=0,J=0,p=0;if(!A)H=J=p=D;else{const y=D<.5?D*(1+A):D+A-D*A,t=2*D-y;H=ua(t,y,C+1/3),J=ua(t,y,C),p=ua(t,y,C-1/3)}return{red:Math.round(H*255),green:Math.round(J*255),blue:Math.round(p*255),alpha:G}}function tr(C,A){return D=>D>0?A:C}const fa=(C,A,D)=>{const G=C*C,H=D*(A*A-G)+G;return H<0?0:Math.sqrt(H)},gc=[na,ln,Vn],xc=C=>gc.find(A=>A.test(C));function Vh(C){const A=xc(C);if(Gn(!!A,`'${C}' is not an animatable color. Use the equivalent color code instead.`),!A)return!1;let D=A.parse(C);return A===Vn&&(D=mc(D)),D}const Uh=(C,A)=>{const D=Vh(C),G=Vh(A);if(!D||!G)return tr(C,A);const H={...D};return J=>(H.red=fa(D.red,G.red,J),H.green=fa(D.green,G.green,J),H.blue=fa(D.blue,G.blue,J),H.alpha=Ie(D.alpha,G.alpha,J),ln.transform(H))},da=new Set(["none","hidden"]);function yc(C,A){return da.has(C)?D=>D<=0?C:A:D=>D>=1?A:C}function Tc(C,A){return D=>Ie(C,A,D)}function ca(C){return typeof C=="number"?Tc:typeof C=="string"?Vr(C)?tr:Qe.test(C)?Uh:Cc:Array.isArray(C)?zh:typeof C=="object"?Qe.test(C)?Uh:Sc:tr}function zh(C,A){const D=[...C],G=D.length,H=C.map((J,p)=>ca(J)(J,A[p]));return J=>{for(let p=0;p<G;p++)D[p]=H[p](J);return D}}function Sc(C,A){const D={...C,...A},G={};for(const H in D)C[H]!==void 0&&A[H]!==void 0&&(G[H]=ca(C[H])(C[H],A[H]));return H=>{for(const J in G)D[J]=G[J](H);return D}}function Ec(C,A){var D;const G=[],H={color:0,var:0,number:0};for(let J=0;J<A.values.length;J++){const p=A.types[J],y=C.indexes[p][H[p]],t=(D=C.values[y])!==null&&D!==void 0?D:0;G[J]=t,H[p]++}return G}const Cc=(C,A)=>{const D=ji.createTransformer(A),G=us(C),H=us(A);return G.indexes.var.length===H.indexes.var.length&&G.indexes.color.length===H.indexes.color.length&&G.indexes.number.length>=H.indexes.number.length?da.has(C)&&!H.values.length||da.has(A)&&!G.values.length?yc(C,A):Bi(zh(Ec(G,H),H.values),D):(Gn(!0,`Complex values '${C}' and '${A}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),tr(C,A))};function Xh(C,A,D){return typeof C=="number"&&typeof A=="number"&&typeof D=="number"?Ie(C,A,D):ca(C)(C,A)}function Pc(C,A,D){const G=[],H=D||Xh,J=C.length-1;for(let p=0;p<J;p++){let y=H(C[p],C[p+1]);if(A){const t=Array.isArray(A)?A[p]||je:A;y=Bi(t,y)}G.push(y)}return G}function Ac(C,A,{clamp:D=!0,ease:G,mixer:H}={}){const J=C.length;if(Ni(J===A.length,"Both input and output ranges must be the same length"),J===1)return()=>A[0];if(J===2&&C[0]===C[1])return()=>A[1];C[0]>C[J-1]&&(C=[...C].reverse(),A=[...A].reverse());const p=Pc(A,G,H),y=p.length,t=l=>{let v=0;if(y>1)for(;v<C.length-2&&!(l<C[v+1]);v++);const a=ds(C[v],C[v+1],l);return p[v](a)};return D?l=>t(Yi(C[0],C[J-1],l)):t}function Rc(C,A){const D=C[C.length-1];for(let G=1;G<=A;G++){const H=ds(0,A,G);C.push(Ie(D,1,H))}}function Mc(C){const A=[0];return Rc(A,C.length-1),A}function Fc(C,A){return C.map(D=>D*A)}function Lc(C,A){return C.map(()=>A||wh).splice(0,C.length-1)}function er({duration:C=300,keyframes:A,times:D,ease:G="easeInOut"}){const H=cc(G)?G.map(Nh):Nh(G),J={done:!1,value:A[0]},p=Fc(D&&D.length===A.length?D:Mc(A),C),y=Ac(p,A,{ease:Array.isArray(H)?H:Lc(A,H)});return{calculatedDuration:C,next:t=>(J.value=y(t),J.done=t>=C,J)}}const Yh=2e4;function Oc(C){let A=0;const D=50;let G=C.next(A);for(;!G.done&&A<Yh;)A+=D,G=C.next(A);return A>=Yh?1/0:A}const wc=C=>{const A=({timestamp:D})=>C(D);return{start:()=>Ce.update(A,!0),stop:()=>wi(A),now:()=>Ze.isProcessing?Ze.timestamp:Ki.now()}},Dc={decay:Lh,inertia:Lh,tween:er,keyframes:er,spring:Fh},Ic=C=>C/100;class va extends Ch{constructor({KeyframeResolver:A=ta,...D}){super(D),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:y}=this.options;y&&y()};const{name:G,motionValue:H,keyframes:J}=this.options,p=(y,t)=>this.onKeyframesResolved(y,t);G&&H&&H.owner?this.resolver=H.owner.resolveKeyframes(J,p,G,H):this.resolver=new A(J,p,G,H),this.resolver.scheduleResolve()}initPlayback(A){const{type:D="keyframes",repeat:G=0,repeatDelay:H=0,repeatType:J,velocity:p=0}=this.options,y=Dc[D]||er;let t,l;y!==er&&typeof A[0]!="number"&&(process.env.NODE_ENV!=="production"&&Ni(A.length===2,`Only two keyframes currently supported with spring and inertia animations. Trying to animate ${A}`),t=Bi(Ic,Xh(A[0],A[1])),A=[0,100]);const v=y({...this.options,keyframes:A});J==="mirror"&&(l=y({...this.options,keyframes:[...A].reverse(),velocity:-p})),v.calculatedDuration===null&&(v.calculatedDuration=Oc(v));const{calculatedDuration:a}=v,r=a+H,s=r*(G+1)-H;return{generator:v,mirroredGenerator:l,mapPercentToKeyframes:t,calculatedDuration:a,resolvedDuration:r,totalDuration:s}}onPostResolved(){const{autoplay:A=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!A?this.pause():this.state=this.pendingPlayState}tick(A,D=!1){const{resolved:G}=this;if(!G){const{keyframes:x}=this.options;return{done:!0,value:x[x.length-1]}}const{finalKeyframe:H,generator:J,mirroredGenerator:p,mapPercentToKeyframes:y,keyframes:t,calculatedDuration:l,totalDuration:v,resolvedDuration:a}=G;if(this.startTime===null)return J.next(0);const{delay:r,repeat:s,repeatType:e,repeatDelay:n,onUpdate:h}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,A):this.speed<0&&(this.startTime=Math.min(A-v/this.speed,this.startTime)),D?this.currentTime=A:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(A-this.startTime)*this.speed;const i=this.currentTime-r*(this.speed>=0?1:-1),o=this.speed>=0?i<0:i>v;this.currentTime=Math.max(i,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let f=this.currentTime,u=J;if(s){const x=Math.min(this.currentTime,v)/a;let g=Math.floor(x),T=x%1;!T&&x>=1&&(T=1),T===1&&g--,g=Math.min(g,s+1),!!(g%2)&&(e==="reverse"?(T=1-T,n&&(T-=n/a)):e==="mirror"&&(u=p)),f=Yi(0,1,T)*a}const d=o?{done:!1,value:t[0]}:u.next(f);y&&(d.value=y(d.value));let{done:c}=d;!o&&l!==null&&(c=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const m=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&c);return m&&H!==void 0&&(d.value=qs(t,this.options,H)),h&&h(d.value),m&&this.finish(),d}get duration(){const{resolved:A}=this;return A?Gi(A.calculatedDuration):0}get time(){return Gi(this.currentTime)}set time(A){A=bi(A),this.currentTime=A,this.holdTime!==null||this.speed===0?this.holdTime=A:this.driver&&(this.startTime=this.driver.now()-A/this.speed)}get speed(){return this.playbackSpeed}set speed(A){const D=this.playbackSpeed!==A;this.playbackSpeed=A,D&&(this.time=Gi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:A=wc,onPlay:D}=this.options;this.driver||(this.driver=A(H=>this.tick(H))),D&&D();const G=this.driver.now();this.holdTime!==null?this.startTime=G-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=G),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var A;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(A=this.currentTime)!==null&&A!==void 0?A:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:A}=this.options;A&&A()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(A){return this.startTime=0,this.tick(A,!0)}}const Wh=C=>Array.isArray(C)&&typeof C[0]=="number";function Hh(C){return!!(!C||typeof C=="string"&&C in pa||Wh(C)||Array.isArray(C)&&C.every(Hh))}const cs=([C,A,D,G])=>`cubic-bezier(${C}, ${A}, ${D}, ${G})`,pa={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cs([0,.65,.55,1]),circOut:cs([.55,0,1,.45]),backIn:cs([.31,.01,.66,-.59]),backOut:cs([.33,1.53,.69,.99])};function Bc(C){return Kh(C)||pa.easeOut}function Kh(C){if(C)return Wh(C)?cs(C):Array.isArray(C)?C.map(Bc):pa[C]}function bc(C,A,D,{delay:G=0,duration:H=300,repeat:J=0,repeatType:p="loop",ease:y,times:t}={}){const l={[A]:D};t&&(l.offset=t);const v=Kh(y);return Array.isArray(v)&&(l.easing=v),C.animate(l,{delay:G,duration:H,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:J+1,direction:p==="reverse"?"alternate":"normal"})}const Gc=Sh(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Nc=new Set(["opacity","clipPath","filter","transform"]),ir=10,Vc=2e4;function Uc(C){return C.type==="spring"||C.name==="backgroundColor"||!Hh(C.ease)}function zc(C,A){const D=new va({...A,keyframes:C,repeat:0,delay:0,isGenerator:!0});let G={done:!1,value:C[0]};const H=[];let J=0;for(;!G.done&&J<Vc;)G=D.sample(J),H.push(G.value),J+=ir;return{times:void 0,keyframes:H,duration:J-ir,ease:"linear"}}class jh extends Ch{constructor(A){super(A);const{name:D,motionValue:G,keyframes:H}=this.options;this.resolver=new Th(H,(J,p)=>this.onKeyframesResolved(J,p),D,G),this.resolver.scheduleResolve()}initPlayback(A,D){var G;let{duration:H=300,times:J,ease:p,type:y,motionValue:t,name:l}=this.options;if(!(!((G=t.owner)===null||G===void 0)&&G.current))return!1;if(Uc(this.options)){const{onComplete:a,onUpdate:r,motionValue:s,...e}=this.options,n=zc(A,e);A=n.keyframes,A.length===1&&(A[1]=A[0]),H=n.duration,J=n.times,p=n.ease,y="keyframes"}const v=bc(t.owner.current,l,A,{...this.options,duration:H,times:J,ease:p});return v.startTime=Ki.now(),this.pendingTimeline?(v.timeline=this.pendingTimeline,this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:a}=this.options;t.set(qs(A,this.options,D)),a&&a(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:H,times:J,type:y,ease:p,keyframes:A}}get duration(){const{resolved:A}=this;if(!A)return 0;const{duration:D}=A;return Gi(D)}get time(){const{resolved:A}=this;if(!A)return 0;const{animation:D}=A;return Gi(D.currentTime||0)}set time(A){const{resolved:D}=this;if(!D)return;const{animation:G}=D;G.currentTime=bi(A)}get speed(){const{resolved:A}=this;if(!A)return 1;const{animation:D}=A;return D.playbackRate}set speed(A){const{resolved:D}=this;if(!D)return;const{animation:G}=D;G.playbackRate=A}get state(){const{resolved:A}=this;if(!A)return"idle";const{animation:D}=A;return D.playState}attachTimeline(A){if(!this._resolved)this.pendingTimeline=A;else{const{resolved:D}=this;if(!D)return je;const{animation:G}=D;G.timeline=A,G.onfinish=null}return je}play(){if(this.isStopped)return;const{resolved:A}=this;if(!A)return;const{animation:D}=A;D.playState==="finished"&&this.updateFinishedPromise(),D.play()}pause(){const{resolved:A}=this;if(!A)return;const{animation:D}=A;D.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:A}=this;if(!A)return;const{animation:D,keyframes:G,duration:H,type:J,ease:p,times:y}=A;if(!(D.playState==="idle"||D.playState==="finished")){if(this.time){const{motionValue:t,onUpdate:l,onComplete:v,...a}=this.options,r=new va({...a,keyframes:G,duration:H,type:J,ease:p,times:y,isGenerator:!0}),s=bi(this.time);t.setWithVelocity(r.sample(s-ir).value,r.sample(s).value,ir)}this.cancel()}}complete(){const{resolved:A}=this;A&&A.animation.finish()}cancel(){const{resolved:A}=this;A&&A.animation.cancel()}static supports(A){const{motionValue:D,name:G,repeatDelay:H,repeatType:J,damping:p,type:y}=A;return Gc()&&G&&Nc.has(G)&&D&&D.owner&&D.owner.current instanceof HTMLElement&&!D.owner.getProps().onUpdate&&!H&&J!=="mirror"&&p!==0&&y!=="inertia"}}function Xc(C,A){let D;const G=()=>{const{currentTime:H}=A,p=(H===null?0:H.value)/100;D!==p&&C(p),D=p};return Ce.update(G,!0),()=>wi(G)}const Yc=Sh(()=>window.ScrollTimeline!==void 0);class Wc{constructor(A){this.stop=()=>this.runAll("stop"),this.animations=A.filter(Boolean)}then(A,D){return Promise.all(this.animations).then(A).catch(D)}getAll(A){return this.animations[0][A]}setAll(A,D){for(let G=0;G<this.animations.length;G++)this.animations[G][A]=D}attachTimeline(A){const D=this.animations.map(G=>{if(Yc()&&G.attachTimeline)G.attachTimeline(A);else return G.pause(),Xc(H=>{G.time=G.duration*H},A)});return()=>{D.forEach((G,H)=>{G&&G(),this.animations[H].stop()})}}get time(){return this.getAll("time")}set time(A){this.setAll("time",A)}get speed(){return this.getAll("speed")}set speed(A){this.setAll("speed",A)}get duration(){let A=0;for(let D=0;D<this.animations.length;D++)A=Math.max(A,this.animations[D].duration);return A}runAll(A){this.animations.forEach(D=>D[A]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const ma=(C,A,D,G={},H,J)=>p=>{const y=kr(G,C)||{},t=y.delay||G.delay||0;let{elapsed:l=0}=G;l=l-bi(t);let v={keyframes:Array.isArray(D)?D:[null,D],ease:"easeOut",velocity:A.getVelocity(),...y,delay:-l,onUpdate:r=>{A.set(r),y.onUpdate&&y.onUpdate(r)},onComplete:()=>{p(),y.onComplete&&y.onComplete()},name:C,motionValue:A,element:J?void 0:H};Pd(y)||(v={...v,...Cd(C,v)}),v.duration&&(v.duration=bi(v.duration)),v.repeatDelay&&(v.repeatDelay=bi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let a=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(a=!0)),a&&!J&&A.get()!==void 0){const r=qs(v.keyframes,y);if(r!==void 0)return Ce.update(()=>{v.onUpdate(r),v.onComplete()}),new Wc([])}return!J&&jh.supports(v)?new jh(v):new va(v)};function nr(C){return!!(Je(C)&&C.add)}function ga(C,A){C.indexOf(A)===-1&&C.push(A)}function xa(C,A){const D=C.indexOf(A);D>-1&&C.splice(D,1)}class ya{constructor(){this.subscriptions=[]}add(A){return ga(this.subscriptions,A),()=>xa(this.subscriptions,A)}notify(A,D,G){const H=this.subscriptions.length;if(H)if(H===1)this.subscriptions[0](A,D,G);else for(let J=0;J<H;J++){const p=this.subscriptions[J];p&&p(A,D,G)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zh=new Set;function Ta(C,A,D){C||Zh.has(A)||(console.warn(A),Zh.add(A))}const $h=30,Hc=C=>!isNaN(parseFloat(C));class Kc{constructor(A,D={}){this.version="11.2.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(G,H=!0)=>{const J=Ki.now();this.updatedAt!==J&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(G),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),H&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(A),this.owner=D.owner}setCurrent(A){this.current=A,this.updatedAt=Ki.now(),this.canTrackVelocity===null&&A!==void 0&&(this.canTrackVelocity=Hc(this.current))}setPrevFrameValue(A=this.current){this.prevFrameValue=A,this.prevUpdatedAt=this.updatedAt}onChange(A){return process.env.NODE_ENV!=="production"&&Ta(!1,'value.onChange(callback) is deprecated. Switch to value.on("change", callback).'),this.on("change",A)}on(A,D){this.events[A]||(this.events[A]=new ya);const G=this.events[A].add(D);return A==="change"?()=>{G(),Ce.read(()=>{this.events.change.getSize()||this.stop()})}:G}clearListeners(){for(const A in this.events)this.events[A].clear()}attach(A,D){this.passiveEffect=A,this.stopPassiveEffect=D}set(A,D=!0){!D||!this.passiveEffect?this.updateAndNotify(A,D):this.passiveEffect(A,this.updateAndNotify)}setWithVelocity(A,D,G){this.set(D),this.prev=void 0,this.prevFrameValue=A,this.prevUpdatedAt=this.updatedAt-G}jump(A,D=!0){this.updateAndNotify(A),this.prev=A,this.prevUpdatedAt=this.prevFrameValue=void 0,D&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const A=Ki.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||A-this.updatedAt>$h)return 0;const D=Math.min(this.updatedAt-this.prevUpdatedAt,$h);return Ph(parseFloat(this.current)-parseFloat(this.prevFrameValue),D)}start(A){return this.stop(),new Promise(D=>{this.hasAnimated=!0,this.animation=A(D),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vs(C,A){return new Kc(C,A)}function jc(C,A,D){C.hasValue(A)?C.getValue(A).set(D):C.addValue(A,vs(D))}function Zc(C,A){const D=ks(C,A);let{transitionEnd:G={},transition:H={},...J}=D||{};J={...J,...G};for(const p in J){const y=td(J[p]);jc(C,p,y)}}function Jh(C){return C.getProps()[Co]}function $c({protectedKeys:C,needsAnimating:A},D){const G=C.hasOwnProperty(D)&&A[D]!==!0;return A[D]=!1,G}function Qh(C,A,{delay:D=0,transitionOverride:G,type:H}={}){var J;let{transition:p=C.getDefaultTransition(),transitionEnd:y,...t}=A;const l=C.getValue("willChange");G&&(p=G);const v=[],a=H&&C.animationState&&C.animationState.getState()[H];for(const r in t){const s=C.getValue(r,(J=C.latestValues[r])!==null&&J!==void 0?J:null),e=t[r];if(e===void 0||a&&$c(a,r))continue;const n={delay:D,elapsed:0,...kr(p||{},r)};let h=!1;if(window.HandoffAppearAnimations){const o=Jh(C);if(o){const f=window.HandoffAppearAnimations(o,r,s,Ce);f!==null&&(n.elapsed=f,h=!0)}}s.start(ma(r,s,e,C.shouldReduceMotion&&on.has(r)?{type:!1}:n,C,h));const i=s.animation;i&&(nr(l)&&(l.add(r),i.then(()=>l.remove(r))),v.push(i))}return y&&Promise.all(v).then(()=>{Ce.update(()=>{y&&Zc(C,y)})}),v}function Sa(C,A,D={}){var G;const H=ks(C,A,D.type==="exit"?(G=C.presenceContext)===null||G===void 0?void 0:G.custom:void 0);let{transition:J=C.getDefaultTransition()||{}}=H||{};D.transitionOverride&&(J=D.transitionOverride);const p=H?()=>Promise.all(Qh(C,H,D)):()=>Promise.resolve(),y=C.variantChildren&&C.variantChildren.size?(l=0)=>{const{delayChildren:v=0,staggerChildren:a,staggerDirection:r}=J;return Jc(C,A,v+l,a,r,D)}:()=>Promise.resolve(),{when:t}=J;if(t){const[l,v]=t==="beforeChildren"?[p,y]:[y,p];return l().then(()=>v())}else return Promise.all([p(),y(D.delay)])}function Jc(C,A,D=0,G=0,H=1,J){const p=[],y=(C.variantChildren.size-1)*G,t=H===1?(l=0)=>l*G:(l=0)=>y-l*G;return Array.from(C.variantChildren).sort(Qc).forEach((l,v)=>{l.notify("AnimationStart",A),p.push(Sa(l,A,{...J,delay:D+t(v)}).then(()=>l.notify("AnimationComplete",A)))}),Promise.all(p)}function Qc(C,A){return C.sortNodePosition(A)}function kc(C,A,D={}){C.notify("AnimationStart",A);let G;if(Array.isArray(A)){const H=A.map(J=>Sa(C,J,D));G=Promise.all(H)}else if(typeof A=="string")G=Sa(C,A,D);else{const H=typeof A=="function"?ks(C,A,D.custom):A;G=Promise.all(Qh(C,H,D))}return G.then(()=>{Ce.postRender(()=>{C.notify("AnimationComplete",A)})})}const qc=[...Br].reverse(),_c=Br.length;function tv(C){return A=>Promise.all(A.map(({animation:D,options:G})=>kc(C,D,G)))}function ev(C){let A=tv(C);const D=nv();let G=!0;const H=t=>(l,v)=>{var a;const r=ks(C,v,t==="exit"?(a=C.presenceContext)===null||a===void 0?void 0:a.custom:void 0);if(r){const{transition:s,transitionEnd:e,...n}=r;l={...l,...n,...e}}return l};function J(t){A=t(C)}function p(t){const l=C.getProps(),v=C.getVariantContext(!0)||{},a=[],r=new Set;let s={},e=1/0;for(let h=0;h<_c;h++){const i=qc[h],o=D[i],f=l[i]!==void 0?l[i]:v[i],u=ns(f),d=i===t?o.isActive:null;d===!1&&(e=h);let c=f===v[i]&&f!==l[i]&&u;if(c&&G&&C.manuallyAnimateOnMount&&(c=!1),o.protectedKeys={...s},!o.isActive&&d===null||!f&&!o.prevProp||Hs(f)||typeof f=="boolean")continue;let x=iv(o.prevProp,f)||i===t&&o.isActive&&!c&&u||h>e&&u,g=!1;const T=Array.isArray(f)?f:[f];let S=T.reduce(H(i),{});d===!1&&(S={});const{prevResolvedValues:E={}}=o,P={...E,...S},F=R=>{x=!0,r.has(R)&&(g=!0,r.delete(R)),o.needsAnimating[R]=!0;const M=C.getValue(R);M&&(M.liveStyle=!1)};for(const R in P){const M=S[R],O=E[R];if(s.hasOwnProperty(R))continue;let I=!1;jr(M)&&jr(O)?I=!eh(M,O):I=M!==O,I?M!=null?F(R):r.add(R):M!==void 0&&r.has(R)?F(R):o.protectedKeys[R]=!0}o.prevProp=f,o.prevResolvedValues=S,o.isActive&&(s={...s,...S}),G&&C.blockInitialAnimation&&(x=!1),x&&(!c||g)&&a.push(...T.map(R=>({animation:R,options:{type:i}})))}if(r.size){const h={};r.forEach(i=>{const o=C.getBaseTarget(i),f=C.getValue(i);f&&(f.liveStyle=!0),h[i]=o??null}),a.push({animation:h})}let n=!!a.length;return G&&(l.initial===!1||l.initial===l.animate)&&!C.manuallyAnimateOnMount&&(n=!1),G=!1,n?A(a):Promise.resolve()}function y(t,l){var v;if(D[t].isActive===l)return Promise.resolve();(v=C.variantChildren)===null||v===void 0||v.forEach(r=>{var s;return(s=r.animationState)===null||s===void 0?void 0:s.setActive(t,l)}),D[t].isActive=l;const a=p(t);for(const r in D)D[r].protectedKeys={};return a}return{animateChanges:p,setActive:y,setAnimateFunction:J,getState:()=>D}}function iv(C,A){return typeof A=="string"?A!==C:Array.isArray(A)?!eh(A,C):!1}function un(C=!1){return{isActive:C,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nv(){return{animate:un(!0),whileInView:un(),whileHover:un(),whileTap:un(),whileDrag:un(),whileFocus:un(),exit:un()}}class sv extends Hi{constructor(A){super(A),A.animationState||(A.animationState=ev(A))}updateAnimationControlsSubscription(){const{animate:A}=this.node.getProps();this.unmount(),Hs(A)&&(this.unmount=A.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:A}=this.node.getProps(),{animate:D}=this.node.prevProps||{};A!==D&&this.updateAnimationControlsSubscription()}unmount(){}}let rv=0;class av extends Hi{constructor(){super(...arguments),this.id=rv++}update(){if(!this.node.presenceContext)return;const{isPresent:A,onExitComplete:D}=this.node.presenceContext,{isPresent:G}=this.node.prevPresenceContext||{};if(!this.node.animationState||A===G)return;const H=this.node.animationState.setActive("exit",!A);D&&!A&&H.then(()=>D(this.id))}mount(){const{register:A}=this.node.presenceContext||{};A&&(this.unmount=A(this.id))}unmount(){}}const ov={animation:{Feature:sv},exit:{Feature:av}},kh=(C,A)=>Math.abs(C-A);function hv(C,A){const D=kh(C.x,A.x),G=kh(C.y,A.y);return Math.sqrt(D**2+G**2)}class qh{constructor(A,D,{transformPagePoint:G,contextWindow:H,dragSnapToOrigin:J=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const a=Ca(this.lastMoveEventInfo,this.history),r=this.startEvent!==null,s=hv(a.offset,{x:0,y:0})>=3;if(!r&&!s)return;const{point:e}=a,{timestamp:n}=Ze;this.history.push({...e,timestamp:n});const{onStart:h,onMove:i}=this.handlers;r||(h&&h(this.lastMoveEvent,a),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,a)},this.handlePointerMove=(a,r)=>{this.lastMoveEvent=a,this.lastMoveEventInfo=Ea(r,this.transformPagePoint),Ce.update(this.updatePoint,!0)},this.handlePointerUp=(a,r)=>{this.end();const{onEnd:s,onSessionEnd:e,resumeAnimation:n}=this.handlers;if(this.dragSnapToOrigin&&n&&n(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ca(a.type==="pointercancel"?this.lastMoveEventInfo:Ea(r,this.transformPagePoint),this.history);this.startEvent&&s&&s(a,h),e&&e(a,h)},!Zo(A))return;this.dragSnapToOrigin=J,this.handlers=D,this.transformPagePoint=G,this.contextWindow=H||window;const p=Qs(A),y=Ea(p,this.transformPagePoint),{point:t}=y,{timestamp:l}=Ze;this.history=[{...t,timestamp:l}];const{onSessionStart:v}=D;v&&v(A,Ca(y,this.history)),this.removeListeners=Bi(Ii(this.contextWindow,"pointermove",this.handlePointerMove),Ii(this.contextWindow,"pointerup",this.handlePointerUp),Ii(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(A){this.handlers=A}end(){this.removeListeners&&this.removeListeners(),wi(this.updatePoint)}}function Ea(C,A){return A?{point:A(C.point)}:C}function _h(C,A){return{x:C.x-A.x,y:C.y-A.y}}function Ca({point:C},A){return{point:C,delta:_h(C,tl(A)),offset:_h(C,lv(A)),velocity:uv(A,.1)}}function lv(C){return C[0]}function tl(C){return C[C.length-1]}function uv(C,A){if(C.length<2)return{x:0,y:0};let D=C.length-1,G=null;const H=tl(C);for(;D>=0&&(G=C[D],!(H.timestamp-G.timestamp>bi(A)));)D--;if(!G)return{x:0,y:0};const J=Gi(H.timestamp-G.timestamp);if(J===0)return{x:0,y:0};const p={x:(H.x-G.x)/J,y:(H.y-G.y)/J};return p.x===1/0&&(p.x=0),p.y===1/0&&(p.y=0),p}function ni(C){return C.max-C.min}function Pa(C,A=0,D=.01){return Math.abs(C-A)<=D}function el(C,A,D,G=.5){C.origin=G,C.originPoint=Ie(A.min,A.max,C.origin),C.scale=ni(D)/ni(A),(Pa(C.scale,1,1e-4)||isNaN(C.scale))&&(C.scale=1),C.translate=Ie(D.min,D.max,C.origin)-C.originPoint,(Pa(C.translate)||isNaN(C.translate))&&(C.translate=0)}function ps(C,A,D,G){el(C.x,A.x,D.x,G?G.originX:void 0),el(C.y,A.y,D.y,G?G.originY:void 0)}function il(C,A,D){C.min=D.min+A.min,C.max=C.min+ni(A)}function fv(C,A,D){il(C.x,A.x,D.x),il(C.y,A.y,D.y)}function nl(C,A,D){C.min=A.min-D.min,C.max=C.min+ni(A)}function ms(C,A,D){nl(C.x,A.x,D.x),nl(C.y,A.y,D.y)}function dv(C,{min:A,max:D},G){return A!==void 0&&C<A?C=G?Ie(A,C,G.min):Math.max(C,A):D!==void 0&&C>D&&(C=G?Ie(D,C,G.max):Math.min(C,D)),C}function sl(C,A,D){return{min:A!==void 0?C.min+A:void 0,max:D!==void 0?C.max+D-(C.max-C.min):void 0}}function cv(C,{top:A,left:D,bottom:G,right:H}){return{x:sl(C.x,D,H),y:sl(C.y,A,G)}}function rl(C,A){let D=A.min-C.min,G=A.max-C.max;return A.max-A.min<C.max-C.min&&([D,G]=[G,D]),{min:D,max:G}}function vv(C,A){return{x:rl(C.x,A.x),y:rl(C.y,A.y)}}function pv(C,A){let D=.5;const G=ni(C),H=ni(A);return H>G?D=ds(A.min,A.max-G,C.min):G>H&&(D=ds(C.min,C.max-H,A.min)),Yi(0,1,D)}function mv(C,A){const D={};return A.min!==void 0&&(D.min=A.min-C.min),A.max!==void 0&&(D.max=A.max-C.min),D}const Aa=.35;function gv(C=Aa){return C===!1?C=0:C===!0&&(C=Aa),{x:al(C,"left","right"),y:al(C,"top","bottom")}}function al(C,A,D){return{min:ol(C,A),max:ol(C,D)}}function ol(C,A){return typeof C=="number"?C:C[A]||0}const hl=()=>({translate:0,scale:1,origin:0,originPoint:0}),Un=()=>({x:hl(),y:hl()}),ll=()=>({min:0,max:0}),Ne=()=>({x:ll(),y:ll()});function ai(C){return[C("x"),C("y")]}function ul({top:C,left:A,right:D,bottom:G}){return{x:{min:A,max:D},y:{min:C,max:G}}}function xv({x:C,y:A}){return{top:A.min,right:C.max,bottom:A.max,left:C.min}}function yv(C,A){if(!A)return C;const D=A({x:C.left,y:C.top}),G=A({x:C.right,y:C.bottom});return{top:D.y,left:D.x,bottom:G.y,right:G.x}}function Ra(C){return C===void 0||C===1}function Ma({scale:C,scaleX:A,scaleY:D}){return!Ra(C)||!Ra(A)||!Ra(D)}function fn(C){return Ma(C)||fl(C)||C.z||C.rotate||C.rotateX||C.rotateY||C.skewX||C.skewY}function fl(C){return dl(C.x)||dl(C.y)}function dl(C){return C&&C!=="0%"}function sr(C,A,D){const G=C-D,H=A*G;return D+H}function cl(C,A,D,G,H){return H!==void 0&&(C=sr(C,H,G)),sr(C,D,G)+A}function Fa(C,A=0,D=1,G,H){C.min=cl(C.min,A,D,G,H),C.max=cl(C.max,A,D,G,H)}function vl(C,{x:A,y:D}){Fa(C.x,A.translate,A.scale,A.originPoint),Fa(C.y,D.translate,D.scale,D.originPoint)}function Tv(C,A,D,G=!1){const H=D.length;if(!H)return;A.x=A.y=1;let J,p;for(let y=0;y<H;y++){J=D[y],p=J.projectionDelta;const t=J.instance;t&&t.style&&t.style.display==="contents"||(G&&J.options.layoutScroll&&J.scroll&&J!==J.root&&zn(C,{x:-J.scroll.offset.x,y:-J.scroll.offset.y}),p&&(A.x*=p.x.scale,A.y*=p.y.scale,vl(C,p)),G&&fn(J.latestValues)&&zn(C,J.latestValues))}A.x=pl(A.x),A.y=pl(A.y)}function pl(C){return Number.isInteger(C)||C>1.0000000000001||C<.999999999999?C:1}function Zi(C,A){C.min=C.min+A,C.max=C.max+A}function ml(C,A,[D,G,H]){const J=A[H]!==void 0?A[H]:.5,p=Ie(C.min,C.max,J);Fa(C,A[D],A[G],p,A.scale)}const Sv=["x","scaleX","originX"],Ev=["y","scaleY","originY"];function zn(C,A){ml(C.x,A,Sv),ml(C.y,A,Ev)}function gl(C,A){return ul(yv(C.getBoundingClientRect(),A))}function Cv(C,A,D){const G=gl(C,D),{scroll:H}=A;return H&&(Zi(G.x,H.offset.x),Zi(G.y,H.offset.y)),G}const xl=({current:C})=>C?C.ownerDocument.defaultView:null,Pv=new WeakMap;class Av{constructor(A){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ne(),this.visualElement=A}start(A,{snapToCursor:D=!1}={}){const{presenceContext:G}=this.visualElement;if(G&&G.isPresent===!1)return;const H=v=>{const{dragSnapToOrigin:a}=this.getProps();a?this.pauseAnimation():this.stopAnimation(),D&&this.snapToCursor(Qs(v,"page").point)},J=(v,a)=>{const{drag:r,dragPropagation:s,onDragStart:e}=this.getProps();if(r&&!s&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ko(r),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ai(h=>{let i=this.getAxisMotionValue(h).get()||0;if(Ei.test(i)){const{projection:o}=this.visualElement;if(o&&o.layout){const f=o.layout.layoutBox[h];f&&(i=ni(f)*(parseFloat(i)/100))}}this.originPoint[h]=i}),e&&Ce.postRender(()=>e(v,a));const{animationState:n}=this.visualElement;n&&n.setActive("whileDrag",!0)},p=(v,a)=>{const{dragPropagation:r,dragDirectionLock:s,onDirectionLock:e,onDrag:n}=this.getProps();if(!r&&!this.openGlobalLock)return;const{offset:h}=a;if(s&&this.currentDirection===null){this.currentDirection=Rv(h),this.currentDirection!==null&&e&&e(this.currentDirection);return}this.updateAxis("x",a.point,h),this.updateAxis("y",a.point,h),this.visualElement.render(),n&&n(v,a)},y=(v,a)=>this.stop(v,a),t=()=>ai(v=>{var a;return this.getAnimationState(v)==="paused"&&((a=this.getAxisMotionValue(v).animation)===null||a===void 0?void 0:a.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new qh(A,{onSessionStart:H,onStart:J,onMove:p,onSessionEnd:y,resumeAnimation:t},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:xl(this.visualElement)})}stop(A,D){const G=this.isDragging;if(this.cancel(),!G)return;const{velocity:H}=D;this.startAnimation(H);const{onDragEnd:J}=this.getProps();J&&Ce.postRender(()=>J(A,D))}cancel(){this.isDragging=!1;const{projection:A,animationState:D}=this.visualElement;A&&(A.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:G}=this.getProps();!G&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),D&&D.setActive("whileDrag",!1)}updateAxis(A,D,G){const{drag:H}=this.getProps();if(!G||!rr(A,H,this.currentDirection))return;const J=this.getAxisMotionValue(A);let p=this.originPoint[A]+G[A];this.constraints&&this.constraints[A]&&(p=dv(p,this.constraints[A],this.elastic[A])),J.set(p)}resolveConstraints(){var A;const{dragConstraints:D,dragElastic:G}=this.getProps(),H=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(A=this.visualElement.projection)===null||A===void 0?void 0:A.layout,J=this.constraints;D&&Bn(D)?this.constraints||(this.constraints=this.resolveRefConstraints()):D&&H?this.constraints=cv(H.layoutBox,D):this.constraints=!1,this.elastic=gv(G),J!==this.constraints&&H&&this.constraints&&!this.hasMutatedConstraints&&ai(p=>{this.constraints!==!1&&this.getAxisMotionValue(p)&&(this.constraints[p]=mv(H.layoutBox[p],this.constraints[p]))})}resolveRefConstraints(){const{dragConstraints:A,onMeasureDragConstraints:D}=this.getProps();if(!A||!Bn(A))return!1;const G=A.current;Ni(G!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:H}=this.visualElement;if(!H||!H.layout)return!1;const J=Cv(G,H.root,this.visualElement.getTransformPagePoint());let p=vv(H.layout.layoutBox,J);if(D){const y=D(xv(p));this.hasMutatedConstraints=!!y,y&&(p=ul(y))}return p}startAnimation(A){const{drag:D,dragMomentum:G,dragElastic:H,dragTransition:J,dragSnapToOrigin:p,onDragTransitionEnd:y}=this.getProps(),t=this.constraints||{},l=ai(v=>{if(!rr(v,D,this.currentDirection))return;let a=t&&t[v]||{};p&&(a={min:0,max:0});const r=H?200:1e6,s=H?40:1e7,e={type:"inertia",velocity:G?A[v]:0,bounceStiffness:r,bounceDamping:s,timeConstant:750,restDelta:1,restSpeed:10,...J,...a};return this.startAxisValueAnimation(v,e)});return Promise.all(l).then(y)}startAxisValueAnimation(A,D){const G=this.getAxisMotionValue(A);return G.start(ma(A,G,0,D,this.visualElement))}stopAnimation(){ai(A=>this.getAxisMotionValue(A).stop())}pauseAnimation(){ai(A=>{var D;return(D=this.getAxisMotionValue(A).animation)===null||D===void 0?void 0:D.pause()})}getAnimationState(A){var D;return(D=this.getAxisMotionValue(A).animation)===null||D===void 0?void 0:D.state}getAxisMotionValue(A){const D=`_drag${A.toUpperCase()}`,G=this.visualElement.getProps(),H=G[D];return H||this.visualElement.getValue(A,(G.initial?G.initial[A]:void 0)||0)}snapToCursor(A){ai(D=>{const{drag:G}=this.getProps();if(!rr(D,G,this.currentDirection))return;const{projection:H}=this.visualElement,J=this.getAxisMotionValue(D);if(H&&H.layout){const{min:p,max:y}=H.layout.layoutBox[D];J.set(A[D]-Ie(p,y,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:A,dragConstraints:D}=this.getProps(),{projection:G}=this.visualElement;if(!Bn(D)||!G||!this.constraints)return;this.stopAnimation();const H={x:0,y:0};ai(p=>{const y=this.getAxisMotionValue(p);if(y&&this.constraints!==!1){const t=y.get();H[p]=pv({min:t,max:t},this.constraints[p])}});const{transformTemplate:J}=this.visualElement.getProps();this.visualElement.current.style.transform=J?J({},""):"none",G.root&&G.root.updateScroll(),G.updateLayout(),this.resolveConstraints(),ai(p=>{if(!rr(p,A,null))return;const y=this.getAxisMotionValue(p),{min:t,max:l}=this.constraints[p];y.set(Ie(t,l,H[p]))})}addListeners(){if(!this.visualElement.current)return;Pv.set(this.visualElement,this);const A=this.visualElement.current,D=Ii(A,"pointerdown",t=>{const{drag:l,dragListener:v=!0}=this.getProps();l&&v&&this.start(t)}),G=()=>{const{dragConstraints:t}=this.getProps();Bn(t)&&(this.constraints=this.resolveRefConstraints())},{projection:H}=this.visualElement,J=H.addEventListener("measure",G);H&&!H.layout&&(H.root&&H.root.updateScroll(),H.updateLayout()),G();const p=Di(window,"resize",()=>this.scalePositionWithinConstraints()),y=H.addEventListener("didUpdate",({delta:t,hasLayoutChanged:l})=>{this.isDragging&&l&&(ai(v=>{const a=this.getAxisMotionValue(v);a&&(this.originPoint[v]+=t[v].translate,a.set(a.get()+t[v].translate))}),this.visualElement.render())});return()=>{p(),D(),J(),y&&y()}}getProps(){const A=this.visualElement.getProps(),{drag:D=!1,dragDirectionLock:G=!1,dragPropagation:H=!1,dragConstraints:J=!1,dragElastic:p=Aa,dragMomentum:y=!0}=A;return{...A,drag:D,dragDirectionLock:G,dragPropagation:H,dragConstraints:J,dragElastic:p,dragMomentum:y}}}function rr(C,A,D){return(A===!0||A===C)&&(D===null||D===C)}function Rv(C,A=10){let D=null;return Math.abs(C.y)>A?D="y":Math.abs(C.x)>A&&(D="x"),D}class Mv extends Hi{constructor(A){super(A),this.removeGroupControls=je,this.removeListeners=je,this.controls=new Av(A)}mount(){const{dragControls:A}=this.node.getProps();A&&(this.removeGroupControls=A.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||je}unmount(){this.removeGroupControls(),this.removeListeners()}}const yl=C=>(A,D)=>{C&&Ce.postRender(()=>C(A,D))};class Fv extends Hi{constructor(){super(...arguments),this.removePointerDownListener=je}onPointerDown(A){this.session=new qh(A,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xl(this.node)})}createPanHandlers(){const{onPanSessionStart:A,onPanStart:D,onPan:G,onPanEnd:H}=this.node.getProps();return{onSessionStart:yl(A),onStart:yl(D),onMove:G,onEnd:(J,p)=>{delete this.session,H&&Ce.postRender(()=>H(J,p))}}}mount(){this.removePointerDownListener=Ii(this.node.current,"pointerdown",A=>this.onPointerDown(A))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Lv(){const C=zt.useContext(Ys);if(C===null)return[!0,null];const{isPresent:A,onExitComplete:D,register:G}=C,H=zt.useId();return zt.useEffect(()=>G(H),[]),!A&&D?[!1,()=>D&&D(H)]:[!0]}const ar={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tl(C,A){return A.max===A.min?0:C/(A.max-A.min)*100}const gs={correct:(C,A)=>{if(!A.target)return C;if(typeof C=="string")if(kt.test(C))C=parseFloat(C);else return C;const D=Tl(C,A.target.x),G=Tl(C,A.target.y);return`${D}% ${G}%`}},Ov={correct:(C,{treeScale:A,projectionDelta:D})=>{const G=C,H=ji.parse(C);if(H.length>5)return G;const J=ji.createTransformer(C),p=typeof H[0]!="number"?1:0,y=D.x.scale*A.x,t=D.y.scale*A.y;H[0+p]/=y,H[1+p]/=t;const l=Ie(y,t,.5);return typeof H[2+p]=="number"&&(H[2+p]/=l),typeof H[3+p]=="number"&&(H[3+p]/=l),J(H)}};class wv extends zt.Component{componentDidMount(){const{visualElement:A,layoutGroup:D,switchLayoutGroup:G,layoutId:H}=this.props,{projection:J}=A;Of(Dv),J&&(D.group&&D.group.add(J),G&&G.register&&H&&G.register(J),J.root.didUpdate(),J.addEventListener("animationComplete",()=>{this.safeToRemove()}),J.setOptions({...J.options,onExitComplete:()=>this.safeToRemove()})),ar.hasEverUpdated=!0}getSnapshotBeforeUpdate(A){const{layoutDependency:D,visualElement:G,drag:H,isPresent:J}=this.props,p=G.projection;return p&&(p.isPresent=J,H||A.layoutDependency!==D||D===void 0?p.willUpdate():this.safeToRemove(),A.isPresent!==J&&(J?p.promote():p.relegate()||Ce.postRender(()=>{const y=p.getStack();(!y||!y.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:A}=this.props.visualElement;A&&(A.root.didUpdate(),Ir.postRender(()=>{!A.currentAnimation&&A.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:A,layoutGroup:D,switchLayoutGroup:G}=this.props,{projection:H}=A;H&&(H.scheduleCheckAfterUnmount(),D&&D.group&&D.group.remove(H),G&&G.deregister&&G.deregister(H))}safeToRemove(){const{safeToRemove:A}=this.props;A&&A()}render(){return null}}function Sl(C){const[A,D]=Lv(),G=zt.useContext(Gr);return wt.jsx(wv,{...C,layoutGroup:G,switchLayoutGroup:zt.useContext(Lo),isPresent:A,safeToRemove:D})}const Dv={borderRadius:{...gs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gs,borderTopRightRadius:gs,borderBottomLeftRadius:gs,borderBottomRightRadius:gs,boxShadow:Ov},El=["TopLeft","TopRight","BottomLeft","BottomRight"],Iv=El.length,Cl=C=>typeof C=="string"?parseFloat(C):C,Pl=C=>typeof C=="number"||kt.test(C);function Bv(C,A,D,G,H,J){H?(C.opacity=Ie(0,D.opacity!==void 0?D.opacity:1,bv(G)),C.opacityExit=Ie(A.opacity!==void 0?A.opacity:1,0,Gv(G))):J&&(C.opacity=Ie(A.opacity!==void 0?A.opacity:1,D.opacity!==void 0?D.opacity:1,G));for(let p=0;p<Iv;p++){const y=`border${El[p]}Radius`;let t=Al(A,y),l=Al(D,y);if(t===void 0&&l===void 0)continue;t||(t=0),l||(l=0),t===0||l===0||Pl(t)===Pl(l)?(C[y]=Math.max(Ie(Cl(t),Cl(l),G),0),(Ei.test(l)||Ei.test(t))&&(C[y]+="%")):C[y]=l}(A.rotate||D.rotate)&&(C.rotate=Ie(A.rotate||0,D.rotate||0,G))}function Al(C,A){return C[A]!==void 0?C[A]:C.borderRadius}const bv=Rl(0,.5,Bh),Gv=Rl(.5,.95,je);function Rl(C,A,D){return G=>G<C?0:G>A?1:D(ds(C,A,G))}function Ml(C,A){C.min=A.min,C.max=A.max}function oi(C,A){Ml(C.x,A.x),Ml(C.y,A.y)}function Fl(C,A,D,G,H){return C-=A,C=sr(C,1/D,G),H!==void 0&&(C=sr(C,1/H,G)),C}function Nv(C,A=0,D=1,G=.5,H,J=C,p=C){if(Ei.test(A)&&(A=parseFloat(A),A=Ie(p.min,p.max,A/100)-p.min),typeof A!="number")return;let y=Ie(J.min,J.max,G);C===J&&(y-=A),C.min=Fl(C.min,A,D,y,H),C.max=Fl(C.max,A,D,y,H)}function Ll(C,A,[D,G,H],J,p){Nv(C,A[D],A[G],A[H],A.scale,J,p)}const Vv=["x","scaleX","originX"],Uv=["y","scaleY","originY"];function Ol(C,A,D,G){Ll(C.x,A,Vv,D?D.x:void 0,G?G.x:void 0),Ll(C.y,A,Uv,D?D.y:void 0,G?G.y:void 0)}function wl(C){return C.translate===0&&C.scale===1}function Dl(C){return wl(C.x)&&wl(C.y)}function zv(C,A){return C.x.min===A.x.min&&C.x.max===A.x.max&&C.y.min===A.y.min&&C.y.max===A.y.max}function Il(C,A){return Math.round(C.x.min)===Math.round(A.x.min)&&Math.round(C.x.max)===Math.round(A.x.max)&&Math.round(C.y.min)===Math.round(A.y.min)&&Math.round(C.y.max)===Math.round(A.y.max)}function Bl(C){return ni(C.x)/ni(C.y)}class Xv{constructor(){this.members=[]}add(A){ga(this.members,A),A.scheduleRender()}remove(A){if(xa(this.members,A),A===this.prevLead&&(this.prevLead=void 0),A===this.lead){const D=this.members[this.members.length-1];D&&this.promote(D)}}relegate(A){const D=this.members.findIndex(H=>A===H);if(D===0)return!1;let G;for(let H=D;H>=0;H--){const J=this.members[H];if(J.isPresent!==!1){G=J;break}}return G?(this.promote(G),!0):!1}promote(A,D){const G=this.lead;if(A!==G&&(this.prevLead=G,this.lead=A,A.show(),G)){G.instance&&G.scheduleRender(),A.scheduleRender(),A.resumeFrom=G,D&&(A.resumeFrom.preserveOpacity=!0),G.snapshot&&(A.snapshot=G.snapshot,A.snapshot.latestValues=G.animationValues||G.latestValues),A.root&&A.root.isUpdating&&(A.isLayoutDirty=!0);const{crossfade:H}=A.options;H===!1&&G.hide()}}exitAnimationComplete(){this.members.forEach(A=>{const{options:D,resumingFrom:G}=A;D.onExitComplete&&D.onExitComplete(),G&&G.options.onExitComplete&&G.options.onExitComplete()})}scheduleRender(){this.members.forEach(A=>{A.instance&&A.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bl(C,A,D){let G="";const H=C.x.translate/A.x,J=C.y.translate/A.y,p=(D==null?void 0:D.z)||0;if((H||J||p)&&(G=`translate3d(${H}px, ${J}px, ${p}px) `),(A.x!==1||A.y!==1)&&(G+=`scale(${1/A.x}, ${1/A.y}) `),D){const{transformPerspective:l,rotate:v,rotateX:a,rotateY:r,skewX:s,skewY:e}=D;l&&(G=`perspective(${l}px) ${G}`),v&&(G+=`rotate(${v}deg) `),a&&(G+=`rotateX(${a}deg) `),r&&(G+=`rotateY(${r}deg) `),s&&(G+=`skewX(${s}deg) `),e&&(G+=`skewY(${e}deg) `)}const y=C.x.scale*A.x,t=C.y.scale*A.y;return(y!==1||t!==1)&&(G+=`scale(${y}, ${t})`),G||"none"}const Yv=(C,A)=>C.depth-A.depth;class Wv{constructor(){this.children=[],this.isDirty=!1}add(A){ga(this.children,A),this.isDirty=!0}remove(A){xa(this.children,A),this.isDirty=!0}forEach(A){this.isDirty&&this.children.sort(Yv),this.isDirty=!1,this.children.forEach(A)}}function Hv(C,A){const D=Ki.now(),G=({timestamp:H})=>{const J=H-D;J>=A&&(wi(G),C(J-A))};return Ce.read(G,!0),()=>wi(G)}function Kv(C){window.MotionDebug&&window.MotionDebug.record(C)}function jv(C){return C instanceof SVGElement&&C.tagName!=="svg"}function Zv(C,A,D){const G=Je(C)?C:vs(C);return G.start(ma("",G,A,D)),G.animation}const La=["","X","Y","Z"],$v={visibility:"hidden"},Gl=1e3;let Jv=0;const dn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Oa(C,A,D,G){const{latestValues:H}=A;H[C]&&(D[C]=H[C],A.setStaticValue(C,0),G&&(G[C]=0))}function Nl(C){if(C.hasCheckedOptimisedAppear=!0,C.root===C)return!1;const{visualElement:A}=C.options;return A?Jh(A)?!0:C.parent&&!C.parent.hasCheckedOptimisedAppear?Nl(C.parent):!1:!1}function Vl({attachResizeListener:C,defaultParent:A,measureScroll:D,checkIsScrollRoot:G,resetTransform:H}){return class{constructor(p={},y=A==null?void 0:A()){this.id=Jv++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,dn.totalNodes=dn.resolvedTargetDeltas=dn.recalculatedProjection=0,this.nodes.forEach(qv),this.nodes.forEach(np),this.nodes.forEach(sp),this.nodes.forEach(_v),Kv(dn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=p,this.root=y?y.root||y:this,this.path=y?[...y.path,y]:[],this.parent=y,this.depth=y?y.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new Wv)}addEventListener(p,y){return this.eventHandlers.has(p)||this.eventHandlers.set(p,new ya),this.eventHandlers.get(p).add(y)}notifyListeners(p,...y){const t=this.eventHandlers.get(p);t&&t.notify(...y)}hasListeners(p){return this.eventHandlers.has(p)}mount(p,y=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=jv(p),this.instance=p;const{layoutId:t,layout:l,visualElement:v}=this.options;if(v&&!v.current&&v.mount(p),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),y&&(l||t)&&(this.isLayoutDirty=!0),C){let a;const r=()=>this.root.updateBlockedByResize=!1;C(p,()=>{this.root.updateBlockedByResize=!0,a&&a(),a=Hv(r,250),ar.hasAnimatedSinceResize&&(ar.hasAnimatedSinceResize=!1,this.nodes.forEach(zl))})}t&&this.root.registerSharedNode(t,this),this.options.animate!==!1&&v&&(t||l)&&this.addEventListener("didUpdate",({delta:a,hasLayoutChanged:r,hasRelativeTargetChanged:s,layout:e})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const n=this.options.transition||v.getDefaultTransition()||lp,{onLayoutAnimationStart:h,onLayoutAnimationComplete:i}=v.getProps(),o=!this.targetLayout||!Il(this.targetLayout,e)||s,f=!r&&s;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||f||r&&(o||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(a,f);const u={...kr(n,"layout"),onPlay:h,onComplete:i};(v.shouldReduceMotion||this.options.layoutRoot)&&(u.delay=0,u.type=!1),this.startAnimation(u)}else r||zl(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=e})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const p=this.getStack();p&&p.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rp),this.animationId++)}getTransformTemplate(){const{visualElement:p}=this.options;return p&&p.getProps().transformTemplate}willUpdate(p=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&Nl(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const a=this.path[v];a.shouldResetTransform=!0,a.updateScroll("snapshot"),a.options.layoutRoot&&a.willUpdate(!1)}const{layoutId:y,layout:t}=this.options;if(y===void 0&&!t)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),p&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ul);return}this.isUpdating||this.nodes.forEach(ep),this.isUpdating=!1,this.nodes.forEach(ip),this.nodes.forEach(Qv),this.nodes.forEach(kv),this.clearAllSnapshots();const y=Ki.now();Ze.delta=Yi(0,1e3/60,y-Ze.timestamp),Ze.timestamp=y,Ze.isProcessing=!0,Zr.update.process(Ze),Zr.preRender.process(Ze),Zr.render.process(Ze),Ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ir.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(tp),this.sharedNodes.forEach(ap)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let t=0;t<this.path.length;t++)this.path[t].updateScroll();const p=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ne(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:y}=this.options;y&&y.notify("LayoutMeasure",this.layout.layoutBox,p?p.layoutBox:void 0)}updateScroll(p="measure"){let y=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===p&&(y=!1),y&&(this.scroll={animationId:this.root.animationId,phase:p,isRoot:G(this.instance),offset:D(this.instance)})}resetTransform(){if(!H)return;const p=this.isLayoutDirty||this.shouldResetTransform,y=this.projectionDelta&&!Dl(this.projectionDelta),t=this.getTransformTemplate(),l=t?t(this.latestValues,""):void 0,v=l!==this.prevTransformTemplateValue;p&&(y||fn(this.latestValues)||v)&&(H(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(p=!0){const y=this.measurePageBox();let t=this.removeElementScroll(y);return p&&(t=this.removeTransform(t)),up(t),{animationId:this.root.animationId,measuredBox:y,layoutBox:t,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:p}=this.options;if(!p)return Ne();const y=p.measureViewportBox(),{scroll:t}=this.root;return t&&(Zi(y.x,t.offset.x),Zi(y.y,t.offset.y)),y}removeElementScroll(p){const y=Ne();oi(y,p);for(let t=0;t<this.path.length;t++){const l=this.path[t],{scroll:v,options:a}=l;if(l!==this.root&&v&&a.layoutScroll){if(v.isRoot){oi(y,p);const{scroll:r}=this.root;r&&(Zi(y.x,-r.offset.x),Zi(y.y,-r.offset.y))}Zi(y.x,v.offset.x),Zi(y.y,v.offset.y)}}return y}applyTransform(p,y=!1){const t=Ne();oi(t,p);for(let l=0;l<this.path.length;l++){const v=this.path[l];!y&&v.options.layoutScroll&&v.scroll&&v!==v.root&&zn(t,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),fn(v.latestValues)&&zn(t,v.latestValues)}return fn(this.latestValues)&&zn(t,this.latestValues),t}removeTransform(p){const y=Ne();oi(y,p);for(let t=0;t<this.path.length;t++){const l=this.path[t];if(!l.instance||!fn(l.latestValues))continue;Ma(l.latestValues)&&l.updateSnapshot();const v=Ne(),a=l.measurePageBox();oi(v,a),Ol(y,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,v)}return fn(this.latestValues)&&Ol(y,this.latestValues),y}setTargetDelta(p){this.targetDelta=p,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(p){this.options={...this.options,...p,crossfade:p.crossfade!==void 0?p.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(p=!1){var y;const t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==t;if(!(p||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((y=this.parent)===null||y===void 0)&&y.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:a,layoutId:r}=this.options;if(!(!this.layout||!(a||r))){if(this.resolvedRelativeTargetAt=Ze.timestamp,!this.targetDelta&&!this.relativeTarget){const s=this.getClosestProjectingParent();s&&s.layout&&this.animationProgress!==1?(this.relativeParent=s,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ne(),this.relativeTargetOrigin=Ne(),ms(this.relativeTargetOrigin,this.layout.layoutBox,s.layout.layoutBox),oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ne(),this.targetWithTransforms=Ne()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fv(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):oi(this.target,this.layout.layoutBox),vl(this.target,this.targetDelta)):oi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const s=this.getClosestProjectingParent();s&&!!s.resumingFrom==!!this.resumingFrom&&!s.options.layoutScroll&&s.target&&this.animationProgress!==1?(this.relativeParent=s,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ne(),this.relativeTargetOrigin=Ne(),ms(this.relativeTargetOrigin,this.target,s.target),oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}dn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ma(this.parent.latestValues)||fl(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const y=this.getLead(),t=!!this.resumingFrom||this!==y;let l=!0;if((this.isProjectionDirty||!((p=this.parent)===null||p===void 0)&&p.isProjectionDirty)&&(l=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ze.timestamp&&(l=!1),l)return;const{layout:v,layoutId:a}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||a))return;oi(this.layoutCorrected,this.layout.layoutBox);const r=this.treeScale.x,s=this.treeScale.y;Tv(this.layoutCorrected,this.treeScale,this.path,t),y.layout&&!y.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(y.target=y.layout.layoutBox,y.targetWithTransforms=Ne());const{target:e}=y;if(!e){this.projectionTransform&&(this.projectionDelta=Un(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Un(),this.projectionDeltaWithTransform=Un());const n=this.projectionTransform;ps(this.projectionDelta,this.layoutCorrected,e,this.latestValues),this.projectionTransform=bl(this.projectionDelta,this.treeScale),(this.projectionTransform!==n||this.treeScale.x!==r||this.treeScale.y!==s)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",e)),dn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(p=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),p){const y=this.getStack();y&&y.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(p,y=!1){const t=this.snapshot,l=t?t.latestValues:{},v={...this.latestValues},a=Un();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!y;const r=Ne(),s=t?t.source:void 0,e=this.layout?this.layout.source:void 0,n=s!==e,h=this.getStack(),i=!h||h.members.length<=1,o=!!(n&&!i&&this.options.crossfade===!0&&!this.path.some(hp));this.animationProgress=0;let f;this.mixTargetDelta=u=>{const d=u/1e3;Xl(a.x,p.x,d),Xl(a.y,p.y,d),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ms(r,this.layout.layoutBox,this.relativeParent.layout.layoutBox),op(this.relativeTarget,this.relativeTargetOrigin,r,d),f&&zv(this.relativeTarget,f)&&(this.isProjectionDirty=!1),f||(f=Ne()),oi(f,this.relativeTarget)),n&&(this.animationValues=v,Bv(v,l,this.latestValues,d,o,i)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=d},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(p){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ce.update(()=>{ar.hasAnimatedSinceResize=!0,this.currentAnimation=Zv(0,Gl,{...p,onUpdate:y=>{this.mixTargetDelta(y),p.onUpdate&&p.onUpdate(y)},onComplete:()=>{p.onComplete&&p.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const p=this.getStack();p&&p.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gl),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const p=this.getLead();let{targetWithTransforms:y,target:t,layout:l,latestValues:v}=p;if(!(!y||!t||!l)){if(this!==p&&this.layout&&l&&jl(this.options.animationType,this.layout.layoutBox,l.layoutBox)){t=this.target||Ne();const a=ni(this.layout.layoutBox.x);t.x.min=p.target.x.min,t.x.max=t.x.min+a;const r=ni(this.layout.layoutBox.y);t.y.min=p.target.y.min,t.y.max=t.y.min+r}oi(y,t),zn(y,v),ps(this.projectionDeltaWithTransform,this.layoutCorrected,y,v)}}registerSharedNode(p,y){this.sharedNodes.has(p)||this.sharedNodes.set(p,new Xv),this.sharedNodes.get(p).add(y);const l=y.options.initialPromotionConfig;y.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(y):void 0})}isLead(){const p=this.getStack();return p?p.lead===this:!0}getLead(){var p;const{layoutId:y}=this.options;return y?((p=this.getStack())===null||p===void 0?void 0:p.lead)||this:this}getPrevLead(){var p;const{layoutId:y}=this.options;return y?(p=this.getStack())===null||p===void 0?void 0:p.prevLead:void 0}getStack(){const{layoutId:p}=this.options;if(p)return this.root.sharedNodes.get(p)}promote({needsReset:p,transition:y,preserveFollowOpacity:t}={}){const l=this.getStack();l&&l.promote(this,t),p&&(this.projectionDelta=void 0,this.needsReset=!0),y&&this.setOptions({transition:y})}relegate(){const p=this.getStack();return p?p.relegate(this):!1}resetSkewAndRotation(){const{visualElement:p}=this.options;if(!p)return;let y=!1;const{latestValues:t}=p;if((t.z||t.rotate||t.rotateX||t.rotateY||t.rotateZ||t.skewX||t.skewY)&&(y=!0),!y)return;const l={};t.z&&Oa("z",p,l,this.animationValues);for(let v=0;v<La.length;v++)Oa(`rotate${La[v]}`,p,l,this.animationValues),Oa(`skew${La[v]}`,p,l,this.animationValues);p.render();for(const v in l)p.setStaticValue(v,l[v]),this.animationValues&&(this.animationValues[v]=l[v]);p.scheduleRender()}getProjectionStyles(p){var y,t;if(!this.instance||this.isSVG)return;if(!this.isVisible)return $v;const l={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Js(p==null?void 0:p.pointerEvents)||"",l.transform=v?v(this.latestValues,""):"none",l;const a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){const n={};return this.options.layoutId&&(n.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,n.pointerEvents=Js(p==null?void 0:p.pointerEvents)||""),this.hasProjected&&!fn(this.latestValues)&&(n.transform=v?v({},""):"none",this.hasProjected=!1),n}const r=a.animationValues||a.latestValues;this.applyTransformsToTarget(),l.transform=bl(this.projectionDeltaWithTransform,this.treeScale,r),v&&(l.transform=v(r,l.transform));const{x:s,y:e}=this.projectionDelta;l.transformOrigin=`${s.origin*100}% ${e.origin*100}% 0`,a.animationValues?l.opacity=a===this?(t=(y=r.opacity)!==null&&y!==void 0?y:this.latestValues.opacity)!==null&&t!==void 0?t:1:this.preserveOpacity?this.latestValues.opacity:r.opacityExit:l.opacity=a===this?r.opacity!==void 0?r.opacity:"":r.opacityExit!==void 0?r.opacityExit:0;for(const n in js){if(r[n]===void 0)continue;const{correct:h,applyTo:i}=js[n],o=l.transform==="none"?r[n]:h(r[n],a);if(i){const f=i.length;for(let u=0;u<f;u++)l[i[u]]=o}else l[n]=o}return this.options.layoutId&&(l.pointerEvents=a===this?Js(p==null?void 0:p.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(p=>{var y;return(y=p.currentAnimation)===null||y===void 0?void 0:y.stop()}),this.root.nodes.forEach(Ul),this.root.sharedNodes.clear()}}}function Qv(C){C.updateLayout()}function kv(C){var A;const D=((A=C.resumeFrom)===null||A===void 0?void 0:A.snapshot)||C.snapshot;if(C.isLead()&&C.layout&&D&&C.hasListeners("didUpdate")){const{layoutBox:G,measuredBox:H}=C.layout,{animationType:J}=C.options,p=D.source!==C.layout.source;J==="size"?ai(a=>{const r=p?D.measuredBox[a]:D.layoutBox[a],s=ni(r);r.min=G[a].min,r.max=r.min+s}):jl(J,D.layoutBox,G)&&ai(a=>{const r=p?D.measuredBox[a]:D.layoutBox[a],s=ni(G[a]);r.max=r.min+s,C.relativeTarget&&!C.currentAnimation&&(C.isProjectionDirty=!0,C.relativeTarget[a].max=C.relativeTarget[a].min+s)});const y=Un();ps(y,G,D.layoutBox);const t=Un();p?ps(t,C.applyTransform(H,!0),D.measuredBox):ps(t,G,D.layoutBox);const l=!Dl(y);let v=!1;if(!C.resumeFrom){const a=C.getClosestProjectingParent();if(a&&!a.resumeFrom){const{snapshot:r,layout:s}=a;if(r&&s){const e=Ne();ms(e,D.layoutBox,r.layoutBox);const n=Ne();ms(n,G,s.layoutBox),Il(e,n)||(v=!0),a.options.layoutRoot&&(C.relativeTarget=n,C.relativeTargetOrigin=e,C.relativeParent=a)}}}C.notifyListeners("didUpdate",{layout:G,snapshot:D,delta:t,layoutDelta:y,hasLayoutChanged:l,hasRelativeTargetChanged:v})}else if(C.isLead()){const{onExitComplete:G}=C.options;G&&G()}C.options.transition=void 0}function qv(C){dn.totalNodes++,C.parent&&(C.isProjecting()||(C.isProjectionDirty=C.parent.isProjectionDirty),C.isSharedProjectionDirty||(C.isSharedProjectionDirty=!!(C.isProjectionDirty||C.parent.isProjectionDirty||C.parent.isSharedProjectionDirty)),C.isTransformDirty||(C.isTransformDirty=C.parent.isTransformDirty))}function _v(C){C.isProjectionDirty=C.isSharedProjectionDirty=C.isTransformDirty=!1}function tp(C){C.clearSnapshot()}function Ul(C){C.clearMeasurements()}function ep(C){C.isLayoutDirty=!1}function ip(C){const{visualElement:A}=C.options;A&&A.getProps().onBeforeLayoutMeasure&&A.notify("BeforeLayoutMeasure"),C.resetTransform()}function zl(C){C.finishAnimation(),C.targetDelta=C.relativeTarget=C.target=void 0,C.isProjectionDirty=!0}function np(C){C.resolveTargetDelta()}function sp(C){C.calcProjection()}function rp(C){C.resetSkewAndRotation()}function ap(C){C.removeLeadSnapshot()}function Xl(C,A,D){C.translate=Ie(A.translate,0,D),C.scale=Ie(A.scale,1,D),C.origin=A.origin,C.originPoint=A.originPoint}function Yl(C,A,D,G){C.min=Ie(A.min,D.min,G),C.max=Ie(A.max,D.max,G)}function op(C,A,D,G){Yl(C.x,A.x,D.x,G),Yl(C.y,A.y,D.y,G)}function hp(C){return C.animationValues&&C.animationValues.opacityExit!==void 0}const lp={duration:.45,ease:[.4,0,.1,1]},Wl=C=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(C),Hl=Wl("applewebkit/")&&!Wl("chrome/")?Math.round:je;function Kl(C){C.min=Hl(C.min),C.max=Hl(C.max)}function up(C){Kl(C.x),Kl(C.y)}function jl(C,A,D){return C==="position"||C==="preserve-aspect"&&!Pa(Bl(A),Bl(D),.2)}const fp=Vl({attachResizeListener:(C,A)=>Di(C,"resize",A),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wa={current:void 0},Zl=Vl({measureScroll:C=>({x:C.scrollLeft,y:C.scrollTop}),defaultParent:()=>{if(!wa.current){const C=new fp({});C.mount(window),C.setOptions({layoutScroll:!0}),wa.current=C}return wa.current},resetTransform:(C,A)=>{C.style.transform=A!==void 0?A:"none"},checkIsScrollRoot:C=>window.getComputedStyle(C).position==="fixed"}),dp={pan:{Feature:Fv},drag:{Feature:Mv,ProjectionNode:Zl,MeasureLayout:Sl}},Da={current:null},$l={current:!1};function cp(){if($l.current=!0,!!Or)if(window.matchMedia){const C=window.matchMedia("(prefers-reduced-motion)"),A=()=>Da.current=C.matches;C.addListener(A),A()}else Da.current=!1}function vp(C,A,D){const{willChange:G}=A;for(const H in A){const J=A[H],p=D[H];if(Je(J))C.addValue(H,J),nr(G)&&G.add(H),process.env.NODE_ENV==="development"&&Ta(J.version==="11.2.10",`Attempting to mix Framer Motion versions ${J.version} with 11.2.10 may not work as expected.`);else if(Je(p))C.addValue(H,vs(J,{owner:C})),nr(G)&&G.remove(H);else if(p!==J)if(C.hasValue(H)){const y=C.getValue(H);y.liveStyle===!0?y.jump(J):y.hasAnimated||y.set(J)}else{const y=C.getStaticValue(H);C.addValue(H,vs(y!==void 0?y:J,{owner:C}))}}for(const H in D)A[H]===void 0&&C.removeValue(H);return A}const Jl=new WeakMap,pp=[...lh,Qe,ji],mp=C=>pp.find(hh(C)),Ql=Object.keys(ss),gp=Ql.length,kl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],xp=br.length;function ql(C){if(C)return C.options.allowProjection!==!1?C.projection:ql(C.parent)}class yp{scrapeMotionValuesFromProps(A,D,G){return{}}constructor({parent:A,props:D,presenceContext:G,reducedMotionConfig:H,blockInitialAnimation:J,visualState:p},y={}){this.resolveKeyframes=(r,s,e,n)=>new this.KeyframeResolver(r,s,e,n,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ta,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ce.render(this.render,!1,!0);const{latestValues:t,renderState:l}=p;this.latestValues=t,this.baseTarget={...t},this.initialValues=D.initial?{...t}:{},this.renderState=l,this.parent=A,this.props=D,this.presenceContext=G,this.depth=A?A.depth+1:0,this.reducedMotionConfig=H,this.options=y,this.blockInitialAnimation=!!J,this.isControllingVariants=Ks(D),this.isVariantNode=Ro(D),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(A&&A.current);const{willChange:v,...a}=this.scrapeMotionValuesFromProps(D,{},this);for(const r in a){const s=a[r];t[r]!==void 0&&Je(s)&&(s.set(t[r],!1),nr(v)&&v.add(r))}}mount(A){this.current=A,Jl.set(A,this),this.projection&&!this.projection.instance&&this.projection.mount(A),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((D,G)=>this.bindToMotionValue(G,D)),$l.current||cp(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Da.current,process.env.NODE_ENV!=="production"&&Ta(this.shouldReduceMotion!==!0,"You have Reduced Motion enabled on your device. Animations may not appear as expected."),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var A;Jl.delete(this.current),this.projection&&this.projection.unmount(),wi(this.notifyUpdate),wi(this.render),this.valueSubscriptions.forEach(D=>D()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const D in this.events)this.events[D].clear();for(const D in this.features)(A=this.features[D])===null||A===void 0||A.unmount();this.current=null}bindToMotionValue(A,D){const G=on.has(A),H=D.on("change",p=>{this.latestValues[A]=p,this.props.onUpdate&&Ce.preRender(this.notifyUpdate),G&&this.projection&&(this.projection.isTransformDirty=!0)}),J=D.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(A,()=>{H(),J(),D.owner&&D.stop()})}sortNodePosition(A){return!this.current||!this.sortInstanceNodePosition||this.type!==A.type?0:this.sortInstanceNodePosition(this.current,A.current)}loadFeatures({children:A,...D},G,H,J){let p,y;if(process.env.NODE_ENV!=="production"&&H&&G){const t="You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.";D.ignoreStrict?Gn(!1,t):Ni(!1,t)}for(let t=0;t<gp;t++){const l=Ql[t],{isEnabled:v,Feature:a,ProjectionNode:r,MeasureLayout:s}=ss[l];r&&(p=r),v(D)&&(!this.features[l]&&a&&(this.features[l]=new a(this)),s&&(y=s))}if((this.type==="html"||this.type==="svg")&&!this.projection&&p){const{layoutId:t,layout:l,drag:v,dragConstraints:a,layoutScroll:r,layoutRoot:s}=D;this.projection=new p(this.latestValues,D["data-framer-portal-id"]?void 0:ql(this.parent)),this.projection.setOptions({layoutId:t,layout:l,alwaysMeasureLayout:!!v||a&&Bn(a),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof l=="string"?l:"both",initialPromotionConfig:J,layoutScroll:r,layoutRoot:s})}return y}updateFeatures(){for(const A in this.features){const D=this.features[A];D.isMounted?D.update():(D.mount(),D.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ne()}getStaticValue(A){return this.latestValues[A]}setStaticValue(A,D){this.latestValues[A]=D}update(A,D){(A.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=A,this.prevPresenceContext=this.presenceContext,this.presenceContext=D;for(let G=0;G<kl.length;G++){const H=kl[G];this.propEventSubscriptions[H]&&(this.propEventSubscriptions[H](),delete this.propEventSubscriptions[H]);const J="on"+H,p=A[J];p&&(this.propEventSubscriptions[H]=this.on(H,p))}this.prevMotionValues=vp(this,this.scrapeMotionValuesFromProps(A,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(A){return this.props.variants?this.props.variants[A]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(A=!1){if(A)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const G=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(G.initial=this.props.initial),G}const D={};for(let G=0;G<xp;G++){const H=br[G],J=this.props[H];(ns(J)||J===!1)&&(D[H]=J)}return D}addVariantChild(A){const D=this.getClosestVariantNode();if(D)return D.variantChildren&&D.variantChildren.add(A),()=>D.variantChildren.delete(A)}addValue(A,D){const G=this.values.get(A);D!==G&&(G&&this.removeValue(A),this.bindToMotionValue(A,D),this.values.set(A,D),this.latestValues[A]=D.get())}removeValue(A){this.values.delete(A);const D=this.valueSubscriptions.get(A);D&&(D(),this.valueSubscriptions.delete(A)),delete this.latestValues[A],this.removeValueFromRenderState(A,this.renderState)}hasValue(A){return this.values.has(A)}getValue(A,D){if(this.props.values&&this.props.values[A])return this.props.values[A];let G=this.values.get(A);return G===void 0&&D!==void 0&&(G=vs(D===null?void 0:D,{owner:this}),this.addValue(A,G)),G}readValue(A,D){var G;let H=this.latestValues[A]!==void 0||!this.current?this.latestValues[A]:(G=this.getBaseTargetFromProps(this.props,A))!==null&&G!==void 0?G:this.readValueFromInstance(this.current,A,this.options);return H!=null&&(typeof H=="string"&&(nh(H)||ih(H))?H=parseFloat(H):!mp(H)&&ji.test(D)&&(H=yh(A,D)),this.setBaseTarget(A,Je(H)?H.get():H)),Je(H)?H.get():H}setBaseTarget(A,D){this.baseTarget[A]=D}getBaseTarget(A){var D;const{initial:G}=this.props;let H;if(typeof G=="string"||typeof G=="object"){const p=Kr(this.props,G,(D=this.presenceContext)===null||D===void 0?void 0:D.custom);p&&(H=p[A])}if(G&&H!==void 0)return H;const J=this.getBaseTargetFromProps(this.props,A);return J!==void 0&&!Je(J)?J:this.initialValues[A]!==void 0&&H===void 0?void 0:this.baseTarget[A]}on(A,D){return this.events[A]||(this.events[A]=new ya),this.events[A].add(D)}notify(A,...D){this.events[A]&&this.events[A].notify(...D)}}class _l extends yp{constructor(){super(...arguments),this.KeyframeResolver=Th}sortInstanceNodePosition(A,D){return A.compareDocumentPosition(D)&2?1:-1}getBaseTargetFromProps(A,D){return A.style?A.style[D]:void 0}removeValueFromRenderState(A,{vars:D,style:G}){delete D[A],delete G[A]}}function Tp(C){return window.getComputedStyle(C)}class Sp extends _l{constructor(){super(...arguments),this.type="html"}readValueFromInstance(A,D){if(on.has(D)){const G=ra(D);return G&&G.default||0}else{const G=Tp(A),H=(Do(D)?G.getPropertyValue(D):G[D])||0;return typeof H=="string"?H.trim():H}}measureInstanceViewportBox(A,{transformPagePoint:D}){return gl(A,D)}build(A,D,G,H){zr(A,D,G,H.transformTemplate)}scrapeMotionValuesFromProps(A,D,G){return Hr(A,D,G)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:A}=this.props;Je(A)&&(this.childSubscription=A.on("change",D=>{this.current&&(this.current.textContent=`${D}`)}))}renderInstance(A,D,G,H){zo(A,D,G,H)}}class Ep extends _l{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(A,D){return A[D]}readValueFromInstance(A,D){if(on.has(D)){const G=ra(D);return G&&G.default||0}return D=Xo.has(D)?D:Dr(D),A.getAttribute(D)}measureInstanceViewportBox(){return Ne()}scrapeMotionValuesFromProps(A,D,G){return Wo(A,D,G)}build(A,D,G,H){Yr(A,D,G,this.isSVGTag,H.transformTemplate)}renderInstance(A,D,G,H){Yo(A,D,G,H)}mount(A){this.isSVGTag=Wr(A.tagName),super.mount(A)}}const Cp=(C,A)=>Nr(C)?new Ep(A,{enableHardwareAcceleration:!1}):new Sp(A,{allowProjection:C!==zt.Fragment,enableHardwareAcceleration:!0}),Pp={...ov,...xd,...dp,...{layout:{ProjectionNode:Zl,MeasureLayout:Sl}}},tu=Ff((C,A)=>rd(C,A,Pp,Cp));function eu(){const C=zt.useRef(!1);return wr(()=>(C.current=!0,()=>{C.current=!1}),[]),C}function Ap(){const C=eu(),[A,D]=zt.useState(0),G=zt.useCallback(()=>{C.current&&D(A+1)},[A]);return[zt.useCallback(()=>Ce.postRender(G),[G]),A]}class Rp extends zt.Component{getSnapshotBeforeUpdate(A){const D=this.props.childRef.current;if(D&&A.isPresent&&!this.props.isPresent){const G=this.props.sizeRef.current;G.height=D.offsetHeight||0,G.width=D.offsetWidth||0,G.top=D.offsetTop,G.left=D.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Mp({children:C,isPresent:A}){const D=zt.useId(),G=zt.useRef(null),H=zt.useRef({width:0,height:0,top:0,left:0}),{nonce:J}=zt.useContext(Lr);return zt.useInsertionEffect(()=>{const{width:p,height:y,top:t,left:l}=H.current;if(A||!G.current||!p||!y)return;G.current.dataset.motionPopId=D;const v=document.createElement("style");return J&&(v.nonce=J),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${D}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            top: ${t}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(v)}},[A]),wt.jsx(Rp,{isPresent:A,childRef:G,sizeRef:H,children:zt.cloneElement(C,{ref:G})})}const Ia=({children:C,initial:A,isPresent:D,onExitComplete:G,custom:H,presenceAffectsLayout:J,mode:p})=>{const y=Ko(Fp),t=zt.useId(),l=zt.useMemo(()=>({id:t,initial:A,isPresent:D,custom:H,onExitComplete:v=>{y.set(v,!0);for(const a of y.values())if(!a)return;G&&G()},register:v=>(y.set(v,!1),()=>y.delete(v))}),J?[Math.random()]:[D]);return zt.useMemo(()=>{y.forEach((v,a)=>y.set(a,!1))},[D]),zt.useEffect(()=>{!D&&!y.size&&G&&G()},[D]),p==="popLayout"&&(C=wt.jsx(Mp,{isPresent:D,children:C})),wt.jsx(Ys.Provider,{value:l,children:C})};function Fp(){return new Map}function Lp(C){return zt.useEffect(()=>()=>C(),[])}const cn=C=>C.key||"";function Op(C,A){C.forEach(D=>{const G=cn(D);A.set(G,D)})}function wp(C){const A=[];return zt.Children.forEach(C,D=>{zt.isValidElement(D)&&A.push(D)}),A}const iu=({children:C,custom:A,initial:D=!0,onExitComplete:G,exitBeforeEnter:H,presenceAffectsLayout:J=!0,mode:p="sync"})=>{Ni(!H,"Replace exitBeforeEnter with mode='wait'");const y=zt.useContext(Gr).forceRender||Ap()[0],t=eu(),l=wp(C);let v=l;const a=zt.useRef(new Map).current,r=zt.useRef(v),s=zt.useRef(new Map).current,e=zt.useRef(!0);if(wr(()=>{e.current=!1,Op(l,s),r.current=v}),Lp(()=>{e.current=!0,s.clear(),a.clear()}),e.current)return wt.jsx(wt.Fragment,{children:v.map(o=>wt.jsx(Ia,{isPresent:!0,initial:D?void 0:!1,presenceAffectsLayout:J,mode:p,children:o},cn(o)))});v=[...v];const n=r.current.map(cn),h=l.map(cn),i=n.length;for(let o=0;o<i;o++){const f=n[o];h.indexOf(f)===-1&&!a.has(f)&&a.set(f,void 0)}return p==="wait"&&a.size&&(v=[]),a.forEach((o,f)=>{if(h.indexOf(f)!==-1)return;const u=s.get(f);if(!u)return;const d=n.indexOf(f);let c=o;if(!c){const m=()=>{a.delete(f);const x=Array.from(s.keys()).filter(g=>!h.includes(g));if(x.forEach(g=>s.delete(g)),r.current=l.filter(g=>{const T=cn(g);return T===f||x.includes(T)}),!a.size){if(t.current===!1)return;y(),G&&G()}};c=wt.jsx(Ia,{isPresent:!1,onExitComplete:m,custom:A,presenceAffectsLayout:J,mode:p,children:u},cn(u)),a.set(f,c)}v.splice(d,0,c)}),v=v.map(o=>{const f=o.key;return a.has(f)?o:wt.jsx(Ia,{isPresent:!0,presenceAffectsLayout:J,mode:p,children:o},cn(o))}),process.env.NODE_ENV!=="production"&&p==="wait"&&v.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),wt.jsx(wt.Fragment,{children:a.size?v:v.map(o=>zt.cloneElement(o))})},Ba={touchControl:"_touchControl_190wx_1"};var nu={exports:{}};(function(C,A){(function(G,H){C.exports=H()})(Oi,()=>(()=>{var D={50792:p=>{var y=Object.prototype.hasOwnProperty,t="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(t=!1));function v(e,n,h){this.fn=e,this.context=n,this.once=h||!1}function a(e,n,h,i,o){if(typeof h!="function")throw new TypeError("The listener must be a function");var f=new v(h,i||e,o),u=t?t+n:n;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],f]:e._events[u].push(f):(e._events[u]=f,e._eventsCount++),e}function r(e,n){--e._eventsCount===0?e._events=new l:delete e._events[n]}function s(){this._events=new l,this._eventsCount=0}s.prototype.eventNames=function(){var n=[],h,i;if(this._eventsCount===0)return n;for(i in h=this._events)y.call(h,i)&&n.push(t?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(h)):n},s.prototype.listeners=function(n){var h=t?t+n:n,i=this._events[h];if(!i)return[];if(i.fn)return[i.fn];for(var o=0,f=i.length,u=new Array(f);o<f;o++)u[o]=i[o].fn;return u},s.prototype.listenerCount=function(n){var h=t?t+n:n,i=this._events[h];return i?i.fn?1:i.length:0},s.prototype.emit=function(n,h,i,o,f,u){var d=t?t+n:n;if(!this._events[d])return!1;var c=this._events[d],m=arguments.length,x,g;if(c.fn){switch(c.once&&this.removeListener(n,c.fn,void 0,!0),m){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,h),!0;case 3:return c.fn.call(c.context,h,i),!0;case 4:return c.fn.call(c.context,h,i,o),!0;case 5:return c.fn.call(c.context,h,i,o,f),!0;case 6:return c.fn.call(c.context,h,i,o,f,u),!0}for(g=1,x=new Array(m-1);g<m;g++)x[g-1]=arguments[g];c.fn.apply(c.context,x)}else{var T=c.length,S;for(g=0;g<T;g++)switch(c[g].once&&this.removeListener(n,c[g].fn,void 0,!0),m){case 1:c[g].fn.call(c[g].context);break;case 2:c[g].fn.call(c[g].context,h);break;case 3:c[g].fn.call(c[g].context,h,i);break;case 4:c[g].fn.call(c[g].context,h,i,o);break;default:if(!x)for(S=1,x=new Array(m-1);S<m;S++)x[S-1]=arguments[S];c[g].fn.apply(c[g].context,x)}}return!0},s.prototype.on=function(n,h,i){return a(this,n,h,i,!1)},s.prototype.once=function(n,h,i){return a(this,n,h,i,!0)},s.prototype.removeListener=function(n,h,i,o){var f=t?t+n:n;if(!this._events[f])return this;if(!h)return r(this,f),this;var u=this._events[f];if(u.fn)u.fn===h&&(!o||u.once)&&(!i||u.context===i)&&r(this,f);else{for(var d=0,c=[],m=u.length;d<m;d++)(u[d].fn!==h||o&&!u[d].once||i&&u[d].context!==i)&&c.push(u[d]);c.length?this._events[f]=c.length===1?c[0]:c:r(this,f)}return this},s.prototype.removeAllListeners=function(n){var h;return n?(h=t?t+n:n,this._events[h]&&r(this,h)):(this._events=new l,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=t,s.EventEmitter=s,p.exports=s},11517:(p,y,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(38829),v=function(a,r,s,e){for(var n=a[0],h=1;h<a.length;h++){var i=a[h];l(i,n,r,s,e),n=i}return a};p.exports=v},80318:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),v=function(a,r,s,e,n){return l(a,"angle",r,s,e,n)};p.exports=v},60757:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){for(var a=0;a<t.length;a++){var r=t[a];l.call(v,r)}return t};p.exports=y},69927:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){v===void 0&&(v=0);for(var a=v;a<t.length;a++){var r=t[a],s=!0;for(var e in l)r[e]!==l[e]&&(s=!1);if(s)return r}return null};p.exports=y},32265:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){v===void 0&&(v=0);for(var a=t.length-1;a>=v;a--){var r=t[a],s=!0;for(var e in l)r[e]!==l[e]&&(s=!1);if(s)return r}return null};p.exports=y},94420:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(11879),v=t(60461),a=t(95540),r=t(29747),s=t(41481),e=new s({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1).setOrigin(0,0),n=function(h,i){i===void 0&&(i={});var o=i.hasOwnProperty("width"),f=i.hasOwnProperty("height"),u=a(i,"width",-1),d=a(i,"height",-1),c=a(i,"cellWidth",1),m=a(i,"cellHeight",c),x=a(i,"position",v.TOP_LEFT),g=a(i,"x",0),T=a(i,"y",0),S=0,E=0,P=u*c,F=d*m;e.setPosition(g,T),e.setSize(c,m);for(var R=0;R<h.length;R++)if(l(h[R],e,x),o&&u===-1)e.x+=c;else if(f&&d===-1)e.y+=m;else if(f&&!o){if(E+=m,e.y+=m,E===F&&(E=0,S+=c,e.y=T,e.x+=c,S===P))break}else if(S+=c,e.x+=c,S===P&&(S=0,E+=m,e.x=g,e.y+=m,E===F))break;return h};p.exports=n},41721:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),v=function(a,r,s,e,n){return l(a,"alpha",r,s,e,n)};p.exports=v},67285:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),v=function(a,r,s,e,n){return l(a,"x",r,s,e,n)};p.exports=v},9074:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),v=function(a,r,s,e,n,h,i){return s==null&&(s=r),l(a,"x",r,e,h,i),l(a,"y",s,n,h,i)};p.exports=v},75222:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),v=function(a,r,s,e,n){return l(a,"y",r,s,e,n)};p.exports=v},22983:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){v===void 0&&(v=0),a===void 0&&(a=6.28);for(var r=v,s=(a-v)/t.length,e=l.x,n=l.y,h=l.radius,i=0;i<t.length;i++)t[i].x=e+h*Math.cos(r),t[i].y=n+h*Math.sin(r),r+=s;return t};p.exports=y},95253:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){v===void 0&&(v=0),a===void 0&&(a=6.28);for(var r=v,s=(a-v)/t.length,e=l.width/2,n=l.height/2,h=0;h<t.length;h++)t[h].x=l.x+e*Math.cos(r),t[h].y=l.y+n*Math.sin(r),r+=s;return t};p.exports=y},88505:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15258),v=t(26708),a=function(r,s,e){var n;e?n=v(s,e,r.length):n=l(s,r.length);for(var h=0;h<r.length;h++){var i=r[h],o=n[h];i.x=o.x,i.y=o.y}return r};p.exports=a},41346:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(14649),v=t(86003),a=t(49498),r=function(s,e,n){n===void 0&&(n=0);var h=l(e,!1,s.length);n>0?v(h,n):n<0&&a(h,Math.abs(n));for(var i=0;i<s.length;i++)s[i].x=h[i].x,s[i].y=h[i].y;return s};p.exports=r},11575:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84993),v=function(a,r,s){var e=l({x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},s),n=l({x1:r.x2,y1:r.y2,x2:r.x3,y2:r.y3},s),h=l({x1:r.x3,y1:r.y3,x2:r.x1,y2:r.y1},s);e.pop(),n.pop(),h.pop(),e=e.concat(n,h);for(var i=e.length/a.length,o=0,f=0;f<a.length;f++){var u=a[f],d=e[Math.floor(o)];u.x=d.x,u.y=d.y,o+=i}return a};p.exports=v},29953:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){for(var a=0;a<t.length;a++){var r=t[a];r.anims&&r.anims.play(l,v)}return t};p.exports=y},66979:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a,r,s){a===void 0&&(a=0),r===void 0&&(r=0),s===void 0&&(s=1);var e,n=0,h=t.length;if(s===1)for(e=r;e<h;e++)t[e][l]+=v+n*a,n++;else for(e=r;e>=0;e--)t[e][l]+=v+n*a,n++;return t};p.exports=y},43967:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a,r,s){a===void 0&&(a=0),r===void 0&&(r=0),s===void 0&&(s=1);var e,n=0,h=t.length;if(s===1)for(e=r;e<h;e++)t[e][l]=v+n*a,n++;else for(e=r;e>=0;e--)t[e][l]=v+n*a,n++;return t};p.exports=y},88926:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28176),v=function(a,r){for(var s=0;s<a.length;s++)l(r,a[s]);return a};p.exports=v},33286:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(24820),v=function(a,r){for(var s=0;s<a.length;s++)l(r,a[s]);return a};p.exports=v},96e3:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65822),v=function(a,r){for(var s=0;s<a.length;s++)l(r,a[s]);return a};p.exports=v},28789:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26597),v=function(a,r){for(var s=0;s<a.length;s++)l(r,a[s]);return a};p.exports=v},97154:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(90260),v=function(a,r){for(var s=0;s<a.length;s++)l(r,a[s]);return a};p.exports=v},20510:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),v=function(a,r,s,e,n){return l(a,"rotation",r,s,e,n)};p.exports=v},91051:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1163),v=t(20339),a=function(r,s,e){for(var n=s.x,h=s.y,i=0;i<r.length;i++){var o=r[i];l(o,n,h,e,Math.max(1,v(o.x,o.y,n,h)))}return r};p.exports=a},76332:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1163),v=function(a,r,s,e){var n=r.x,h=r.y;if(e===0)return a;for(var i=0;i<a.length;i++)l(a[i],n,h,s,e);return a};p.exports=v},61619:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),v=function(a,r,s,e,n){return l(a,"scaleX",r,s,e,n)};p.exports=v},94868:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),v=function(a,r,s,e,n,h,i){return s==null&&(s=r),l(a,"scaleX",r,e,h,i),l(a,"scaleY",s,n,h,i)};p.exports=v},95532:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),v=function(a,r,s,e,n){return l(a,"scaleY",r,s,e,n)};p.exports=v},8689:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,s,e,n){return l(a,"alpha",r,s,e,n)};p.exports=v},2645:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,s,e){return l(a,"blendMode",r,0,s,e)};p.exports=v},32372:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,s,e,n){return l(a,"depth",r,s,e,n)};p.exports=v},85373:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){for(var a=0;a<t.length;a++)t[a].setInteractive(l,v);return t};p.exports=y},81583:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,s,e,n,h,i){return s==null&&(s=r),l(a,"originX",r,e,h,i),l(a,"originY",s,n,h,i),a.forEach(function(o){o.updateDisplayOrigin()}),a};p.exports=v},79939:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,s,e,n){return l(a,"rotation",r,s,e,n)};p.exports=v},2699:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,s,e,n,h,i){return s==null&&(s=r),l(a,"scaleX",r,e,h,i),l(a,"scaleY",s,n,h,i)};p.exports=v},98739:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,s,e,n){return l(a,"scaleX",r,s,e,n)};p.exports=v},98476:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,s,e,n){return l(a,"scaleY",r,s,e,n)};p.exports=v},6207:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,s,e,n,h,i){return s==null&&(s=r),l(a,"scrollFactorX",r,e,h,i),l(a,"scrollFactorY",s,n,h,i)};p.exports=v},6607:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,s,e,n){return l(a,"scrollFactorX",r,s,e,n)};p.exports=v},72248:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,s,e,n){return l(a,"scrollFactorY",r,s,e,n)};p.exports=v},14036:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a,r){for(var s=0;s<t.length;s++)t[s].setTint(l,v,a,r);return t};p.exports=y},50159:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,s,e){return l(a,"visible",r,0,s,e)};p.exports=v},77597:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,s,e,n){return l(a,"x",r,s,e,n)};p.exports=v},83194:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,s,e,n,h,i){return s==null&&(s=r),l(a,"x",r,e,h,i),l(a,"y",s,n,h,i)};p.exports=v},67678:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,s,e,n){return l(a,"y",r,s,e,n)};p.exports=v},35850:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,s,e,n){e===void 0&&(e=0),n===void 0&&(n=new l);var h,i,o=a.length;if(o===1)h=a[0].x,i=a[0].y,a[0].x=r,a[0].y=s;else{var f=1,u=0;e===0&&(u=o-1,f=o-2),h=a[u].x,i=a[u].y,a[u].x=r,a[u].y=s;for(var d=0;d<o;d++)if(!(f>=o||f===-1)){var c=a[f],m=c.x,x=c.y;c.x=h,c.y=i,h=m,i=x,e===0?f--:f++}}return n.x=h,n.y=i,n};p.exports=v},8628:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33680),v=function(a){return l(a)};p.exports=v},21837:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7602),v=function(a,r,s,e,n){n===void 0&&(n=!1);var h=Math.abs(e-s)/a.length,i;if(n)for(i=0;i<a.length;i++)a[i][r]+=l(i*h,s,e);else for(i=0;i<a.length;i++)a[i][r]=l(i*h,s,e);return a};p.exports=v},21910:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(54261),v=function(a,r,s,e,n){n===void 0&&(n=!1);var h=Math.abs(e-s)/a.length,i;if(n)for(i=0;i<a.length;i++)a[i][r]+=l(i*h,s,e);else for(i=0;i<a.length;i++)a[i][r]=l(i*h,s,e);return a};p.exports=v},62054:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a,r){if(r===void 0&&(r=!1),t.length===0)return t;if(t.length===1)return r?t[0][l]+=(a+v)/2:t[0][l]=(a+v)/2,t;var s=Math.abs(a-v)/(t.length-1),e;if(r)for(e=0;e<t.length;e++)t[e][l]+=e*s+v;else for(e=0;e<t.length;e++)t[e][l]=e*s+v;return t};p.exports=y},79815:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var l=0;l<t.length;l++)t[l].visible=!t[l].visible;return t};p.exports=y},39665:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15994),v=function(a,r,s){s===void 0&&(s=0);for(var e=0;e<a.length;e++){var n=a[e];n.x=l(n.x,r.left-s,r.right+s),n.y=l(n.y,r.top-s,r.bottom+s)}return a};p.exports=v},61061:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=t(83419),a=t(74943),r=t(81957),s=t(41138),e=t(35154),n=t(90126),h=new v({initialize:function(o,f,u){this.manager=o,this.key=f,this.type="frame",this.frames=this.getFrames(o.textureManager,e(u,"frames",[]),e(u,"defaultTextureKey",null),e(u,"sortFrames",!0)),this.frameRate=e(u,"frameRate",null),this.duration=e(u,"duration",null),this.msPerFrame,this.skipMissedFrames=e(u,"skipMissedFrames",!0),this.delay=e(u,"delay",0),this.repeat=e(u,"repeat",0),this.repeatDelay=e(u,"repeatDelay",0),this.yoyo=e(u,"yoyo",!1),this.showBeforeDelay=e(u,"showBeforeDelay",!1),this.showOnStart=e(u,"showOnStart",!1),this.hideOnComplete=e(u,"hideOnComplete",!1),this.randomFrame=e(u,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(a.PAUSE_ALL,this.pause,this),this.manager.on(a.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(i,o,f,u){f===null&&u===null?(i.frameRate=24,i.duration=24/o*1e3):f&&u===null?(i.duration=f,i.frameRate=o/(f/1e3)):(i.frameRate=u,i.duration=o/u*1e3),i.msPerFrame=1e3/i.frameRate},addFrame:function(i){return this.addFrameAt(this.frames.length,i)},addFrameAt:function(i,o){var f=this.getFrames(this.manager.textureManager,o);if(f.length>0){if(i===0)this.frames=f.concat(this.frames);else if(i===this.frames.length)this.frames=this.frames.concat(f);else{var u=this.frames.slice(0,i),d=this.frames.slice(i);this.frames=u.concat(f,d)}this.updateFrameSequence()}return this},checkFrame:function(i){return i>=0&&i<this.frames.length},getFirstTick:function(i){i.accumulator=0,i.nextTick=i.currentFrame.duration?i.currentFrame.duration:i.msPerFrame},getFrameAt:function(i){return this.frames[i]},getFrames:function(i,o,f,u){u===void 0&&(u=!0);var d=[],c,m,x=1,g,T;if(typeof o=="string"){if(T=o,!i.exists(T))return console.warn('Texture "%s" not found',T),d;var S=i.get(T),E=S.getFrameNames();u&&n(E),o=[],E.forEach(function(I){o.push({key:T,frame:I})})}if(!Array.isArray(o)||o.length===0)return d;for(g=0;g<o.length;g++){var P=o[g],F=e(P,"key",f);if(F){var R=e(P,"frame",0),M=i.getFrame(F,R);if(!M){console.warn('Texture "%s" not found',F);continue}m=new s(F,R,x,M),m.duration=e(P,"duration",0),m.isFirst=!c,c&&(c.nextFrame=m,m.prevFrame=c),d.push(m),c=m,x++}}if(d.length>0){m.isLast=!0,m.nextFrame=d[0],d[0].prevFrame=m;var O=1/(d.length-1);for(g=0;g<d.length;g++)d[g].progress=g*O}return d},getNextTick:function(i){i.accumulator-=i.nextTick,i.nextTick=i.currentFrame.duration?i.currentFrame.duration:i.msPerFrame},getFrameByProgress:function(i){return i=l(i,0,1),r(i,this.frames,"progress")},nextFrame:function(i){var o=i.currentFrame;o.isLast?i.yoyo?this.handleYoyoFrame(i,!1):i.repeatCounter>0?i.inReverse&&i.forward?i.forward=!1:this.repeatAnimation(i):i.complete():this.updateAndGetNextTick(i,o.nextFrame)},handleYoyoFrame:function(i,o){if(o||(o=!1),i.inReverse===!o&&i.repeatCounter>0){(i.repeatDelay===0||i.pendingRepeat)&&(i.forward=o),this.repeatAnimation(i);return}if(i.inReverse!==o&&i.repeatCounter===0){i.complete();return}i.forward=o;var f=o?i.currentFrame.nextFrame:i.currentFrame.prevFrame;this.updateAndGetNextTick(i,f)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(i){var o=i.currentFrame;o.isFirst?i.yoyo?this.handleYoyoFrame(i,!0):i.repeatCounter>0?i.inReverse&&!i.forward?this.repeatAnimation(i):(i.forward=!0,this.repeatAnimation(i)):i.complete():this.updateAndGetNextTick(i,o.prevFrame)},updateAndGetNextTick:function(i,o){i.setCurrentFrame(o),this.getNextTick(i)},removeFrame:function(i){var o=this.frames.indexOf(i);return o!==-1&&this.removeFrameAt(o),this},removeFrameAt:function(i){return this.frames.splice(i,1),this.updateFrameSequence(),this},repeatAnimation:function(i){if(i._pendingStop===2){if(i._pendingStopValue===0)return i.stop();i._pendingStopValue--}i.repeatDelay>0&&!i.pendingRepeat?(i.pendingRepeat=!0,i.accumulator-=i.nextTick,i.nextTick+=i.repeatDelay):(i.repeatCounter--,i.forward?i.setCurrentFrame(i.currentFrame.nextFrame):i.setCurrentFrame(i.currentFrame.prevFrame),i.isPlaying&&(this.getNextTick(i),i.handleRepeat()))},toJSON:function(){var i={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(o){i.frames.push(o.toJSON())}),i},updateFrameSequence:function(){for(var i=this.frames.length,o=1/(i-1),f,u=0;u<i;u++)f=this.frames[u],f.index=u+1,f.isFirst=!1,f.isLast=!1,f.progress=u*o,u===0?(f.isFirst=!0,i===1?(f.isLast=!0,f.nextFrame=f,f.prevFrame=f):(f.isLast=!1,f.prevFrame=this.frames[i-1],f.nextFrame=this.frames[u+1])):u===i-1&&i>1?(f.isLast=!0,f.prevFrame=this.frames[i-2],f.nextFrame=this.frames[0]):i>1&&(f.prevFrame=this.frames[u-1],f.nextFrame=this.frames[u+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(a.PAUSE_ALL,this.pause,this),this.manager.off(a.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var i=0;i<this.frames.length;i++)this.frames[i].destroy();this.frames=[],this.manager=null}});p.exports=h},41138:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,s,e,n,h){h===void 0&&(h=!1),this.textureKey=r,this.textureFrame=s,this.index=e,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=h},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});p.exports=v},60848:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42099),v=t(83419),a=t(90330),r=t(50792),s=t(74943),e=t(8443),n=t(95540),h=t(35154),i=t(36383),o=t(20283),f=t(41836),u=new v({Extends:r,initialize:function(c){r.call(this),this.game=c,this.textureManager=null,this.globalTimeScale=1,this.anims=new a,this.mixes=new a,this.paused=!1,this.name="AnimationManager",c.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(d,c,m){var x=this.anims,g=this.mixes,T=typeof d=="string"?d:d.key,S=typeof c=="string"?c:c.key;if(x.has(T)&&x.has(S)){var E=g.get(T);E||(E={}),E[S]=m,g.set(T,E)}return this},removeMix:function(d,c){var m=this.mixes,x=typeof d=="string"?d:d.key,g=m.get(x);if(g)if(c){var T=typeof c=="string"?c:c.key;g.hasOwnProperty(T)&&delete g[T]}else c||m.delete(x);return this},getMix:function(d,c){var m=this.mixes,x=typeof d=="string"?d:d.key,g=typeof c=="string"?c:c.key,T=m.get(x);return T&&T.hasOwnProperty(g)?T[g]:0},add:function(d,c){return this.anims.has(d)?(console.warn("Animation key exists: "+d),this):(c.key=d,this.anims.set(d,c),this.emit(s.ADD_ANIMATION,d,c),this)},exists:function(d){return this.anims.has(d)},createFromAseprite:function(d,c,m){var x=[],g=this.game.cache.json.get(d);if(!g)return console.warn("No Aseprite data found for: "+d),x;var T=this,S=h(g,"meta",null),E=h(g,"frames",null);if(S&&E){var P=h(S,"frameTags",[]);P.forEach(function(F){var R=[],M=n(F,"name",null),O=n(F,"from",0),I=n(F,"to",0),V=n(F,"direction","forward");if(M&&(!c||c&&c.indexOf(M)>-1)){for(var X=0,z=O;z<=I;z++){var Z=z.toString(),N=E[Z];if(N){var Y=n(N,"duration",i.MAX_SAFE_INTEGER);R.push({key:d,frame:Z,duration:Y}),X+=Y}}V==="reverse"&&(R=R.reverse());var L={key:M,frames:R,duration:X,yoyo:V==="pingpong"},b;m?m.anims&&(b=m.anims.create(L)):b=T.create(L),b&&x.push(b)}})}return x},create:function(d){var c=d.key,m=!1;return c&&(m=this.get(c),m?console.warn("AnimationManager key already exists: "+c):(m=new l(this,c,d),this.anims.set(c,m),this.emit(s.ADD_ANIMATION,c,m))),m},fromJSON:function(d,c){c===void 0&&(c=!1),c&&this.anims.clear(),typeof d=="string"&&(d=JSON.parse(d));var m=[];if(d.hasOwnProperty("anims")&&Array.isArray(d.anims)){for(var x=0;x<d.anims.length;x++)m.push(this.create(d.anims[x]));d.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=d.globalTimeScale)}else d.hasOwnProperty("key")&&d.type==="frame"&&m.push(this.create(d));return m},generateFrameNames:function(d,c){var m=h(c,"prefix",""),x=h(c,"start",0),g=h(c,"end",0),T=h(c,"suffix",""),S=h(c,"zeroPad",0),E=h(c,"outputArray",[]),P=h(c,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),E;var F=this.textureManager.get(d);if(!F)return E;var R;if(c)for(P||(P=o(x,g)),R=0;R<P.length;R++){var M=m+f(P[R],S,"0",1)+T;F.has(M)?E.push({key:d,frame:M}):console.warn('Frame "%s" not found in texture "%s"',M,d)}else for(P=F.getFrameNames(),R=0;R<P.length;R++)E.push({key:d,frame:P[R]});return E},generateFrameNumbers:function(d,c){var m=h(c,"start",0),x=h(c,"end",-1),g=h(c,"first",!1),T=h(c,"outputArray",[]),S=h(c,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),T;var E=this.textureManager.get(d);if(!E)return T;g&&E.has(g)&&T.push({key:d,frame:g}),S||(x===-1&&(x=E.frameTotal-2),S=o(m,x));for(var P=0;P<S.length;P++){var F=S[P];E.has(F)?T.push({key:d,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,d)}return T},get:function(d){return this.anims.get(d)},getAnimsFromTexture:function(d){for(var c=this.textureManager.get(d),m=c.key,x=this.anims.getArray(),g=[],T=0;T<x.length;T++)for(var S=x[T],E=S.frames,P=0;P<E.length;P++)if(E[P].textureKey===m){g.push(S.key);break}return g},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(s.PAUSE_ALL)),this},play:function(d,c){Array.isArray(c)||(c=[c]);for(var m=0;m<c.length;m++)c[m].anims.play(d);return this},staggerPlay:function(d,c,m,x){m===void 0&&(m=0),x===void 0&&(x=!0),Array.isArray(c)||(c=[c]);var g=c.length;x||g--;for(var T=0;T<c.length;T++){var S=m<0?Math.abs(m)*(g-T):m*T;c[T].anims.playAfterDelay(d,S)}return this},remove:function(d){var c=this.get(d);return c&&(this.emit(s.REMOVE_ANIMATION,d,c),this.anims.delete(d),this.removeMix(d)),c},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(s.RESUME_ALL)),this},toJSON:function(d){var c={anims:[],globalTimeScale:this.globalTimeScale};return d!==void 0&&d!==""?c.anims.push(this.anims.get(d).toJSON()):this.anims.each(function(m,x){c.anims.push(x.toJSON())}),c},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});p.exports=u},9674:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42099),v=t(30976),a=t(83419),r=t(90330),s=t(74943),e=t(95540),n=new a({initialize:function(i){this.parent=i,this.animationManager=i.scene.sys.anims,this.animationManager.on(s.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(h){var i=this.parent;if(h===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,i;Array.isArray(h)||(h=[h]);for(var o=0;o<h.length;o++){var f=h[o];this.nextAnim?this.nextAnimsQueue.push(f):this.nextAnim=f}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(h){this.isPlaying&&this.stop();var i=this.animationManager,o=typeof h=="string"?h:e(h,"key",null),f=this.exists(o)?this.get(o):i.get(o);if(!f)console.warn("Missing animation: "+o);else{this.currentAnim=f;var u=f.getTotalFrames(),d=e(h,"frameRate",f.frameRate),c=e(h,"duration",f.duration);f.calculateDuration(this,u,c,d),this.delay=e(h,"delay",f.delay),this.repeat=e(h,"repeat",f.repeat),this.repeatDelay=e(h,"repeatDelay",f.repeatDelay),this.yoyo=e(h,"yoyo",f.yoyo),this.showBeforeDelay=e(h,"showBeforeDelay",f.showBeforeDelay),this.showOnStart=e(h,"showOnStart",f.showOnStart),this.hideOnComplete=e(h,"hideOnComplete",f.hideOnComplete),this.skipMissedFrames=e(h,"skipMissedFrames",f.skipMissedFrames),this.randomFrame=e(h,"randomFrame",f.randomFrame),this.timeScale=e(h,"timeScale",this.timeScale);var m=e(h,"startFrame",0);m>u&&(m=0),this.randomFrame&&(m=v(0,u-1));var x=f.frames[m];m===0&&!this.forward&&(x=f.getLastFrame()),this.currentFrame=x}return this.parent},pause:function(h){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),h!==void 0&&this.setCurrentFrame(h),this.parent},resume:function(h){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),h!==void 0&&this.setCurrentFrame(h),this.parent},playAfterDelay:function(h,i){if(!this.isPlaying)this.delayCounter=i,this.play(h,!0);else{var o=this.nextAnim,f=this.nextAnimsQueue;o&&f.unshift(o),this.nextAnim=h,this._pendingStop=1,this._pendingStopValue=i}return this.parent},playAfterRepeat:function(h,i){if(i===void 0&&(i=1),!this.isPlaying)this.play(h);else{var o=this.nextAnim,f=this.nextAnimsQueue;o&&f.unshift(o),this.repeatCounter!==-1&&i>this.repeatCounter&&(i=this.repeatCounter),this.nextAnim=h,this._pendingStop=2,this._pendingStopValue=i}return this.parent},play:function(h,i){i===void 0&&(i=!1);var o=this.currentAnim,f=this.parent,u=typeof h=="string"?h:h.key;if(i&&this.isPlaying&&o.key===u)return f;if(o&&this.isPlaying){var d=this.animationManager.getMix(o.key,h);if(d>0)return this.playAfterDelay(h,d)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(h)},playReverse:function(h,i){i===void 0&&(i=!1);var o=typeof h=="string"?h:h.key;return i&&this.isPlaying&&this.currentAnim.key===o?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(h))},startAnimation:function(h){this.load(h);var i=this.currentAnim,o=this.parent;return i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),o},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(s.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(s.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(s.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(s.ANIMATION_COMPLETE,s.ANIMATION_COMPLETE_KEY)},emitEvents:function(h,i){var o=this.currentAnim;if(o){var f=this.currentFrame,u=this.parent,d=f.textureFrame;u.emit(h,o,f,u,d),i&&u.emit(i+o.key,o,f,u,d)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var h=this.currentFrame;if(!h)return 0;var i=h.progress;return this.inReverse&&(i*=-1),i},setProgress:function(h){return this.forward||(h=1-h),this.setCurrentFrame(this.currentAnim.getFrameByProgress(h)),this.parent},setRepeat:function(h){return this.repeatCounter=h===-1?Number.MAX_VALUE:h,this.parent},globalRemove:function(h,i){i===void 0&&(i=this.currentAnim),this.isPlaying&&i.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(h,i){h===void 0&&(h=!1),i===void 0&&(i=!1);var o=this.currentAnim,f=this.parent;return o?(i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),o.getFirstTick(this),this.emitEvents(s.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!h,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(o.frames[0]),this.parent):f},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var h=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(h)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var h=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(h)}return this.parent},stopAfterDelay:function(h){return this._pendingStop=1,this._pendingStopValue=h,this.parent},stopAfterRepeat:function(h){return h===void 0&&(h=1),this.repeatCounter!==-1&&h>this.repeatCounter&&(h=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=h,this.parent},stopOnFrame:function(h){return this._pendingStop=3,this._pendingStopValue=h,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(h,i){var o=this.currentAnim;if(!(!this.isPlaying||!o||o.paused)){if(this.accumulator+=i*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=i,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?o.nextFrame(this):o.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var f=0;do this.forward?o.nextFrame(this):o.previousFrame(this),f++;while(this.isPlaying&&this.accumulator>this.nextTick&&f<60)}}},setCurrentFrame:function(h){var i=this.parent;return this.currentFrame=h,i.texture=h.frame.texture,i.frame=h.frame,i.isCropped&&i.frame.updateCropUVs(i._crop,i.flipX,i.flipY),h.setAlpha&&(i.alpha=h.alpha),i.setSizeToFrame(),i._originComponent&&(h.frame.customPivot?i.setOrigin(h.frame.pivotX,h.frame.pivotY):i.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(s.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===h&&this.stop()),i},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(h){return this.anims?this.anims.get(h):null},exists:function(h){return this.anims?this.anims.has(h):!1},create:function(h){var i=h.key,o=!1;return i&&(o=this.get(i),o?console.warn("Animation key already exists: "+i):(o=new l(this,i,h),this.anims||(this.anims=new r),this.anims.set(i,o))),o},createFromAseprite:function(h,i){return this.animationManager.createFromAseprite(h,i,this.parent)},generateFrameNames:function(h,i){return this.animationManager.generateFrameNames(h,i)},generateFrameNumbers:function(h,i){return this.animationManager.generateFrameNumbers(h,i)},remove:function(h){var i=this.get(h);return i&&(this.currentAnim===i&&this.stop(),this.anims.delete(h)),i},destroy:function(){this.animationManager.off(s.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});p.exports=n},57090:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},25312:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete"},89580:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete-"},52860:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrepeat"},63850:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrestart"},99085:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstart"},28087:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstop"},1794:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationupdate"},52562:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},57953:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},68339:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},74943:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(90330),a=t(50792),r=t(24736),s=new l({initialize:function(){this.entries=new v,this.events=new a},add:function(e,n){return this.entries.set(e,n),this.events.emit(r.ADD,this,e,n),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var n=this.get(e);return n&&(this.entries.delete(e),this.events.emit(r.REMOVE,this,e,n.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});p.exports=s},24047:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2161),v=t(83419),a=t(8443),r=new v({initialize:function(e){this.game=e,this.binary=new l,this.bitmapFont=new l,this.json=new l,this.physics=new l,this.shader=new l,this.audio=new l,this.video=new l,this.text=new l,this.html=new l,this.obj=new l,this.tilemap=new l,this.xml=new l,this.custom={},this.game.events.once(a.DESTROY,this.destroy,this)},addCustom:function(s){return this.custom.hasOwnProperty(s)||(this.custom[s]=new l),this.custom[s]},destroy:function(){for(var s=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<s.length;e++)this[s[e]].destroy(),this[s[e]]=null;for(var n in this.custom)this.custom[n].destroy();this.custom=null,this.game=null}});p.exports=r},51464:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},59261:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},24736:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(39506),r=t(50792),s=t(19715),e=t(87841),n=t(61340),h=t(80333),i=t(26099),o=new l({Extends:r,Mixins:[v.AlphaSingle,v.Visible],initialize:function(u,d,c,m){u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),m===void 0&&(m=0),r.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=u,this._y=d,this._width=c,this._height=m,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new n,this.transparent=!0,this.backgroundColor=h("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new i(c/2,m/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(f){this.renderList.push(f)},setOrigin:function(f,u){return f===void 0&&(f=.5),u===void 0&&(u=f),this.originX=f,this.originY=u,this},getScroll:function(f,u,d){d===void 0&&(d=new i);var c=this.width*.5,m=this.height*.5;return d.x=f-c,d.y=u-m,this.useBounds&&(d.x=this.clampX(d.x),d.y=this.clampY(d.y)),d},centerOnX:function(f){var u=this.width*.5;return this.midPoint.x=f,this.scrollX=f-u,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(f){var u=this.height*.5;return this.midPoint.y=f,this.scrollY=f-u,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(f,u){return this.centerOnX(f),this.centerOnY(u),this},centerToBounds:function(){if(this.useBounds){var f=this._bounds,u=this.width*.5,d=this.height*.5;this.midPoint.set(f.centerX,f.centerY),this.scrollX=f.centerX-u,this.scrollY=f.centerY-d}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(f){if(this.disableCull)return f;var u=this.matrix.matrix,d=u[0],c=u[1],m=u[2],x=u[3],g=d*x-c*m;if(!g)return f;var T=u[4],S=u[5],E=this.scrollX,P=this.scrollY,F=this.width,R=this.height,M=this.y,O=M+R,I=this.x,V=I+F,X=this.culledObjects,z=f.length;g=1/g,X.length=0;for(var Z=0;Z<z;++Z){var N=f[Z];if(!N.hasOwnProperty("width")||N.parentContainer){X.push(N);continue}var Y=N.width,L=N.height,b=N.x-E*N.scrollFactorX-Y*N.originX,U=N.y-P*N.scrollFactorY-L*N.originY,W=b*d+U*m+T,j=b*c+U*x+S,Q=(b+Y)*d+(U+L)*m+T,_=(b+Y)*c+(U+L)*x+S;Q>I&&W<V&&_>M&&j<O&&X.push(N)}return X},getWorldPoint:function(f,u,d){d===void 0&&(d=new i);var c=this.matrix.matrix,m=c[0],x=c[1],g=c[2],T=c[3],S=c[4],E=c[5],P=m*T-x*g;if(!P)return d.x=f,d.y=u,d;P=1/P;var F=T*P,R=-x*P,M=-g*P,O=m*P,I=(g*E-T*S)*P,V=(x*S-m*E)*P,X=Math.cos(this.rotation),z=Math.sin(this.rotation),Z=this.zoomX,N=this.zoomY,Y=this.scrollX,L=this.scrollY,b=f+(Y*X-L*z)*Z,U=u+(Y*z+L*X)*N;return d.x=b*F+U*M+I,d.y=b*R+U*O+V,d},ignore:function(f){var u=this.id;Array.isArray(f)||(f=[f]);for(var d=0;d<f.length;d++){var c=f[d];Array.isArray(c)?this.ignore(c):c.isParent?this.ignore(c.getChildren()):c.cameraFilter|=u}return this},preRender:function(){this.renderList.length=0;var f=this.width,u=this.height,d=f*.5,c=u*.5,m=this.zoomX,x=this.zoomY,g=this.matrix,T=f*this.originX,S=u*this.originY,E=this.scrollX,P=this.scrollY;this.useBounds&&(E=this.clampX(E),P=this.clampY(P)),this.scrollX=E,this.scrollY=P;var F=E+d,R=P+c;this.midPoint.set(F,R);var M=f/m,O=u/x;this.worldView.setTo(F-M/2,R-O/2,M,O),g.applyITRS(this.x+T,this.y+S,this.rotation,m,x),g.translate(-T,-S)},clampX:function(f){var u=this._bounds,d=this.displayWidth,c=u.x+(d-this.width)/2,m=Math.max(c,c+u.width-d);return f<c?f=c:f>m&&(f=m),f},clampY:function(f){var u=this._bounds,d=this.displayHeight,c=u.y+(d-this.height)/2,m=Math.max(c,c+u.height-d);return f<c?f=c:f>m&&(f=m),f},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(f){return f===void 0&&(f=0),this.rotation=a(f),this},setBackgroundColor:function(f){return f===void 0&&(f="rgba(0,0,0,0)"),this.backgroundColor=h(f),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(f,u,d,c,m){return m===void 0&&(m=!1),this._bounds.setTo(f,u,d,c),this.dirty=!0,this.useBounds=!0,m?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(f){f===void 0&&(f=new e);var u=this._bounds;return f.setTo(u.x,u.y,u.width,u.height),f},setName:function(f){return f===void 0&&(f=""),this.name=f,this},setPosition:function(f,u){return u===void 0&&(u=f),this.x=f,this.y=u,this},setRotation:function(f){return f===void 0&&(f=0),this.rotation=f,this},setRoundPixels:function(f){return this.roundPixels=f,this},setScene:function(f,u){u===void 0&&(u=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=f,this.isSceneCamera=u;var d=f.sys;return this.sceneManager=d.game.scene,this.scaleManager=d.scale,this.cameraManager=d.cameras,this.updateSystem(),this},setScroll:function(f,u){return u===void 0&&(u=f),this.scrollX=f,this.scrollY=u,this},setSize:function(f,u){return u===void 0&&(u=f),this.width=f,this.height=u,this},setViewport:function(f,u,d,c){return this.x=f,this.y=u,this.width=d,this.height=c,this},setZoom:function(f,u){return f===void 0&&(f=1),u===void 0&&(u=f),f===0&&(f=.001),u===0&&(u=.001),this.zoomX=f,this.zoomY=u,this},setMask:function(f,u){return u===void 0&&(u=!0),this.mask=f,this._maskCamera=u?this.cameraManager.default:this,this},clearMask:function(f){return f===void 0&&(f=!1),f&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var f={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(f.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),f},update:function(){},setIsSceneCamera:function(f){return this.isSceneCamera=f,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var f=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,u=this.sceneManager;f&&!this._customViewport?u.customViewports++:!f&&this._customViewport&&u.customViewports--,this.dirty=!0,this._customViewport=f}},destroy:function(){this.emit(s.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(f){this._x=f,this.updateSystem()}},y:{get:function(){return this._y},set:function(f){this._y=f,this.updateSystem()}},width:{get:function(){return this._width},set:function(f){this._width=f,this.updateSystem()}},height:{get:function(){return this._height},set:function(f){this._height=f,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(f){f!==this._scrollX&&(this._scrollX=f,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(f){f!==this._scrollY&&(this._scrollY=f,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(f){this._zoomX=f,this._zoomY=f,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(f){this._zoomX=f,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(f){this._zoomY=f,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});p.exports=o},38058:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71911),v=t(67502),a=t(45319),r=t(83419),s=t(31401),e=t(20052),n=t(19715),h=t(28915),i=t(87841),o=t(26099),f=new r({Extends:l,Mixins:[s.PostPipeline],initialize:function(d,c,m,x){l.call(this,d,c,m,x),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new o(1,1),this.followOffset=new o,this.deadzone=null,this._follow=null},setDeadzone:function(u,d){if(u===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=u,this.deadzone.height=d):this.deadzone=new i(0,0,u,d),this._follow){var c=this.width/2,m=this.height/2,x=this._follow.x-this.followOffset.x,g=this._follow.y-this.followOffset.y;this.midPoint.set(x,g),this.scrollX=x-c,this.scrollY=g-m}v(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(u,d,c,m,x,g){return this.fadeEffect.start(!1,u,d,c,m,!0,x,g)},fadeOut:function(u,d,c,m,x,g){return this.fadeEffect.start(!0,u,d,c,m,!0,x,g)},fadeFrom:function(u,d,c,m,x,g,T){return this.fadeEffect.start(!1,u,d,c,m,x,g,T)},fade:function(u,d,c,m,x,g,T){return this.fadeEffect.start(!0,u,d,c,m,x,g,T)},flash:function(u,d,c,m,x,g,T){return this.flashEffect.start(u,d,c,m,x,g,T)},shake:function(u,d,c,m,x){return this.shakeEffect.start(u,d,c,m,x)},pan:function(u,d,c,m,x,g,T){return this.panEffect.start(u,d,c,m,x,g,T)},rotateTo:function(u,d,c,m,x,g,T){return this.rotateToEffect.start(u,d,c,m,x,g,T)},zoomTo:function(u,d,c,m,x,g){return this.zoomEffect.start(u,d,c,m,x,g)},preRender:function(){this.renderList.length=0;var u=this.width,d=this.height,c=u*.5,m=d*.5,x=this.zoom,g=this.matrix,T=u*this.originX,S=d*this.originY,E=this._follow,P=this.deadzone,F=this.scrollX,R=this.scrollY;P&&v(P,this.midPoint.x,this.midPoint.y);var M=!1;if(E&&!this.panEffect.isRunning){var O=this.lerp,I=E.x-this.followOffset.x,V=E.y-this.followOffset.y;P?(I<P.x?F=h(F,F-(P.x-I),O.x):I>P.right&&(F=h(F,F+(I-P.right),O.x)),V<P.y?R=h(R,R-(P.y-V),O.y):V>P.bottom&&(R=h(R,R+(V-P.bottom),O.y))):(F=h(F,I-T,O.x),R=h(R,V-S,O.y)),M=!0}this.useBounds&&(F=this.clampX(F),R=this.clampY(R)),this.scrollX=F,this.scrollY=R;var X=F+c,z=R+m;this.midPoint.set(X,z);var Z=u/x,N=d/x,Y=Math.floor(X-Z/2),L=Math.floor(z-N/2);this.worldView.setTo(Y,L,Z,N),g.applyITRS(Math.floor(this.x+T),Math.floor(this.y+S),this.rotation,x,x),g.translate(-T,-S),this.shakeEffect.preRender(),M&&this.emit(n.FOLLOW_UPDATE,this,E)},setLerp:function(u,d){return u===void 0&&(u=1),d===void 0&&(d=u),this.lerp.set(u,d),this},setFollowOffset:function(u,d){return u===void 0&&(u=0),d===void 0&&(d=0),this.followOffset.set(u,d),this},startFollow:function(u,d,c,m,x,g){d===void 0&&(d=!1),c===void 0&&(c=1),m===void 0&&(m=c),x===void 0&&(x=0),g===void 0&&(g=x),this._follow=u,this.roundPixels=d,c=a(c,0,1),m=a(m,0,1),this.lerp.set(c,m),this.followOffset.set(x,g);var T=this.width/2,S=this.height/2,E=u.x-x,P=u.y-g;return this.midPoint.set(E,P),this.scrollX=E-T,this.scrollY=P-S,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(u,d){this.visible&&(this.rotateToEffect.update(u,d),this.panEffect.update(u,d),this.zoomEffect.update(u,d),this.shakeEffect.update(u,d),this.flashEffect.update(u,d),this.fadeEffect.update(u,d))},destroy:function(){this.resetFX(),l.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});p.exports=f},32743:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(38058),v=t(83419),a=t(95540),r=t(37277),s=t(37303),e=t(97480),n=t(44594),h=new v({initialize:function(o){this.scene=o,this.systems=o.sys,this.roundPixels=o.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,o.sys.events.once(n.BOOT,this.boot,this),o.sys.events.on(n.START,this.start,this)},boot:function(){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new l(0,0,i.scale.width,i.scale.height).setScene(this.scene),i.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){if(!this.main){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0]}var o=this.systems.events;o.on(n.UPDATE,this.update,this),o.once(n.SHUTDOWN,this.shutdown,this)},add:function(i,o,f,u,d,c){i===void 0&&(i=0),o===void 0&&(o=0),f===void 0&&(f=this.scene.sys.scale.width),u===void 0&&(u=this.scene.sys.scale.height),d===void 0&&(d=!1),c===void 0&&(c="");var m=new l(i,o,f,u);return m.setName(c),m.setScene(this.scene),m.setRoundPixels(this.roundPixels),m.id=this.getNextID(),this.cameras.push(m),d&&(this.main=m),m},addExisting:function(i,o){o===void 0&&(o=!1);var f=this.cameras.indexOf(i);return f===-1?(i.id=this.getNextID(),i.setRoundPixels(this.roundPixels),this.cameras.push(i),o&&(this.main=i),i):null},getNextID:function(){for(var i=this.cameras,o=1,f=0;f<32;f++){for(var u=!1,d=0;d<i.length;d++){var c=i[d];if(c&&c.id===o){u=!0;continue}}if(u)o=o<<1;else return o}return 0},getTotal:function(i){i===void 0&&(i=!1);for(var o=0,f=this.cameras,u=0;u<f.length;u++){var d=f[u];(!i||i&&d.visible)&&o++}return o},fromJSON:function(i){Array.isArray(i)||(i=[i]);for(var o=this.scene.sys.scale.width,f=this.scene.sys.scale.height,u=0;u<i.length;u++){var d=i[u],c=a(d,"x",0),m=a(d,"y",0),x=a(d,"width",o),g=a(d,"height",f),T=this.add(c,m,x,g);T.name=a(d,"name",""),T.zoom=a(d,"zoom",1),T.rotation=a(d,"rotation",0),T.scrollX=a(d,"scrollX",0),T.scrollY=a(d,"scrollY",0),T.roundPixels=a(d,"roundPixels",!1),T.visible=a(d,"visible",!0);var S=a(d,"backgroundColor",!1);S&&T.setBackgroundColor(S);var E=a(d,"bounds",null);if(E){var P=a(E,"x",0),F=a(E,"y",0),R=a(E,"width",o),M=a(E,"height",f);T.setBounds(P,F,R,M)}}return this},getCamera:function(i){for(var o=this.cameras,f=0;f<o.length;f++)if(o[f].name===i)return o[f];return null},getCamerasBelowPointer:function(i){for(var o=this.cameras,f=i.x,u=i.y,d=[],c=0;c<o.length;c++){var m=o[c];m.visible&&m.inputEnabled&&s(m,f,u)&&d.unshift(m)}return d},remove:function(i,o){o===void 0&&(o=!0),Array.isArray(i)||(i=[i]);for(var f=0,u=this.cameras,d=0;d<i.length;d++){var c=u.indexOf(i[d]);c!==-1&&(o?u[c].destroy():u[c].renderList=[],u.splice(c,1),f++)}return!this.main&&u[0]&&(this.main=u[0]),f},render:function(i,o){for(var f=this.scene,u=this.cameras,d=0;d<u.length;d++){var c=u[d];if(c.visible&&c.alpha>0){c.preRender();var m=this.getVisibleChildren(o.getChildren(),c);i.render(f,m,c)}}},getVisibleChildren:function(i,o){return i.filter(function(f){return f.willRender(o)})},resetAll:function(){for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(i,o){for(var f=0;f<this.cameras.length;f++)this.cameras[f].update(i,o)},onResize:function(i,o,f,u,d){for(var c=0;c<this.cameras.length;c++){var m=this.cameras[c];m._x===0&&m._y===0&&m._width===u&&m._height===d&&m.setSize(o.width,o.height)}},resize:function(i,o){for(var f=0;f<this.cameras.length;f++)this.cameras[f].setSize(i,o)},shutdown:function(){this.main=void 0;for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();this.cameras=[];var o=this.systems.events;o.off(n.UPDATE,this.update,this),o.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(n.START,this.start,this),this.systems.events.off(n.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});r.register("CameraManager",h,"cameras"),p.exports=h},5020:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=t(83419),a=t(19715),r=new v({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,e,n,h,i,o,f,u){if(s===void 0&&(s=!0),e===void 0&&(e=1e3),n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=!1),f===void 0&&(f=null),u===void 0&&(u=this.camera.scene),!o&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=s,this.progress=0,this.red=n,this.green=h,this.blue=i,this.alpha=s?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=f,this._onUpdateScope=u;var d=s?a.FADE_OUT_START:a.FADE_IN_START;return this.camera.emit(d,this.camera,this,e,n,h,i),this.camera},update:function(s,e){this.isRunning&&(this._elapsed+=e,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(s){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return s.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",s.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(s,e){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera,h=this.red/255,i=this.green/255,o=this.blue/255;return s.drawFillRect(n.x,n.y,n.width,n.height,e(o,i,h,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var s=this.direction?a.FADE_OUT_COMPLETE:a.FADE_IN_COMPLETE;this.camera.emit(s,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=r},10662:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=t(83419),a=t(19715),r=new v({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(s,e,n,h,i,o,f){return s===void 0&&(s=250),e===void 0&&(e=255),n===void 0&&(n=255),h===void 0&&(h=255),i===void 0&&(i=!1),o===void 0&&(o=null),f===void 0&&(f=this.camera.scene),!i&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=s,this.progress=0,this.red=e,this.green=n,this.blue=h,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=o,this._onUpdateScope=f,this.camera.emit(a.FLASH_START,this.camera,this,s,e,n,h),this.camera)},update:function(s,e){this.isRunning&&(this._elapsed+=e,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(s){if(!this.isRunning)return!1;var e=this.camera;return s.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",s.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(s,e){if(!this.isRunning)return!1;var n=this.camera,h=this.red/255,i=this.green/255,o=this.blue/255;return s.drawFillRect(n.x,n.y,n.width,n.height,e(o,i,h,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=r},20359:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=t(83419),a=t(62640),r=t(19715),s=t(26099),e=new v({initialize:function(h){this.camera=h,this.isRunning=!1,this.duration=0,this.source=new s,this.current=new s,this.destination=new s,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,h,i,o,f,u,d){i===void 0&&(i=1e3),o===void 0&&(o=a.Linear),f===void 0&&(f=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene);var c=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(c.scrollX,c.scrollY),this.destination.set(n,h),c.getScroll(n,h,this.current),typeof o=="string"&&a.hasOwnProperty(o)?this.ease=a[o]:typeof o=="function"&&(this.ease=o),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d,this.camera.emit(r.PAN_START,this.camera,this,i,n,h)),c},update:function(n,h){if(this.isRunning){this._elapsed+=h;var i=l(this._elapsed/this.duration,0,1);this.progress=i;var o=this.camera;if(this._elapsed<this.duration){var f=this.ease(i);o.getScroll(this.destination.x,this.destination.y,this.current);var u=this.source.x+(this.current.x-this.source.x)*f,d=this.source.y+(this.current.y-this.source.y)*f;o.setScroll(u,d),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,i,u,d)}else o.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,i,o.scrollX,o.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=e},34208:(p,y,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var l=t(45319),v=t(83419),a=t(19715),r=t(62640),s=new v({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,n,h,i,o,f,u){h===void 0&&(h=1e3),i===void 0&&(i=r.Linear),o===void 0&&(o=!1),f===void 0&&(f=null),u===void 0&&(u=this.camera.scene),n===void 0&&(n=!1),this.shortestPath=n;var d=e;e<0?(d=-1*e,this.clockwise=!1):this.clockwise=!0;var c=360*Math.PI/180;d=d-Math.floor(d/c)*c;var m=this.camera;if(!o&&this.isRunning)return m;if(this.isRunning=!0,this.duration=h,this.progress=0,this.source=m.rotation,this.destination=d,typeof i=="string"&&r.hasOwnProperty(i)?this.ease=r[i]:typeof i=="function"&&(this.ease=i),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=u,this.shortestPath){var x=0,g=0;this.destination>this.source?x=Math.abs(this.destination-this.source):x=Math.abs(this.destination+c)-this.source,this.source>this.destination?g=Math.abs(this.source-this.destination):g=Math.abs(this.source+c)-this.destination,x<g?this.clockwise=!0:x>g&&(this.clockwise=!1)}return this.camera.emit(a.ROTATE_START,this.camera,this,h,d),m},update:function(e,n){if(this.isRunning){this._elapsed+=n;var h=l(this._elapsed/this.duration,0,1);this.progress=h;var i=this.camera;if(this._elapsed<this.duration){var o=this.ease(h);this.current=i.rotation;var f=0,u=360*Math.PI/180,d=this.destination,c=this.current;this.clockwise===!1&&(d=this.current,c=this.destination),d>=c?f=Math.abs(d-c):f=Math.abs(d+u)-c;var m=0;this.clockwise?m=i.rotation+f*o:m=i.rotation-f*o,i.rotation=m,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,h,m)}else i.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,h,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=s},30330:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=t(83419),a=t(19715),r=t(26099),s=new v({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.intensity=new r,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,n,h,i,o){return e===void 0&&(e=100),n===void 0&&(n=.05),h===void 0&&(h=!1),i===void 0&&(i=null),o===void 0&&(o=this.camera.scene),!h&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof n=="number"?this.intensity.set(n):this.intensity.set(n.x,n.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=i,this._onUpdateScope=o,this.camera.emit(a.SHAKE_START,this.camera,this,e,n),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,n){if(this.isRunning)if(this._elapsed+=n,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var h=this.intensity,i=this.camera.width,o=this.camera.height,f=this.camera.zoom;this._offsetX=(Math.random()*h.x*i*2-h.x*i)*f,this._offsetY=(Math.random()*h.y*o*2-h.y*o)*f,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});p.exports=s},45641:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=t(83419),a=t(62640),r=t(19715),s=new v({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,n,h,i,o,f){n===void 0&&(n=1e3),h===void 0&&(h=a.Linear),i===void 0&&(i=!1),o===void 0&&(o=null),f===void 0&&(f=this.camera.scene);var u=this.camera;return!i&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source=u.zoom,this.destination=e,typeof h=="string"&&a.hasOwnProperty(h)?this.ease=a[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=o,this._onUpdateScope=f,this.camera.emit(r.ZOOM_START,this.camera,this,n,e)),u},update:function(e,n){this.isRunning&&(this._elapsed+=n,this.progress=l(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=s},20052:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameradestroy"},32726:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeincomplete"},87807:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeinstart"},45917:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutcomplete"},95666:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutstart"},47056:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashcomplete"},91261:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashstart"},45047:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="followupdate"},81927:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapancomplete"},74264:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapanstart"},54419:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},79330:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},93183:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatecomplete"},80112:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatestart"},62252:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakecomplete"},86017:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakestart"},539:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomcomplete"},51892:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomstart"},19715:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(35154),a=new l({initialize:function(s){this.camera=v(s,"camera",null),this.left=v(s,"left",null),this.right=v(s,"right",null),this.up=v(s,"up",null),this.down=v(s,"down",null),this.zoomIn=v(s,"zoomIn",null),this.zoomOut=v(s,"zoomOut",null),this.zoomSpeed=v(s,"zoomSpeed",.01),this.minZoom=v(s,"minZoom",.001),this.maxZoom=v(s,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=v(s,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=v(s,"speed.x",0),this.speedY=v(s,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var s=this.camera;this.up&&this.up.isDown?s.scrollY-=this.speedY*r|0:this.down&&this.down.isDown&&(s.scrollY+=this.speedY*r|0),this.left&&this.left.isDown?s.scrollX-=this.speedX*r|0:this.right&&this.right.isDown&&(s.scrollX+=this.speedX*r|0),this.zoomIn&&this.zoomIn.isDown?(s.zoom-=this.zoomSpeed,s.zoom<this.minZoom&&(s.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(s.zoom+=this.zoomSpeed,s.zoom>this.maxZoom&&(s.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=a},58818:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(35154),a=new l({initialize:function(s){this.camera=v(s,"camera",null),this.left=v(s,"left",null),this.right=v(s,"right",null),this.up=v(s,"up",null),this.down=v(s,"down",null),this.zoomIn=v(s,"zoomIn",null),this.zoomOut=v(s,"zoomOut",null),this.zoomSpeed=v(s,"zoomSpeed",.01),this.minZoom=v(s,"minZoom",.001),this.maxZoom=v(s,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=v(s,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=v(s,"acceleration.x",0),this.accelY=v(s,"acceleration.y",0)),this.dragX=0,this.dragY=0;var n=v(s,"drag",null);typeof n=="number"?(this.dragX=n,this.dragY=n):(this.dragX=v(s,"drag.x",0),this.dragY=v(s,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var h=v(s,"maxSpeed",null);typeof h=="number"?(this.maxSpeedX=h,this.maxSpeedY=h):(this.maxSpeedX=v(s,"maxSpeed.x",0),this.maxSpeedY=v(s,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var s=this.camera;this._speedX>0?(this._speedX-=this.dragX*r,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*r,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*r,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*r,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(s.scrollX-=this._speedX*r|0),this._speedY!==0&&(s.scrollY-=this._speedY*r|0),this._zoom!==0&&(s.zoom+=this._zoom,s.zoom<this.minZoom?s.zoom=this.minZoom:s.zoom>this.maxZoom&&(s.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=a},38865:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={VERSION:"3.80.1",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};p.exports=l},69547:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(8054),a=t(42363),r=t(82264),s=t(95540),e=t(35154),n=t(41212),h=t(29747),i=t(75508),o=t(36060),f=t(80333),u=new l({initialize:function(c){c===void 0&&(c={});var m=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],x="#ffffff",g=e(c,"scale",null);this.width=e(g,"width",1024,c),this.height=e(g,"height",768,c),this.zoom=e(g,"zoom",1,c),this.parent=e(g,"parent",void 0,c),this.scaleMode=e(g,g?"mode":"scaleMode",0,c),this.expandParent=e(g,"expandParent",!0,c),this.autoRound=e(g,"autoRound",!1,c),this.autoCenter=e(g,"autoCenter",0,c),this.resizeInterval=e(g,"resizeInterval",500,c),this.fullscreenTarget=e(g,"fullscreenTarget",null,c),this.minWidth=e(g,"min.width",0,c),this.maxWidth=e(g,"max.width",0,c),this.minHeight=e(g,"min.height",0,c),this.maxHeight=e(g,"max.height",0,c),this.snapWidth=e(g,"snap.width",0,c),this.snapHeight=e(g,"snap.height",0,c),this.renderType=e(c,"type",v.AUTO),this.canvas=e(c,"canvas",null),this.context=e(c,"context",null),this.canvasStyle=e(c,"canvasStyle",null),this.customEnvironment=e(c,"customEnvironment",!1),this.sceneConfig=e(c,"scene",null),this.seed=e(c,"seed",[(Date.now()*Math.random()).toString()]),i.RND=new i.RandomDataGenerator(this.seed),this.gameTitle=e(c,"title",""),this.gameURL=e(c,"url","https://phaser.io"),this.gameVersion=e(c,"version",""),this.autoFocus=e(c,"autoFocus",!0),this.stableSort=e(c,"stableSort",-1),this.stableSort===-1&&(this.stableSort=r.browser.es2019?1:0),r.features.stableSort=this.stableSort,this.domCreateContainer=e(c,"dom.createContainer",!1),this.domPointerEvents=e(c,"dom.pointerEvents","none"),this.inputKeyboard=e(c,"input.keyboard",!0),this.inputKeyboardEventTarget=e(c,"input.keyboard.target",window),this.inputKeyboardCapture=e(c,"input.keyboard.capture",[]),this.inputMouse=e(c,"input.mouse",!0),this.inputMouseEventTarget=e(c,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(c,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(c,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(c,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(c,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(c,"input.touch",r.input.touch),this.inputTouchEventTarget=e(c,"input.touch.target",null),this.inputTouchCapture=e(c,"input.touch.capture",!0),this.inputActivePointers=e(c,"input.activePointers",1),this.inputSmoothFactor=e(c,"input.smoothFactor",0),this.inputWindowEvents=e(c,"input.windowEvents",!0),this.inputGamepad=e(c,"input.gamepad",!1),this.inputGamepadEventTarget=e(c,"input.gamepad.target",window),this.disableContextMenu=e(c,"disableContextMenu",!1),this.audio=e(c,"audio",{}),this.hideBanner=e(c,"banner",null)===!1,this.hidePhaser=e(c,"banner.hidePhaser",!1),this.bannerTextColor=e(c,"banner.text",x),this.bannerBackgroundColor=e(c,"banner.background",m),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(c,"fps",null),this.disablePreFX=e(c,"disablePreFX",!1),this.disablePostFX=e(c,"disablePostFX",!1);var T=e(c,"render",null);this.pipeline=e(T,"pipeline",null,c),this.autoMobilePipeline=e(T,"autoMobilePipeline",!0,c),this.defaultPipeline=e(T,"defaultPipeline",o.MULTI_PIPELINE,c),this.antialias=e(T,"antialias",!0,c),this.antialiasGL=e(T,"antialiasGL",!0,c),this.mipmapFilter=e(T,"mipmapFilter","",c),this.desynchronized=e(T,"desynchronized",!1,c),this.roundPixels=e(T,"roundPixels",!0,c),this.pixelArt=e(T,"pixelArt",this.zoom!==1,c),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(T,"transparent",!1,c),this.clearBeforeRender=e(T,"clearBeforeRender",!0,c),this.preserveDrawingBuffer=e(T,"preserveDrawingBuffer",!1,c),this.premultipliedAlpha=e(T,"premultipliedAlpha",!0,c),this.failIfMajorPerformanceCaveat=e(T,"failIfMajorPerformanceCaveat",!1,c),this.powerPreference=e(T,"powerPreference","default",c),this.batchSize=e(T,"batchSize",4096,c),this.maxTextures=e(T,"maxTextures",-1,c),this.maxLights=e(T,"maxLights",10,c);var S=e(c,"backgroundColor",0);this.backgroundColor=f(S),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=e(c,"callbacks.preBoot",h),this.postBoot=e(c,"callbacks.postBoot",h),this.physics=e(c,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(c,"loader.baseURL",""),this.loaderPath=e(c,"loader.path",""),this.loaderMaxParallelDownloads=e(c,"loader.maxParallelDownloads",r.os.android?6:32),this.loaderCrossOrigin=e(c,"loader.crossOrigin",void 0),this.loaderResponseType=e(c,"loader.responseType",""),this.loaderAsync=e(c,"loader.async",!0),this.loaderUser=e(c,"loader.user",""),this.loaderPassword=e(c,"loader.password",""),this.loaderTimeout=e(c,"loader.timeout",0),this.loaderWithCredentials=e(c,"loader.withCredentials",!1),this.loaderImageLoadType=e(c,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(c,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(c,"fx.glow.quality",.1),this.glowFXDistance=e(c,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var E=e(c,"plugins",null),P=a.DefaultScene;E&&(Array.isArray(E)?this.defaultPlugins=E:n(E)&&(this.installGlobalPlugins=s(E,"global",[]),this.installScenePlugins=s(E,"scene",[]),Array.isArray(E.default)?P=E.default:Array.isArray(E.defaultMerge)&&(P=P.concat(E.defaultMerge)))),this.defaultPlugins=P;var F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(c,"images.default",F+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(c,"images.missing",F+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(c,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=v.WEBGL:window.FORCE_CANVAS&&(this.renderType=v.CANVAS))}});p.exports=u},86054:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20623),v=t(27919),a=t(8054),r=t(89357),s=function(e){var n=e.config;if((n.customEnvironment||n.canvas)&&n.renderType===a.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!n.customEnvironment&&!n.canvas&&n.renderType!==a.HEADLESS)if(n.renderType===a.AUTO&&(n.renderType=r.webGL?a.WEBGL:a.CANVAS),n.renderType===a.WEBGL){if(!r.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(n.renderType===a.CANVAS){if(!r.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+n.renderType);n.antialias||v.disableSmoothing();var h=e.scale.baseSize,i=h.width,o=h.height;if(n.canvas?(e.canvas=n.canvas,e.canvas.width=i,e.canvas.height=o):e.canvas=v.create(e,i,o,n.renderType),n.canvasStyle&&(e.canvas.style=n.canvasStyle),n.antialias||l.setCrisp(e.canvas),n.renderType!==a.HEADLESS){var f,u;f=t(68627),u=t(74797),n.renderType===a.WEBGL?e.renderer=new u(e):(e.renderer=new f(e),e.context=e.renderer.gameContext)}};p.exports=s},96391:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8054),v=function(a){var r=a.config;if(!r.hideBanner){var s="WebGL";r.renderType===l.CANVAS?s="Canvas":r.renderType===l.HEADLESS&&(s="Headless");var e=r.audio,n=a.device.audio,h;if(n.webAudio&&!e.disableWebAudio?h="Web Audio":e.noAudio||!n.webAudio&&!n.audioData?h="No Audio":h="HTML5 Audio",a.device.browser.ie)window.console&&console.log("Phaser v"+l.VERSION+" / https://phaser.io");else{var i="",o=[i];if(Array.isArray(r.bannerBackgroundColor)){var f;r.bannerBackgroundColor.forEach(function(d){i=i.concat("%c "),o.push("background: "+d),f=d}),o[o.length-1]="color: "+r.bannerTextColor+"; background: "+f}else i=i.concat("%c "),o.push("color: "+r.bannerTextColor+"; background: "+r.bannerBackgroundColor);o.push("background: transparent"),r.gameTitle&&(i=i.concat(r.gameTitle),r.gameVersion&&(i=i.concat(" v"+r.gameVersion)),r.hidePhaser||(i=i.concat(" / ")));var u="";r.hidePhaser||(i=i.concat("Phaser v"+l.VERSION+u+" ("+s+" | "+h+")")),i=i.concat(" %c "+r.gameURL),o[0]=i,console.log.apply(console,o)}}};p.exports=v},50127:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40366),v=t(60848),a=t(24047),r=t(27919),s=t(83419),e=t(69547),n=t(83719),h=t(86054),i=t(45893),o=t(96391),f=t(82264),u=t(57264),d=t(50792),c=t(8443),m=t(7003),x=t(37277),g=t(77332),T=t(76531),S=t(60903),E=t(69442),P=t(17130),F=t(65898),R=t(51085),M=t(14747),O=new s({initialize:function(V){this.config=new e(V),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new d,this.anims=new v(this),this.textures=new P(this),this.cache=new a(this),this.registry=new i(this,new d),this.input=new m(this,this.config),this.scene=new S(this,this.config.sceneConfig),this.device=f,this.scale=new T(this,this.config),this.sound=null,this.sound=M.create(this),this.loop=new F(this,this.config.fps),this.plugins=new g(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,u(this.boot.bind(this))},boot:function(){if(!x.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),h(this),n(this),o(this),l(this.canvas,this.config.parent),this.textures.once(E.READY,this.texturesReady,this),this.events.emit(c.BOOT)},texturesReady:function(){this.events.emit(c.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),R(this);var I=this.events;I.on(c.HIDDEN,this.onHidden,this),I.on(c.VISIBLE,this.onVisible,this),I.on(c.BLUR,this.onBlur,this),I.on(c.FOCUS,this.onFocus,this)},step:function(I,V){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(c.PRE_STEP,I,V),X.emit(c.STEP,I,V),this.scene.update(I,V),X.emit(c.POST_STEP,I,V);var z=this.renderer;z.preRender(),X.emit(c.PRE_RENDER,z,I,V),this.scene.render(z),z.postRender(),X.emit(c.POST_RENDER,z,I,V)}},headlessStep:function(I,V){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(c.PRE_STEP,I,V),X.emit(c.STEP,I,V),this.scene.update(I,V),X.emit(c.POST_STEP,I,V),this.scene.isProcessing=!1,X.emit(c.PRE_RENDER,null,I,V),X.emit(c.POST_RENDER,null,I,V)}},onHidden:function(){this.loop.pause(),this.events.emit(c.PAUSE)},pause:function(){var I=this.isPaused;this.isPaused=!0,I||this.events.emit(c.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(c.RESUME)},resume:function(){var I=this.isPaused;this.isPaused=!1,I&&this.events.emit(c.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(I,V){V===void 0&&(V=!1),this.pendingDestroy=!0,this.removeCanvas=I,this.noReturn=V},runDestroy:function(){this.scene.destroy(),this.events.emit(c.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(r.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});p.exports=O},65898:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(35154),a=t(29747),r=t(43092),s=new l({initialize:function(n,h){this.game=n,this.raf=new r,this.started=!1,this.running=!1,this.minFps=v(h,"min",5),this.targetFps=v(h,"target",60),this.fpsLimit=v(h,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=a,this.forceSetTimeOut=v(h,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=v(h,"deltaHistory",10),this.panicMax=v(h,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=v(h,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=Math.min(this._target,this.deltaHistory[n]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var h=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(h,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var n=this.deltaIndex,h=this.deltaHistory,i=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=h[n],e=Math.min(e,this._min)),h[n]=e,this.deltaIndex++,this.deltaIndex>=i&&(this.deltaIndex=0);for(var o=0,f=0;f<i;f++)o+=h[f];return o/=i,o},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var n=Math.max(0,e-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta+=n,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var n=Math.max(0,e-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta=n,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,n),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var n=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+n));var h=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(h,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});p.exports=s},51085:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8443),v=function(a){var r,s=a.events;if(document.hidden!==void 0)r="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(h){document[h+"Hidden"]!==void 0&&(document.hidden=function(){return document[h+"Hidden"]},r=h+"visibilitychange")})}var n=function(h){document.hidden||h.type==="pause"?s.emit(l.HIDDEN):s.emit(l.VISIBLE)};r&&document.addEventListener(r,n,!1),window.onblur=function(){s.emit(l.BLUR)},window.onfocus=function(){s.emit(l.FOCUS)},window.focus&&a.config.autoFocus&&window.focus()};p.exports=v},97217:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="blur"},47548:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},19814:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="contextlost"},68446:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},41700:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="focus"},25432:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="hidden"},65942:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},59211:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},47789:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="poststep"},39066:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},460:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prestep"},16175:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},42331:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},11966:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="step"},32969:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="systemready"},94830:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="visible"},8443:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(5290),v=t(27919),a=t(35154),r=function(s){var e=a(s,"data",[]),n=a(s,"canvas",null),h=a(s,"palette",l),i=a(s,"pixelWidth",1),o=a(s,"pixelHeight",i),f=a(s,"resizeCanvas",!0),u=a(s,"clearCanvas",!0),d=a(s,"preRender",null),c=a(s,"postRender",null),m=Math.floor(Math.abs(e[0].length*i)),x=Math.floor(Math.abs(e.length*o));n||(n=v.create2D(this,m,x),f=!1,u=!1),f&&(n.width=m,n.height=x);var g=n.getContext("2d",{willReadFrequently:!0});u&&g.clearRect(0,0,m,x),d&&d(n,g);for(var T=0;T<e.length;T++)for(var S=e[T],E=0;E<S.length;E++){var P=S[E];P!=="."&&P!==" "&&(g.fillStyle=h[P],g.fillRect(E*i,T*o,i,o))}return c&&c(n,g),n};p.exports=r},15822:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(36316),a=t(80021),r=t(26099),s=new l({Extends:a,initialize:function(n,h,i,o){a.call(this,"CubicBezierCurve"),Array.isArray(n)&&(o=new r(n[6],n[7]),i=new r(n[4],n[5]),h=new r(n[2],n[3]),n=new r(n[0],n[1])),this.p0=n,this.p1=h,this.p2=i,this.p3=o},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,n){n===void 0&&(n=new r);var h=this.p0,i=this.p1,o=this.p2,f=this.p3;return n.set(v(e,h.x,i.x,o.x,f.x),v(e,h.y,i.y,o.y,f.y))},draw:function(e,n){n===void 0&&(n=32);var h=this.getPoints(n);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<h.length;i++)e.lineTo(h[i].x,h[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});s.fromJSON=function(e){var n=e.points,h=new r(n[0],n[1]),i=new r(n[2],n[3]),o=new r(n[4],n[5]),f=new r(n[6],n[7]);return new s(h,i,o,f)},p.exports=s},80021:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(19217),a=t(87841),r=t(26099),s=new l({initialize:function(n){this.type=n,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new r,this._tmpVec2B=new r},draw:function(e,n){return n===void 0&&(n=32),e.strokePoints(this.getPoints(n))},getBounds:function(e,n){e||(e=new a),n===void 0&&(n=16);var h=this.getLength();n>h&&(n=h/2);var i=Math.max(1,Math.round(h/n));return v(this.getSpacedPoints(i),e)},getDistancePoints:function(e){var n=this.getLength(),h=Math.max(1,n/e);return this.getSpacedPoints(h)},getEndPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var n=[],h,i=this.getPoint(0,this._tmpVec2A),o=0;n.push(0);for(var f=1;f<=e;f++)h=this.getPoint(f/e,this._tmpVec2B),o+=h.distance(i),n.push(o),i.copy(h);return this.cacheArcLengths=n,n},getPointAt:function(e,n){var h=this.getUtoTmapping(e);return this.getPoint(h,n)},getPoints:function(e,n,h){h===void 0&&(h=[]),e||(n?e=this.getLength()/n:e=this.defaultDivisions);for(var i=0;i<=e;i++)h.push(this.getPoint(i/e));return h},getRandomPoint:function(e){return e===void 0&&(e=new r),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,n,h){h===void 0&&(h=[]),e||(n?e=this.getLength()/n:e=this.defaultDivisions);for(var i=0;i<=e;i++){var o=this.getUtoTmapping(i/e,null,e);h.push(this.getPoint(o))}return h},getStartPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(0,e)},getTangent:function(e,n){n===void 0&&(n=new r);var h=1e-4,i=e-h,o=e+h;return i<0&&(i=0),o>1&&(o=1),this.getPoint(i,this._tmpVec2A),this.getPoint(o,n),n.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,n){var h=this.getUtoTmapping(e);return this.getTangent(h,n)},getTFromDistance:function(e,n){return e<=0?0:this.getUtoTmapping(0,e,n)},getUtoTmapping:function(e,n,h){var i=this.getLengths(h),o=0,f=i.length,u;n?u=Math.min(n,i[f-1]):u=e*i[f-1];for(var d=0,c=f-1,m;d<=c;)if(o=Math.floor(d+(c-d)/2),m=i[o]-u,m<0)d=o+1;else if(m>0)c=o-1;else{c=o;break}if(o=c,i[o]===u)return o/(f-1);var x=i[o],g=i[o+1],T=g-x,S=(u-x)/T;return(o+S)/(f-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});p.exports=s},73825:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(80021),a=t(39506),r=t(35154),s=t(43396),e=t(26099),n=new l({Extends:v,initialize:function(i,o,f,u,d,c,m,x){if(typeof i=="object"){var g=i;i=r(g,"x",0),o=r(g,"y",0),f=r(g,"xRadius",0),u=r(g,"yRadius",f),d=r(g,"startAngle",0),c=r(g,"endAngle",360),m=r(g,"clockwise",!1),x=r(g,"rotation",0)}else u===void 0&&(u=f),d===void 0&&(d=0),c===void 0&&(c=360),m===void 0&&(m=!1),x===void 0&&(x=0);v.call(this,"EllipseCurve"),this.p0=new e(i,o),this._xRadius=f,this._yRadius=u,this._startAngle=a(d),this._endAngle=a(c),this._clockwise=m,this._rotation=a(x)},getStartPoint:function(h){return h===void 0&&(h=new e),this.getPoint(0,h)},getResolution:function(h){return h*2},getPoint:function(h,i){i===void 0&&(i=new e);for(var o=Math.PI*2,f=this._endAngle-this._startAngle,u=Math.abs(f)<Number.EPSILON;f<0;)f+=o;for(;f>o;)f-=o;f<Number.EPSILON&&(u?f=0:f=o),this._clockwise&&!u&&(f===o?f=-o:f=f-o);var d=this._startAngle+h*f,c=this.p0.x+this._xRadius*Math.cos(d),m=this.p0.y+this._yRadius*Math.sin(d);if(this._rotation!==0){var x=Math.cos(this._rotation),g=Math.sin(this._rotation),T=c-this.p0.x,S=m-this.p0.y;c=T*x-S*g+this.p0.x,m=T*g+S*x+this.p0.y}return i.set(c,m)},setXRadius:function(h){return this.xRadius=h,this},setYRadius:function(h){return this.yRadius=h,this},setWidth:function(h){return this.xRadius=h/2,this},setHeight:function(h){return this.yRadius=h/2,this},setStartAngle:function(h){return this.startAngle=h,this},setEndAngle:function(h){return this.endAngle=h,this},setClockwise:function(h){return this.clockwise=h,this},setRotation:function(h){return this.rotation=h,this},x:{get:function(){return this.p0.x},set:function(h){this.p0.x=h}},y:{get:function(){return this.p0.y},set:function(h){this.p0.y=h}},xRadius:{get:function(){return this._xRadius},set:function(h){this._xRadius=h}},yRadius:{get:function(){return this._yRadius},set:function(h){this._yRadius=h}},startAngle:{get:function(){return s(this._startAngle)},set:function(h){this._startAngle=a(h)}},endAngle:{get:function(){return s(this._endAngle)},set:function(h){this._endAngle=a(h)}},clockwise:{get:function(){return this._clockwise},set:function(h){this._clockwise=h}},angle:{get:function(){return s(this._rotation)},set:function(h){this._rotation=a(h)}},rotation:{get:function(){return this._rotation},set:function(h){this._rotation=h}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:s(this._startAngle),endAngle:s(this._endAngle),clockwise:this._clockwise,rotation:s(this._rotation)}}});n.fromJSON=function(h){return new n(h)},p.exports=n},33951:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(80021),a=t(19217),r=t(87841),s=t(26099),e=new l({Extends:v,initialize:function(h,i){v.call(this,"LineCurve"),Array.isArray(h)&&(i=new s(h[2],h[3]),h=new s(h[0],h[1])),this.p0=h,this.p1=i,this.arcLengthDivisions=1},getBounds:function(n){return n===void 0&&(n=new r),a([this.p0,this.p1],n)},getStartPoint:function(n){return n===void 0&&(n=new s),n.copy(this.p0)},getResolution:function(n){return n===void 0&&(n=1),n},getPoint:function(n,h){return h===void 0&&(h=new s),n===1?h.copy(this.p1):(h.copy(this.p1).subtract(this.p0).scale(n).add(this.p0),h)},getPointAt:function(n,h){return this.getPoint(n,h)},getTangent:function(n,h){return h===void 0&&(h=new s),h.copy(this.p1).subtract(this.p0).normalize(),h},getUtoTmapping:function(n,h,i){var o;if(h){var f=this.getLengths(i),u=f[f.length-1],d=Math.min(h,u);o=d/u}else o=n;return o},draw:function(n){return n.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(n){var h=n.points,i=new s(h[0],h[1]),o=new s(h[2],h[3]);return new e(i,o)},p.exports=e},14744:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(80021),a=t(32112),r=t(26099),s=new l({Extends:v,initialize:function(n,h,i){v.call(this,"QuadraticBezierCurve"),Array.isArray(n)&&(i=new r(n[4],n[5]),h=new r(n[2],n[3]),n=new r(n[0],n[1])),this.p0=n,this.p1=h,this.p2=i},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,n){n===void 0&&(n=new r);var h=this.p0,i=this.p1,o=this.p2;return n.set(a(e,h.x,i.x,o.x),a(e,h.y,i.y,o.y))},draw:function(e,n){n===void 0&&(n=32);var h=this.getPoints(n);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<h.length;i++)e.lineTo(h[i].x,h[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});s.fromJSON=function(e){var n=e.points,h=new r(n[0],n[1]),i=new r(n[2],n[3]),o=new r(n[4],n[5]);return new s(h,i,o)},p.exports=s},42534:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87842),v=t(83419),a=t(80021),r=t(26099),s=new v({Extends:a,initialize:function(n){n===void 0&&(n=[]),a.call(this,"SplineCurve"),this.points=[],this.addPoints(n)},addPoints:function(e){for(var n=0;n<e.length;n++){var h=new r;typeof e[n]=="number"?(h.x=e[n],h.y=e[n+1],n++):Array.isArray(e[n])?(h.x=e[n][0],h.y=e[n][1]):(h.x=e[n].x,h.y=e[n].y),this.points.push(h)}return this},addPoint:function(e,n){var h=new r(e,n);return this.points.push(h),h},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,n){n===void 0&&(n=new r);var h=this.points,i=(h.length-1)*e,o=Math.floor(i),f=i-o,u=h[o===0?o:o-1],d=h[o],c=h[o>h.length-2?h.length-1:o+1],m=h[o>h.length-3?h.length-1:o+2];return n.set(l(f,u.x,d.x,c.x,m.x),l(f,u.y,d.y,c.y,m.y))},toJSON:function(){for(var e=[],n=0;n<this.points.length;n++)e.push(this.points[n].x),e.push(this.points[n].y);return{type:this.type,points:e}}});s.fromJSON=function(e){return new s(e.points)},p.exports=s},25410:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(26099),a=new l({initialize:function(s,e){this.active=!1,this.p0=new v(s,e)},getPoint:function(r,s){return s===void 0&&(s=new v),s.copy(this.p0)},getPointAt:function(r,s){return this.getPoint(r,s)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});p.exports=a},46669:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(46728),a=t(73825),r=t(39429),s=t(33951),e=t(68618),n=t(14744),h=t(87841),i=t(42534),o=t(26099),f=t(36383),u=new l({initialize:function(c,m){c===void 0&&(c=0),m===void 0&&(m=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new o,this._tmpVec2A=new o,this._tmpVec2B=new o,typeof c=="object"?this.fromJSON(c):this.startPoint.set(c,m)},add:function(d){return this.curves.push(d),this},circleTo:function(d,c,m){return c===void 0&&(c=!1),this.ellipseTo(d,d,0,360,c,m)},closePath:function(){var d=this.curves[0].getPoint(0),c=this.curves[this.curves.length-1].getPoint(1);return d.equals(c)||this.curves.push(new s(c,d)),this},cubicBezierTo:function(d,c,m,x,g,T){var S=this.getEndPoint(),E,P,F;return d instanceof o?(E=d,P=c,F=m):(E=new o(m,x),P=new o(g,T),F=new o(d,c)),this.add(new v(S,E,P,F))},quadraticBezierTo:function(d,c,m,x){var g=this.getEndPoint(),T,S;return d instanceof o?(T=d,S=c):(T=new o(m,x),S=new o(d,c)),this.add(new n(g,T,S))},draw:function(d,c){for(var m=0;m<this.curves.length;m++){var x=this.curves[m];x.active&&x.draw(d,c)}return d},ellipseTo:function(d,c,m,x,g,T){var S=new a(0,0,d,c,m,x,g,T),E=this.getEndPoint(this._tmpVec2A),P=S.getStartPoint(this._tmpVec2B);return E.subtract(P),S.x=E.x,S.y=E.y,this.add(S)},fromJSON:function(d){this.curves=[],this.cacheLengths=[],this.startPoint.set(d.x,d.y),this.autoClose=d.autoClose;for(var c=0;c<d.curves.length;c++){var m=d.curves[c];switch(m.type){case"LineCurve":this.add(s.fromJSON(m));break;case"EllipseCurve":this.add(a.fromJSON(m));break;case"SplineCurve":this.add(i.fromJSON(m));break;case"CubicBezierCurve":this.add(v.fromJSON(m));break;case"QuadraticBezierCurve":this.add(n.fromJSON(m));break}}return this},getBounds:function(d,c){d===void 0&&(d=new h),c===void 0&&(c=16),d.x=Number.MAX_VALUE,d.y=Number.MAX_VALUE;for(var m=new h,x=f.MIN_SAFE_INTEGER,g=f.MIN_SAFE_INTEGER,T=0;T<this.curves.length;T++){var S=this.curves[T];S.active&&(S.getBounds(m,c),d.x=Math.min(d.x,m.x),d.y=Math.min(d.y,m.y),x=Math.max(x,m.right),g=Math.max(g,m.bottom))}return d.right=x,d.bottom=g,d},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var d=[],c=0,m=0;m<this.curves.length;m++)c+=this.curves[m].getLength(),d.push(c);return this.cacheLengths=d,d},getCurveAt:function(d){for(var c=d*this.getLength(),m=this.getCurveLengths(),x=0;x<m.length;){if(m[x]>=c)return this.curves[x];x++}return null},getEndPoint:function(d){return d===void 0&&(d=new o),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,d):d.copy(this.startPoint),d},getLength:function(){var d=this.getCurveLengths();return d[d.length-1]},getPoint:function(d,c){c===void 0&&(c=new o);for(var m=d*this.getLength(),x=this.getCurveLengths(),g=0;g<x.length;){if(x[g]>=m){var T=x[g]-m,S=this.curves[g],E=S.getLength(),P=E===0?0:1-T/E;return S.getPointAt(P,c)}g++}return null},getPoints:function(d,c){!d&&!c&&(d=this.defaultDivisions);for(var m=[],x,g=0;g<this.curves.length;g++){var T=this.curves[g];if(T.active)for(var S=T.getResolution(d),E=T.getPoints(S,c),P=0;P<E.length;P++){var F=E[P];x&&x.equals(F)||(m.push(F),x=F)}}return this.autoClose&&m.length>1&&!m[m.length-1].equals(m[0])&&m.push(m[0]),m},getRandomPoint:function(d){return d===void 0&&(d=new o),this.getPoint(Math.random(),d)},getSpacedPoints:function(d){d===void 0&&(d=40);for(var c=[],m=0;m<=d;m++)c.push(this.getPoint(m/d));return this.autoClose&&c.push(c[0]),c},getStartPoint:function(d){return d===void 0&&(d=new o),d.copy(this.startPoint)},getTangent:function(d,c){c===void 0&&(c=new o);for(var m=d*this.getLength(),x=this.getCurveLengths(),g=0;g<x.length;){if(x[g]>=m){var T=x[g]-m,S=this.curves[g],E=S.getLength(),P=E===0?0:1-T/E;return S.getTangentAt(P,c)}g++}return null},lineTo:function(d,c){d instanceof o?this._tmpVec2B.copy(d):typeof d=="object"?this._tmpVec2B.setFromObject(d):this._tmpVec2B.set(d,c);var m=this.getEndPoint(this._tmpVec2A);return this.add(new s([m.x,m.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(d){return d.unshift(this.getEndPoint()),this.add(new i(d))},moveTo:function(d,c){return d instanceof o?this.add(new e(d.x,d.y)):this.add(new e(d,c))},toJSON:function(){for(var d=[],c=0;c<this.curves.length;c++)d.push(this.curves[c].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:d}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});r.register("path",function(d,c){return new u(d,c)}),p.exports=u},45893:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(24882),a=new l({initialize:function(s,e){this.parent=s,this.events=e,e||(this.events=s.events?s.events:s),this.list={},this.values={},this._frozen=!1,!s.hasOwnProperty("sys")&&this.events&&this.events.once(v.DESTROY,this.destroy,this)},get:function(r){var s=this.list;if(Array.isArray(r)){for(var e=[],n=0;n<r.length;n++)e.push(s[r[n]]);return e}else return s[r]},getAll:function(){var r={};for(var s in this.list)this.list.hasOwnProperty(s)&&(r[s]=this.list[s]);return r},query:function(r){var s={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(r)&&(s[e]=this.list[e]);return s},set:function(r,s){if(this._frozen)return this;if(typeof r=="string")return this.setValue(r,s);for(var e in r)this.setValue(e,r[e]);return this},inc:function(r,s){if(this._frozen)return this;s===void 0&&(s=1);var e=this.get(r);return e===void 0&&(e=0),this.set(r,e+s),this},toggle:function(r){return this._frozen?this:(this.set(r,!this.get(r)),this)},setValue:function(r,s){if(this._frozen)return this;if(this.has(r))this.values[r]=s;else{var e=this,n=this.list,h=this.events,i=this.parent;Object.defineProperty(this.values,r,{enumerable:!0,configurable:!0,get:function(){return n[r]},set:function(o){if(!e._frozen){var f=n[r];n[r]=o,h.emit(v.CHANGE_DATA,i,r,o,f),h.emit(v.CHANGE_DATA_KEY+r,i,o,f)}}}),n[r]=s,h.emit(v.SET_DATA,i,r,s)}return this},each:function(r,s){for(var e=[this.parent,null,void 0],n=1;n<arguments.length;n++)e.push(arguments[n]);for(var h in this.list)e[1]=h,e[2]=this.list[h],r.apply(s,e);return this},merge:function(r,s){s===void 0&&(s=!0);for(var e in r)r.hasOwnProperty(e)&&(s||!s&&!this.has(e))&&this.setValue(e,r[e]);return this},remove:function(r){if(this._frozen)return this;if(Array.isArray(r))for(var s=0;s<r.length;s++)this.removeValue(r[s]);else return this.removeValue(r);return this},removeValue:function(r){if(this.has(r)){var s=this.list[r];delete this.list[r],delete this.values[r],this.events.emit(v.REMOVE_DATA,this.parent,r,s)}return this},pop:function(r){var s=void 0;return!this._frozen&&this.has(r)&&(s=this.list[r],delete this.list[r],delete this.values[r],this.events.emit(v.REMOVE_DATA,this.parent,r,s)),s},has:function(r){return this.list.hasOwnProperty(r)},setFreeze:function(r){return this._frozen=r,this},reset:function(){for(var r in this.list)delete this.list[r],delete this.values[r];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(v.CHANGE_DATA),this.events.off(v.SET_DATA),this.events.off(v.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(r){this._frozen=!!r}},count:{get:function(){var r=0;for(var s in this.list)this.list[s]!==void 0&&r++;return r}}});p.exports=a},63646:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(45893),a=t(37277),r=t(44594),s=new l({Extends:v,initialize:function(n){v.call(this,n,n.sys.events),this.scene=n,this.systems=n.sys,n.sys.events.once(r.BOOT,this.boot,this),n.sys.events.on(r.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){v.prototype.destroy.call(this),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("DataManagerPlugin",s,"data"),p.exports=s},10700:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata"},93608:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata-"},60883:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},69780:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedata"},22166:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="setdata"},24882:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84148),v={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function a(){if(typeof importScripts=="function")return v;v.audioData=!!window.Audio,v.webAudio=!!(window.AudioContext||window.webkitAudioContext);var r=document.createElement("audio"),s=!!r.canPlayType;try{if(s){var e=function(i,o){var f=r.canPlayType("audio/"+i).replace(/^no$/,"");return o?!!(f||r.canPlayType("audio/"+o).replace(/^no$/,"")):!!f};if(v.ogg=e('ogg; codecs="vorbis"'),v.opus=e('ogg; codecs="opus"',"opus"),v.mp3=e("mpeg"),v.wav=e("wav"),v.m4a=e("x-m4a"),v.aac=e("aac"),v.flac=e("flac","x-flac"),v.webm=e('webm; codecs="vorbis"'),r.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(l.edge)v.dolby=!0;else if(l.safari&&l.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var n=parseInt(RegExp.$1,10),h=parseInt(RegExp.$2,10);(n===10&&h>=11||n>10)&&(v.dolby=!0)}}}}catch{}return v}p.exports=a()},84148:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25892),v={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function a(){var r=navigator.userAgent;return/Edg\/\d+/.test(r)?(v.edge=!0,v.es2019=!0):/OPR/.test(r)?(v.opera=!0,v.es2019=!0):/Chrome\/(\d+)/.test(r)&&!l.windowsPhone?(v.chrome=!0,v.chromeVersion=parseInt(RegExp.$1,10),v.es2019=v.chromeVersion>69):/Firefox\D+(\d+)/.test(r)?(v.firefox=!0,v.firefoxVersion=parseInt(RegExp.$1,10),v.es2019=v.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(r)&&l.iOS?(v.mobileSafari=!0,v.es2019=!0):/MSIE (\d+\.\d+);/.test(r)?(v.ie=!0,v.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(r)&&!l.windowsPhone?(v.safari=!0,v.safariVersion=parseInt(RegExp.$1,10),v.es2019=v.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(r)&&(v.ie=!0,v.trident=!0,v.tridentVersion=parseInt(RegExp.$1,10),v.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(r)&&(v.silk=!0),v}p.exports=a()},89289:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),v={supportInverseAlpha:!1,supportNewBlendModes:!1};function a(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",n="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",h=new Image;return h.onload=function(){var i=new Image;i.onload=function(){var o=l.create2D(i,6),f=o.getContext("2d",{willReadFrequently:!0});if(f.globalCompositeOperation="multiply",f.drawImage(h,0,0),f.drawImage(i,2,0),!f.getImageData(2,0,1,1))return!1;var u=f.getImageData(2,0,1,1).data;l.remove(i),v.supportNewBlendModes=u[0]===255&&u[1]===0&&u[2]===0},i.src=e+"/wCKxvRF"+n},h.src=e+"AP804Oa6"+n,!1}function r(){var e=l.create2D(this,2),n=e.getContext("2d",{willReadFrequently:!0});n.fillStyle="rgba(10, 20, 30, 0.5)",n.fillRect(0,0,1,1);var h=n.getImageData(0,0,1,1);if(h===null)return!1;n.putImageData(h,1,0);var i=n.getImageData(1,0,1,1),o=i.data[0]===h.data[0]&&i.data[1]===h.data[1]&&i.data[2]===h.data[2]&&i.data[3]===h.data[3];return l.remove(this),o}function s(){return typeof importScripts!="function"&&document!==void 0&&(v.supportNewBlendModes=a(),v.supportInverseAlpha=r()),v}p.exports=s()},89357:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25892),v=t(84148),a=t(27919),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function s(){var n=new ArrayBuffer(4),h=new Uint8Array(n),i=new Uint32Array(n);return h[0]=161,h[1]=178,h[2]=195,h[3]=212,i[0]===3569595041?!0:i[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return r;r.canvas=!!window.CanvasRenderingContext2D;try{r.localStorage=!!localStorage.getItem}catch{r.localStorage=!1}r.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,r.fileSystem=!!window.requestFileSystem;var n=!1,h=function(){if(window.WebGLRenderingContext)try{var i=a.createWebGL(this),o=i.getContext("webgl")||i.getContext("experimental-webgl"),f=a.create2D(this),u=f.getContext("2d",{willReadFrequently:!0}),d=u.createImageData(1,1);return n=d.data instanceof Uint8ClampedArray,a.remove(i),a.remove(f),!!o}catch{return!1}return!1};return r.webGL=h(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,v.firefox&&v.firefoxVersion<21&&(r.getUserMedia=!1),!l.iOS&&(v.ie||v.firefox||v.chrome)&&(r.canvasBitBltShift=!0),(v.safari||v.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(r.littleEndian=s()),r.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&r.littleEndian!==null&&n,r}p.exports=e()},91639:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return y;var l,v="Fullscreen",a="FullScreen",r=["request"+v,"request"+a,"webkitRequest"+v,"webkitRequest"+a,"msRequest"+v,"msRequest"+a,"mozRequest"+a,"mozRequest"+v];for(l=0;l<r.length;l++)if(document.documentElement[r[l]]){y.available=!0,y.request=r[l];break}var s=["cancel"+a,"exit"+v,"webkitCancel"+a,"webkitExit"+v,"msCancel"+a,"msExit"+v,"mozCancel"+a,"mozExit"+v];if(y.available){for(l=0;l<s.length;l++)if(document[s[l]]){y.cancel=s[l];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(y.keyboard=!0),Object.defineProperty(y,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),y}p.exports=t()},31784:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84148),v={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function a(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(v.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(v.mspointer=!0),navigator.getGamepads&&(v.gamepads=!0),"onwheel"in window||l.ie&&"WheelEvent"in window?v.wheelEvent="wheel":"onmousewheel"in window?v.wheelEvent="mousewheel":l.firefox&&"MouseScrollEvent"in window&&(v.wheelEvent="DOMMouseScroll")),v}p.exports=a()},25892:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return y;var l=navigator.userAgent;/Windows/.test(l)?y.windows=!0:/Mac OS/.test(l)&&!/like Mac OS/.test(l)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(y.iOS=!0,y.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),y.iOSVersion=parseInt(RegExp.$1,10)):y.macOS=!0:/Android/.test(l)?y.android=!0:/Linux/.test(l)?y.linux=!0:/iP[ao]d|iPhone/i.test(l)?(y.iOS=!0,navigator.appVersion.match(/OS (\d+)/),y.iOSVersion=parseInt(RegExp.$1,10),y.iPhone=l.toLowerCase().indexOf("iphone")!==-1,y.iPad=l.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(l)||/\bKF[A-Z][A-Z]+/.test(l)||/Silk.*Mobile Safari/.test(l)?y.kindle=!0:/CrOS/.test(l)&&(y.chromeOS=!0),(/Windows Phone/i.test(l)||/IEMobile/i.test(l))&&(y.android=!1,y.iOS=!1,y.macOS=!1,y.windows=!0,y.windowsPhone=!0);var v=/Silk/.test(l);return(y.windows||y.macOS||y.linux&&!v||y.chromeOS)&&(y.desktop=!0),(y.windowsPhone||/Windows NT/i.test(l)&&/Touch/i.test(l))&&(y.desktop=!1),navigator.standalone&&(y.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(y.cordova=!0),window.ejecta!==void 0&&(y.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(y.node=!0),y.node&&typeof process.versions=="object"&&(y.nodeWebkit=!!process.versions["node-webkit"],y.electron=!!process.versions.electron),/Crosswalk/.test(l)&&(y.crosswalk=!0),y.pixelRatio=window.devicePixelRatio||1,y}p.exports=t()},43267:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),v={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function a(){if(typeof importScripts=="function")return v;var r=document.createElement("video"),s=!!r.canPlayType,e=/^no$/;try{s&&(r.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(v.ogg=!0),r.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(v.h264=!0,v.mp4=!0),r.canPlayType("video/x-m4v").replace(e,"")&&(v.m4v=!0),r.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(v.webm=!0),r.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(v.vp9=!0),r.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(v.hls=!0))}catch{}return r.parentNode&&r.parentNode.removeChild(r),v.getVideoURL=function(n){Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++){var i=l(n[h],"url",n[h]);if(i.indexOf("blob:")===0)return{url:i,type:""};var o;if(i.indexOf("data:")===0?o=i.split(",")[0].match(/\/(.*?);/):o=i.match(/\.([a-zA-Z0-9]+)($|\?)/),o=l(n[h],"type",o?o[1]:"").toLowerCase(),v[o])return{url:i,type:o}}return null},v}p.exports=a()},82264:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new Float32Array(20),a=new l({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(r){return this._matrix.set(r),this._dirty=!0,this},reset:function(){var r=this._matrix;return r.fill(0),r[0]=1,r[6]=1,r[12]=1,r[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var r=this._data;return this._dirty&&(r.set(this._matrix),r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,this._dirty=!1),r},brightness:function(r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var e=r;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],s)},saturate:function(r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var e=r*2/3+1,n=(e-1)*-.5;return this.multiply([e,n,n,0,0,n,e,n,0,0,n,n,e,0,0,0,0,0,1,0],s)},desaturate:function(r){return r===void 0&&(r=!1),this.saturate(-1,r)},hue:function(r,s){r===void 0&&(r=0),s===void 0&&(s=!1),r=r/180*Math.PI;var e=Math.cos(r),n=Math.sin(r),h=.213,i=.715,o=.072;return this.multiply([h+e*(1-h)+n*-h,i+e*-i+n*-i,o+e*-o+n*(1-o),0,0,h+e*-h+n*.143,i+e*(1-i)+n*.14,o+e*-o+n*-.283,0,0,h+e*-h+n*-(1-h),i+e*-i+n*i,o+e*(1-o)+n*o,0,0,0,0,0,1,0],s)},grayscale:function(r,s){return r===void 0&&(r=1),s===void 0&&(s=!1),this.saturate(-r,s)},blackWhite:function(r){return r===void 0&&(r=!1),this.multiply(a.BLACK_WHITE,r)},contrast:function(r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var e=r+1,n=-.5*(e-1);return this.multiply([e,0,0,0,n,0,e,0,0,n,0,0,e,0,n,0,0,0,1,0],s)},negative:function(r){return r===void 0&&(r=!1),this.multiply(a.NEGATIVE,r)},desaturateLuminance:function(r){return r===void 0&&(r=!1),this.multiply(a.DESATURATE_LUMINANCE,r)},sepia:function(r){return r===void 0&&(r=!1),this.multiply(a.SEPIA,r)},night:function(r,s){return r===void 0&&(r=.1),s===void 0&&(s=!1),this.multiply([r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0],s)},lsd:function(r){return r===void 0&&(r=!1),this.multiply(a.LSD,r)},brown:function(r){return r===void 0&&(r=!1),this.multiply(a.BROWN,r)},vintagePinhole:function(r){return r===void 0&&(r=!1),this.multiply(a.VINTAGE,r)},kodachrome:function(r){return r===void 0&&(r=!1),this.multiply(a.KODACHROME,r)},technicolor:function(r){return r===void 0&&(r=!1),this.multiply(a.TECHNICOLOR,r)},polaroid:function(r){return r===void 0&&(r=!1),this.multiply(a.POLAROID,r)},shiftToBGR:function(r){return r===void 0&&(r=!1),this.multiply(a.SHIFT_BGR,r)},multiply:function(r,s){s===void 0&&(s=!1),s||this.reset();var e=this._matrix,n=v;return n.set(e),e.set([n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19]]),this._dirty=!0,this}});a.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],a.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],a.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],a.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],a.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],a.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],p.exports=a},51767:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(29747),a=new l({initialize:function(s,e,n){this._rgb=[0,0,0],this.onChangeCallback=v,this.dirty=!1,this.set(s,e,n)},set:function(r,s,e){return r===void 0&&(r=0),s===void 0&&(s=0),e===void 0&&(e=0),this._rgb=[r,s,e],this.onChange(),this},equals:function(r,s,e){var n=this._rgb;return n[0]===r&&n[1]===s&&n[2]===e},onChange:function(){this.dirty=!0;var r=this._rgb;this.onChangeCallback.call(this,r[0],r[1],r[2])},r:{get:function(){return this._rgb[0]},set:function(r){this._rgb[0]=r,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(r){this._rgb[1]=r,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(r){this._rgb[2]=r,this.onChange()}},destroy:function(){this.onChangeCallback=null}});p.exports=a},60461:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};p.exports=y},54312:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),v=t(35893),a=t(86327),r=t(88417),s=function(e,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,v(n)+h),a(e,l(n)+i),e};p.exports=s},46768:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),v=t(26541),a=t(86327),r=t(385),s=function(e,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,v(n)-h),a(e,l(n)+i),e};p.exports=s},35827:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),v=t(54380),a=t(86327),r=t(40136),s=function(e,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,v(n)+h),a(e,l(n)+i),e};p.exports=s},46871:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66786),v=t(35893),a=t(7702),r=function(s,e,n,h){return n===void 0&&(n=0),h===void 0&&(h=0),l(s,v(e)+n,a(e)+h),s};p.exports=r},5198:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7702),v=t(26541),a=t(20786),r=t(385),s=function(e,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,v(n)-h),a(e,l(n)+i),e};p.exports=s},11879:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60461),v=[];v[l.BOTTOM_CENTER]=t(54312),v[l.BOTTOM_LEFT]=t(46768),v[l.BOTTOM_RIGHT]=t(35827),v[l.CENTER]=t(46871),v[l.LEFT_CENTER]=t(5198),v[l.RIGHT_CENTER]=t(80503),v[l.TOP_CENTER]=t(89698),v[l.TOP_LEFT]=t(922),v[l.TOP_RIGHT]=t(21373),v[l.LEFT_BOTTOM]=v[l.BOTTOM_LEFT],v[l.LEFT_TOP]=v[l.TOP_LEFT],v[l.RIGHT_BOTTOM]=v[l.BOTTOM_RIGHT],v[l.RIGHT_TOP]=v[l.TOP_RIGHT];var a=function(r,s,e,n,h){return v[e](r,s,n,h)};p.exports=a},80503:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7702),v=t(54380),a=t(20786),r=t(40136),s=function(e,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,v(n)+h),a(e,l(n)+i),e};p.exports=s},89698:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35893),v=t(17717),a=t(88417),r=t(66737),s=function(e,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(e,l(n)+h),r(e,v(n)-i),e};p.exports=s},922:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26541),v=t(17717),a=t(385),r=t(66737),s=function(e,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(e,l(n)-h),r(e,v(n)-i),e};p.exports=s},21373:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(54380),v=t(17717),a=t(40136),r=t(66737),s=function(e,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(e,l(n)+h),r(e,v(n)-i),e};p.exports=s},91660:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60461),v=t(79291),a={In:t(91660),To:t(16694)};a=v(!1,a,l),p.exports=a},21578:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),v=t(35893),a=t(88417),r=t(66737),s=function(e,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(e,v(n)+h),r(e,l(n)+i),e};p.exports=s},10210:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),v=t(26541),a=t(385),r=t(66737),s=function(e,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(e,v(n)-h),r(e,l(n)+i),e};p.exports=s},82341:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),v=t(54380),a=t(40136),r=t(66737),s=function(e,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(e,v(n)+h),r(e,l(n)+i),e};p.exports=s},87958:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),v=t(26541),a=t(86327),r=t(40136),s=function(e,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,v(n)-h),a(e,l(n)+i),e};p.exports=s},40080:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7702),v=t(26541),a=t(20786),r=t(40136),s=function(e,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,v(n)-h),a(e,l(n)+i),e};p.exports=s},88466:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26541),v=t(17717),a=t(40136),r=t(66737),s=function(e,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(e,l(n)-h),r(e,v(n)-i),e};p.exports=s},38829:(p,y,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60461),v=[];v[l.BOTTOM_CENTER]=t(21578),v[l.BOTTOM_LEFT]=t(10210),v[l.BOTTOM_RIGHT]=t(82341),v[l.LEFT_BOTTOM]=t(87958),v[l.LEFT_CENTER]=t(40080),v[l.LEFT_TOP]=t(88466),v[l.RIGHT_BOTTOM]=t(19211),v[l.RIGHT_CENTER]=t(34609),v[l.RIGHT_TOP]=t(48741),v[l.TOP_CENTER]=t(49440),v[l.TOP_LEFT]=t(81288),v[l.TOP_RIGHT]=t(61323);var a=function(r,s,e,n,h){return v[e](r,s,n,h)};p.exports=a},19211:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),v=t(54380),a=t(86327),r=t(385),s=function(e,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,v(n)+h),a(e,l(n)+i),e};p.exports=s},34609:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7702),v=t(54380),a=t(20786),r=t(385),s=function(e,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,v(n)+h),a(e,l(n)+i),e};p.exports=s},48741:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(54380),v=t(17717),a=t(385),r=t(66737),s=function(e,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(e,l(n)+h),r(e,v(n)-i),e};p.exports=s},49440:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35893),v=t(17717),a=t(86327),r=t(88417),s=function(e,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,l(n)+h),a(e,v(n)-i),e};p.exports=s},81288:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26541),v=t(17717),a=t(86327),r=t(385),s=function(e,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,l(n)-h),a(e,v(n)-i),e};p.exports=s},61323:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(54380),v=t(17717),a=t(86327),r=t(40136),s=function(e,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,l(n)+h),a(e,v(n)-i),e};p.exports=s},16694:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88417),v=t(20786),a=function(r,s,e){return l(r,s),v(r,e)};p.exports=a},62235:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.y+t.height-t.height*t.originY};p.exports=y},72873:(p,y,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),v=t(26541),a=t(54380),r=t(17717),s=t(87841),e=function(n,h){h===void 0&&(h=new s);var i=v(n),o=r(n);return h.x=i,h.y=o,h.width=a(n)-i,h.height=l(n)-o,h};p.exports=e},35893:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x-t.width*t.originX+t.width*.5};p.exports=y},7702:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.y-t.height*t.originY+t.height*.5};p.exports=y},26541:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x-t.width*t.originX};p.exports=y},87431:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.width*t.originX};p.exports=y},46928:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.height*t.originY};p.exports=y},54380:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x+t.width-t.width*t.originX};p.exports=y},17717:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.y-t.height*t.originY};p.exports=y},86327:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t.y=l-t.height+t.height*t.originY,t};p.exports=y},88417:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){var v=t.width*t.originX;return t.x=l+v-t.width*.5,t};p.exports=y},20786:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){var v=t.height*t.originY;return t.y=l+v-t.height*.5,t};p.exports=y},385:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t.x=l+t.width*t.originX,t};p.exports=y},40136:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t.x=l-t.width+t.width*t.originX,t};p.exports=y},66737:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t.y=l+t.height*t.originY,t};p.exports=y},58724:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setCrisp:function(t){var l=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return l.forEach(function(v){t.style["image-rendering"]=v}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};p.exports=y},27919:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8054),v=t(68703),a=[],r=!1,s=function(){var e=function(m,x,g,T,S){x===void 0&&(x=1),g===void 0&&(g=1),T===void 0&&(T=l.CANVAS),S===void 0&&(S=!1);var E,P=i(T);return P===null?(P={parent:m,canvas:document.createElement("canvas"),type:T},T===l.CANVAS&&a.push(P),E=P.canvas):(P.parent=m,E=P.canvas),S&&(P.parent=E),E.width=x,E.height=g,r&&T===l.CANVAS&&v.disable(E.getContext("2d",{willReadFrequently:!1})),E},n=function(m,x,g){return e(m,x,g,l.CANVAS)},h=function(m,x,g){return e(m,x,g,l.WEBGL)},i=function(m){if(m===void 0&&(m=l.CANVAS),m===l.WEBGL)return null;for(var x=0;x<a.length;x++){var g=a[x];if(!g.parent&&g.type===m)return g}return null},o=function(m){var x=m instanceof HTMLCanvasElement;a.forEach(function(g){(x&&g.canvas===m||!x&&g.parent===m)&&(g.parent=null,g.canvas.width=1,g.canvas.height=1)})},f=function(){var m=0;return a.forEach(function(x){x.parent&&m++}),m},u=function(){return a.length-f()},d=function(){r=!0},c=function(){r=!1};return{create2D:n,create:e,createWebGL:h,disableSmoothing:d,enableSmoothing:c,first:i,free:u,pool:a,remove:o,total:f}};p.exports=s()},68703:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y="",t=function(){var l=function(s){for(var e=["i","webkitI","msI","mozI","oI"],n=0;n<e.length;n++){var h=e[n]+"mageSmoothingEnabled";if(h in s)return h}return null},v=function(s){return y===""&&(y=l(s)),y&&(s[y]=!0),s},a=function(s){return y===""&&(y=l(s)),y&&(s[y]=!1),s},r=function(s){return y!==null?s[y]:null};return{disable:a,enable:v,getPrefix:l,isEnabled:r}};p.exports=t()},65208:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return l===void 0&&(l="none"),t.style.msTouchAction=l,t.style["ms-touch-action"]=l,t.style["touch-action"]=l,t};p.exports=y},91610:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){l===void 0&&(l="none");var v=["-webkit-","-khtml-","-moz-","-ms-",""];return v.forEach(function(a){t.style[a+"user-select"]=l}),t.style["-webkit-touch-callout"]=l,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};p.exports=y},26253:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(37589),a=t(1e3),r=t(7537),s=t(87837),e=new l({initialize:function(h,i,o,f){h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=0),f===void 0&&(f=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(h,i,o,f)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(n,h,i,o,f){return o===void 0&&(o=255),f===void 0&&(f=!0),this._locked=!0,this.red=n,this.green=h,this.blue=i,this.alpha=o,this._locked=!1,this.update(f)},setGLTo:function(n,h,i,o){return o===void 0&&(o=1),this._locked=!0,this.redGL=n,this.greenGL=h,this.blueGL=i,this.alphaGL=o,this._locked=!1,this.update(!0)},setFromRGB:function(n){return this._locked=!0,this.red=n.r,this.green=n.g,this.blue=n.b,n.hasOwnProperty("a")&&(this.alpha=n.a),this._locked=!1,this.update(!0)},setFromHSV:function(n,h,i){return r(n,h,i,this)},update:function(n){if(n===void 0&&(n=!1),this._locked)return this;var h=this.r,i=this.g,o=this.b,f=this.a;return this._color=v(h,i,o),this._color32=a(h,i,o,f),this._rgba="rgba("+h+","+i+","+o+","+f/255+")",n&&s(h,i,o,this),this},updateHSV:function(){var n=this.r,h=this.g,i=this.b;return s(n,h,i,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(n){return this.setTo(n,n,n)},random:function(n,h){n===void 0&&(n=0),h===void 0&&(h=255);var i=Math.floor(n+Math.random()*(h-n)),o=Math.floor(n+Math.random()*(h-n)),f=Math.floor(n+Math.random()*(h-n));return this.setTo(i,o,f)},randomGray:function(n,h){n===void 0&&(n=0),h===void 0&&(h=255);var i=Math.floor(n+Math.random()*(h-n));return this.setTo(i,i,i)},saturate:function(n){return this.s+=n/100,this},desaturate:function(n){return this.s-=n/100,this},lighten:function(n){return this.v+=n/100,this},darken:function(n){return this.v-=n/100,this},brighten:function(n){var h=this.r,i=this.g,o=this.b;return h=Math.max(0,Math.min(255,h-Math.round(255*-(n/100)))),i=Math.max(0,Math.min(255,i-Math.round(255*-(n/100)))),o=Math.max(0,Math.min(255,o-Math.round(255*-(n/100)))),this.setTo(h,i,o)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(n){this.gl[0]=Math.min(Math.abs(n),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(n){this.gl[1]=Math.min(Math.abs(n),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(n){this.gl[2]=Math.min(Math.abs(n),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(n){this.gl[3]=Math.min(Math.abs(n),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(n){n=Math.floor(Math.abs(n)),this.r=Math.min(n,255),this.gl[0]=n/255,this.update(!0)}},green:{get:function(){return this.g},set:function(n){n=Math.floor(Math.abs(n)),this.g=Math.min(n,255),this.gl[1]=n/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(n){n=Math.floor(Math.abs(n)),this.b=Math.min(n,255),this.gl[2]=n/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(n){n=Math.floor(Math.abs(n)),this.a=Math.min(n,255),this.gl[3]=n/255,this.update()}},h:{get:function(){return this._h},set:function(n){this._h=n,r(n,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(n){this._s=n,r(this._h,n,this._v,this)}},v:{get:function(){return this._v},set:function(n){this._v=n,r(this._h,this._s,n,this)}}});p.exports=e},92728:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37589),v=function(a){a===void 0&&(a=1024);var r=[],s=255,e,n=255,h=0,i=0;for(e=0;e<=s;e++)r.push({r:n,g:e,b:i,color:l(n,e,i)});for(h=255,e=s;e>=0;e--)r.push({r:e,g:h,b:i,color:l(e,h,i)});for(n=0,e=0;e<=s;e++,h--)r.push({r:n,g:h,b:e,color:l(n,h,e)});for(h=0,i=255,e=0;e<=s;e++,i--,n++)r.push({r:n,g:h,b:i,color:l(n,h,i)});if(a===1024)return r;var o=[],f=0,u=1024/a;for(e=0;e<a;e++)o.push(r[Math.floor(f)]),f+=u;return o};p.exports=v},91588:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var l={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(l.a=t>>>24),l};p.exports=y},62957:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var l=t.toString(16);return l.length===1?"0"+l:l};p.exports=y},37589:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return t<<16|l<<8|v};p.exports=y},1e3:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){return a<<24|t<<16|l<<8|v};p.exports=y},62183:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40987),v=t(89528),a=function(r,s,e){var n=e,h=e,i=e;if(s!==0){var o=e<.5?e*(1+s):e+s-e*s,f=2*e-o;n=v(f,o,r+1/3),h=v(f,o,r),i=v(f,o,r-1/3)}var u=new l;return u.setGLTo(n,h,i,1)};p.exports=a},27939:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7537),v=function(a,r){a===void 0&&(a=1),r===void 0&&(r=1);for(var s=[],e=0;e<=359;e++)s.push(l(e/359,a,r));return s};p.exports=v},7537:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37589);function v(r,s,e,n){var h=(r+s*6)%6,i=Math.min(h,4-h,1);return Math.round(255*(n-n*e*Math.max(0,i)))}var a=function(r,s,e,n){s===void 0&&(s=1),e===void 0&&(e=1);var h=v(5,r,s,e),i=v(3,r,s,e),o=v(1,r,s,e);return n?n.setTo?n.setTo(h,i,o,n.alpha,!0):(n.r=h,n.g=i,n.b=o,n.color=l(h,i,o),n):{r:h,g:i,b:o,color:l(h,i,o)}};p.exports=a},70238:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40987),v=function(a){var r=new l;a=a.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(i,o,f,u){return o+o+f+f+u+u});var s=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(s){var e=parseInt(s[1],16),n=parseInt(s[2],16),h=parseInt(s[3],16);r.setTo(e,n,h)}return r};p.exports=v},89528:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return v<0&&(v+=1),v>1&&(v-=1),v<.16666666666666666?t+(l-t)*6*v:v<.5?l:v<.6666666666666666?t+(l-t)*(.6666666666666666-v)*6:t};p.exports=y},30100:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40987),v=t(90664),a=function(r){var s=v(r);return new l(s.r,s.g,s.b,s.a)};p.exports=a},90664:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};p.exports=y},13699:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28915),v=function(s,e,n,h,i,o,f,u){f===void 0&&(f=100),u===void 0&&(u=0);var d=u/f;return{r:l(s,h,d),g:l(e,i,d),b:l(n,o,d)}},a=function(s,e,n,h){return n===void 0&&(n=100),h===void 0&&(h=0),v(s.r,s.g,s.b,e.r,e.g,e.b,n,h)},r=function(s,e,n,h,i,o){return i===void 0&&(i=100),o===void 0&&(o=0),v(s.r,s.g,s.b,e,n,h,i,o)};p.exports={RGBWithRGB:v,ColorWithRGB:r,ColorWithColor:a}},68957:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40987),v=function(a){return new l(a.r,a.g,a.b,a.a)};p.exports=v},87388:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40987),v=function(a){var r=new l,s=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(a.toLowerCase());if(s){var e=parseInt(s[1],10),n=parseInt(s[2],10),h=parseInt(s[3],10),i=s[4]!==void 0?parseFloat(s[4]):1;r.setTo(e,n,h,i*255)}return r};p.exports=v},87837:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){a===void 0&&(a={h:0,s:0,v:0}),t/=255,l/=255,v/=255;var r=Math.min(t,l,v),s=Math.max(t,l,v),e=s-r,n=0,h=s===0?0:e/s,i=s;return s!==r&&(s===t?n=(l-v)/e+(l<v?6:0):s===l?n=(v-t)/e+2:s===v&&(n=(t-l)/e+4),n/=6),a.hasOwnProperty("_h")?(a._h=n,a._s=h,a._v=i):(a.h=n,a.s=h,a.v=i),a};p.exports=y},75723:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62957),v=function(a,r,s,e,n){return e===void 0&&(e=255),n===void 0&&(n="#"),n==="#"?"#"+((1<<24)+(a<<16)+(r<<8)+s).toString(16).slice(1,7):"0x"+l(e)+l(a)+l(r)+l(s)};p.exports=v},85386:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30976),v=t(40987),a=function(r,s){return r===void 0&&(r=0),s===void 0&&(s=255),new v(l(r,s),l(r,s),l(r,s))};p.exports=a},80333:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70238),v=t(30100),a=t(68957),r=t(87388),s=function(e){var n=typeof e;switch(n){case"string":return e.substr(0,3).toLowerCase()==="rgb"?r(e):l(e);case"number":return v(e);case"object":return a(e)}};p.exports=s},3956:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40987);l.ColorSpectrum=t(92728),l.ColorToRGBA=t(91588),l.ComponentToHex=t(62957),l.GetColor=t(37589),l.GetColor32=t(1e3),l.HexStringToColor=t(70238),l.HSLToColor=t(62183),l.HSVColorWheel=t(27939),l.HSVToRGB=t(7537),l.HueToComponent=t(89528),l.IntegerToColor=t(30100),l.IntegerToRGB=t(90664),l.Interpolate=t(13699),l.ObjectToColor=t(68957),l.RandomRGB=t(85386),l.RGBStringToColor=t(87388),l.RGBToHSV=t(87837),l.RGBToString=t(75723),l.ValueToColor=t(80333),p.exports=l},27460:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(39429),a=new l({initialize:function(s,e,n,h,i,o){e||(e=s.sys.make.image({x:n,y:h,key:i,frame:o,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(r){this.bitmapMask=r},preRenderWebGL:function(r,s,e){r.pipelines.BITMAPMASK_PIPELINE.beginMask(this,s,e)},postRenderWebGL:function(r,s,e){r.pipelines.BITMAPMASK_PIPELINE.endMask(this,s,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});v.register("bitmapMask",function(r,s,e,n,h){return new a(this.scene,r,s,e,n,h)}),p.exports=a},80661:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,s){this.geometryMask=s,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(a){return this.geometryMask=a,this},setInvertAlpha:function(a){return a===void 0&&(a=!0),this.invertAlpha=a,this},preRenderWebGL:function(a,r,s){var e=a.gl;a.flush(),a.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),a.maskCount=0),a.currentCameraMask.mask!==this&&(a.currentMask.mask=this),a.maskStack.push({mask:this,camera:s}),this.applyStencil(a,s,!0),a.maskCount++},applyStencil:function(a,r,s){var e=a.gl,n=this.geometryMask,h=a.maskCount,i=255;e.colorMask(!1,!1,!1,!1),s?(e.stencilFunc(e.EQUAL,h,i),e.stencilOp(e.KEEP,e.KEEP,e.INCR),h++):(e.stencilFunc(e.EQUAL,h+1,i),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=h,n.renderWebGL(a,n,r),a.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,h,i):e.stencilFunc(e.EQUAL,h,i)},postRenderWebGL:function(a){var r=a.gl;a.maskStack.pop(),a.maskCount--,a.flush();var s=a.currentMask;if(a.maskStack.length===0)s.mask=null,r.disable(r.STENCIL_TEST);else{var e=a.maskStack[a.maskStack.length-1];e.mask.applyStencil(a,e.camera,!1),a.currentCameraMask.mask!==e.mask?(s.mask=e.mask,s.camera=e.camera):s.mask=null}},preRenderCanvas:function(a,r,s){var e=this.geometryMask;a.currentContext.save(),e.renderCanvas(a,e,s,null,null,!0),a.currentContext.clip()},postRenderCanvas:function(a){a.currentContext.restore()},destroy:function(){this.geometryMask=null}});p.exports=v},69781:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,s,e,n){(!s||s==="")&&(s=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),n===void 0&&(n=null),this.key=r,this.fragmentSrc=s,this.vertexSrc=e,this.uniforms=n}});p.exports=v},40366:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){var v;if(l)typeof l=="string"?v=document.getElementById(l):typeof l=="object"&&l.nodeType===1&&(v=l);else if(t.parentElement||l===null)return t;return v||(v=document.body),v.appendChild(t),t};p.exports=y},83719:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40366),v=function(a){var r=a.config;if(!(!r.parent||!r.domCreateContainer)){var s=document.createElement("div");s.style.cssText=["display: block;","width: "+a.scale.width+"px;","height: "+a.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+r.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),a.domContainer=s,l(s,r.parent)}};p.exports=v},57264:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25892),v=function(a){if(document.readyState==="complete"||document.readyState==="interactive"){a();return}var r=function(){document.removeEventListener("deviceready",r,!0),document.removeEventListener("DOMContentLoaded",r,!0),window.removeEventListener("load",r,!0),a()};document.body?l.cordova?document.addEventListener("deviceready",r,!1):(document.addEventListener("DOMContentLoaded",r,!0),window.addEventListener("load",r,!0)):window.setTimeout(r,20)};p.exports=v},57811:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){if(!t)return window.innerHeight;var l=Math.abs(window.orientation),v={w:0,h:0},a=document.createElement("div");return a.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(a),v.w=l===90?a.offsetHeight:window.innerWidth,v.h=l===90?window.innerWidth:a.offsetHeight,document.documentElement.removeChild(a),a=null,Math.abs(window.orientation)!==90?v.h:v.w};p.exports=y},45818:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13560),v=function(a,r){var s=window.screen,e=s?s.orientation||s.mozOrientation||s.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?l.ORIENTATION.PORTRAIT:l.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return l.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return l.ORIENTATION.LANDSCAPE}else return r>a?l.ORIENTATION.PORTRAIT:l.ORIENTATION.LANDSCAPE};p.exports=v},74403:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var l;return t!==""&&(typeof t=="string"?l=document.getElementById(t):t&&t.nodeType===1&&(l=t)),l||(l=document.body),l};p.exports=y},56836:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var l="";try{if(window.DOMParser){var v=new DOMParser;l=v.parseFromString(t,"text/xml")}else l=new ActiveXObject("Microsoft.XMLDOM"),l.loadXML(t)}catch{l=null}return!l||!l.documentElement||l.getElementsByTagName("parsererror").length?null:l};p.exports=y},35846:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){t.parentNode&&t.parentNode.removeChild(t)};p.exports=y},43092:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(29747),a=new l({initialize:function(){this.isRunning=!1,this.callback=v,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var s=this;this.step=function e(n){s.callback(n),s.isRunning&&(s.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){s.isRunning&&(s.timeOutID=window.setTimeout(e,s.delay)),s.callback(window.performance.now())}},start:function(r,s,e){this.isRunning||(this.callback=r,this.isSetTimeOut=s,this.delay=e,this.isRunning=!0,this.timeOutID=s?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=v}});p.exports=a},84902:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};p.exports=l},47565:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(50792),a=t(37277),r=new l({Extends:v,initialize:function(){v.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});a.register("EventEmitter",r,"events"),p.exports=r},93055:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EventEmitter:t(47565)}},20122:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,n){n===void 0&&(n=1),v.call(this,a.BARREL,e),this.amount=n}});p.exports=r},32251:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,n,h,i,o,f,u){h===void 0&&(h=1),i===void 0&&(i=1),o===void 0&&(o=1),f===void 0&&(f=1),u===void 0&&(u=4),v.call(this,a.BLOOM,e),this.steps=u,this.offsetX=h,this.offsetY=i,this.blurStrength=o,this.strength=f,this.glcolor=[1,1,1],n!=null&&(this.color=n)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});p.exports=r},9047:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,n,h,i,o,f,u){n===void 0&&(n=0),h===void 0&&(h=2),i===void 0&&(i=2),o===void 0&&(o=1),u===void 0&&(u=4),v.call(this,a.BLUR,e),this.quality=n,this.x=h,this.y=i,this.steps=u,this.strength=o,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});p.exports=r},27885:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,n,h,i,o,f,u,d){n===void 0&&(n=.5),h===void 0&&(h=1),i===void 0&&(i=.2),o===void 0&&(o=!1),f===void 0&&(f=1),u===void 0&&(u=1),d===void 0&&(d=1),v.call(this,a.BOKEH,e),this.radius=n,this.amount=h,this.contrast=i,this.isTiltShift=o,this.strength=d,this.blurX=f,this.blurY=u}});p.exports=r},12578:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,n,h,i,o,f){n===void 0&&(n=8),o===void 0&&(o=1),f===void 0&&(f=.005),v.call(this,a.CIRCLE,e),this.scale=o,this.feather=f,this.thickness=n,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],h!=null&&(this.color=h),i!=null&&(this.backgroundColor=i)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}},backgroundColor:{get:function(){var s=this.glcolor2;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor2;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(s){this.glcolor2[3]=s}}});p.exports=r},15802:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(89422),a=t(14811),r=new l({Extends:v,initialize:function(e){v.call(this),this.type=a.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});p.exports=r},72898:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,s){this.type=r,this.gameObject=s,this.active=!0},setActive:function(a){return this.active=a,this},destroy:function(){this.gameObject=null,this.active=!1}});p.exports=v},44553:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,n,h,i){n===void 0&&(n="__WHITE"),h===void 0&&(h=.005),i===void 0&&(i=.005),v.call(this,a.DISPLACEMENT,e),this.x=h,this.y=i,this.glTexture,this.setTexture(n)},setTexture:function(s){var e=this.gameObject.scene.sys.textures.getFrame(s);return e&&(this.glTexture=e.glTexture),this}});p.exports=r},68531:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,n,h,i,o){h===void 0&&(h=4),i===void 0&&(i=0),o===void 0&&(o=!1),v.call(this,a.GLOW,e),this.outerStrength=h,this.innerStrength=i,this.knockout=o,this.glcolor=[1,1,1,1],n!==void 0&&(this.color=n)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});p.exports=r},37102:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,n,h,i,o,f,u,d,c){i===void 0&&(i=.2),o===void 0&&(o=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=1),c===void 0&&(c=0),v.call(this,a.GRADIENT,e),this.alpha=i,this.size=c,this.fromX=o,this.fromY=f,this.toX=u,this.toY=d,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],n!=null&&(this.color1=n),h!=null&&(this.color2=h)},color1:{get:function(){var s=this.glcolor1;return(s[0]<<16)+(s[1]<<8)+(s[2]|0)},set:function(s){var e=this.glcolor1;e[0]=s>>16&255,e[1]=s>>8&255,e[2]=s&255}},color2:{get:function(){var s=this.glcolor2;return(s[0]<<16)+(s[1]<<8)+(s[2]|0)},set:function(s){var e=this.glcolor2;e[0]=s>>16&255,e[1]=s>>8&255,e[2]=s&255}}});p.exports=r},86886:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,n){n===void 0&&(n=1),v.call(this,a.PIXELATE,e),this.amount=n}});p.exports=r},92322:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,n,h,i,o,f,u,d){n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=.1),o===void 0&&(o=1),u===void 0&&(u=6),d===void 0&&(d=1),v.call(this,a.SHADOW,e),this.x=n,this.y=h,this.decay=i,this.power=o,this.glcolor=[0,0,0,1],this.samples=u,this.intensity=d,f!==void 0&&(this.color=f)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});p.exports=r},39563:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,n,h,i,o){n===void 0&&(n=.5),h===void 0&&(h=.5),i===void 0&&(i=3),o===void 0&&(o=!1),v.call(this,a.SHINE,e),this.speed=n,this.lineWidth=h,this.gradient=i,this.reveal=o}});p.exports=r},56448:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,n,h,i,o){n===void 0&&(n=.5),h===void 0&&(h=.5),i===void 0&&(i=.5),o===void 0&&(o=.5),v.call(this,a.VIGNETTE,e),this.x=n,this.y=h,this.radius=i,this.strength=o}});p.exports=r},38433:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,n,h,i,o){n===void 0&&(n=.1),h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=!1),v.call(this,a.WIPE,e),this.progress=0,this.wipeWidth=n,this.direction=h,this.axis=i,this.reveal=o}});p.exports=r},14811:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};p.exports=y},66064:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79291),v=t(14811),a={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};a=l(!1,a,v),p.exports=a},25305:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),v=t(23568),a=function(r,s,e){s.x=v(e,"x",0),s.y=v(e,"y",0),s.depth=v(e,"depth",0),s.flipX=v(e,"flipX",!1),s.flipY=v(e,"flipY",!1);var n=v(e,"scale",null);typeof n=="number"?s.setScale(n):n!==null&&(s.scaleX=v(n,"x",1),s.scaleY=v(n,"y",1));var h=v(e,"scrollFactor",null);typeof h=="number"?s.setScrollFactor(h):h!==null&&(s.scrollFactorX=v(h,"x",1),s.scrollFactorY=v(h,"y",1)),s.rotation=v(e,"rotation",0);var i=v(e,"angle",null);i!==null&&(s.angle=i),s.alpha=v(e,"alpha",1);var o=v(e,"origin",null);if(typeof o=="number")s.setOrigin(o);else if(o!==null){var f=v(o,"x",.5),u=v(o,"y",.5);s.setOrigin(f,u)}s.blendMode=v(e,"blendMode",l.NORMAL),s.visible=v(e,"visible",!0);var d=v(e,"add",!0);return d&&r.sys.displayList.add(s),s.preUpdate&&r.sys.updateList.add(s),s};p.exports=a},13059:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23568),v=function(a,r){var s=l(r,"anims",null);if(s===null)return a;if(typeof s=="string")a.anims.play(s);else if(typeof s=="object"){var e=a.anims,n=l(s,"key",void 0);if(n){var h=l(s,"startFrame",void 0),i=l(s,"delay",0),o=l(s,"repeat",0),f=l(s,"repeatDelay",0),u=l(s,"yoyo",!1),d=l(s,"play",!1),c=l(s,"delayedPlay",0),m={key:n,delay:i,repeat:o,repeatDelay:f,yoyo:u,startFrame:h};d?e.play(m):c>0?e.playAfterDelay(m,c):e.load(m)}}return a};p.exports=v},8050:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(73162),a=t(37277),r=t(51708),s=t(44594),e=t(19186),n=new l({Extends:v,initialize:function(i){v.call(this,i),this.sortChildrenFlag=!1,this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.events.once(s.DESTROY,this.destroy,this)},addChildCallback:function(h){h.displayList&&h.displayList!==this&&h.removeFromDisplayList(),h.parentContainer&&h.parentContainer.remove(h),h.displayList||(this.queueDepthSort(),h.displayList=this,h.emit(r.ADDED_TO_SCENE,h,this.scene),this.events.emit(s.ADDED_TO_SCENE,h,this.scene))},removeChildCallback:function(h){this.queueDepthSort(),h.displayList=null,h.emit(r.REMOVED_FROM_SCENE,h,this.scene),this.events.emit(s.REMOVED_FROM_SCENE,h,this.scene)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(h,i){return h._depth-i._depth},getChildren:function(){return this.list},shutdown:function(){for(var h=this.list;h.length;)h[0].destroy(!0);this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});a.register("DisplayList",n,"displayList"),p.exports=n},95643:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(53774),a=t(45893),r=t(50792),s=t(51708),e=t(44594),n=new l({Extends:r,initialize:function(i,o){r.call(this),this.scene=i,this.displayList=null,this.type=o,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this),i.sys.queueDepthSort()},setActive:function(h){return this.active=h,this},setName:function(h){return this.name=h,this},setState:function(h){return this.state=h,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(h,i){return this.data||(this.data=new a(this)),this.data.set(h,i),this},incData:function(h,i){return this.data||(this.data=new a(this)),this.data.inc(h,i),this},toggleData:function(h){return this.data||(this.data=new a(this)),this.data.toggle(h),this},getData:function(h){return this.data||(this.data=new a(this)),this.data.get(h)},setInteractive:function(h,i,o){return this.scene.sys.input.enable(this,h,i,o),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return v(this)},willRender:function(h){var i=this.displayList&&this.displayList.active?this.displayList.willRender(h):!0;return!(!i||n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&h.id)},getIndexList:function(){for(var h=this,i=this.parentContainer,o=[];i&&(o.unshift(i.getIndex(h)),h=i,i.parentContainer);)i=i.parentContainer;return this.displayList?o.unshift(this.displayList.getIndex(h)):o.unshift(this.scene.sys.displayList.getIndex(h)),o},addToDisplayList:function(h){return h===void 0&&(h=this.scene.sys.displayList),this.displayList&&this.displayList!==h&&this.removeFromDisplayList(),h.exists(this)||(this.displayList=h,h.add(this,!0),h.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),h.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var h=this.displayList||this.scene.sys.displayList;return h&&h.exists(this)&&(h.remove(this,!0),h.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),h.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(h){!this.scene||this.ignoreDestroy||(h===void 0&&(h=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(s.DESTROY,this,h),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});n.RENDER_MASK=15,p.exports=n},44603:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(37277),a=t(44594),r=new l({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(s,e){r.prototype.hasOwnProperty(s)||(r.prototype[s]=e)},r.remove=function(s){r.prototype.hasOwnProperty(s)&&delete r.prototype[s]},v.register("GameObjectCreator",r,"make"),p.exports=r},39429:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(37277),a=t(44594),r=new l({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},existing:function(s){return(s.renderCanvas||s.renderWebGL)&&this.displayList.add(s),s.preUpdate&&this.updateList.add(s),s},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(s,e){r.prototype.hasOwnProperty(s)||(r.prototype[s]=e)},r.remove=function(s){r.prototype.hasOwnProperty(s)&&delete r.prototype[s]},v.register("GameObjectFactory",r,"add"),p.exports=r},91296:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61340),v=new l,a=new l,r=new l,s={camera:v,sprite:a,calc:r},e=function(n,h,i){var o=v,f=a,u=r;return f.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),o.copyFrom(h.matrix),i?(o.multiplyWithOffset(i,-h.scrollX*n.scrollFactorX,-h.scrollY*n.scrollFactorY),f.e=n.x,f.f=n.y):(f.e-=h.scrollX*n.scrollFactorX,f.f-=h.scrollY*n.scrollFactorY),o.multiply(f,u),s};p.exports=e},45027:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(25774),a=t(37277),r=t(44594),s=new l({Extends:v,initialize:function(n){v.call(this),this.checkQueue=!0,this.scene=n,this.systems=n.sys,n.sys.events.once(r.BOOT,this.boot,this),n.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(r.PRE_UPDATE,this.update,this),e.on(r.UPDATE,this.sceneUpdate,this),e.once(r.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,n){for(var h=this._active,i=h.length,o=0;o<i;o++){var f=h[o];f.active&&f.preUpdate.call(f,e,n)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var n=this.systems.events;n.off(r.PRE_UPDATE,this.update,this),n.off(r.UPDATE,this.sceneUpdate,this),n.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("UpdateList",s,"updateList"),p.exports=s},3217:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a,r,s,e,n,h,i,o,f,u,d,c){var m=v.x-l.displayOriginX+r,x=v.y-l.displayOriginY+s,g=m+v.w,T=x+v.h,S=e.getXRound(m,x,n),E=e.getYRound(m,x,n),P=e.getXRound(m,T,n),F=e.getYRound(m,T,n),R=e.getXRound(g,T,n),M=e.getYRound(g,T,n),O=e.getXRound(g,x,n),I=e.getYRound(g,x,n);t.batchQuad(l,S,E,P,F,R,M,O,I,a.u0,a.v0,a.u1,a.v1,h,i,o,f,u,d,c)};p.exports=y},53048:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){if(v===void 0&&(v=!1),a===void 0)return a={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},a;var r=t.text,s=r.length,e=t.maxWidth,n=t.wordWrapCharCode,h=Number.MAX_VALUE,i=Number.MAX_VALUE,o=0,f=0,u=t.fontData.chars,d=t.fontData.lineHeight,c=t.letterSpacing,m=t.lineSpacing,x=0,g=0,T=0,S=null,E=t._align,P=0,F=0,R=t.fontSize/t.fontData.size,M=R*t.scaleX,O=R*t.scaleY,I=null,V=0,X=[],z=Number.MAX_VALUE,Z=0,N=0,Y=0,L,b=[],U=[],W=null;if(e>0){for(L=0;L<s;L++){if(T=r.charCodeAt(L),T===10){W!==null&&(b.push({word:W.word,i:W.i,x:W.x*M,y:W.y*O,w:W.w*M,h:W.h*O,cr:!0}),W=null),x=0,g+=d+m,I=null;continue}if(S=u[T],!!S){if(I!==null)var j=S.kerning[V];T===n?W!==null&&(b.push({word:W.word,i:W.i,x:W.x*M,y:W.y*O,w:W.w*M,h:W.h*O,cr:!1}),W=null):(W===null&&(W={word:"",i:L,x,y:g,w:0,h:d,cr:!1}),W.word=W.word.concat(r[L]),W.w+=S.xOffset+S.xAdvance+(j!==void 0?j:0)),x+=S.xAdvance+c,I=S,V=T}}W!==null&&b.push({word:W.word,i:W.i,x:W.x*M,y:W.y*O,w:W.w*M,h:W.h*O,cr:!1}),x=0,g=0,I=null,V=0;var Q,_=0,et=[];for(L=0;L<b.length;L++){var st=b[L],ct=st.x,gt=st.x+st.w;if(Q){var Et=ct-(Q.x+Q.w);_=ct-(Et+Q.w),Q=null}var xt=ct-_,Mt=gt-_;xt>e||Mt>e?(et.push(st.i-1),st.cr?(et.push(st.i+st.word.length),_=0,Q=null):Q=st):st.cr&&(et.push(st.i+st.word.length),_=0,Q=null)}var Vt=function(ce,Le,Se){return ce.substr(0,Le)+Se+ce.substr(Le+1)};for(L=et.length-1;L>=0;L--)r=Vt(r,et[L],`
`);a.wrappedText=r,s=r.length,b=[],W=null}var Wt=0;for(L=0;L<s;L++){if(T=r.charCodeAt(L),T===10){W!==null&&(b.push({word:W.word,i:W.i,x:W.x*M,y:W.y*O,w:W.w*M,h:W.h*O}),W=null),x=0,g+=d+m,I=null,X[N]=Y,Y>Z&&(Z=Y),Y<z&&(z=Y),N++,Y=0;continue}if(S=u[T],!!S){if(P=x,F=g,I!==null){var Nt=S.kerning[V];P+=Nt!==void 0?Nt:0}h>P&&(h=P),i>F&&(i=F);var Pt=P+S.xAdvance,bt=F+d;o<Pt&&(o=Pt),f<bt&&(f=bt);var Gt=S.xOffset+S.xAdvance+(Nt!==void 0?Nt:0);T===n?W!==null&&(b.push({word:W.word,i:W.i,x:W.x*M,y:W.y*O,w:W.w*M,h:W.h*O}),W=null):(W===null&&(W={word:"",i:Wt,x,y:g,w:0,h:d}),W.word=W.word.concat(r[L]),W.w+=Gt),U.push({i:Wt,idx:L,char:r[L],code:T,x:(S.xOffset+P)*R,y:(S.yOffset+g)*R,w:S.width*R,h:S.height*R,t:g*R,r:Pt*R,b:d*R,line:N,glyph:S}),x+=S.xAdvance+c+(Nt!==void 0?Nt:0),I=S,V=T,Y=Pt*R,Wt++}}if(W!==null&&b.push({word:W.word,i:W.i,x:W.x*M,y:W.y*O,w:W.w*M,h:W.h*O}),X[N]=Y,Y>Z&&(Z=Y),Y<z&&(z=Y),E>0)for(var Zt=0;Zt<U.length;Zt++){var $t=U[Zt];if(E===1){var le=(Z-X[$t.line])/2;$t.x+=le,$t.r+=le}else if(E===2){var ve=Z-X[$t.line];$t.x+=ve,$t.r+=ve}}var ie=a.local,qt=a.global,de=a.lines;return ie.x=h*R,ie.y=i*R,ie.width=o*R,ie.height=f*R,qt.x=t.x-t._displayOriginX+h*M,qt.y=t.y-t._displayOriginY+i*O,qt.width=o*M,qt.height=f*O,de.shortest=z,de.longest=Z,de.lengths=X,l&&(ie.x=Math.ceil(ie.x),ie.y=Math.ceil(ie.y),ie.width=Math.ceil(ie.width),ie.height=Math.ceil(ie.height),qt.x=Math.ceil(qt.x),qt.y=Math.ceil(qt.y),qt.width=Math.ceil(qt.width),qt.height=Math.ceil(qt.height),de.shortest=Math.ceil(z),de.longest=Math.ceil(Z)),v&&(t._displayOriginX=t.originX*ie.width,t._displayOriginY=t.originY*ie.height,qt.x=t.x-t._displayOriginX*t.scaleX,qt.y=t.y-t._displayOriginY*t.scaleY,l&&(qt.x=Math.ceil(qt.x),qt.y=Math.ceil(qt.y))),a.words=b,a.characters=U,a.lines.height=d,a.scale=R,a.scaleX=t.scaleX,a.scaleY=t.scaleY,a};p.exports=y},61327:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(21859),v=function(a,r,s,e,n,h,i){var o=a.sys.textures.get(s),f=o.get(e),u=a.sys.cache.xml.get(n);if(f&&u){var d=l(u,f,h,i,o);return a.sys.cache.bitmapFont.add(r,{data:d,texture:s,frame:e,fromAtlas:!0}),!0}else return!1};p.exports=v},6925:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35154),v=function(a,r){var s=r.width,e=r.height,n=Math.floor(s/2),h=Math.floor(e/2),i=l(r,"chars","");if(i!==""){var o=l(r,"image",""),f=a.sys.textures.getFrame(o),u=f.cutX,d=f.cutY,c=f.source.width,m=f.source.height,x=l(r,"offset.x",0),g=l(r,"offset.y",0),T=l(r,"spacing.x",0),S=l(r,"spacing.y",0),E=l(r,"lineSpacing",0),P=l(r,"charsPerRow",null);P===null&&(P=c/s,P>i.length&&(P=i.length));for(var F=x,R=g,M={retroFont:!0,font:o,size:s,lineHeight:e+E,chars:{}},O=0,I=0;I<i.length;I++){var V=i.charCodeAt(I),X=(u+F)/c,z=(d+R)/m,Z=(u+F+s)/c,N=(d+R+e)/m;M.chars[V]={x:F,y:R,width:s,height:e,centerX:n,centerY:h,xOffset:0,yOffset:0,xAdvance:s,data:{},kerning:{},u0:X,v0:z,u1:Z,v1:N},O++,O===P?(O=0,F=x,R+=e+S):F+=s+T}var Y={data:M,frame:null,texture:o};return Y}};p.exports=v},21859:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(l,v){return parseInt(l.getAttribute(v),10)}var t=function(l,v,a,r,s){a===void 0&&(a=0),r===void 0&&(r=0);var e=v.cutX,n=v.cutY,h=v.source.width,i=v.source.height,o=v.sourceIndex,f={},u=l.getElementsByTagName("info")[0],d=l.getElementsByTagName("common")[0];f.font=u.getAttribute("face"),f.size=y(u,"size"),f.lineHeight=y(d,"lineHeight")+r,f.chars={};var c=l.getElementsByTagName("char"),m=v!==void 0&&v.trimmed;if(m)var x=v.height,g=v.width;for(var T=0;T<c.length;T++){var S=c[T],E=y(S,"id"),P=String.fromCharCode(E),F=y(S,"x"),R=y(S,"y"),M=y(S,"width"),O=y(S,"height");m&&(F<g&&(g=F),R<x&&(x=R)),m&&x!==0&&g!==0&&(F-=v.x,R-=v.y);var I=(e+F)/h,V=(n+R)/i,X=(e+F+M)/h,z=(n+R+O)/i;if(f.chars[E]={x:F,y:R,width:M,height:O,centerX:Math.floor(M/2),centerY:Math.floor(O/2),xOffset:y(S,"xoffset"),yOffset:y(S,"yoffset"),xAdvance:y(S,"xadvance")+a,data:{},kerning:{},u0:I,v0:V,u1:X,v1:z},s&&M!==0&&O!==0){var Z=s.add(P,o,F,R,M,O);Z&&Z.setUVs(M,O,I,V,X,z)}}var N=l.getElementsByTagName("kerning");for(T=0;T<N.length;T++){var Y=N[T],L=y(Y,"first"),b=y(Y,"second"),U=y(Y,"amount");f.chars[b].kerning[L]=U}return f};p.exports=t},196:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87662),v=t(79291),a={Parse:t(6925)};a=v(!1,a,l),p.exports=a},87662:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};p.exports=y},2638:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22186),v=t(83419),a=t(12310),r=new v({Extends:l,Mixins:[a],initialize:function(e,n,h,i,o,f,u){l.call(this,e,n,h,i,o,f,u),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(s,e){return this.cropWidth=s,this.cropHeight=e,this},setDisplayCallback:function(s){return this.displayCallback=s,this},setScrollX:function(s){return this.scrollX=s,this},setScrollY:function(s){return this.scrollY=s,this}});p.exports=r},86741:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20926),v=function(a,r,s,e){var n=r._text,h=n.length,i=a.currentContext;if(!(h===0||!l(a,i,r,s,e))){s.addToRenderList(r);var o=r.fromAtlas?r.frame:r.texture.frames.__BASE,f=r.displayCallback,u=r.callbackData,d=r.fontData.chars,c=r.fontData.lineHeight,m=r._letterSpacing,x=0,g=0,T=0,S=null,E=0,P=0,F=0,R=0,M=0,O=0,I=null,V=0,X=r.frame.source.image,z=o.cutX,Z=o.cutY,N=0,Y=0,L=r._fontSize/r.fontData.size,b=r._align,U=0,W=0;r.getTextBounds(!1);var j=r._bounds.lines;b===1?W=(j.longest-j.lengths[0])/2:b===2&&(W=j.longest-j.lengths[0]),i.translate(-r.displayOriginX,-r.displayOriginY);var Q=s.roundPixels;r.cropWidth>0&&r.cropHeight>0&&(i.beginPath(),i.rect(0,0,r.cropWidth,r.cropHeight),i.clip());for(var _=0;_<h;_++){if(Y=L,N=0,T=n.charCodeAt(_),T===10){U++,b===1?W=(j.longest-j.lengths[U])/2:b===2&&(W=j.longest-j.lengths[U]),x=0,g+=c,I=null;continue}if(S=d[T],!!S){if(E=z+S.x,P=Z+S.y,F=S.width,R=S.height,M=S.xOffset+x-r.scrollX,O=S.yOffset+g-r.scrollY,I!==null){var et=S.kerning[V];M+=et!==void 0?et:0}if(f){u.index=_,u.charCode=T,u.x=M,u.y=O,u.scale=Y,u.rotation=N,u.data=S.data;var st=f(u);M=st.x,O=st.y,Y=st.scale,N=st.rotation}M*=Y,O*=Y,M+=W,x+=S.xAdvance+m+(et!==void 0?et:0),I=S,V=T,!(F===0||R===0||T===32)&&(Q&&(M=Math.round(M),O=Math.round(O)),i.save(),i.translate(M,O),i.rotate(N),i.scale(Y,Y),i.drawImage(X,E,P,F,R,0,0,F,R),i.restore())}}i.restore()}};p.exports=v},11164:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2638),v=t(25305),a=t(44603),r=t(23568);a.register("dynamicBitmapText",function(s,e){s===void 0&&(s={});var n=r(s,"font",""),h=r(s,"text",""),i=r(s,"size",!1),o=new l(this.scene,0,0,n,h,i);return e!==void 0&&(s.add=e),v(this.scene,o,s),o})},72566:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2638),v=t(39429);v.register("dynamicBitmapText",function(a,r,s,e,n){return this.displayList.add(new l(this.scene,a,r,s,e,n))})},12310:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(73482),a=t(86741),p.exports={renderWebGL:v,renderCanvas:a}},73482:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=t(61340),a=t(70554),r=new v,s=function(e,n,h,i){var o=n.text,f=o.length;if(f!==0){h.addToRenderList(n);var u=e.pipelines.set(n.pipeline,n),d=l(n,h,i);e.pipelines.preBatch(n);var c=d.sprite,m=d.calc,x=r,g=n.cropWidth>0||n.cropHeight>0;g&&(u.flush(),e.pushScissor(m.tx,m.ty,n.cropWidth*m.scaleX,n.cropHeight*m.scaleY));var T=n.frame,S=T.glTexture,E=n.tintFill,P=a.getTintAppendFloatAlpha(n.tintTopLeft,h.alpha*n._alphaTL),F=a.getTintAppendFloatAlpha(n.tintTopRight,h.alpha*n._alphaTR),R=a.getTintAppendFloatAlpha(n.tintBottomLeft,h.alpha*n._alphaBL),M=a.getTintAppendFloatAlpha(n.tintBottomRight,h.alpha*n._alphaBR),O=u.setGameObject(n),I=0,V=0,X=0,z=0,Z=n.letterSpacing,N,Y=0,L=0,b,U=n.scrollX,W=n.scrollY,j=n.fontData,Q=j.chars,_=j.lineHeight,et=n.fontSize/j.size,st=0,ct=n._align,gt=0,Et=0,xt=n.getTextBounds(!1);n.maxWidth>0&&(o=xt.wrappedText,f=o.length);var Mt=n._bounds.lines;ct===1?Et=(Mt.longest-Mt.lengths[0])/2:ct===2&&(Et=Mt.longest-Mt.lengths[0]);for(var Vt=h.roundPixels,Wt=n.displayCallback,Nt=n.callbackData,Pt=0;Pt<f;Pt++){if(X=o.charCodeAt(Pt),X===10){gt++,ct===1?Et=(Mt.longest-Mt.lengths[gt])/2:ct===2&&(Et=Mt.longest-Mt.lengths[gt]),I=0,V+=_,b=null;continue}if(N=Q[X],!!N){Y=N.width,L=N.height;var bt=N.xOffset+I-U,Gt=N.yOffset+V-W;if(b!==null){var Zt=N.kerning[z];bt+=Zt!==void 0?Zt:0}if(I+=N.xAdvance+Z,b=N,z=X,!(Y===0||L===0||X===32)){if(et=n.fontSize/n.fontData.size,st=0,Wt){Nt.color=0,Nt.tint.topLeft=P,Nt.tint.topRight=F,Nt.tint.bottomLeft=R,Nt.tint.bottomRight=M,Nt.index=Pt,Nt.charCode=X,Nt.x=bt,Nt.y=Gt,Nt.scale=et,Nt.rotation=st,Nt.data=N.data;var $t=Wt(Nt);bt=$t.x,Gt=$t.y,et=$t.scale,st=$t.rotation,$t.color?(P=$t.color,F=$t.color,R=$t.color,M=$t.color):(P=$t.tint.topLeft,F=$t.tint.topRight,R=$t.tint.bottomLeft,M=$t.tint.bottomRight),P=a.getTintAppendFloatAlpha(P,h.alpha*n._alphaTL),F=a.getTintAppendFloatAlpha(F,h.alpha*n._alphaTR),R=a.getTintAppendFloatAlpha(R,h.alpha*n._alphaBL),M=a.getTintAppendFloatAlpha(M,h.alpha*n._alphaBR)}bt*=et,Gt*=et,bt-=n.displayOriginX,Gt-=n.displayOriginY,bt+=Et,x.applyITRS(bt,Gt,st,et,et),m.multiply(x,c);var le=N.u0,ve=N.v0,ie=N.u1,qt=N.v1,de=Y,ce=L,Le=c.e,Se=c.f,Ut=ce*c.c+c.e,We=ce*c.d+c.f,Ye=de*c.a+ce*c.c+c.e,ke=de*c.b+ce*c.d+c.f,Bt=de*c.a+c.e,qe=de*c.b+c.f;Vt&&(Le=Math.round(Le),Se=Math.round(Se),Ut=Math.round(Ut),We=Math.round(We),Ye=Math.round(Ye),ke=Math.round(ke),Bt=Math.round(Bt),qe=Math.round(qe)),u.shouldFlush(6)&&(u.flush(),O=u.setGameObject(n)),u.batchQuad(n,Le,Se,Ut,We,Ye,ke,Bt,qe,le,ve,ie,qt,P,F,R,M,E,S,O)}}}g&&(u.flush(),e.popScissor()),e.pipelines.postBatch(n)}};p.exports=s},22186:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(45319),a=t(31401),r=t(95643),s=t(53048),e=t(61327),n=t(21859),h=t(87841),i=t(18658),o=new l({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Texture,a.Tint,a.Transform,a.Visible,i],initialize:function(u,d,c,m,x,g,T){x===void 0&&(x=""),T===void 0&&(T=0),r.call(this,u,"BitmapText"),this.font=m;var S=this.scene.sys.cache.bitmapFont.get(m);S||console.warn("Invalid BitmapText key: "+m),this.fontData=S.data,this._text="",this._fontSize=g||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=T,this._bounds=s(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=S.fromAtlas,this.setTexture(S.texture,S.frame),this.setPosition(d,c),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(x)},setLeftAlign:function(){return this._align=o.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=o.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=o.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(f){return this._fontSize=f,this._dirty=!0,this},setLetterSpacing:function(f){return f===void 0&&(f=0),this._letterSpacing=f,this._dirty=!0,this},setLineSpacing:function(f){return f===void 0&&(f=0),this.lineSpacing=f,this},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this.text&&(this._text=f.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(f,u,d,c){return f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=.5),this.dropShadowX=f,this.dropShadowY=u,this.dropShadowColor=d,this.dropShadowAlpha=c,this},setCharacterTint:function(f,u,d,c,m,x,g){f===void 0&&(f=0),u===void 0&&(u=1),d===void 0&&(d=!1),c===void 0&&(c=-1),m===void 0&&(m=c,x=c,g=c);var T=this.text.length;u===-1&&(u=T),f<0&&(f=T+f),f=v(f,0,T-1);for(var S=v(f+u,f,T),E=this.charColors,P=f;P<S;P++){var F=E[P];if(c===-1)E[P]=null;else{var R=d?1:0;F?(F.tintEffect=R,F.tintTL=c,F.tintTR=m,F.tintBL=x,F.tintBR=g):E[P]={tintEffect:R,tintTL:c,tintTR:m,tintBL:x,tintBR:g}}}return this},setWordTint:function(f,u,d,c,m,x,g){u===void 0&&(u=1);for(var T=this.getTextBounds(),S=T.words,E=typeof f=="number",P=0,F=0;F<S.length;F++){var R=S[F];if((E&&F===f||!E&&R.word===f)&&(this.setCharacterTint(R.i,R.word.length,d,c,m,x,g),P++,P===u))return this}return this},getTextBounds:function(f){var u=this._bounds;return(this._dirty||f||this.scaleX!==u.scaleX||this.scaleY!==u.scaleY)&&(s(this,f,!0,u),this._dirty=!1),u},getCharacterAt:function(f,u,d){for(var c=this.getLocalPoint(f,u,null,d),m=this.getTextBounds(),x=m.characters,g=new h,T=0;T<x.length;T++){var S=x[T];if(g.setTo(S.x,S.t,S.r-S.x,S.b),g.contains(c.x,c.y))return S}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(f,u,d){u===void 0&&(u=this._fontSize),d===void 0&&(d=this._align);var c=this.scene.sys.cache.bitmapFont.get(f);return c&&(this.font=f,this.fontData=c.data,this._fontSize=u,this._align=d,this.fromAtlas=c.fromAtlas===!0,this.setTexture(c.texture,c.frame),s(this,!1,!0,this._bounds)),this},setMaxWidth:function(f,u){return this._maxWidth=f,this._dirty=!0,u!==void 0&&(this.wordWrapCharCode=u),this},align:{set:function(f){this._align=f,this._dirty=!0},get:function(){return this._align}},text:{set:function(f){this.setText(f)},get:function(){return this._text}},fontSize:{set:function(f){this._fontSize=f,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(f){this._letterSpacing=f,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(f){this._lineSpacing=f,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(f){this._maxWidth=f,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var f=a.ToJSON(this),u={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return f.data=u,f},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});o.ALIGN_LEFT=0,o.ALIGN_CENTER=1,o.ALIGN_RIGHT=2,o.ParseFromAtlas=e,o.ParseXMLBitmapFont=n,p.exports=o},37289:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20926),v=function(a,r,s,e){var n=r._text,h=n.length,i=a.currentContext;if(!(h===0||!l(a,i,r,s,e))){s.addToRenderList(r);var o=r.fromAtlas?r.frame:r.texture.frames.__BASE,f=r.fontData.chars,u=r.fontData.lineHeight,d=r._letterSpacing,c=r._lineSpacing,m=0,x=0,g=0,T=null,S=0,E=0,P=0,F=0,R=0,M=0,O=null,I=0,V=o.source.image,X=o.cutX,z=o.cutY,Z=r._fontSize/r.fontData.size,N=r._align,Y=0,L=0,b=r.getTextBounds(!1);r.maxWidth>0&&(n=b.wrappedText,h=n.length);var U=r._bounds.lines;N===1?L=(U.longest-U.lengths[0])/2:N===2&&(L=U.longest-U.lengths[0]),i.translate(-r.displayOriginX,-r.displayOriginY);for(var W=s.roundPixels,j=0;j<h;j++){if(g=n.charCodeAt(j),g===10){Y++,N===1?L=(U.longest-U.lengths[Y])/2:N===2&&(L=U.longest-U.lengths[Y]),m=0,x+=u+c,O=null;continue}if(T=f[g],!!T){if(S=X+T.x,E=z+T.y,P=T.width,F=T.height,R=T.xOffset+m,M=T.yOffset+x,O!==null){var Q=T.kerning[I];R+=Q!==void 0?Q:0}R*=Z,M*=Z,R+=L,m+=T.xAdvance+d+(Q!==void 0?Q:0),O=T,I=g,!(P===0||F===0||g===32)&&(W&&(R=Math.round(R),M=Math.round(M)),i.save(),i.translate(R,M),i.scale(Z,Z),i.drawImage(V,S,E,P,F,0,0,P,F),i.restore())}}i.restore()}};p.exports=v},57336:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22186),v=t(25305),a=t(44603),r=t(23568),s=t(35154);a.register("bitmapText",function(e,n){e===void 0&&(e={});var h=s(e,"font",""),i=r(e,"text",""),o=r(e,"size",!1),f=s(e,"align",0),u=new l(this.scene,0,0,h,i,o,f);return n!==void 0&&(e.add=n),v(this.scene,u,e),u})},34914:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22186),v=t(39429);v.register("bitmapText",function(a,r,s,e,n,h){return this.displayList.add(new l(this.scene,a,r,s,e,n,h))})},18658:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(33590),a=t(37289),p.exports={renderWebGL:v,renderCanvas:a}},33590:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(3217),v=t(91296),a=t(70554),r=function(s,e,n,h){var i=e._text,o=i.length;if(o!==0){n.addToRenderList(e);var f=s.pipelines.set(e.pipeline,e),u=v(e,n,h).calc;s.pipelines.preBatch(e);var d=n.roundPixels,c=n.alpha,m=e.charColors,x=e.tintFill,g=a.getTintAppendFloatAlpha,T=g(e.tintTopLeft,c*e._alphaTL),S=g(e.tintTopRight,c*e._alphaTR),E=g(e.tintBottomLeft,c*e._alphaBL),P=g(e.tintBottomRight,c*e._alphaBR),F=e.frame.glTexture,R=f.setGameObject(e),M=e.getTextBounds(!1),O,I,V,X=M.characters,z=e.dropShadowX,Z=e.dropShadowY,N=z!==0||Z!==0;if(N){var Y=e.dropShadowColor,L=e.dropShadowAlpha,b=g(Y,c*L*e._alphaTL),U=g(Y,c*L*e._alphaTR),W=g(Y,c*L*e._alphaBL),j=g(Y,c*L*e._alphaBR);for(O=0;O<X.length;O++)I=X[O],V=I.glyph,!(I.code===32||V.width===0||V.height===0)&&l(f,e,I,V,z,Z,u,d,b,U,W,j,1,F,R)}for(O=0;O<X.length;O++)if(I=X[O],V=I.glyph,!(I.code===32||V.width===0||V.height===0))if(f.shouldFlush(6)&&(f.flush(),R=f.setGameObject(e)),m[I.i]){var Q=m[I.i],_=Q.tintEffect,et=g(Q.tintTL,c*e._alphaTL),st=g(Q.tintTR,c*e._alphaTR),ct=g(Q.tintBL,c*e._alphaBL),gt=g(Q.tintBR,c*e._alphaBR);l(f,e,I,V,0,0,u,d,et,st,ct,gt,_,F,R)}else l(f,e,I,V,0,0,u,d,T,S,E,P,x,F,R);s.pipelines.postBatch(e)}};p.exports=r},6107:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(48011),v=t(46590),a=t(83419),r=t(31401),s=t(4327),e=t(95643),n=t(73162),h=new a({Extends:e,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,l],initialize:function(o,f,u,d,c){e.call(this,o,"Blitter"),this.setTexture(d,c),this.setPosition(f,u),this.initPipeline(),this.initPostPipeline(),this.children=new n,this.renderList=[],this.dirty=!1},create:function(i,o,f,u,d){u===void 0&&(u=!0),d===void 0&&(d=this.children.length),f===void 0?f=this.frame:f instanceof s||(f=this.texture.get(f));var c=new v(this,i,o,f,u);return this.children.addAt(c,d,!1),this.dirty=!0,c},createFromCallback:function(i,o,f,u){for(var d=this.createMultiple(o,f,u),c=0;c<d.length;c++){var m=d[c];i.call(this,m,c)}return d},createMultiple:function(i,o,f){o===void 0&&(o=this.frame.name),f===void 0&&(f=!0),Array.isArray(o)||(o=[o]);var u=[],d=this;return o.forEach(function(c){for(var m=0;m<i;m++)u.push(d.create(0,0,c,f))}),u},childCanRender:function(i){return i.visible&&i.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});p.exports=h},72396:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){var r=l.getRenderList();if(r.length!==0){var s=t.currentContext,e=v.alpha*l.alpha;if(e!==0){v.addToRenderList(l),s.globalCompositeOperation=t.blendModes[l.blendMode],s.imageSmoothingEnabled=!l.frame.source.scaleMode;var n=l.x-v.scrollX*l.scrollFactorX,h=l.y-v.scrollY*l.scrollFactorY;s.save(),a&&a.copyToContext(s);for(var i=v.roundPixels,o=0;o<r.length;o++){var f=r[o],u=f.flipX||f.flipY,d=f.frame,c=d.canvasData,m=d.x,x=d.y,g=1,T=1,S=f.alpha*e;S!==0&&(s.globalAlpha=S,u?(f.flipX&&(g=-1,m-=c.width),f.flipY&&(T=-1,x-=c.height),c.width>0&&c.height>0&&(s.save(),s.translate(f.x+n,f.y+h),s.scale(g,T),s.drawImage(d.source.image,c.x,c.y,c.width,c.height,m,x,c.width,c.height),s.restore())):(i&&(m=Math.round(m),x=Math.round(x)),c.width>0&&c.height>0&&s.drawImage(d.source.image,c.x,c.y,c.width,c.height,m+f.x+n,x+f.y+h,c.width,c.height)))}s.restore()}}};p.exports=y},9403:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6107),v=t(25305),a=t(44603),r=t(23568);a.register("blitter",function(s,e){s===void 0&&(s={});var n=r(s,"key",null),h=r(s,"frame",null),i=new l(this.scene,0,0,n,h);return e!==void 0&&(s.add=e),v(this.scene,i,s),i})},12709:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6107),v=t(39429);v.register("blitter",function(a,r,s,e){return this.displayList.add(new l(this.scene,a,r,s,e))})},48011:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(99485),a=t(72396),p.exports={renderWebGL:v,renderCanvas:a}},99485:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61340),v=t(70554),a=new l,r=function(s,e,n,h){var i=e.getRenderList(),o=n.alpha*e.alpha;if(!(i.length===0||o===0)){n.addToRenderList(e);var f=s.pipelines.set(this.pipeline,e),u=n.scrollX*e.scrollFactorX,d=n.scrollY*e.scrollFactorY,c=a.copyFrom(n.matrix);h&&(c.multiplyWithOffset(h,-u,-d),u=0,d=0);var m=e.x-u,x=e.y-d,g=-1,T=!1;s.pipelines.preBatch(e);for(var S=0;S<i.length;S++){var E=i[S],P=E.frame,F=E.alpha*o;if(F!==0){var R=P.width,M=P.height,O=m+E.x+P.x,I=x+E.y+P.y;E.flipX&&(R*=-1,O+=P.width),E.flipY&&(M*=-1,I+=P.height);var V=c.setQuad(O,I,O+R,I+M),X=v.getTintAppendFloatAlpha(E.tint,F);if(P.sourceIndex!==g){var z=f.setGameObject(e,P);g=P.sourceIndex}f.batchQuad(e,V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],P.u0,P.v0,P.u1,P.v1,X,X,X,X,T,P.glTexture,z)&&(g=-1)}}s.pipelines.postBatch(e)}};p.exports=r},46590:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(4327),a=new l({initialize:function(s,e,n,h,i){this.parent=s,this.x=e,this.y=n,this.frame=h,this.data={},this.tint=16777215,this._visible=i,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(r){return r===void 0?this.frame=this.parent.frame:r instanceof v&&r.texture===this.parent.texture?this.frame=r:this.frame=this.parent.texture.get(r),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(r,s,e){return this.x=r,this.y=s,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(r,s){return this.x=r,this.y=s,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,s){return this.flipX=r,this.flipY=s,this},setVisible:function(r){return this.visible=r,this},setAlpha:function(r){return this.alpha=r,this},setTint:function(r){return this.tint=r,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(r){this.parent.dirty|=this._visible!==r,this._visible=r}},alpha:{get:function(){return this._alpha},set:function(r){this.parent.dirty|=this._alpha>0!=r>0,this._alpha=r}}});p.exports=a},16005:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=2,a={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r,s,e,n){return r===void 0&&(r=1),s===void 0?this.alpha=r:(this._alphaTL=l(r,0,1),this._alphaTR=l(s,0,1),this._alphaBL=l(e,0,1),this._alphaBR=l(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(r){var s=l(r,0,1);this._alpha=s,this._alphaTL=s,this._alphaTR=s,this._alphaBL=s,this._alphaBR=s,s===0?this.renderFlags&=~v:this.renderFlags|=v}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(r){var s=l(r,0,1);this._alphaTL=s,s!==0&&(this.renderFlags|=v)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(r){var s=l(r,0,1);this._alphaTR=s,s!==0&&(this.renderFlags|=v)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(r){var s=l(r,0,1);this._alphaBL=s,s!==0&&(this.renderFlags|=v)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(r){var s=l(r,0,1);this._alphaBR=s,s!==0&&(this.renderFlags|=v)}}};p.exports=a},88509:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=2,a={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r){return r===void 0&&(r=1),this.alpha=r,this},alpha:{get:function(){return this._alpha},set:function(r){var s=l(r,0,1);this._alpha=s,s===0?this.renderFlags&=~v:this.renderFlags|=v}}};p.exports=a},90065:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),v={_blendMode:l.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(a){typeof a=="string"&&(a=l[a]),a|=0,a>=-1&&(this._blendMode=a)}},setBlendMode:function(a){return this.blendMode=a,this}};p.exports=v},94215:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,l){return this.width=t,this.height=l,this},setDisplaySize:function(t,l){return this.displayWidth=t,this.displayHeight=l,this}};p.exports=y},61683:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={texture:null,frame:null,isCropped:!1,setCrop:function(t,l,v,a){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,l,v,a,this.flipX,this.flipY);else{var r=t;this.frame.setCropUVs(this._crop,r.x,r.y,r.width,r.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=y},89272:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return t===void 0&&(t=0),this.depth=t,this}};p.exports=y},47059:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(66064),a=t(19133),r=new l({initialize:function(e,n){this.gameObject=e,this.isPost=n,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(s){return s===void 0&&(s=0),this.padding=s,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(s){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,s!==void 0&&(this.padding=s),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var s=this.list,e=0;e<s.length;e++)s[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(s){var e;if(this.isPost){var n=this.gameObject.getPostPipeline(String(s.type));for(Array.isArray(n)||(n=[n]),e=0;e<n.length;e++){var h=n[e];if(h.controller===s){this.gameObject.removePostPipeline(h),s.destroy();break}}}else{var i=this.list;for(e=0;e<i.length;e++)i[e]===s&&(a(i,e),s.destroy())}return this.gameObject},disable:function(s){return s===void 0&&(s=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,s&&this.clear(),this.gameObject},add:function(s,e){if(this.isPost){var n=String(s.type);this.gameObject.setPostPipeline(n,e);var h=this.gameObject.getPostPipeline(n);if(h)return Array.isArray(h)&&(h=h.pop()),h.controller=s,s}else return this.enabled||this.enable(),this.list.push(s),s},addGlow:function(s,e,n,h,i,o){return this.add(new v.Glow(this.gameObject,s,e,n,h),{quality:i,distance:o})},addShadow:function(s,e,n,h,i,o,f){return this.add(new v.Shadow(this.gameObject,s,e,n,h,i,o,f))},addPixelate:function(s){return this.add(new v.Pixelate(this.gameObject,s))},addVignette:function(s,e,n,h){return this.add(new v.Vignette(this.gameObject,s,e,n,h))},addShine:function(s,e,n,h){return this.add(new v.Shine(this.gameObject,s,e,n,h))},addBlur:function(s,e,n,h,i,o){return this.add(new v.Blur(this.gameObject,s,e,n,h,i,o))},addGradient:function(s,e,n,h,i,o,f,u){return this.add(new v.Gradient(this.gameObject,s,e,n,h,i,o,f,u))},addBloom:function(s,e,n,h,i,o){return this.add(new v.Bloom(this.gameObject,s,e,n,h,i,o))},addColorMatrix:function(){return this.add(new v.ColorMatrix(this.gameObject))},addCircle:function(s,e,n,h,i){return this.add(new v.Circle(this.gameObject,s,e,n,h,i))},addBarrel:function(s){return this.add(new v.Barrel(this.gameObject,s))},addDisplacement:function(s,e,n){return this.add(new v.Displacement(this.gameObject,s,e,n))},addWipe:function(s,e,n){return this.add(new v.Wipe(this.gameObject,s,e,n))},addReveal:function(s,e,n){return this.add(new v.Wipe(this.gameObject,s,e,n,!0))},addBokeh:function(s,e,n){return this.add(new v.Bokeh(this.gameObject,s,e,n))},addTiltShift:function(s,e,n,h,i,o){return this.add(new v.Bokeh(this.gameObject,s,e,n,!0,h,i,o))},destroy:function(){this.clear(),this.gameObject=null}});p.exports=r},54434:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,l){return this.flipX=t,this.flipY=l,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};p.exports=y},8004:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=t(11520),a=t(26099),r={prepareBoundsOutput:function(s,e){if(e===void 0&&(e=!1),this.rotation!==0&&v(s,this.x,this.y,this.rotation),e&&this.parentContainer){var n=this.parentContainer.getBoundsTransformMatrix();n.transformPoint(s.x,s.y,s)}return s},getCenter:function(s,e){return s===void 0&&(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,e)},getTopLeft:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,e)},getTopCenter:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,e)},getTopRight:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,e)},getLeftCenter:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,e)},getRightCenter:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,e)},getBottomLeft:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,e)},getBottomCenter:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,e)},getBottomRight:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,e)},getBounds:function(s){s===void 0&&(s=new l);var e,n,h,i,o,f,u,d;if(this.parentContainer){var c=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(s),c.transformPoint(s.x,s.y,s),e=s.x,n=s.y,this.getTopRight(s),c.transformPoint(s.x,s.y,s),h=s.x,i=s.y,this.getBottomLeft(s),c.transformPoint(s.x,s.y,s),o=s.x,f=s.y,this.getBottomRight(s),c.transformPoint(s.x,s.y,s),u=s.x,d=s.y}else this.getTopLeft(s),e=s.x,n=s.y,this.getTopRight(s),h=s.x,i=s.y,this.getBottomLeft(s),o=s.x,f=s.y,this.getBottomRight(s),u=s.x,d=s.y;return s.x=Math.min(e,h,o,u),s.y=Math.min(n,i,f,d),s.width=Math.max(e,h,o,u)-s.x,s.height=Math.max(n,i,f,d)-s.y,s}};p.exports=r},8573:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6858),v=t(80661),a={mask:null,setMask:function(r){return this.mask=r,this},clearMask:function(r){return r===void 0&&(r=!1),r&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(r,s,e,n,h){return r===void 0&&(this.texture||this.shader||this.geom)&&(r=this),new l(this.scene,r,s,e,n,h)},createGeometryMask:function(r){return r===void 0&&(this.type==="Graphics"||this.geom)&&(r=this),new v(this.scene,r)}};p.exports=a},27387:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,l){return t===void 0&&(t=.5),l===void 0&&(l=t),this.originX=t,this.originY=l,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,l){return t===void 0&&(t=0),l===void 0&&(l=t),this.displayOriginX=t,this.displayOriginY=l,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};p.exports=y},37640:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39506),v=t(57355),a=t(35154),r=t(86353),s=t(26099),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:r.PLAYING_FORWARD,setPath:function(n,h){h===void 0&&(h=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=n,h&&this.startFollow(h),this},setRotateToPath:function(n,h){return h===void 0&&(h=0),this.rotateToPath=n,this.pathRotationOffset=h,this},isFollowing:function(){var n=this.pathTween;return n&&n.isPlaying()},startFollow:function(n,h){n===void 0&&(n={}),h===void 0&&(h=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),typeof n=="number"&&(n={duration:n}),n.from=a(n,"from",0),n.to=a(n,"to",1);var o=v(n,"positionOnPath",!1);this.rotateToPath=v(n,"rotateToPath",!1),this.pathRotationOffset=a(n,"rotationOffset",0);var f=a(n,"startAt",h);if(f&&(n.onStart=function(d){var c=d.data[0];c.progress=f,c.elapsed=c.duration*f;var m=c.ease(c.progress);c.current=c.start+(c.end-c.start)*m,c.setTargetValue()}),this.pathOffset||(this.pathOffset=new s(this.x,this.y)),this.pathVector||(this.pathVector=new s),this.pathDelta||(this.pathDelta=new s),this.pathDelta.reset(),n.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(n),this.path.getStartPoint(this.pathOffset),o&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=r.PLAYING_FORWARD,this.rotateToPath){var u=this.path.getPoint(.1);this.rotation=Math.atan2(u.y-this.y,u.x-this.x)+l(this.pathRotationOffset)}return this.pathConfig=n,this},pauseFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.pause(),this},resumeFollow:function(){var n=this.pathTween;return n&&n.isPaused()&&n.resume(),this},stopFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this},pathUpdate:function(){var n=this.pathTween;if(n&&n.data){var h=n.data[0],i=this.pathDelta,o=this.pathVector;if(i.copy(o).negate(),h.state===r.COMPLETE){this.path.getPoint(h.end,o),i.add(o),o.add(this.pathOffset),this.setPosition(o.x,o.y);return}else if(h.state!==r.PLAYING_FORWARD&&h.state!==r.PLAYING_BACKWARD)return;this.path.getPoint(n.getValue(),o),i.add(o),o.add(this.pathOffset);var f=this.x,u=this.y;this.setPosition(o.x,o.y);var d=this.x-f,c=this.y-u;if(d===0&&c===0)return;if(h.state!==this._prevDirection){this._prevDirection=h.state;return}this.rotateToPath&&(this.rotation=Math.atan2(c,d)+l(this.pathRotationOffset))}}};p.exports=e},72699:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62644),v={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(a){this.pipelineData={};var r=this.scene.sys.renderer;if(!r)return!1;var s=r.pipelines;if(s){a===void 0&&(a=s.default);var e=s.get(a);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(a,r,s){var e=this.scene.sys.renderer;if(!e)return this;var n=e.pipelines;if(n){var h=n.get(a);h&&(this.pipeline=h),r&&(this.pipelineData=s?l(r):r)}return this},setPipelineData:function(a,r){var s=this.pipelineData;return r===void 0?delete s[a]:s[a]=r,this},resetPipeline:function(a){return a===void 0&&(a=!1),this.pipeline=this.defaultPipeline,a&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};p.exports=v},17581:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62644),v=t(47059),a=t(19133),r={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(s){this.postPipelines=[],this.postPipelineData={},this.postFX=new v(this,!0),s&&(this.preFX=new v(this,!1))},setPostPipeline:function(s,e,n){var h=this.scene.sys.renderer;if(!h)return this;var i=h.pipelines;if(i){Array.isArray(s)||(s=[s]);for(var o=0;o<s.length;o++){var f=i.getPostPipeline(s[o],this,e);f&&this.postPipelines.push(f)}e&&(this.postPipelineData=n?l(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(s,e){var n=this.postPipelineData;return e===void 0?delete n[s]:n[s]=e,this},getPostPipeline:function(s){for(var e=typeof s=="string",n=this.postPipelines,h=[],i=0;i<n.length;i++){var o=n[i];(e&&o.name===s||!e&&o instanceof s)&&h.push(o)}return h.length===1?h[0]:h},resetPostPipeline:function(s){s===void 0&&(s=!1);for(var e=this.postPipelines,n=0;n<e.length;n++)e[n].destroy();this.postPipelines=[],this.hasPostPipeline=!1,s&&(this.postPipelineData={})},removePostPipeline:function(s){for(var e=typeof s=="string",n=this.postPipelines,h=n.length-1;h>=0;h--){var i=n[h];(e&&i.name===s||!e&&i===s)&&(i.destroy(),a(n,h))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};p.exports=r},80227:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,l){return l===void 0&&(l=t),this.scrollFactorX=t,this.scrollFactorY=l,this}};p.exports=y},16736:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=this.width,l.hitArea.height=this.height),this},setSize:function(t,l){return this.width=t,this.height=l,this},setDisplaySize:function(t,l){return this.displayWidth=t,this.displayHeight=l,this}};p.exports=y},37726:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(4327),v=8,a={texture:null,frame:null,isCropped:!1,setTexture:function(r,s,e,n){return this.texture=this.scene.sys.textures.get(r),this.setFrame(s,e,n)},setFrame:function(r,s,e){return s===void 0&&(s=!0),e===void 0&&(e=!0),r instanceof l?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};p.exports=a},79812:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(4327),v=8,a={texture:null,frame:null,isCropped:!1,setCrop:function(r,s,e,n){if(r===void 0)this.isCropped=!1;else if(this.frame){if(typeof r=="number")this.frame.setCropUVs(this._crop,r,s,e,n,this.flipX,this.flipY);else{var h=r;this.frame.setCropUVs(this._crop,h.x,h.y,h.width,h.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(r,s){return this.texture=this.scene.sys.textures.get(r),this.setFrame(s)},setFrame:function(r,s,e){return s===void 0&&(s=!0),e===void 0&&(e=!0),r instanceof l?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=a},27472:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,l,v,a){return t===void 0&&(t=16777215),l===void 0&&(l=t,v=t,a=t),this.tintTopLeft=t,this.tintTopRight=l,this.tintBottomLeft=v,this.tintBottomRight=a,this.tintFill=!1,this},setTintFill:function(t,l,v,a){return this.setTint(t,l,v,a),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};p.exports=y},53774:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var l={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(l.textureKey=t.texture.key,l.frameKey=t.frame.name),l};p.exports=y},16901:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),v=t(61340),a=t(85955),r=t(86554),s=t(30954),e=t(26099),n=4,h={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(i){this._scaleX=i,this._scaleY=i,i===0?this.renderFlags&=~n:this.renderFlags|=n}},scaleX:{get:function(){return this._scaleX},set:function(i){this._scaleX=i,i===0?this.renderFlags&=~n:this._scaleY!==0&&(this.renderFlags|=n)}},scaleY:{get:function(){return this._scaleY},set:function(i){this._scaleY=i,i===0?this.renderFlags&=~n:this._scaleX!==0&&(this.renderFlags|=n)}},angle:{get:function(){return s(this._rotation*l.RAD_TO_DEG)},set:function(i){this.rotation=s(i)*l.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(i){this._rotation=r(i)}},setPosition:function(i,o,f,u){return i===void 0&&(i=0),o===void 0&&(o=i),f===void 0&&(f=0),u===void 0&&(u=0),this.x=i,this.y=o,this.z=f,this.w=u,this},copyPosition:function(i){return i.x!==void 0&&(this.x=i.x),i.y!==void 0&&(this.y=i.y),i.z!==void 0&&(this.z=i.z),i.w!==void 0&&(this.w=i.w),this},setRandomPosition:function(i,o,f,u){return i===void 0&&(i=0),o===void 0&&(o=0),f===void 0&&(f=this.scene.sys.scale.width),u===void 0&&(u=this.scene.sys.scale.height),this.x=i+Math.random()*f,this.y=o+Math.random()*u,this},setRotation:function(i){return i===void 0&&(i=0),this.rotation=i,this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,this},setScale:function(i,o){return i===void 0&&(i=1),o===void 0&&(o=i),this.scaleX=i,this.scaleY=o,this},setX:function(i){return i===void 0&&(i=0),this.x=i,this},setY:function(i){return i===void 0&&(i=0),this.y=i,this},setZ:function(i){return i===void 0&&(i=0),this.z=i,this},setW:function(i){return i===void 0&&(i=0),this.w=i,this},getLocalTransformMatrix:function(i){return i===void 0&&(i=new v),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(i,o){i===void 0&&(i=new v);var f=this.parentContainer;if(!f)return this.getLocalTransformMatrix(i);for(o||(o=new v),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);f;)o.applyITRS(f.x,f.y,f._rotation,f._scaleX,f._scaleY),o.multiply(i,i),f=f.parentContainer;return i},getLocalPoint:function(i,o,f,u){f||(f=new e),u||(u=this.scene.sys.cameras.main);var d=u.scrollX,c=u.scrollY,m=i+d*this.scrollFactorX-d,x=o+c*this.scrollFactorY-c;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(m,x,f):a(m,x,this.x,this.y,this.rotation,this.scaleX,this.scaleY,f),this._originComponent&&(f.x+=this._displayOriginX,f.y+=this._displayOriginY),f},getParentRotation:function(){for(var i=0,o=this.parentContainer;o;)i+=o.rotation,o=o.parentContainer;return i}};p.exports=h},61340:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(36383),a=t(26099),r=new l({initialize:function(e,n,h,i,o,f){e===void 0&&(e=1),n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=1),o===void 0&&(o=0),f===void 0&&(f=0),this.matrix=new Float32Array([e,n,h,i,o,f,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(s){this.matrix[0]=s}},b:{get:function(){return this.matrix[1]},set:function(s){this.matrix[1]=s}},c:{get:function(){return this.matrix[2]},set:function(s){this.matrix[2]=s}},d:{get:function(){return this.matrix[3]},set:function(s){this.matrix[3]=s}},e:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},f:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},tx:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},ty:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var s=this.matrix,e=s[0],n=s[1],h=s[2],i=s[3];return e||n?n>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):h||i?v.TAU-(i>0?Math.acos(-h/this.scaleY):-Math.acos(h/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var s=this.matrix;return s[0]=1,s[1]=0,s[2]=0,s[3]=1,s[4]=0,s[5]=0,this},translate:function(s,e){var n=this.matrix;return n[4]=n[0]*s+n[2]*e+n[4],n[5]=n[1]*s+n[3]*e+n[5],this},scale:function(s,e){var n=this.matrix;return n[0]*=s,n[1]*=s,n[2]*=e,n[3]*=e,this},rotate:function(s){var e=Math.sin(s),n=Math.cos(s),h=this.matrix,i=h[0],o=h[1],f=h[2],u=h[3];return h[0]=i*n+f*e,h[1]=o*n+u*e,h[2]=i*-e+f*n,h[3]=o*-e+u*n,this},multiply:function(s,e){var n=this.matrix,h=s.matrix,i=n[0],o=n[1],f=n[2],u=n[3],d=n[4],c=n[5],m=h[0],x=h[1],g=h[2],T=h[3],S=h[4],E=h[5],P=e===void 0?n:e.matrix;return P[0]=m*i+x*f,P[1]=m*o+x*u,P[2]=g*i+T*f,P[3]=g*o+T*u,P[4]=S*i+E*f+d,P[5]=S*o+E*u+c,P},multiplyWithOffset:function(s,e,n){var h=this.matrix,i=s.matrix,o=h[0],f=h[1],u=h[2],d=h[3],c=h[4],m=h[5],x=e*o+n*u+c,g=e*f+n*d+m,T=i[0],S=i[1],E=i[2],P=i[3],F=i[4],R=i[5];return h[0]=T*o+S*u,h[1]=T*f+S*d,h[2]=E*o+P*u,h[3]=E*f+P*d,h[4]=F*o+R*u+x,h[5]=F*f+R*d+g,this},transform:function(s,e,n,h,i,o){var f=this.matrix,u=f[0],d=f[1],c=f[2],m=f[3],x=f[4],g=f[5];return f[0]=s*u+e*c,f[1]=s*d+e*m,f[2]=n*u+h*c,f[3]=n*d+h*m,f[4]=i*u+o*c+x,f[5]=i*d+o*m+g,this},transformPoint:function(s,e,n){n===void 0&&(n={x:0,y:0});var h=this.matrix,i=h[0],o=h[1],f=h[2],u=h[3],d=h[4],c=h[5];return n.x=s*i+e*f+d,n.y=s*o+e*u+c,n},invert:function(){var s=this.matrix,e=s[0],n=s[1],h=s[2],i=s[3],o=s[4],f=s[5],u=e*i-n*h;return s[0]=i/u,s[1]=-n/u,s[2]=-h/u,s[3]=e/u,s[4]=(h*f-i*o)/u,s[5]=-(e*f-n*o)/u,this},copyFrom:function(s){var e=this.matrix;return e[0]=s.a,e[1]=s.b,e[2]=s.c,e[3]=s.d,e[4]=s.e,e[5]=s.f,this},copyFromArray:function(s){var e=this.matrix;return e[0]=s[0],e[1]=s[1],e[2]=s[2],e[3]=s[3],e[4]=s[4],e[5]=s[5],this},copyToContext:function(s){var e=this.matrix;return s.transform(e[0],e[1],e[2],e[3],e[4],e[5]),s},setToContext:function(s){return s.setTransform(this),s},copyToArray:function(s){var e=this.matrix;return s===void 0?s=[e[0],e[1],e[2],e[3],e[4],e[5]]:(s[0]=e[0],s[1]=e[1],s[2]=e[2],s[3]=e[3],s[4]=e[4],s[5]=e[5]),s},setTransform:function(s,e,n,h,i,o){var f=this.matrix;return f[0]=s,f[1]=e,f[2]=n,f[3]=h,f[4]=i,f[5]=o,this},decomposeMatrix:function(){var s=this.decomposedMatrix,e=this.matrix,n=e[0],h=e[1],i=e[2],o=e[3],f=n*o-h*i;if(s.translateX=e[4],s.translateY=e[5],n||h){var u=Math.sqrt(n*n+h*h);s.rotation=h>0?Math.acos(n/u):-Math.acos(n/u),s.scaleX=u,s.scaleY=f/u}else if(i||o){var d=Math.sqrt(i*i+o*o);s.rotation=Math.PI*.5-(o>0?Math.acos(-i/d):-Math.acos(i/d)),s.scaleX=f/d,s.scaleY=d}else s.rotation=0,s.scaleX=0,s.scaleY=0;return s},applyITRS:function(s,e,n,h,i){var o=this.matrix,f=Math.sin(n),u=Math.cos(n);return o[4]=s,o[5]=e,o[0]=u*h,o[1]=f*h,o[2]=-f*i,o[3]=u*i,this},applyInverse:function(s,e,n){n===void 0&&(n=new a);var h=this.matrix,i=h[0],o=h[1],f=h[2],u=h[3],d=h[4],c=h[5],m=1/(i*u+f*-o);return n.x=u*m*s+-f*m*e+(c*f-d*u)*m,n.y=i*m*e+-o*m*s+(-c*i+d*o)*m,n},setQuad:function(s,e,n,h,i,o){i===void 0&&(i=!1),o===void 0&&(o=this.quad);var f=this.matrix,u=f[0],d=f[1],c=f[2],m=f[3],x=f[4],g=f[5];return i?(o[0]=Math.round(s*u+e*c+x),o[1]=Math.round(s*d+e*m+g),o[2]=Math.round(s*u+h*c+x),o[3]=Math.round(s*d+h*m+g),o[4]=Math.round(n*u+h*c+x),o[5]=Math.round(n*d+h*m+g),o[6]=Math.round(n*u+e*c+x),o[7]=Math.round(n*d+e*m+g)):(o[0]=s*u+e*c+x,o[1]=s*d+e*m+g,o[2]=s*u+h*c+x,o[3]=s*d+h*m+g,o[4]=n*u+h*c+x,o[5]=n*d+h*m+g,o[6]=n*u+e*c+x,o[7]=n*d+e*m+g),o},getX:function(s,e){return s*this.a+e*this.c+this.e},getY:function(s,e){return s*this.b+e*this.d+this.f},getXRound:function(s,e,n){var h=this.getX(s,e);return n&&(h=Math.round(h)),h},getYRound:function(s,e,n){var h=this.getY(s,e);return n&&(h=Math.round(h)),h},getCSSMatrix:function(){var s=this.matrix;return"matrix("+s[0]+","+s[1]+","+s[2]+","+s[3]+","+s[4]+","+s[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});p.exports=r},59715:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(l){l?(this._visible=!0,this.renderFlags|=y):(this._visible=!1,this.renderFlags&=~y)}},setVisible:function(l){return this.visible=l,this}};p.exports=t},31401:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37105),v=t(10312),a=t(83419),r=t(31401),s=t(51708),e=t(95643),n=t(87841),h=t(29959),i=t(36899),o=t(26099),f=new a({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.ComputedSize,r.Depth,r.Mask,r.PostPipeline,r.Transform,r.Visible,h],initialize:function(d,c,m,x){e.call(this,d,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new r.TransformMatrix,this.tempTransformMatrix=new r.TransformMatrix,this._sortKey="",this._sysEvents=d.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(c,m),this.setBlendMode(v.SKIP_CHECK),x&&this.add(x)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(u){return u===void 0&&(u=!0),this.exclusive=u,this},getBounds:function(u){if(u===void 0&&(u=new n),u.setTo(this.x,this.y,0,0),this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix(),c=d.transformPoint(this.x,this.y);u.setTo(c.x,c.y,0,0)}if(this.list.length>0){var m=this.list,x=new n,g=!1;u.setEmpty();for(var T=0;T<m.length;T++){var S=m[T];S.getBounds&&(S.getBounds(x),g?i(x,u,u):(u.setTo(x.x,x.y,x.width,x.height),g=!0))}}return u},addHandler:function(u){u.once(s.DESTROY,this.onChildDestroyed,this),this.exclusive&&(u.parentContainer&&u.parentContainer.remove(u),u.parentContainer=this,u.removeFromDisplayList(),u.addedToScene())},removeHandler:function(u){u.off(s.DESTROY,this.remove,this),this.exclusive&&(u.parentContainer=null,u.removedFromScene(),u.addToDisplayList())},pointToContainer:function(u,d){d===void 0&&(d=new o),this.parentContainer?this.parentContainer.pointToContainer(u,d):(d.x=u.x,d.y=u.y);var c=this.tempTransformMatrix;return c.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),c.invert(),c.transformPoint(u.x,u.y,d),d},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(u){return l.Add(this.list,u,this.maxSize,this.addHandler,this),this},addAt:function(u,d){return l.AddAt(this.list,u,d,this.maxSize,this.addHandler,this),this},getAt:function(u){return this.list[u]},getIndex:function(u){return this.list.indexOf(u)},sort:function(u,d){return u?(d===void 0&&(d=function(c,m){return c[u]-m[u]}),l.StableSort(this.list,d),this):this},getByName:function(u){return l.GetFirst(this.list,"name",u)},getRandom:function(u,d){return l.GetRandom(this.list,u,d)},getFirst:function(u,d,c,m){return l.GetFirst(this.list,u,d,c,m)},getAll:function(u,d,c,m){return l.GetAll(this.list,u,d,c,m)},count:function(u,d,c,m){return l.CountAllMatching(this.list,u,d,c,m)},swap:function(u,d){return l.Swap(this.list,u,d),this},moveTo:function(u,d){return l.MoveTo(this.list,u,d),this},moveAbove:function(u,d){return l.MoveAbove(this.list,u,d),this},moveBelow:function(u,d){return l.MoveBelow(this.list,u,d),this},remove:function(u,d){var c=l.Remove(this.list,u,this.removeHandler,this);if(d&&c){Array.isArray(c)||(c=[c]);for(var m=0;m<c.length;m++)c[m].destroy()}return this},removeAt:function(u,d){var c=l.RemoveAt(this.list,u,this.removeHandler,this);return d&&c&&c.destroy(),this},removeBetween:function(u,d,c){var m=l.RemoveBetween(this.list,u,d,this.removeHandler,this);if(c)for(var x=0;x<m.length;x++)m[x].destroy();return this},removeAll:function(u){var d=this.list;if(u){for(var c=0;c<d.length;c++)d[c]&&d[c].scene&&(d[c].off(s.DESTROY,this.onChildDestroyed,this),d[c].destroy());this.list=[]}else l.RemoveBetween(d,0,d.length,this.removeHandler,this);return this},bringToTop:function(u){return l.BringToTop(this.list,u),this},sendToBack:function(u){return l.SendToBack(this.list,u),this},moveUp:function(u){return l.MoveUp(this.list,u),this},moveDown:function(u){return l.MoveDown(this.list,u),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return l.Shuffle(this.list),this},replace:function(u,d,c){var m=l.Replace(this.list,u,d);return m&&(this.addHandler(d),this.removeHandler(u),c&&u.destroy()),this},exists:function(u){return this.list.indexOf(u)>-1},setAll:function(u,d,c,m){return l.SetAll(this.list,u,d,c,m),this},each:function(u,d){var c=[null],m,x=this.list.slice(),g=x.length;for(m=2;m<arguments.length;m++)c.push(arguments[m]);for(m=0;m<g;m++)c[0]=x[m],u.apply(d,c);return this},iterate:function(u,d){var c=[null],m;for(m=2;m<arguments.length;m++)c.push(arguments[m]);for(m=0;m<this.list.length;m++)c[0]=this.list[m],u.apply(d,c);return this},setScrollFactor:function(u,d,c){return d===void 0&&(d=u),c===void 0&&(c=!1),this.scrollFactorX=u,this.scrollFactorY=d,c&&(l.SetAll(this.list,"scrollFactorX",u),l.SetAll(this.list,"scrollFactorY",d)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]},onChildDestroyed:function(u){l.Remove(this.list,u),this.exclusive&&(u.parentContainer=null,u.removedFromScene())}});p.exports=f},53584:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){v.addToRenderList(l);var r=l.list;if(r.length!==0){var s=l.localTransform;a?(s.loadIdentity(),s.multiply(a),s.translate(l.x,l.y),s.rotate(l.rotation),s.scale(l.scaleX,l.scaleY)):s.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);var e=l.blendMode!==-1;e||t.setBlendMode(0);var n=l._alpha,h=l.scrollFactorX,i=l.scrollFactorY;l.mask&&l.mask.preRenderCanvas(t,null,v);for(var o=0;o<r.length;o++){var f=r[o];if(f.willRender(v)){var u=f.alpha,d=f.scrollFactorX,c=f.scrollFactorY;!e&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode),f.setScrollFactor(d*h,c*i),f.setAlpha(u*n),f.renderCanvas(t,f,v,s),f.setAlpha(u),f.setScrollFactor(d,c)}}l.mask&&l.mask.postRenderCanvas(t)}};p.exports=y},77143:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(31559),a=t(44603),r=t(23568),s=t(95540);a.register("container",function(e,n){e===void 0&&(e={});var h=r(e,"x",0),i=r(e,"y",0),o=s(e,"children",null),f=new v(this.scene,h,i,o);return n!==void 0&&(e.add=n),l(this.scene,f,e),f})},24961:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(31559),v=t(39429);v.register("container",function(a,r,s){return this.displayList.add(new l(this.scene,a,r,s))})},29959:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(72249),a=t(53584),p.exports={renderWebGL:v,renderCanvas:a}},72249:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){v.addToRenderList(l);var r=l.list,s=r.length;if(s!==0){var e=l.localTransform;a?(e.loadIdentity(),e.multiply(a),e.translate(l.x,l.y),e.rotate(l.rotation),e.scale(l.scaleX,l.scaleY)):e.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),t.pipelines.preBatch(l);var n=l.blendMode!==-1;n||t.setBlendMode(0);for(var h=l.alpha,i=l.scrollFactorX,o=l.scrollFactorY,f=0;f<s;f++){var u=r[f];if(u.willRender(v)){var d,c,m,x;if(u.alphaTopLeft!==void 0)d=u.alphaTopLeft,c=u.alphaTopRight,m=u.alphaBottomLeft,x=u.alphaBottomRight;else{var g=u.alpha;d=g,c=g,m=g,x=g}var T=u.scrollFactorX,S=u.scrollFactorY;!n&&u.blendMode!==t.currentBlendMode&&t.setBlendMode(u.blendMode);var E=u.mask;E&&E.preRenderWebGL(t,u,v);var P=u.type;P!==t.currentType&&(t.newType=!0,t.currentType=P),t.nextTypeMatch=f<s-1?r[f+1].type===t.currentType:!1,u.setScrollFactor(T*i,S*o),u.setAlpha(d*h,c*h,m*h,x*h),u.renderWebGL(t,u,v,e,l),u.setAlpha(d,c,m,x),u.setScrollFactor(T,S),E&&E.postRenderWebGL(t,v),t.newType=!1}}t.pipelines.postBatch(l)}};p.exports=y},47407:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(441),r=t(95643),s=t(41212),e=t(35846),n=t(44594),h=t(61369),i=new l({Extends:r,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Origin,v.ScrollFactor,v.Transform,v.Visible,a],initialize:function(f,u,d,c,m,x){r.call(this,f,"DOMElement"),this.parent=f.sys.game.domContainer,this.cache=f.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new h,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(u,d),typeof c=="string"?c[0]==="#"?this.setElement(c.substr(1),m,x):this.createElement(c,m,x):c&&this.setElement(c,m,x),f.sys.events.on(n.SLEEP,this.handleSceneEvent,this),f.sys.events.on(n.WAKE,this.handleSceneEvent,this),f.sys.events.on(n.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(o){var f=this.node,u=f.style;f&&(u.display=o.settings.visible?"block":"none")},setSkew:function(o,f){return o===void 0&&(o=0),f===void 0&&(f=o),this.skewX=o,this.skewY=f,this},setPerspective:function(o){return this.parent.style.perspective=o+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(o){this.parent.style.perspective=o+"px"}},addListener:function(o){if(this.node){o=o.split(" ");for(var f=0;f<o.length;f++)this.node.addEventListener(o[f],this.handler,!1)}return this},removeListener:function(o){if(this.node){o=o.split(" ");for(var f=0;f<o.length;f++)this.node.removeEventListener(o[f],this.handler)}return this},dispatchNativeEvent:function(o){this.emit(o.type,o)},createElement:function(o,f,u){return this.setElement(document.createElement(o),f,u)},setElement:function(o,f,u){this.removeElement();var d;if(typeof o=="string"?(o[0]==="#"&&(o=o.substr(1)),d=document.getElementById(o)):typeof o=="object"&&o.nodeType===1&&(d=o),!d)return this;if(this.node=d,f&&s(f))for(var c in f)d.style[c]=f[c];else typeof f=="string"&&(d.style=f);return d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),u&&(d.innerText=u),this.updateSize()},createFromCache:function(o,f){var u=this.cache.get(o);return u&&this.createFromHTML(u,f),this},createFromHTML:function(o,f){f===void 0&&(f="div"),this.removeElement();var u=document.createElement(f);return this.node=u,u.style.zIndex="0",u.style.display="inline",u.style.position="absolute",u.phaser=this,this.parent&&this.parent.appendChild(u),u.innerHTML=o,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var o=this.node,f=o.getBoundingClientRect();return this.width=o.clientWidth,this.height=o.clientHeight,this.displayWidth=f.width||0,this.displayHeight=f.height||0,this},getChildByProperty:function(o,f){if(this.node){for(var u=this.node.querySelectorAll("*"),d=0;d<u.length;d++)if(u[d][o]===f)return u[d]}return null},getChildByID:function(o){return this.getChildByProperty("id",o)},getChildByName:function(o){return this.getChildByProperty("name",o)},setClassName:function(o){return this.node&&(this.node.className=o,this.updateSize()),this},setText:function(o){return this.node&&(this.node.innerText=o,this.updateSize()),this},setHTML:function(o){return this.node&&(this.node.innerHTML=o,this.updateSize()),this},preRender:function(){var o=this.parentContainer,f=this.node;f&&o&&!o.willRender()&&(f.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(n.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(n.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(n.PRE_RENDER,this.preRender,this)}});p.exports=i},49381:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(47407),v=t(95643),a=t(61340),r=new a,s=new a,e=new a,n=function(h,i,o,f){if(i.node){var u=i.node.style,d=i.scene.sys.settings;if(!u||!d.visible||v.RENDER_MASK!==i.renderFlags||i.cameraFilter!==0&&i.cameraFilter&o.id||i.parentContainer&&!i.parentContainer.willRender()){u.display="none";return}var c=i.parentContainer,m=o.alpha*i.alpha;c&&(m*=c.alpha);var x=r,g=s,T=e,S=0,E=0,P="0%",F="0%";f?(S=i.width*i.scaleX*i.originX,E=i.height*i.scaleY*i.originY,g.applyITRS(i.x-S,i.y-E,i.rotation,i.scaleX,i.scaleY),x.copyFrom(o.matrix),x.multiplyWithOffset(f,-o.scrollX*i.scrollFactorX,-o.scrollY*i.scrollFactorY),g.e=i.x-S,g.f=i.y-E,x.multiply(g,T)):(S=i.width*i.originX,E=i.height*i.originY,g.applyITRS(i.x-S,i.y-E,i.rotation,i.scaleX,i.scaleY),x.copyFrom(o.matrix),P=100*i.originX+"%",F=100*i.originY+"%",g.e-=o.scrollX*i.scrollFactorX,g.f-=o.scrollY*i.scrollFactorY,x.multiply(g,T)),i.transformOnly||(u.display="block",u.opacity=m,u.zIndex=i._depth,u.pointerEvents=i.pointerEvents,u.mixBlendMode=l[i._blendMode]),u.transform=T.getCSSMatrix()+" skew("+i.skewX+"rad, "+i.skewY+"rad) rotate3d("+i.rotate3d.x+","+i.rotate3d.y+","+i.rotate3d.z+","+i.rotate3d.w+i.rotate3dAngle+")",u.transformOrigin=P+" "+F}};p.exports=n},2611:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(3069),v=t(39429);v.register("dom",function(a,r,s,e,n){var h=new l(this.scene,a,r,s,e,n);return this.displayList.add(h),h})},441:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(49381),a=t(49381),p.exports={renderWebGL:v,renderCanvas:a}},62980:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},41337:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},44947:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},49358:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},35163:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="created"},97249:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="error"},19483:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="locked"},56059:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},26772:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="metadata"},64437:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="playing"},83411:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},75780:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeked"},67799:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeking"},63500:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stalled"},55541:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},53208:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="textureready"},4992:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},12:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unsupported"},51708:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(95643),r=t(64993),s=new l({Extends:a,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.Origin,v.ScrollFactor,v.Size,v.Texture,v.Tint,v.Transform,v.Visible,r],initialize:function(n){a.call(this,n,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});p.exports=s},70217:()=>{},56315:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42421),v=t(39429);v.register("extern",function(){var a=new l(this.scene);return this.displayList.add(a),a})},64993:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(80287),a=t(70217),p.exports={renderWebGL:v,renderCanvas:a}},80287:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=function(a,r,s,e){a.pipelines.clear();var n=l(r,s,e).calc;r.render.call(r,a,s,n),a.pipelines.rebind()};p.exports=v},85592:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71911),v=t(83419),a=t(85592),r=t(31401),s=t(8497),e=t(95643),n=t(95540),h=t(35154),i=t(36383),o=t(84503),f=new v({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.Transform,r.Visible,r.ScrollFactor,o],initialize:function(d,c){var m=h(c,"x",0),x=h(c,"y",0);e.call(this,d,"Graphics"),this.setPosition(m,x),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(c)},setDefaultStyles:function(u){return h(u,"lineStyle",null)&&(this.defaultStrokeWidth=h(u,"lineStyle.width",1),this.defaultStrokeColor=h(u,"lineStyle.color",16777215),this.defaultStrokeAlpha=h(u,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),h(u,"fillStyle",null)&&(this.defaultFillColor=h(u,"fillStyle.color",16777215),this.defaultFillAlpha=h(u,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(u,d,c){return c===void 0&&(c=1),this.commandBuffer.push(a.LINE_STYLE,u,d,c),this._lineWidth=u,this},fillStyle:function(u,d){return d===void 0&&(d=1),this.commandBuffer.push(a.FILL_STYLE,u,d),this},fillGradientStyle:function(u,d,c,m,x,g,T,S){return x===void 0&&(x=1),g===void 0&&(g=x),T===void 0&&(T=x),S===void 0&&(S=x),this.commandBuffer.push(a.GRADIENT_FILL_STYLE,x,g,T,S,u,d,c,m),this},lineGradientStyle:function(u,d,c,m,x,g){return g===void 0&&(g=1),this.commandBuffer.push(a.GRADIENT_LINE_STYLE,u,g,d,c,m,x),this},beginPath:function(){return this.commandBuffer.push(a.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(a.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(a.FILL_PATH),this},fill:function(){return this.commandBuffer.push(a.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(a.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(a.STROKE_PATH),this},fillCircleShape:function(u){return this.fillCircle(u.x,u.y,u.radius)},strokeCircleShape:function(u){return this.strokeCircle(u.x,u.y,u.radius)},fillCircle:function(u,d,c){return this.beginPath(),this.arc(u,d,c,0,i.PI2),this.fillPath(),this},strokeCircle:function(u,d,c){return this.beginPath(),this.arc(u,d,c,0,i.PI2),this.strokePath(),this},fillRectShape:function(u){return this.fillRect(u.x,u.y,u.width,u.height)},strokeRectShape:function(u){return this.strokeRect(u.x,u.y,u.width,u.height)},fillRect:function(u,d,c,m){return this.commandBuffer.push(a.FILL_RECT,u,d,c,m),this},strokeRect:function(u,d,c,m){var x=this._lineWidth/2,g=u-x,T=u+x;return this.beginPath(),this.moveTo(u,d),this.lineTo(u,d+m),this.strokePath(),this.beginPath(),this.moveTo(u+c,d),this.lineTo(u+c,d+m),this.strokePath(),this.beginPath(),this.moveTo(g,d),this.lineTo(T+c,d),this.strokePath(),this.beginPath(),this.moveTo(g,d+m),this.lineTo(T+c,d+m),this.strokePath(),this},fillRoundedRect:function(u,d,c,m,x){x===void 0&&(x=20);var g=x,T=x,S=x,E=x;typeof x!="number"&&(g=n(x,"tl",20),T=n(x,"tr",20),S=n(x,"bl",20),E=n(x,"br",20));var P=g>=0,F=T>=0,R=S>=0,M=E>=0;return g=Math.abs(g),T=Math.abs(T),S=Math.abs(S),E=Math.abs(E),this.beginPath(),this.moveTo(u+g,d),this.lineTo(u+c-T,d),F?this.arc(u+c-T,d+T,T,-i.TAU,0):this.arc(u+c,d,T,Math.PI,i.TAU,!0),this.lineTo(u+c,d+m-E),M?this.arc(u+c-E,d+m-E,E,0,i.TAU):this.arc(u+c,d+m,E,-i.TAU,Math.PI,!0),this.lineTo(u+S,d+m),R?this.arc(u+S,d+m-S,S,i.TAU,Math.PI):this.arc(u,d+m,S,0,-i.TAU,!0),this.lineTo(u,d+g),P?this.arc(u+g,d+g,g,-Math.PI,-i.TAU):this.arc(u,d,g,i.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(u,d,c,m,x){x===void 0&&(x=20);var g=x,T=x,S=x,E=x,P=Math.min(c,m)/2;typeof x!="number"&&(g=n(x,"tl",20),T=n(x,"tr",20),S=n(x,"bl",20),E=n(x,"br",20));var F=g>=0,R=T>=0,M=S>=0,O=E>=0;return g=Math.min(Math.abs(g),P),T=Math.min(Math.abs(T),P),S=Math.min(Math.abs(S),P),E=Math.min(Math.abs(E),P),this.beginPath(),this.moveTo(u+g,d),this.lineTo(u+c-T,d),this.moveTo(u+c-T,d),R?this.arc(u+c-T,d+T,T,-i.TAU,0):this.arc(u+c,d,T,Math.PI,i.TAU,!0),this.lineTo(u+c,d+m-E),this.moveTo(u+c,d+m-E),O?this.arc(u+c-E,d+m-E,E,0,i.TAU):this.arc(u+c,d+m,E,-i.TAU,Math.PI,!0),this.lineTo(u+S,d+m),this.moveTo(u+S,d+m),M?this.arc(u+S,d+m-S,S,i.TAU,Math.PI):this.arc(u,d+m,S,0,-i.TAU,!0),this.lineTo(u,d+g),this.moveTo(u,d+g),F?this.arc(u+g,d+g,g,-Math.PI,-i.TAU):this.arc(u,d,g,i.TAU,0,!0),this.strokePath(),this},fillPointShape:function(u,d){return this.fillPoint(u.x,u.y,d)},fillPoint:function(u,d,c){return!c||c<1?c=1:(u-=c/2,d-=c/2),this.commandBuffer.push(a.FILL_RECT,u,d,c,c),this},fillTriangleShape:function(u){return this.fillTriangle(u.x1,u.y1,u.x2,u.y2,u.x3,u.y3)},strokeTriangleShape:function(u){return this.strokeTriangle(u.x1,u.y1,u.x2,u.y2,u.x3,u.y3)},fillTriangle:function(u,d,c,m,x,g){return this.commandBuffer.push(a.FILL_TRIANGLE,u,d,c,m,x,g),this},strokeTriangle:function(u,d,c,m,x,g){return this.commandBuffer.push(a.STROKE_TRIANGLE,u,d,c,m,x,g),this},strokeLineShape:function(u){return this.lineBetween(u.x1,u.y1,u.x2,u.y2)},lineBetween:function(u,d,c,m){return this.beginPath(),this.moveTo(u,d),this.lineTo(c,m),this.strokePath(),this},lineTo:function(u,d){return this.commandBuffer.push(a.LINE_TO,u,d),this},moveTo:function(u,d){return this.commandBuffer.push(a.MOVE_TO,u,d),this},strokePoints:function(u,d,c,m){d===void 0&&(d=!1),c===void 0&&(c=!1),m===void 0&&(m=u.length),this.beginPath(),this.moveTo(u[0].x,u[0].y);for(var x=1;x<m;x++)this.lineTo(u[x].x,u[x].y);return d&&this.lineTo(u[0].x,u[0].y),c&&this.closePath(),this.strokePath(),this},fillPoints:function(u,d,c,m){d===void 0&&(d=!1),c===void 0&&(c=!1),m===void 0&&(m=u.length),this.beginPath(),this.moveTo(u[0].x,u[0].y);for(var x=1;x<m;x++)this.lineTo(u[x].x,u[x].y);return d&&this.lineTo(u[0].x,u[0].y),c&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(u,d){d===void 0&&(d=32);var c=u.getPoints(d);return this.strokePoints(c,!0)},strokeEllipse:function(u,d,c,m,x){x===void 0&&(x=32);var g=new s(u,d,c,m),T=g.getPoints(x);return this.strokePoints(T,!0)},fillEllipseShape:function(u,d){d===void 0&&(d=32);var c=u.getPoints(d);return this.fillPoints(c,!0)},fillEllipse:function(u,d,c,m,x){x===void 0&&(x=32);var g=new s(u,d,c,m),T=g.getPoints(x);return this.fillPoints(T,!0)},arc:function(u,d,c,m,x,g,T){return g===void 0&&(g=!1),T===void 0&&(T=0),this.commandBuffer.push(a.ARC,u,d,c,m,x,g,T),this},slice:function(u,d,c,m,x,g,T){return g===void 0&&(g=!1),T===void 0&&(T=0),this.commandBuffer.push(a.BEGIN_PATH),this.commandBuffer.push(a.MOVE_TO,u,d),this.commandBuffer.push(a.ARC,u,d,c,m,x,g,T),this.commandBuffer.push(a.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(a.SAVE),this},restore:function(){return this.commandBuffer.push(a.RESTORE),this},translateCanvas:function(u,d){return this.commandBuffer.push(a.TRANSLATE,u,d),this},scaleCanvas:function(u,d){return this.commandBuffer.push(a.SCALE,u,d),this},rotateCanvas:function(u){return this.commandBuffer.push(a.ROTATE,u),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(u,d,c){var m=this.scene.sys,x=m.game.renderer;d===void 0&&(d=m.scale.width),c===void 0&&(c=m.scale.height),f.TargetCamera.setScene(this.scene),f.TargetCamera.setViewport(0,0,d,c),f.TargetCamera.scrollX=this.x,f.TargetCamera.scrollY=this.y;var g,T,S={willReadFrequently:!0};if(typeof u=="string")if(m.textures.exists(u)){g=m.textures.get(u);var E=g.getSourceImage();E instanceof HTMLCanvasElement&&(T=E.getContext("2d",S))}else g=m.textures.createCanvas(u,d,c),T=g.getSourceImage().getContext("2d",S);else u instanceof HTMLCanvasElement&&(T=u.getContext("2d",S));return T&&(this.renderCanvas(x,this,f.TargetCamera,null,T,!1),g&&g.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new l,p.exports=f},32768:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85592),v=t(20926),a=function(r,s,e,n,h,i){var o=s.commandBuffer,f=o.length,u=h||r.currentContext;if(!(f===0||!v(r,u,s,e,n))){e.addToRenderList(s);var d=1,c=1,m=0,x=0,g=1,T=0,S=0,E=0;u.beginPath();for(var P=0;P<f;++P){var F=o[P];switch(F){case l.ARC:u.arc(o[P+1],o[P+2],o[P+3],o[P+4],o[P+5],o[P+6]),P+=7;break;case l.LINE_STYLE:g=o[P+1],m=o[P+2],d=o[P+3],T=(m&16711680)>>>16,S=(m&65280)>>>8,E=m&255,u.strokeStyle="rgba("+T+","+S+","+E+","+d+")",u.lineWidth=g,P+=3;break;case l.FILL_STYLE:x=o[P+1],c=o[P+2],T=(x&16711680)>>>16,S=(x&65280)>>>8,E=x&255,u.fillStyle="rgba("+T+","+S+","+E+","+c+")",P+=2;break;case l.BEGIN_PATH:u.beginPath();break;case l.CLOSE_PATH:u.closePath();break;case l.FILL_PATH:i||u.fill();break;case l.STROKE_PATH:i||u.stroke();break;case l.FILL_RECT:i?u.rect(o[P+1],o[P+2],o[P+3],o[P+4]):u.fillRect(o[P+1],o[P+2],o[P+3],o[P+4]),P+=4;break;case l.FILL_TRIANGLE:u.beginPath(),u.moveTo(o[P+1],o[P+2]),u.lineTo(o[P+3],o[P+4]),u.lineTo(o[P+5],o[P+6]),u.closePath(),i||u.fill(),P+=6;break;case l.STROKE_TRIANGLE:u.beginPath(),u.moveTo(o[P+1],o[P+2]),u.lineTo(o[P+3],o[P+4]),u.lineTo(o[P+5],o[P+6]),u.closePath(),i||u.stroke(),P+=6;break;case l.LINE_TO:u.lineTo(o[P+1],o[P+2]),P+=2;break;case l.MOVE_TO:u.moveTo(o[P+1],o[P+2]),P+=2;break;case l.LINE_FX_TO:u.lineTo(o[P+1],o[P+2]),P+=5;break;case l.MOVE_FX_TO:u.moveTo(o[P+1],o[P+2]),P+=5;break;case l.SAVE:u.save();break;case l.RESTORE:u.restore();break;case l.TRANSLATE:u.translate(o[P+1],o[P+2]),P+=2;break;case l.SCALE:u.scale(o[P+1],o[P+2]),P+=2;break;case l.ROTATE:u.rotate(o[P+1]),P+=1;break;case l.GRADIENT_FILL_STYLE:P+=5;break;case l.GRADIENT_LINE_STYLE:P+=6;break}}u.restore()}};p.exports=a},87079:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44603),v=t(43831);l.register("graphics",function(a,r){a===void 0&&(a={}),r!==void 0&&(a.add=r);var s=new v(this.scene,a);return a.add&&this.scene.sys.displayList.add(s),s})},1201:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43831),v=t(39429);v.register("graphics",function(a){return this.displayList.add(new l(this.scene,a))})},84503:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(77545),a=t(32768),a=t(32768),p.exports={renderWebGL:v,renderCanvas:a}},77545:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85592),v=t(91296),a=t(61340),r=t(70554),s=function(o,f,u){this.x=o,this.y=f,this.width=u},e=function(o,f,u){this.points=[],this.pointsLength=1,this.points[0]=new s(o,f,u)},n=[],h=new a,i=function(o,f,u,d){if(f.commandBuffer.length!==0){u.addToRenderList(f);var c=o.pipelines.set(f.pipeline,f);o.pipelines.preBatch(f);for(var m=v(f,u,d).calc,x=h.loadIdentity(),g=f.commandBuffer,T=u.alpha*f.alpha,S=1,E=c.fillTint,P=c.strokeTint,F=0,R=0,M=0,O=.01,I=Math.PI*2,V,X=[],z=0,Z=!0,N=null,Y=r.getTintAppendFloatAlpha,L=0;L<g.length;L++)switch(V=g[L],V){case l.BEGIN_PATH:{X.length=0,N=null,Z=!0;break}case l.CLOSE_PATH:{Z=!1,N&&N.points.length&&N.points.push(N.points[0]);break}case l.FILL_PATH:{for(z=0;z<X.length;z++)c.batchFillPath(X[z].points,x,m);break}case l.STROKE_PATH:{for(z=0;z<X.length;z++)c.batchStrokePath(X[z].points,S,Z,x,m);break}case l.LINE_STYLE:{S=g[++L];var b=g[++L],U=g[++L]*T,W=Y(b,U);P.TL=W,P.TR=W,P.BL=W,P.BR=W;break}case l.FILL_STYLE:{var j=g[++L],Q=g[++L]*T,_=Y(j,Q);E.TL=_,E.TR=_,E.BL=_,E.BR=_;break}case l.GRADIENT_FILL_STYLE:{var et=g[++L]*T,st=g[++L]*T,ct=g[++L]*T,gt=g[++L]*T;E.TL=Y(g[++L],et),E.TR=Y(g[++L],st),E.BL=Y(g[++L],ct),E.BR=Y(g[++L],gt);break}case l.GRADIENT_LINE_STYLE:{S=g[++L];var Et=g[++L]*T;P.TL=Y(g[++L],Et),P.TR=Y(g[++L],Et),P.BL=Y(g[++L],Et),P.BR=Y(g[++L],Et);break}case l.ARC:{var xt=0,Mt=g[++L],Vt=g[++L],Wt=g[++L],Nt=g[++L],Pt=g[++L],bt=g[++L],Gt=g[++L];for(Pt-=Nt,bt?Pt<-I?Pt=-I:Pt>0&&(Pt=-I+Pt%I):Pt>I?Pt=I:Pt<0&&(Pt=I+Pt%I),N===null&&(N=new e(Mt+Math.cos(Nt)*Wt,Vt+Math.sin(Nt)*Wt,S),X.push(N),xt+=O);xt<1+Gt;)M=Pt*xt+Nt,F=Mt+Math.cos(M)*Wt,R=Vt+Math.sin(M)*Wt,N.points.push(new s(F,R,S)),xt+=O;M=Pt+Nt,F=Mt+Math.cos(M)*Wt,R=Vt+Math.sin(M)*Wt,N.points.push(new s(F,R,S));break}case l.FILL_RECT:{c.batchFillRect(g[++L],g[++L],g[++L],g[++L],x,m);break}case l.FILL_TRIANGLE:{c.batchFillTriangle(g[++L],g[++L],g[++L],g[++L],g[++L],g[++L],x,m);break}case l.STROKE_TRIANGLE:{c.batchStrokeTriangle(g[++L],g[++L],g[++L],g[++L],g[++L],g[++L],S,x,m);break}case l.LINE_TO:{N!==null?N.points.push(new s(g[++L],g[++L],S)):(N=new e(g[++L],g[++L],S),X.push(N));break}case l.MOVE_TO:{N=new e(g[++L],g[++L],S),X.push(N);break}case l.SAVE:{n.push(x.copyToArray());break}case l.RESTORE:{x.copyFromArray(n.pop());break}case l.TRANSLATE:{Mt=g[++L],Vt=g[++L],x.translate(Mt,Vt);break}case l.SCALE:{Mt=g[++L],Vt=g[++L],x.scale(Mt,Vt);break}case l.ROTATE:{x.rotate(g[++L]);break}}o.pipelines.postBatch(f)}};p.exports=i},26479:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61061),v=t(83419),a=t(51708),r=t(50792),s=t(46710),e=t(95540),n=t(35154),h=t(97022),i=t(41212),o=t(88492),f=t(35072),u=t(68287),d=new v({Extends:r,initialize:function(m,x,g){r.call(this),g?x&&!Array.isArray(x)&&(x=[x]):Array.isArray(x)?i(x[0])&&(g=x,x=null):i(x)&&(g=x,x=null),this.scene=m,this.children=new f,this.isParent=!0,this.type="Group",this.classType=e(g,"classType",u),this.name=e(g,"name",""),this.active=e(g,"active",!0),this.maxSize=e(g,"maxSize",-1),this.defaultKey=e(g,"defaultKey",null),this.defaultFrame=e(g,"defaultFrame",null),this.runChildUpdate=e(g,"runChildUpdate",!1),this.createCallback=e(g,"createCallback",null),this.removeCallback=e(g,"removeCallback",null),this.createMultipleCallback=e(g,"createMultipleCallback",null),this.internalCreateCallback=e(g,"internalCreateCallback",null),this.internalRemoveCallback=e(g,"internalRemoveCallback",null),x&&this.addMultiple(x),g&&this.createMultiple(g),this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(c,m,x,g,T,S){if(c===void 0&&(c=0),m===void 0&&(m=0),x===void 0&&(x=this.defaultKey),g===void 0&&(g=this.defaultFrame),T===void 0&&(T=!0),S===void 0&&(S=!0),this.isFull())return null;var E=new this.classType(this.scene,c,m,x,g);return E.addToDisplayList(this.scene.sys.displayList),E.addToUpdateList(),E.visible=T,E.setActive(S),this.add(E),E},createMultiple:function(c){if(this.isFull())return[];Array.isArray(c)||(c=[c]);var m=[];if(c[0].key)for(var x=0;x<c.length;x++){var g=this.createFromConfig(c[x]);m=m.concat(g)}return m},createFromConfig:function(c){if(this.isFull())return[];this.classType=e(c,"classType",this.classType);var m=e(c,"key",void 0),x=e(c,"frame",null),g=e(c,"visible",!0),T=e(c,"active",!0),S=[];if(m===void 0)return S;Array.isArray(m)||(m=[m]),Array.isArray(x)||(x=[x]);var E=e(c,"repeat",0),P=e(c,"randomKey",!1),F=e(c,"randomFrame",!1),R=e(c,"yoyo",!1),M=e(c,"quantity",!1),O=e(c,"frameQuantity",1),I=e(c,"max",0),V=o(m,x,{max:I,qty:M||O,random:P,randomB:F,repeat:E,yoyo:R});c.createCallback&&(this.createCallback=c.createCallback),c.removeCallback&&(this.removeCallback=c.removeCallback),c.internalCreateCallback&&(this.internalCreateCallback=c.internalCreateCallback),c.internalRemoveCallback&&(this.internalRemoveCallback=c.internalRemoveCallback);for(var X=0;X<V.length;X++){var z=this.create(0,0,V[X].a,V[X].b,g,T);if(!z)break;S.push(z)}if(h(c,"setXY")){var Z=n(c,"setXY.x",0),N=n(c,"setXY.y",0),Y=n(c,"setXY.stepX",0),L=n(c,"setXY.stepY",0);l.SetXY(S,Z,N,Y,L)}if(h(c,"setRotation")){var b=n(c,"setRotation.value",0),U=n(c,"setRotation.step",0);l.SetRotation(S,b,U)}if(h(c,"setScale")){var W=n(c,"setScale.x",1),j=n(c,"setScale.y",W),Q=n(c,"setScale.stepX",0),_=n(c,"setScale.stepY",0);l.SetScale(S,W,j,Q,_)}if(h(c,"setOrigin")){var et=n(c,"setOrigin.x",.5),st=n(c,"setOrigin.y",et),ct=n(c,"setOrigin.stepX",0),gt=n(c,"setOrigin.stepY",0);l.SetOrigin(S,et,st,ct,gt)}if(h(c,"setAlpha")){var Et=n(c,"setAlpha.value",1),xt=n(c,"setAlpha.step",0);l.SetAlpha(S,Et,xt)}if(h(c,"setDepth")){var Mt=n(c,"setDepth.value",0),Vt=n(c,"setDepth.step",0);l.SetDepth(S,Mt,Vt)}if(h(c,"setScrollFactor")){var Wt=n(c,"setScrollFactor.x",1),Nt=n(c,"setScrollFactor.y",Wt),Pt=n(c,"setScrollFactor.stepX",0),bt=n(c,"setScrollFactor.stepY",0);l.SetScrollFactor(S,Wt,Nt,Pt,bt)}var Gt=e(c,"hitArea",null),Zt=e(c,"hitAreaCallback",null);Gt&&l.SetHitArea(S,Gt,Zt);var $t=e(c,"gridAlign",!1);return $t&&l.GridAlign(S,$t),this.createMultipleCallback&&this.createMultipleCallback.call(this,S),S},preUpdate:function(c,m){if(!(!this.runChildUpdate||this.children.size===0))for(var x=this.children.entries.slice(),g=0;g<x.length;g++){var T=x[g];T.active&&T.update(c,m)}},add:function(c,m){return m===void 0&&(m=!1),this.isFull()?this:(this.children.set(c),this.internalCreateCallback&&this.internalCreateCallback.call(this,c),this.createCallback&&this.createCallback.call(this,c),m&&(c.addToDisplayList(this.scene.sys.displayList),c.addToUpdateList()),c.on(a.DESTROY,this.remove,this),this)},addMultiple:function(c,m){if(m===void 0&&(m=!1),Array.isArray(c))for(var x=0;x<c.length;x++)this.add(c[x],m);return this},remove:function(c,m,x){return m===void 0&&(m=!1),x===void 0&&(x=!1),this.children.contains(c)?(this.children.delete(c),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,c),this.removeCallback&&this.removeCallback.call(this,c),c.off(a.DESTROY,this.remove,this),x?c.destroy():m&&(c.removeFromDisplayList(),c.removeFromUpdateList()),this):this},clear:function(c,m){c===void 0&&(c=!1),m===void 0&&(m=!1);for(var x=this.children,g=0;g<x.size;g++){var T=x.entries[g];T.off(a.DESTROY,this.remove,this),m?T.destroy():c&&(T.removeFromDisplayList(),T.removeFromUpdateList())}return this.children.clear(),this},contains:function(c){return this.children.contains(c)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(c,m,x,g){return s(this.children.entries,c,m,x,g)},getFirst:function(c,m,x,g,T,S,E){return this.getHandler(!0,1,c,m,x,g,T,S,E)},getFirstNth:function(c,m,x,g,T,S,E,P){return this.getHandler(!0,c,m,x,g,T,S,E,P)},getLast:function(c,m,x,g,T,S,E){return this.getHandler(!1,1,c,m,x,g,T,S,E)},getLastNth:function(c,m,x,g,T,S,E,P){return this.getHandler(!1,c,m,x,g,T,S,E,P)},getHandler:function(c,m,x,g,T,S,E,P,F){x===void 0&&(x=!1),g===void 0&&(g=!1);var R,M,O=0,I=this.children.entries;if(c)for(M=0;M<I.length;M++)if(R=I[M],R.active===x){if(O++,O===m)break}else R=null;else for(M=I.length-1;M>=0;M--)if(R=I[M],R.active===x){if(O++,O===m)break}else R=null;return R?(typeof T=="number"&&(R.x=T),typeof S=="number"&&(R.y=S),R):g?this.create(T,S,E,P,F):null},get:function(c,m,x,g,T){return this.getFirst(!1,!0,c,m,x,g,T)},getFirstAlive:function(c,m,x,g,T,S){return this.getFirst(!0,c,m,x,g,T,S)},getFirstDead:function(c,m,x,g,T,S){return this.getFirst(!1,c,m,x,g,T,S)},playAnimation:function(c,m){return l.PlayAnimation(this.children.entries,c,m),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(c){c===void 0&&(c=!0);for(var m=0,x=0;x<this.children.size;x++)this.children.entries[x].active===c&&m++;return m},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var c=this.getTotalUsed(),m=this.maxSize===-1?999999999999:this.maxSize;return m-c},setActive:function(c){return this.active=c,this},setName:function(c){return this.name=c,this},propertyValueSet:function(c,m,x,g,T){return l.PropertyValueSet(this.children.entries,c,m,x,g,T),this},propertyValueInc:function(c,m,x,g,T){return l.PropertyValueInc(this.children.entries,c,m,x,g,T),this},setX:function(c,m){return l.SetX(this.children.entries,c,m),this},setY:function(c,m){return l.SetY(this.children.entries,c,m),this},setXY:function(c,m,x,g){return l.SetXY(this.children.entries,c,m,x,g),this},incX:function(c,m){return l.IncX(this.children.entries,c,m),this},incY:function(c,m){return l.IncY(this.children.entries,c,m),this},incXY:function(c,m,x,g){return l.IncXY(this.children.entries,c,m,x,g),this},shiftPosition:function(c,m,x){return l.ShiftPosition(this.children.entries,c,m,x),this},angle:function(c,m){return l.Angle(this.children.entries,c,m),this},rotate:function(c,m){return l.Rotate(this.children.entries,c,m),this},rotateAround:function(c,m){return l.RotateAround(this.children.entries,c,m),this},rotateAroundDistance:function(c,m,x){return l.RotateAroundDistance(this.children.entries,c,m,x),this},setAlpha:function(c,m){return l.SetAlpha(this.children.entries,c,m),this},setTint:function(c,m,x,g){return l.SetTint(this.children.entries,c,m,x,g),this},setOrigin:function(c,m,x,g){return l.SetOrigin(this.children.entries,c,m,x,g),this},scaleX:function(c,m){return l.ScaleX(this.children.entries,c,m),this},scaleY:function(c,m){return l.ScaleY(this.children.entries,c,m),this},scaleXY:function(c,m,x,g){return l.ScaleXY(this.children.entries,c,m,x,g),this},setDepth:function(c,m){return l.SetDepth(this.children.entries,c,m),this},setBlendMode:function(c){return l.SetBlendMode(this.children.entries,c),this},setHitArea:function(c,m){return l.SetHitArea(this.children.entries,c,m),this},shuffle:function(){return l.Shuffle(this.children.entries),this},kill:function(c){this.children.contains(c)&&c.setActive(!1)},killAndHide:function(c){this.children.contains(c)&&(c.setActive(!1),c.setVisible(!1))},setVisible:function(c,m,x){return l.SetVisible(this.children.entries,c,m,x),this},toggleVisible:function(){return l.ToggleVisible(this.children.entries),this},destroy:function(c,m){c===void 0&&(c=!1),m===void 0&&(m=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(a.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(m,c),this.scene=void 0,this.children=void 0)}});p.exports=d},94975:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44603),v=t(26479);l.register("group",function(a){return new v(this.scene,null,a)})},3385:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26479),v=t(39429);v.register("group",function(a,r){return this.updateList.add(new l(this.scene,a,r))})},88571:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(95643),r=t(59819),s=new l({Extends:a,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.TextureCrop,v.Tint,v.Transform,v.Visible,r],initialize:function(n,h,i,o,f){a.call(this,n,"Image"),this._crop=this.resetCropObject(),this.setTexture(o,f),this.setPosition(h,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=s},40652:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){v.addToRenderList(l),t.batchSprite(l,l.frame,v,a)};p.exports=y},82459:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(88571);v.register("image",function(s,e){s===void 0&&(s={});var n=a(s,"key",null),h=a(s,"frame",null),i=new r(this.scene,0,0,n,h);return e!==void 0&&(s.add=e),l(this.scene,i,s),i})},2117:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88571),v=t(39429);v.register("image",function(a,r,s,e){return this.displayList.add(new l(this.scene,a,r,s,e))})},59819:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(99517),a=t(40652),p.exports={renderWebGL:v,renderCanvas:a}},99517:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){v.addToRenderList(l),this.pipeline.batchSprite(l,v,a)};p.exports=y},77856:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};l.Shader=t(20071),l.Mesh=t(4703),l.NineSlice=t(28103),l.PointLight=t(80321),l.Plane=t(33663),l.Factories.Shader=t(74177),l.Factories.Mesh=t(9225),l.Factories.NineSlice=t(47521),l.Factories.PointLight=t(71255),l.Factories.Plane=t(30985),l.Creators.Shader=t(54935),l.Creators.Mesh=t(20527),l.Creators.NineSlice=t(28279),l.Creators.PointLight=t(39829),l.Creators.Plane=t(56015),l.Light=t(41432),l.LightsManager=t(61356),l.LightsPlugin=t(88992),p.exports=l},93595:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),v=t(83419),a=t(31401),r=t(53774),s=t(45893),e=t(50792),n=t(51708),h=t(73162),i=t(33963),o=t(44594),f=t(19186),u=new v({Extends:h,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.PostPipeline,a.Visible,e,i],initialize:function(c,m){h.call(this,c),e.call(this),this.scene=c,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=c.sys,this.events=c.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(l.SKIP_CHECK),m&&this.add(m),c.sys.queueDepthSort()},setActive:function(d){return this.active=d,this},setName:function(d){return this.name=d,this},setState:function(d){return this.state=d,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(d,c){return this.data||(this.data=new s(this)),this.data.set(d,c),this},incData:function(d,c){return this.data||(this.data=new s(this)),this.data.inc(d,c),this},toggleData:function(d){return this.data||(this.data=new s(this)),this.data.toggle(d),this},getData:function(d){return this.data||(this.data=new s(this)),this.data.get(d)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return r(this)},willRender:function(d){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&d.id)},getIndexList:function(){for(var d=this,c=this.parentContainer,m=[];c&&(m.unshift(c.getIndex(d)),d=c,c.parentContainer);)c=c.parentContainer;return m.unshift(this.displayList.getIndex(d)),m},addChildCallback:function(d){var c=d.displayList;c&&c!==this&&d.removeFromDisplayList(),d.displayList||(this.queueDepthSort(),d.displayList=this,d.emit(n.ADDED_TO_SCENE,d,this.scene),this.events.emit(o.ADDED_TO_SCENE,d,this.scene))},removeChildCallback:function(d){this.queueDepthSort(),d.displayList=null,d.emit(n.REMOVED_FROM_SCENE,d,this.scene),this.events.emit(o.REMOVED_FROM_SCENE,d,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(d,c){return d._depth-c._depth},getChildren:function(){return this.list},addToDisplayList:function(d){return d===void 0&&(d=this.scene.sys.displayList),this.displayList&&this.displayList!==d&&this.removeFromDisplayList(),d.exists(this)||(this.displayList=d,d.add(this,!0),d.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),d.events.emit(o.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var d=this.displayList||this.scene.sys.displayList;return d.exists(this)&&(d.remove(this,!0),d.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),d.events.emit(o.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(d){if(!(!this.scene||this.ignoreDestroy)){this.emit(n.DESTROY,this);for(var c=this.list;c.length;)c[0].destroy(d);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});p.exports=u},2956:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){var a=l.list;if(a.length!==0){l.depthSort();var r=l.blendMode!==-1;r||t.setBlendMode(0);var s=l._alpha;l.mask&&l.mask.preRenderCanvas(t,null,v);for(var e=0;e<a.length;e++){var n=a[e];if(n.willRender(v)){var h=n.alpha;!r&&n.blendMode!==t.currentBlendMode&&t.setBlendMode(n.blendMode),n.setAlpha(h*s),n.renderCanvas(t,n,v),n.setAlpha(h)}}l.mask&&l.mask.postRenderCanvas(t)}};p.exports=y},25179:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(93595),a=t(44603),r=t(23568);a.register("layer",function(s,e){s===void 0&&(s={});var n=r(s,"children",null),h=new v(this.scene,n);return e!==void 0&&(s.add=e),l(this.scene,h,s),h})},20005:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93595),v=t(39429);v.register("layer",function(a){return this.displayList.add(new l(this.scene,a))})},33963:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(15869),a=t(2956),p.exports={renderWebGL:v,renderCanvas:a}},15869:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){var a=l.list,r=a.length;if(r!==0){l.depthSort(),t.pipelines.preBatch(l);var s=l.blendMode!==-1;s||t.setBlendMode(0);for(var e=l.alpha,n=0;n<r;n++){var h=a[n];if(h.willRender(v)){var i,o,f,u;if(h.alphaTopLeft!==void 0)i=h.alphaTopLeft,o=h.alphaTopRight,f=h.alphaBottomLeft,u=h.alphaBottomRight;else{var d=h.alpha;i=d,o=d,f=d,u=d}!s&&h.blendMode!==t.currentBlendMode&&t.setBlendMode(h.blendMode);var c=h.mask;c&&c.preRenderWebGL(t,h,v);var m=h.type;m!==t.currentType&&(t.newType=!0,t.currentType=m),t.nextTypeMatch=n<r-1?a[n+1].type===t.currentType:!1,h.setAlpha(i*e,o*e,f*e,u*e),h.renderWebGL(t,h,v),h.setAlpha(i,o,f,u),c&&c.postRenderWebGL(t,v),t.newType=!1}}t.pipelines.postBatch(l)}};p.exports=y},41432:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(96503),v=t(83419),a=t(31401),r=t(51767),s=t(70554),e=new v({Extends:l,Mixins:[a.Origin,a.ScrollFactor,a.Visible],initialize:function(h,i,o,f,u,d,c){l.call(this,h,i,o),this.color=new r(f,u,d),this.intensity=c,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(o)},displayWidth:{get:function(){return this.diameter},set:function(n){this.diameter=n}},displayHeight:{get:function(){return this.diameter},set:function(n){this.diameter=n}},width:{get:function(){return this.diameter},set:function(n){this.diameter=n}},height:{get:function(){return this.diameter},set:function(n){this.diameter=n}},willRender:function(n){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&n.id)},setColor:function(n){var h=s.getFloatsFromUintRGB(n);return this.color.set(h[0],h[1],h[2]),this},setIntensity:function(n){return this.intensity=n,this},setRadius:function(n){return this.radius=n,this}});e.RENDER_MASK=15,p.exports=e},61356:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(81491),v=t(83419),a=t(20339),r=t(41432),s=t(80321),e=t(51767),n=t(19133),h=t(19186),i=t(70554),o=new v({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(f,u,d,c,m,x){return this.systems.displayList.add(new s(this.scene,f,u,d,c,m,x))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(f){for(var u=this.lights,d=f.worldView,c=[],m=0;m<u.length;m++){var x=u[m];x.willRender(f)&&l(x,d)&&c.push({light:x,distance:a(x.x,x.y,d.centerX,d.centerY)})}return c.length>this.maxLights&&(h(c,this.sortByDistance),c=c.slice(0,this.maxLights)),this.visibleLights=c.length,c},sortByDistance:function(f,u){return f.distance>=u.distance},setAmbientColor:function(f){var u=i.getFloatsFromUintRGB(f);return this.ambientColor.set(u[0],u[1],u[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(f,u,d,c,m){f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=128),c===void 0&&(c=16777215),m===void 0&&(m=1);var x=i.getFloatsFromUintRGB(c),g=new r(f,u,d,x[0],x[1],x[2],m);return this.lights.push(g),g},removeLight:function(f){var u=this.lights.indexOf(f);return u>=0&&n(this.lights,u),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});p.exports=o},88992:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(61356),a=t(37277),r=t(44594),s=new l({Extends:v,initialize:function(n){this.scene=n,this.systems=n.sys,n.sys.settings.isBooted||n.sys.events.once(r.BOOT,this.boot,this),v.call(this)},boot:function(){var e=this.systems.events;e.on(r.SHUTDOWN,this.shutdown,this),e.on(r.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});a.register("LightsPlugin",s,"lights"),p.exports=s},4703:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(39506),r=t(83997),s=t(95643),e=t(34684),n=t(92515),h=t(91296),i=t(37867),o=t(29807),f=t(43396),u=t(19186),d=t(25836),c=t(39318),m=new l({Extends:s,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.Texture,v.Transform,v.Visible,o],initialize:function(g,T,S,E,P,F,R,M,O,I,V,X){T===void 0&&(T=0),S===void 0&&(S=0),E===void 0&&(E="__WHITE"),s.call(this,g,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new d,this.modelScale=new d(1,1,1),this.modelRotation=new d,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new i,this.viewPosition=new d,this.viewMatrix=new i,this.projectionMatrix=new i,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var z=g.sys.renderer;this.setPosition(T,S),this.setTexture(E,P),this.setSize(z.width,z.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(z.width,z.height),F&&this.addVertices(F,R,M,O,I,V,X)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(x){return this.viewPosition.addScale(d.LEFT,x),this.dirtyCache[10]=1,this},panY:function(x){return this.viewPosition.y+=d.DOWN.y*x,this.dirtyCache[10]=1,this},panZ:function(x){return this.viewPosition.z+=x,this.dirtyCache[10]=1,this},setPerspective:function(x,g,T,S,E){return T===void 0&&(T=45),S===void 0&&(S=.01),E===void 0&&(E=1e3),this.fov=T,this.projectionMatrix.perspective(a(T),x/g,S,E),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(x,g,T,S){return x===void 0&&(x=this.scene.sys.renderer.getAspectRatio()),g===void 0&&(g=1),T===void 0&&(T=-1e3),S===void 0&&(S=1e3),this.fov=0,this.projectionMatrix.ortho(-x,x,-g,g,T,S),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(x){x.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(x,g,T,S,E,P,F,R,M){var O=this.scene.sys.cache.obj.get(x),I;return O&&(I=e(O,this,g,T,S,E,P,F,R,M)),(!I||I.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",x),this},sortByDepth:function(x,g){return x.depth-g.depth},depthSort:function(){return u(this.faces,this.sortByDepth),this},addVertex:function(x,g,T,S,E,P,F){var R=new c(x,g,T,S,E,P,F);return this.vertices.push(R),R},addFace:function(x,g,T){var S=new r(x,g,T);return this.faces.push(S),this.dirtyCache[9]=-1,S},addVertices:function(x,g,T,S,E,P,F){var R=n(x,g,T,S,E,P,F);return R?(this.faces=this.faces.concat(R.faces),this.vertices=this.vertices.concat(R.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(x){return this.faces[x]},hasFaceAt:function(x,g,T){T===void 0&&(T=this.scene.sys.cameras.main);for(var S=h(this,T).calc,E=this.faces,P=0;P<E.length;P++){var F=E[P];if(F.contains(x,g,S))return!0}return!1},getFaceAt:function(x,g,T){T===void 0&&(T=this.scene.sys.cameras.main);for(var S=h(this,T).calc,E=this.faces,P=[],F=0;F<E.length;F++){var R=E[F];R.contains(x,g,S)&&P.push(R)}return u(P,this.sortByDepth)},setDebug:function(x,g){return this.debugGraphic=x,!x&&!g?this.debugCallback=null:g?this.debugCallback=g:this.debugCallback=this.renderDebug,this},isDirty:function(){var x=this.modelPosition,g=this.modelRotation,T=this.modelScale,S=this.dirtyCache,E=x.x,P=x.y,F=x.z,R=g.x,M=g.y,O=g.z,I=T.x,V=T.y,X=T.z,z=this.getFaceCount(),Z=S[0],N=S[1],Y=S[2],L=S[3],b=S[4],U=S[5],W=S[6],j=S[7],Q=S[8],_=S[9];return S[0]=E,S[1]=P,S[2]=F,S[3]=R,S[4]=M,S[5]=O,S[6]=I,S[7]=V,S[8]=X,S[9]=z,Z!==E||N!==P||Y!==F||L!==R||b!==M||U!==O||W!==I||j!==V||Q!==X||_!==z},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var x=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!x[10]&&!this.isDirty())){var g=this.width,T=this.height,S=this.viewMatrix,E=this.viewPosition;x[10]&&(S.identity(),S.translate(E),S.invert(),x[10]=0);var P=this.transformMatrix;P.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var F=E.z,R=this.faces,M=0;M<R.length;M++)R[M].transformCoordinatesLocal(P,g,T,F);this.depthSort()}},renderDebug:function(x,g){for(var T=x.debugGraphic,S=0;S<g.length;S++){var E=g[S],P=E.vertex1.tx,F=E.vertex1.ty,R=E.vertex2.tx,M=E.vertex2.ty,O=E.vertex3.tx,I=E.vertex3.ty;T.strokeTriangle(P,F,R,M,O,I)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(x){x===void 0&&(x={});var g=(function(T,S,E){for(var P=this.faces,F=0;F<P.length;F++){var R=P[F];if(R.contains(S,E))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,x,g),this},setTint:function(x){x===void 0&&(x=16777215);for(var g=this.vertices,T=0;T<g.length;T++)g[T].color=x;return this},uvScroll:function(x,g){for(var T=this.faces,S=0;S<T.length;S++)T[S].scrollUV(x,g);return this},uvScale:function(x,g){for(var T=this.faces,S=0;S<T.length;S++)T[S].scaleUV(x,g);return this},tint:{set:function(x){this.setTint(x)}},rotateX:{get:function(){return f(this.modelRotation.x)},set:function(x){this.modelRotation.x=a(x)}},rotateY:{get:function(){return f(this.modelRotation.y)},set:function(x){this.modelRotation.y=a(x)}},rotateZ:{get:function(){return f(this.modelRotation.z)},set:function(x){this.modelRotation.z=a(x)}}});p.exports=m},36488:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};p.exports=y},20527:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(35154),s=t(4703);v.register("mesh",function(e,n){e===void 0&&(e={});var h=a(e,"key",null),i=a(e,"frame",null),o=r(e,"vertices",[]),f=r(e,"uvs",[]),u=r(e,"indicies",[]),d=r(e,"containsZ",!1),c=r(e,"normals",[]),m=r(e,"colors",16777215),x=r(e,"alphas",1),g=new s(this.scene,0,0,h,i,o,f,u,d,c,m,x);return n!==void 0&&(e.add=n),l(this.scene,g,e),g})},9225:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(4703),v=t(39429);v.register("mesh",function(a,r,s,e,n,h,i,o,f,u,d){return this.displayList.add(new l(this.scene,a,r,s,e,n,h,i,o,f,u,d))})},29807:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(48833),a=t(36488),p.exports={renderWebGL:v,renderCanvas:a}},48833:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=function(a,r,s,e){var n=r.faces,h=n.length;if(h!==0){s.addToRenderList(r);var i=a.pipelines.set(r.pipeline,r),o=l(r,s,e).calc;a.pipelines.preBatch(r);for(var f=i.setGameObject(r),u=i.vertexViewF32,d=i.vertexViewU32,c=i.vertexCount*i.currentShader.vertexComponentCount-1,m=r.tintFill,x=[],g=r.debugCallback,T=o.a,S=o.b,E=o.c,P=o.d,F=o.e,R=o.f,M=r.viewPosition.z,O=r.hideCCW,I=s.roundPixels,V=s.alpha*r.alpha,X=0,z=0;z<h;z++){var Z=n[z];Z.isInView(s,O,M,V,T,S,E,P,F,R,I)&&(i.shouldFlush(3)&&(i.flush(),f=i.setGameObject(r),c=0),c=Z.load(u,d,c,f,m),X++,i.vertexCount+=3,i.currentBatch.count=i.vertexCount-i.currentBatch.start,g&&x.push(Z))}r.totalFrame+=X,g&&g.call(r,r,x),a.pipelines.postBatch(r)}};p.exports=v},28103:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(95643),r=t(78023),s=t(39318),e=new l({Extends:a,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,r],initialize:function(h,i,o,f,u,d,c,m,x,g,T){a.call(this,h,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var S=h.textures.getFrame(f,u);this.is3Slice=!g&&!T,S.scale9&&(this.is3Slice=S.is3Slice);for(var E=this.is3Slice?18:54,P=0;P<E;P++)this.vertices.push(new s);this.setPosition(i,o),this.setTexture(f,u),this.setSlices(d,c,m,x,g,T,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(n,h,i,o,f,u,d){i===void 0&&(i=10),o===void 0&&(o=10),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=!1);var c=this.frame,m=!1;if(this.is3Slice&&d&&f!==0&&u!==0&&(m=!0),m)console.warn("Cannot change 9 slice to 3 slice");else{if(c.scale9&&!d){var x=c.data.scale9Borders,g=x.x,T=x.y;i=g,o=c.width-x.w-g,f=T,u=c.height-x.h-T,n===void 0&&(n=c.width),h===void 0&&(h=c.height)}else n===void 0&&(n=256),h===void 0&&(h=256);this._width=n,this._height=h,this.leftWidth=i,this.rightWidth=o,this.topHeight=f,this.bottomHeight=u,this.is3Slice&&(h=c.height,this._height=h,this.topHeight=h,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var n=this.leftWidth,h=this.rightWidth,i=this.topHeight,o=this.bottomHeight,f=this.frame.width,u=this.frame.height;this.updateQuadUVs(0,0,0,n/f,i/u),this.updateQuadUVs(6,n/f,0,1-h/f,i/u),this.updateQuadUVs(12,1-h/f,0,1,i/u),this.is3Slice||(this.updateQuadUVs(18,0,i/u,n/f,1-o/u),this.updateQuadUVs(24,n/f,i/u,1-h/f,1-o/u),this.updateQuadUVs(30,1-h/f,i/u,1,1-o/u),this.updateQuadUVs(36,0,1-o/u,n/f,1),this.updateQuadUVs(42,n/f,1-o/u,1-h/f,1),this.updateQuadUVs(48,1-h/f,1-o/u,1,1))},updateVertices:function(){var n=this.leftWidth,h=this.rightWidth,i=this.topHeight,o=this.bottomHeight,f=this.width,u=this.height;this.updateQuad(0,-.5,.5,-.5+n/f,.5-i/u),this.updateQuad(6,-.5+n/f,.5,.5-h/f,.5-i/u),this.updateQuad(12,.5-h/f,.5,.5,.5-i/u),this.is3Slice||(this.updateQuad(18,-.5,.5-i/u,-.5+n/f,-.5+o/u),this.updateQuad(24,-.5+n/f,.5-i/u,.5-h/f,-.5+o/u),this.updateQuad(30,.5-h/f,.5-i/u,.5,-.5+o/u),this.updateQuad(36,-.5,-.5+o/u,-.5+n/f,-.5),this.updateQuad(42,-.5+n/f,-.5+o/u,.5-h/f,-.5),this.updateQuad(48,.5-h/f,-.5+o/u,.5,-.5))},updateQuad:function(n,h,i,o,f){var u=this.width,d=this.height,c=this.originX,m=this.originY,x=this.vertices;x[n+0].resize(h,i,u,d,c,m),x[n+1].resize(h,f,u,d,c,m),x[n+2].resize(o,i,u,d,c,m),x[n+3].resize(h,f,u,d,c,m),x[n+4].resize(o,f,u,d,c,m),x[n+5].resize(o,i,u,d,c,m)},updateQuadUVs:function(n,h,i,o,f){var u=this.vertices,d=this.frame,c=d.u0,m=d.v0,x=d.u1,g=d.v1;if(c!==0||x!==1){var T=x-c;h=c+h*T,o=c+o*T}if(m!==0||g!==1){var S=g-m;i=m+i*S,f=m+f*S}u[n+0].setUVs(h,i),u[n+1].setUVs(h,f),u[n+2].setUVs(o,i),u[n+3].setUVs(h,f),u[n+4].setUVs(o,f),u[n+5].setUVs(o,i)},clearTint:function(){return this.setTint(16777215),this},setTint:function(n){return n===void 0&&(n=16777215),this.tint=n,this.tintFill=!1,this},setTintFill:function(n){return this.setTint(n),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(n){this._width=Math.max(n,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(n){this.is3Slice||(this._height=Math.max(n,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}},setSize:function(n,h){this.width=n,this.height=h,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},setDisplaySize:function(n,h){return this.displayWidth=n,this.displayHeight=h,this},originX:{get:function(){return this._originX},set:function(n){this._originX=n,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(n){this._originY=n,this.updateVertices()}},setOrigin:function(n,h){return n===void 0&&(n=.5),h===void 0&&(h=n),this._originX=n,this._originY=h,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var n=this.frame.height;this._height=n,this.topHeight=n,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});p.exports=e},28279:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(35154),s=t(28103);v.register("nineslice",function(e,n){e===void 0&&(e={});var h=a(e,"key",null),i=a(e,"frame",null),o=r(e,"width",256),f=r(e,"height",256),u=r(e,"leftWidth",10),d=r(e,"rightWidth",10),c=r(e,"topHeight",0),m=r(e,"bottomHeight",0),x=new s(this.scene,0,0,h,i,o,f,u,d,c,m);return n!==void 0&&(e.add=n),l(this.scene,x,e),x})},47521:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28103),v=t(39429);v.register("nineslice",function(a,r,s,e,n,h,i,o,f,u){return this.displayList.add(new l(this.scene,a,r,s,e,n,h,i,o,f,u))})},78023:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(52230),p.exports={renderWebGL:v,renderCanvas:a}},52230:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=t(70554),a=function(r,s,e,n){var h=s.vertices,i=h.length;if(i!==0){e.addToRenderList(s);var o=r.pipelines.set(s.pipeline,s),f=l(s,e,n,!1).calc;r.pipelines.preBatch(s);var u=o.setGameObject(s),d=o.vertexViewF32,c=o.vertexViewU32,m=o.vertexCount*o.currentShader.vertexComponentCount-1,x=e.roundPixels,g=s.tintFill,T=e.alpha*s.alpha,S=v.getTintAppendFloatAlpha(s.tint,T),E=o.vertexAvailable(),P=-1;E<i&&(P=E);for(var F=0;F<i;F++){var R=h[F];F===P&&(o.flush(),u=o.setGameObject(s),m=0),d[++m]=f.getXRound(R.vx,R.vy,x),d[++m]=f.getYRound(R.vx,R.vy,x),d[++m]=R.u,d[++m]=R.v,d[++m]=u,d[++m]=g,c[++m]=S,o.vertexCount++,o.currentBatch.count=o.vertexCount-o.currentBatch.start}r.pipelines.postBatch(s)}};p.exports=a},76472:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(44777),a=t(37589),r=t(6113),s=t(91389),e=t(90664),n=new l({Extends:v,initialize:function(i){v.call(this,i,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var h=this.propertyValue,i=h,o=this.defaultEmit,f=this.defaultUpdate;if(this.method===9){this.start=h[0],this.ease=r("Linear"),this.interpolation=s("linear"),o=this.easedValueEmit,f=this.easeValueUpdate,i=h[0],this.active=!0;for(var u=0;u<h.length;u++){var d=e(h[u]);this.r.push(d.r),this.g.push(d.g),this.b.push(d.b)}}return this.onEmit=o,this.onUpdate=f,this.current=i,this},setEase:function(h){this.easeName=h,this.ease=r(h)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(h,i,o){var f=this.ease(o),u=this.interpolation(this.r,f),d=this.interpolation(this.g,f),c=this.interpolation(this.b,f),m=a(u,d,c);return this.current=m,m}});p.exports=n},44777:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30976),v=t(45319),a=t(83419),r=t(99472),s=t(6113),e=t(95540),n=t(91389),h=t(77720),i=t(15994),o=new a({initialize:function(u,d,c){c===void 0&&(c=!1),this.propertyKey=u,this.propertyValue=d,this.defaultValue=d,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=c,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(f,u){f===void 0&&(f={}),u&&(this.propertyKey=u),this.propertyValue=e(f,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(f){var u;switch(this.method){case 1:case 3:case 8:u=f;break;case 2:this.propertyValue.indexOf(f)>=0&&(u=f);break;case 4:var d=(this.end-this.start)/this.steps;u=h(f,d),this.counter=u;break;case 5:case 6:case 7:u=v(f,this.start,this.end);break;case 9:u=this.start[0];break}return this.current=u,this},getMethod:function(){var f=this.propertyValue;if(f===null)return 0;var u=typeof f;if(u==="number")return 1;if(Array.isArray(f))return 2;if(u==="function")return 3;if(u==="object"){if(this.hasBoth(f,"start","end"))return this.has(f,"steps")?4:5;if(this.hasBoth(f,"min","max"))return 6;if(this.has(f,"random"))return 7;if(this.hasEither(f,"onEmit","onUpdate"))return 8;if(this.hasEither(f,"values","interpolation"))return 9}return 0},setMethods:function(){var f=this.propertyValue,u=f,d=this.defaultEmit,c=this.defaultUpdate;switch(this.method){case 1:d=this.staticValueEmit;break;case 2:d=this.randomStaticValueEmit,u=f[0];break;case 3:this._onEmit=f,d=this.proxyEmit;break;case 4:this.start=f.start,this.end=f.end,this.steps=f.steps,this.counter=this.start,this.yoyo=this.has(f,"yoyo")?f.yoyo:!1,this.direction=0,d=this.steppedEmit,u=this.start;break;case 5:this.start=f.start,this.end=f.end;var m=this.has(f,"ease")?f.ease:"Linear";this.ease=s(m,f.easeParams),d=this.has(f,"random")&&f.random?this.randomRangedValueEmit:this.easedValueEmit,c=this.easeValueUpdate,u=this.start;break;case 6:this.start=f.min,this.end=f.max,d=this.has(f,"int")&&f.int?this.randomRangedIntEmit:this.randomRangedValueEmit,u=this.start;break;case 7:var x=f.random;Array.isArray(x)&&(this.start=x[0],this.end=x[1]),d=this.randomRangedIntEmit,u=this.start;break;case 8:this._onEmit=this.has(f,"onEmit")?f.onEmit:this.defaultEmit,this._onUpdate=this.has(f,"onUpdate")?f.onUpdate:this.defaultUpdate,d=this.proxyEmit,c=this.proxyUpdate;break;case 9:this.start=f.values;var g=this.has(f,"ease")?f.ease:"Linear";this.ease=s(g,f.easeParams),this.interpolation=n(f.interpolation),d=this.easedValueEmit,c=this.easeValueUpdate,u=this.start[0];break}return this.onEmit=d,this.onUpdate=c,this.current=u,this},has:function(f,u){return f.hasOwnProperty(u)},hasBoth:function(f,u,d){return f.hasOwnProperty(u)&&f.hasOwnProperty(d)},hasEither:function(f,u,d){return f.hasOwnProperty(u)||f.hasOwnProperty(d)},defaultEmit:function(f,u,d){return d},defaultUpdate:function(f,u,d,c){return c},proxyEmit:function(f,u,d){var c=this._onEmit(f,u,d);return this.current=c,c},proxyUpdate:function(f,u,d,c){var m=this._onUpdate(f,u,d,c);return this.current=m,m},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var f=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[f],this.current},randomRangedValueEmit:function(f,u){var d=r(this.start,this.end);return f&&f.data[u]&&(f.data[u].min=d,f.data[u].max=this.end),this.current=d,d},randomRangedIntEmit:function(f,u){var d=l(this.start,this.end);return f&&f.data[u]&&(f.data[u].min=d,f.data[u].max=this.end),this.current=d,d},steppedEmit:function(){var f=this.counter,u=f,d=(this.end-this.start)/this.steps;if(this.yoyo){var c;this.direction===0?(u+=d,u>=this.end&&(c=u-this.end,u=this.end-c,this.direction=1)):(u-=d,u<=this.start&&(c=this.start-u,u=this.start+c,this.direction=0)),this.counter=u}else this.counter=i(u+d,this.start,this.end);return this.current=f,f},easedValueEmit:function(f,u){if(f&&f.data[u]){var d=f.data[u];d.min=this.start,d.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(f,u,d){var c=f.data[u],m,x=this.ease(d);return this.interpolation?m=this.interpolation(this.start,x):m=(c.max-c.min)*x+c.min,this.current=m,m},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});p.exports=o},24502:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95540),a=t(20286),r=new l({Extends:a,initialize:function(e,n,h,i,o){if(typeof e=="object"){var f=e;e=v(f,"x",0),n=v(f,"y",0),h=v(f,"power",0),i=v(f,"epsilon",100),o=v(f,"gravity",50)}else e===void 0&&(e=0),n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=100),o===void 0&&(o=50);a.call(this,e,n,!0),this._gravity=o,this._power=h*o,this._epsilon=i*i},update:function(s,e){var n=this.x-s.x,h=this.y-s.y,i=n*n+h*h;if(i!==0){var o=Math.sqrt(i);i<this._epsilon&&(i=this._epsilon);var f=this._power*e/(i*o)*100;s.velocityX+=n*f,s.velocityY+=h*f}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(s){this._epsilon=s*s}},power:{get:function(){return this._power/this._gravity},set:function(s){this._power=s*this._gravity}},gravity:{get:function(){return this._gravity},set:function(s){var e=this.power;this._gravity=s,this.power=e}}});p.exports=r},56480:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(9674),v=t(45319),a=t(83419),r=t(39506),s=t(87841),e=t(11520),n=t(26099),h=new a({initialize:function(o){this.emitter=o,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new n,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=o.scene,this.anims=new l(this),this.bounds=new s},emit:function(i,o,f,u,d,c){return this.emitter.emit(i,o,f,u,d,c)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(i,o){i===void 0&&(i=0),o===void 0&&(o=0),this.x=i,this.y=o},fire:function(i,o){var f=this.emitter,u=f.ops,d=f.getAnim();if(d?this.anims.play(d):(this.frame=f.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(f.getEmitZone(this),i===void 0?this.x+=u.x.onEmit(this,"x"):u.x.steps>0?this.x+=i+u.x.onEmit(this,"x"):this.x+=i,o===void 0?this.y+=u.y.onEmit(this,"y"):u.y.steps>0?this.y+=o+u.y.onEmit(this,"y"):this.y+=o,this.life=u.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=u.delay.onEmit(this,"delay"),this.holdCurrent=u.hold.onEmit(this,"hold"),this.scaleX=u.scaleX.onEmit(this,"scaleX"),this.scaleY=u.scaleY.active?u.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=u.rotate.onEmit(this,"rotate"),this.rotation=r(this.angle),f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&f.getDeathZone(this))return this.lifeCurrent=0,!1;var c=u.speedX.onEmit(this,"speedX"),m=u.speedY.active?u.speedY.onEmit(this,"speedY"):c;if(f.radial){var x=r(u.angle.onEmit(this,"angle"));this.velocityX=Math.cos(x)*Math.abs(c),this.velocityY=Math.sin(x)*Math.abs(m)}else if(f.moveTo){var g=u.moveToX.onEmit(this,"moveToX"),T=u.moveToY.onEmit(this,"moveToY"),S=this.life/1e3;this.velocityX=(g-this.x)/S,this.velocityY=(T-this.y)/S}else this.velocityX=c,this.velocityY=m;return f.acceleration&&(this.accelerationX=u.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=u.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=u.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=u.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=u.bounce.onEmit(this,"bounce"),this.alpha=u.alpha.onEmit(this,"alpha"),u.color.active?this.tint=u.color.onEmit(this,"tint"):this.tint=u.tint.onEmit(this,"tint"),!0},update:function(i,o,f){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=i,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=i,!1;this.anims.update(0,i);var u=this.emitter,d=u.ops,c=1-this.lifeCurrent/this.life;if(this.lifeT=c,this.x=d.x.onUpdate(this,"x",c,this.x),this.y=d.y.onUpdate(this,"y",c,this.y),u.moveTo){var m=d.moveToX.onUpdate(this,"moveToX",c,u.moveToX),x=d.moveToY.onUpdate(this,"moveToY",c,u.moveToY),g=this.lifeCurrent/1e3;this.velocityX=(m-this.x)/g,this.velocityY=(x-this.y)/g}return this.computeVelocity(u,i,o,f,c),this.scaleX=d.scaleX.onUpdate(this,"scaleX",c,this.scaleX),d.scaleY.active?this.scaleY=d.scaleY.onUpdate(this,"scaleY",c,this.scaleY):this.scaleY=this.scaleX,this.angle=d.rotate.onUpdate(this,"rotate",c,this.angle),this.rotation=r(this.angle),u.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=v(d.alpha.onUpdate(this,"alpha",c,this.alpha),0,1),d.color.active?this.tint=d.color.onUpdate(this,"color",c,this.tint):this.tint=d.tint.onUpdate(this,"tint",c,this.tint),this.lifeCurrent-=i,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(i,o,f,u,d){var c=i.ops,m=this.velocityX,x=this.velocityY,g=c.accelerationX.onUpdate(this,"accelerationX",d,this.accelerationX),T=c.accelerationY.onUpdate(this,"accelerationY",d,this.accelerationY),S=c.maxVelocityX.onUpdate(this,"maxVelocityX",d,this.maxVelocityX),E=c.maxVelocityY.onUpdate(this,"maxVelocityY",d,this.maxVelocityY);this.bounce=c.bounce.onUpdate(this,"bounce",d,this.bounce),m+=i.gravityX*f+g*f,x+=i.gravityY*f+T*f,m=v(m,-S,S),x=v(x,-E,E),this.velocityX=m,this.velocityY=x,this.x+=m*f,this.y+=x*f,i.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var P=0;P<u.length;P++){var F=u[P];F.active&&F.update(this,o,f,d)}},setSizeToFrame:function(){},getBounds:function(i){i===void 0&&(i=this.emitter.getWorldTransformMatrix());var o=Math.abs(i.scaleX)*this.scaleX,f=Math.abs(i.scaleY)*this.scaleY,u=this.x,d=this.y,c=this.rotation,m=this.frame.width*o/2,x=this.frame.height*f/2,g=this.bounds,T=new n(u-m,d-x),S=new n(u+m,d-x),E=new n(u-m,d+x),P=new n(u+m,d+x);return c!==0&&(e(T,u,d,c),e(S,u,d,c),e(E,u,d,c),e(P,u,d,c)),i.transformPoint(T.x,T.y,T),i.transformPoint(S.x,S.y,S),i.transformPoint(E.x,E.y,E),i.transformPoint(P.x,P.y,P),g.x=Math.min(T.x,S.x,E.x,P.x),g.y=Math.min(T.y,S.y,E.y,P.y),g.width=Math.max(T.x,S.x,E.x,P.x)-g.x,g.height=Math.max(T.y,S.y,E.y,P.y)-g.y,g},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});p.exports=h},69601:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(20286),a=t(87841),r=new l({Extends:v,initialize:function(e,n,h,i,o,f,u,d){o===void 0&&(o=!0),f===void 0&&(f=!0),u===void 0&&(u=!0),d===void 0&&(d=!0),v.call(this,e,n,!0),this.bounds=new a(e,n,h,i),this.collideLeft=o,this.collideRight=f,this.collideTop=u,this.collideBottom=d},update:function(s){var e=this.bounds,n=-s.bounce,h=s.worldPosition;h.x<e.x&&this.collideLeft?(s.x+=e.x-h.x,s.velocityX*=n):h.x>e.right&&this.collideRight&&(s.x-=h.x-e.right,s.velocityX*=n),h.y<e.y&&this.collideTop?(s.y+=e.y-h.y,s.velocityY*=n):h.y>e.bottom&&this.collideBottom&&(s.y-=h.y-e.bottom,s.velocityY*=n)}});p.exports=r},31600:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(53774),r=t(43459),s=t(26388),e=t(19909),n=t(76472),h=t(44777),i=t(20696),o=t(95643),f=t(95540),u=t(26546),d=t(24502),c=t(1985),m=t(97022),x=t(86091),g=t(73162),T=t(20074),S=t(56480),E=t(68875),P=t(87841),F=t(59996),R=t(72905),M=t(90668),O=t(19186),I=t(61340),V=t(26099),X=t(15994),z=t(69601),Z=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],N=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],Y=new l({Extends:o,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,M],initialize:function(b,U,W,j,Q){o.call(this,b,"ParticleEmitter"),this.particleClass=S,this.ops={accelerationX:new h("accelerationX",0),accelerationY:new h("accelerationY",0),alpha:new h("alpha",1),angle:new h("angle",{min:0,max:360},!0),bounce:new h("bounce",0),color:new n("color"),delay:new h("delay",0,!0),hold:new h("hold",0,!0),lifespan:new h("lifespan",1e3,!0),maxVelocityX:new h("maxVelocityX",1e4),maxVelocityY:new h("maxVelocityY",1e4),moveToX:new h("moveToX",0),moveToY:new h("moveToY",0),quantity:new h("quantity",1,!0),rotate:new h("rotate",0),scaleX:new h("scaleX",1),scaleY:new h("scaleY",1),speedX:new h("speedX",0,!0),speedY:new h("speedY",0,!0),tint:new h("tint",16777215),x:new h("x",0),y:new h("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new V,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new I,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new g(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(U,W),this.setTexture(j),Q&&this.setConfig(Q)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(L){if(!L)return this;var b=0,U="",W=this.ops;for(b=0;b<N.length;b++)U=N[b],W[U].loadConfig(L);for(b=0;b<Z.length;b++)U=Z[b],m(L,U)&&(this[U]=f(L,U));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,m(L,"speed")&&(W.speedX.loadConfig(L,"speed"),W.speedY.active=!1),(c(L,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),m(L,"scale")&&(W.scaleX.loadConfig(L,"scale"),W.scaleY.active=!1),m(L,"callbackScope")){var j=f(L,"callbackScope",null);this.emitCallbackScope=j,this.deathCallbackScope=j}if(m(L,"emitZone")&&this.addEmitZone(L.emitZone),m(L,"deathZone")&&this.addDeathZone(L.deathZone),m(L,"bounds")){var Q=this.addParticleBounds(L.bounds);Q.collideLeft=f(L,"collideLeft",!0),Q.collideRight=f(L,"collideRight",!0),Q.collideTop=f(L,"collideTop",!0),Q.collideBottom=f(L,"collideBottom",!0)}return m(L,"followOffset")&&this.followOffset.setFromObject(f(L,"followOffset",0)),m(L,"texture")&&this.setTexture(L.texture),m(L,"frame")?this.setEmitterFrame(L.frame):m(L,"anim")&&this.setAnim(L.anim),m(L,"reserve")&&this.reserve(L.reserve),m(L,"advance")&&this.fastForward(L.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(i.START,this),this},toJSON:function(){var L=a(this),b=0,U="";for(b=0;b<Z.length;b++)U=Z[b],L[U]=this[U];var W=this.ops;for(b=0;b<N.length;b++)U=N[b],W[U]&&(L[U]=W[U].toJSON());return W.speedY.active||(delete L.speedX,L.speed=W.speedX.toJSON()),this.scaleX===this.scaleY&&(delete L.scaleX,delete L.scaleY,L.scale=W.scaleX.toJSON()),L},resetCounters:function(L,b){var U=this.counters;U.fill(0),U[0]=L,b&&(U[5]=1)},startFollow:function(L,b,U,W){return b===void 0&&(b=0),U===void 0&&(U=0),W===void 0&&(W=!1),this.follow=L,this.followOffset.set(b,U),this.trackVisible=W,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var L=this.frames,b=L.length,U;return b===1?U=L[0]:this.randomFrame?U=u(L):(U=L[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===b&&(this.currentFrame=0))),this.texture.get(U)},setEmitterFrame:function(L,b,U){b===void 0&&(b=!0),U===void 0&&(U=1),this.randomFrame=b,this.frameQuantity=U,this.currentFrame=0;var W=typeof L;if(this.frames.length=0,Array.isArray(L))this.frames=this.frames.concat(L);else if(W==="string"||W==="number")this.frames.push(L);else if(W==="object"){var j=L;L=f(j,"frames",null),L&&(this.frames=this.frames.concat(L));var Q=f(j,"cycle",!1);this.randomFrame=!Q,this.frameQuantity=f(j,"quantity",U)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var L=this.anims,b=L.length;if(b===0)return null;if(b===1)return L[0];if(this.randomAnim)return u(L);var U=L[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=X(this.currentAnim+1,0,b)),U},setAnim:function(L,b,U){b===void 0&&(b=!0),U===void 0&&(U=1),this.randomAnim=b,this.animQuantity=U,this.currentAnim=0;var W=typeof L;if(this.anims.length=0,Array.isArray(L))this.anims=this.anims.concat(L);else if(W==="string")this.anims.push(L);else if(W==="object"){var j=L;L=f(j,"anims",null),L&&(this.anims=this.anims.concat(L));var Q=f(j,"cycle",!1);this.randomAnim=!Q,this.animQuantity=f(j,"quantity",U)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(L){return L===void 0&&(L=!0),this.radial=L,this},addParticleBounds:function(L,b,U,W,j,Q,_,et){if(typeof L=="object"){var st=L;L=st.x,b=st.y,U=m(st,"w")?st.w:st.width,W=m(st,"h")?st.h:st.height}return this.addParticleProcessor(new z(L,b,U,W,j,Q,_,et))},setParticleSpeed:function(L,b){return b===void 0&&(b=L),this.ops.speedX.onChange(L),L===b?this.ops.speedY.active=!1:this.ops.speedY.onChange(b),this.radial=!0,this},setParticleScale:function(L,b){return L===void 0&&(L=1),b===void 0&&(b=L),this.ops.scaleX.onChange(L),this.ops.scaleY.onChange(b),this},setParticleGravity:function(L,b){return this.gravityX=L,this.gravityY=b,this},setParticleAlpha:function(L){return this.ops.alpha.onChange(L),this},setParticleTint:function(L){return this.ops.tint.onChange(L),this},setEmitterAngle:function(L){return this.ops.angle.onChange(L),this},setParticleLifespan:function(L){return this.ops.lifespan.onChange(L),this},setQuantity:function(L){return this.quantity=L,this},setFrequency:function(L,b){return this.frequency=L,this.flowCounter=L>0?L:0,b&&(this.quantity=b),this},addDeathZone:function(L){Array.isArray(L)||(L=[L]);for(var b,U=[],W=0;W<L.length;W++)if(b=L[W],b instanceof s)U.push(b);else if(typeof b.contains=="function")b=new s(b,!0),U.push(b);else{var j=f(b,"type","onEnter"),Q=f(b,"source",null);if(Q&&typeof Q.contains=="function"){var _=j==="onEnter";b=new s(Q,_),U.push(b)}}return this.deathZones=this.deathZones.concat(U),U},removeDeathZone:function(L){return R(this.deathZones,L),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(L){Array.isArray(L)||(L=[L]);for(var b,U=[],W=0;W<L.length;W++)if(b=L[W],b instanceof E||b instanceof e)U.push(b);else{var j=f(b,"source",null);if(j){var Q=f(b,"type","random");if(Q==="random"&&typeof j.getRandomPoint=="function")b=new E(j),U.push(b);else if(Q==="edge"&&typeof j.getPoints=="function"){var _=f(b,"quantity",1),et=f(b,"stepRate",0),st=f(b,"yoyo",!1),ct=f(b,"seamless",!0),gt=f(b,"total",-1);b=new e(j,_,et,st,ct,gt),U.push(b)}}}return this.emitZones=this.emitZones.concat(U),U},removeEmitZone:function(L){return R(this.emitZones,L),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(L){var b=this.emitZones,U=b.length;if(U!==0){var W=b[this.zoneIndex];W.getPoint(L),W.total>-1&&(this.zoneTotal++,this.zoneTotal===W.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===U&&(this.zoneIndex=0)))}},getDeathZone:function(L){for(var b=this.deathZones,U=0;U<b.length;U++){var W=b[U];if(W.willKill(L))return this.emit(i.DEATH_ZONE,this,L,W),!0}return!1},setEmitZone:function(L){var b;return isFinite(L)?b=L:b=this.emitZones.indexOf(L),b>=0&&(this.zoneIndex=b),this},addParticleProcessor:function(L){return this.processors.exists(L)||(L.emitter&&L.emitter.removeParticleProcessor(L),this.processors.add(L),L.emitter=this),L},removeParticleProcessor:function(L){return this.processors.exists(L)&&(this.processors.remove(L,!0),L.emitter=null),L},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(L){return this.addParticleProcessor(new d(L))},reserve:function(L){var b=this.dead;if(this.maxParticles>0){var U=this.getParticleCount();U+L>this.maxParticles&&(L=this.maxParticles-(U+L))}for(var W=0;W<L;W++)b.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(L,b){return L===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof L=="function"&&(this.emitCallback=L,b&&(this.emitCallbackScope=b)),this},onParticleDeath:function(L,b){return L===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof L=="function"&&(this.deathCallback=L,b&&(this.deathCallbackScope=b)),this},killAll:function(){for(var L=this.dead,b=this.alive;b.length>0;)L.push(b.pop());return this},forEachAlive:function(L,b){for(var U=this.alive,W=U.length,j=0;j<W;j++)L.call(b,U[j],this);return this},forEachDead:function(L,b){for(var U=this.dead,W=U.length,j=0;j<W;j++)L.call(b,U[j],this);return this},start:function(L,b){return L===void 0&&(L=0),this.emitting||(L>0&&this.fastForward(L),this.emitting=!0,this.resetCounters(this.frequency,!0),b!==void 0&&(this.duration=Math.abs(b)),this.emit(i.START,this)),this},stop:function(L){return L===void 0&&(L=!1),this.emitting&&(this.emitting=!1,L&&this.killAll(),this.emit(i.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(L,b){return L===void 0&&(L=""),b===void 0&&(b=this.true),this.sortProperty=L,this.sortOrderAsc=b,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(L){return this.sortProperty!==""?L=this.depthSortCallback:L=null,this.sortCallback=L,this},depthSort:function(){return O(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(L,b){var U=this.sortProperty;return this.sortOrderAsc?L[U]-b[U]:b[U]-L[U]},flow:function(L,b,U){return b===void 0&&(b=1),this.emitting=!1,this.frequency=L,this.quantity=b,U!==void 0&&(this.stopAfter=U),this.start()},explode:function(L,b,U){this.frequency=-1,this.resetCounters(-1,!0);var W=this.emitParticle(L,b,U);return this.emit(i.EXPLODE,this,W),W},emitParticleAt:function(L,b,U){return this.emitParticle(U,L,b)},emitParticle:function(L,b,U){if(!this.atLimit()){L===void 0&&(L=this.ops.quantity.onEmit());for(var W=this.dead,j=this.stopAfter,Q=this.follow?this.follow.x+this.followOffset.x:b,_=this.follow?this.follow.y+this.followOffset.y:U,et=0;et<L;et++){var st=W.pop();if(st||(st=new this.particleClass(this)),st.fire(Q,_)?(this.particleBringToTop?this.alive.push(st):this.alive.unshift(st),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,st,this)):this.dead.push(st),j>0&&(this.stopCounter++,this.stopCounter>=j)||this.atLimit())break}return st}},fastForward:function(L,b){b===void 0&&(b=1e3/60);var U=0;for(this.skipping=!0;U<Math.abs(L);)this.preUpdate(0,b),U+=b;return this.skipping=!1,this},preUpdate:function(L,b){b*=this.timeScale;var U=b/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var W=this.getProcessors(),j=this.alive,Q=this.dead,_=0,et=[],st=j.length;for(_=0;_<st;_++){var ct=j[_];ct.update(b,U,W)&&et.push({index:_,particle:ct})}if(st=et.length,st>0){var gt=this.deathCallback,Et=this.deathCallbackScope;for(_=st-1;_>=0;_--){var xt=et[_];j.splice(xt.index,1),Q.push(xt.particle),gt&&gt.call(Et,xt.particle),xt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&j.length===0&&(this.completeFlag=0,this.emit(i.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=b;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=b,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(L){for(var b=this.getWorldTransformMatrix(),U=this.alive,W=U.length,j=[],Q=0;Q<W;Q++){var _=U[Q];F(L,_.getBounds(b))&&j.push(_)}return j},getBounds:function(L,b,U,W){L===void 0&&(L=0),b===void 0&&(b=0),U===void 0&&(U=1e3/60),W===void 0&&(W=new P);var j=this.getWorldTransformMatrix(),Q,_,et=this.alive,st=!1;if(W.setTo(0,0,0,0),b>0){var ct=0;for(this.skipping=!0;ct<Math.abs(b);){for(this.preUpdate(0,U),Q=0;Q<et.length;Q++)_=et[Q].getBounds(j),st?T(W,_):(st=!0,r(_,W));ct+=U}this.skipping=!1}else for(Q=0;Q<et.length;Q++)_=et[Q].getBounds(j),st?T(W,_):(st=!0,r(_,W));return L>0&&x(W,L,L),W},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(L){this.ops.x.onChange(L)}},particleY:{get:function(){return this.ops.y.current},set:function(L){this.ops.y.onChange(L)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(L){this.ops.accelerationX.onChange(L)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(L){this.ops.accelerationY.onChange(L)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(L){this.ops.maxVelocityX.onChange(L)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(L){this.ops.maxVelocityY.onChange(L)}},speed:{get:function(){return this.ops.speedX.current},set:function(L){this.ops.speedX.onChange(L),this.ops.speedY.onChange(L)}},speedX:{get:function(){return this.ops.speedX.current},set:function(L){this.ops.speedX.onChange(L)}},speedY:{get:function(){return this.ops.speedY.current},set:function(L){this.ops.speedY.onChange(L)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(L){this.ops.moveToX.onChange(L)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(L){this.ops.moveToY.onChange(L)}},bounce:{get:function(){return this.ops.bounce.current},set:function(L){this.ops.bounce.onChange(L)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(L){this.ops.scaleX.onChange(L)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(L){this.ops.scaleY.onChange(L)}},particleColor:{get:function(){return this.ops.color.current},set:function(L){this.ops.color.onChange(L)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(L){this.ops.color.setEase(L)}},particleTint:{get:function(){return this.ops.tint.current},set:function(L){this.ops.tint.onChange(L)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(L){this.ops.alpha.onChange(L)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(L){this.ops.lifespan.onChange(L)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(L){this.ops.angle.onChange(L)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(L){this.ops.rotate.onChange(L)}},quantity:{get:function(){return this.ops.quantity.current},set:function(L){this.ops.quantity.onChange(L)}},delay:{get:function(){return this.ops.delay.current},set:function(L){this.ops.delay.onChange(L)}},hold:{get:function(){return this.ops.hold.current},set:function(L){this.ops.hold.onChange(L)}},flowCounter:{get:function(){return this.counters[0]},set:function(L){this.counters[0]=L}},frameCounter:{get:function(){return this.counters[1]},set:function(L){this.counters[1]=L}},animCounter:{get:function(){return this.counters[2]},set:function(L){this.counters[2]=L}},elapsed:{get:function(){return this.counters[3]},set:function(L){this.counters[3]=L}},stopCounter:{get:function(){return this.counters[4]},set:function(L){this.counters[4]=L}},completeFlag:{get:function(){return this.counters[5]},set:function(L){this.counters[5]=L}},zoneIndex:{get:function(){return this.counters[6]},set:function(L){this.counters[6]=L}},zoneTotal:{get:function(){return this.counters[7]},set:function(L){this.counters[7]=L}},currentFrame:{get:function(){return this.counters[8]},set:function(L){this.counters[8]=L}},currentAnim:{get:function(){return this.counters[9]},set:function(L){this.counters[9]=L}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var L,b=this.ops;for(L=0;L<N.length;L++){var U=N[L];b[U].destroy()}for(L=0;L<this.alive.length;L++)this.alive[L].destroy();for(L=0;L<this.dead.length;L++)this.dead[L].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});p.exports=Y},9871:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(59996),v=t(61340),a=new v,r=new v,s=new v,e=new v,n=function(h,i,o,f){var u=a,d=r,c=s,m=e;f?(m.loadIdentity(),m.multiply(f),m.translate(i.x,i.y),m.rotate(i.rotation),m.scale(i.scaleX,i.scaleY)):m.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);var x=h.currentContext,g=o.roundPixels,T=o.alpha,S=i.alpha,E=i.alive,P=E.length,F=i.viewBounds;if(!(!i.visible||P===0||F&&!l(F,o.worldView))){i.sortCallback&&i.depthSort(),o.addToRenderList(i);var R=i.scrollFactorX,M=i.scrollFactorY;x.save(),x.globalCompositeOperation=h.blendModes[i.blendMode];for(var O=0;O<P;O++){var I=E[O],V=I.alpha*S*T;if(!(V<=0||I.scaleX===0||I.scaleY===0)){c.applyITRS(I.x,I.y,I.rotation,I.scaleX,I.scaleY),u.copyFrom(o.matrix),u.multiplyWithOffset(m,-o.scrollX*R,-o.scrollY*M),c.e=I.x,c.f=I.y,u.multiply(c,d);var X=I.frame,z=X.canvasData;if(z.width>0&&z.height>0){var Z=-X.halfWidth,N=-X.halfHeight;x.globalAlpha=V,x.save(),d.setToContext(x),g&&(Z=Math.round(Z),N=Math.round(N)),x.imageSmoothingEnabled=!X.source.scaleMode,x.drawImage(X.source.image,z.x,z.y,z.width,z.height,Z,N,z.width,z.height),x.restore()}}}x.restore()}};p.exports=n},92730:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(95540),s=t(31600);v.register("particles",function(e,n){e===void 0&&(e={});var h=a(e,"key",null),i=r(e,"config",null),o=new s(this.scene,0,0,h);return n!==void 0&&(e.add=n),l(this.scene,o,e),i&&o.setConfig(i),o})},676:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(31600);l.register("particles",function(a,r,s,e){return a!==void 0&&typeof a=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new v(this.scene,a,r,s,e))})},90668:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(21188),a=t(9871),p.exports={renderWebGL:v,renderCanvas:a}},21188:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(59996),v=t(61340),a=t(70554),r=new v,s=new v,e=new v,n=new v,h=function(i,o,f,u){var d=i.pipelines.set(o.pipeline),c=r,m=s,x=e,g=n;u?(g.loadIdentity(),g.multiply(u),g.translate(o.x,o.y),g.rotate(o.rotation),g.scale(o.scaleX,o.scaleY)):g.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var T=a.getTintAppendFloatAlpha,S=f.alpha,E=o.alpha;i.pipelines.preBatch(o);var P=o.alive,F=P.length,R=o.viewBounds;if(!(F===0||R&&!l(R,f.worldView))){o.sortCallback&&o.depthSort(),f.addToRenderList(o),c.copyFrom(f.matrix),c.multiplyWithOffset(g,-f.scrollX*o.scrollFactorX,-f.scrollY*o.scrollFactorY),i.setBlendMode(o.blendMode),o.mask&&(o.mask.preRenderWebGL(i,o,f),i.pipelines.set(o.pipeline));for(var M=o.tintFill,O,I,V=0;V<F;V++){var X=P[V],z=X.alpha*E*S;if(!(z<=0||X.scaleX===0||X.scaleY===0)){x.applyITRS(X.x,X.y,X.rotation,X.scaleX,X.scaleY),x.e=X.x,x.f=X.y,c.multiply(x,m);var Z=X.frame;Z.glTexture!==I&&(I=Z.glTexture,O=d.setGameObject(o,Z));var N=-Z.halfWidth,Y=-Z.halfHeight,L=m.setQuad(N,Y,N+Z.width,Y+Z.height),b=T(X.tint,z);d.shouldFlush(6)&&(d.flush(),O=d.setGameObject(o,Z)),d.batchQuad(o,L[0],L[1],L[2],L[3],L[4],L[5],L[6],L[7],Z.u0,Z.v0,Z.u1,Z.v1,b,b,b,b,M,I,O)}}o.mask&&o.mask.postRenderWebGL(i,f),i.pipelines.postBatch(o)}};p.exports=h},20286:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,s,e){r===void 0&&(r=0),s===void 0&&(s=0),e===void 0&&(e=!0),this.emitter,this.x=r,this.y=s,this.active=e},update:function(){},destroy:function(){this.emitter=null}});p.exports=v},9774:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},812:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="deathzone"},30522:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="explode"},96695:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},18677:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},20696:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,s){this.source=r,this.killOnEnter=s},willKill:function(a){var r=a.worldPosition,s=this.source.contains(r.x,r.y);return s&&this.killOnEnter||!s&&!this.killOnEnter}});p.exports=v},19909:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,s,e,n,h,i){n===void 0&&(n=!1),h===void 0&&(h=!0),i===void 0&&(i=-1),this.source=r,this.points=[],this.quantity=s,this.stepRate=e,this.yoyo=n,this.counter=-1,this.seamless=h,this._length=0,this._direction=0,this.total=i,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var a=this.points[0],r=this.points[this.points.length-1];a.x===r.x&&a.y===r.y&&this.points.pop()}var s=this._length;return this._length=this.points.length,this._length<s&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(a){return this.source=a,this.updateSource()},getPoint:function(a){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var r=this.points[this.counter];r&&(a.x=r.x,a.y=r.y)}});p.exports=v},68875:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(26099),a=new l({initialize:function(s){this.source=s,this._tempVec=new v,this.total=-1},getPoint:function(r){var s=this._tempVec;this.source.getRandomPoint(s),r.x=s.x,r.y=s.y}});p.exports=a},21024:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(68287),r=new l({Extends:a,Mixins:[v.PathFollower],initialize:function(e,n,h,i,o,f){a.call(this,e,h,i,o,f),this.path=n},preUpdate:function(s,e){this.anims.update(s,e),this.pathUpdate(s)}});p.exports=r},90145:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(1159);l.register("follower",function(a,r,s,e,n){var h=new v(this.scene,a,r,s,e,n);return this.displayList.add(h),this.updateList.add(h),h})},33663:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(9674),v=t(83419),a=t(48803),r=t(90664),s=t(4703),e=t(45650),n=new v({Extends:s,initialize:function(i,o,f,u,d,c,m,x){u||(u="__DEFAULT"),s.call(this,i,o,f,u,d),this.type="Plane",this.anims=new l(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(c,m,x),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(h,i,o){h===void 0&&(h=8),i===void 0&&(i=8),o===void 0&&(o=!1);var f=!1;return o&&(f=!0),this.gridWidth=h,this.gridHeight=i,this.isTiled=o,this.clear(),a({mesh:this,widthSegments:h,heightSegments:i,isOrtho:!1,tile:o,flipY:f}),this},setSizeToFrame:function(h){h===void 0&&(h=!0);var i=this.frame;if(this.setPerspective(this.width/i.width,this.height/i.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!h)return this;var o=this.gridWidth,f=this.gridHeight,u=this.vertices,d=i.u0,c=i.u1,m=i.v0,x=i.v1,g,T,S=0;if(this.isTiled)for(m=i.v1,x=i.v0,T=0;T<f;T++)for(g=0;g<o;g++)u[S++].setUVs(d,x),u[S++].setUVs(d,m),u[S++].setUVs(c,x),u[S++].setUVs(d,m),u[S++].setUVs(c,m),u[S++].setUVs(c,x);else{var E=o+1,P=f+1,F=c-d,R=x-m,M=[];for(T=0;T<P;T++)for(g=0;g<E;g++){var O=d+F*(g/o),I=m+R*(T/f);M.push(O,I)}for(T=0;T<f;T++)for(g=0;g<o;g++){var V=(g+E*T)*2,X=(g+E*(T+1))*2,z=(g+1+E*(T+1))*2,Z=(g+1+E*T)*2;u[S++].setUVs(M[V],M[V+1]),u[S++].setUVs(M[X],M[X+1]),u[S++].setUVs(M[Z],M[Z+1]),u[S++].setUVs(M[X],M[X+1]),u[S++].setUVs(M[z],M[z+1]),u[S++].setUVs(M[Z],M[Z+1])}}return this},setViewHeight:function(h){h===void 0&&(h=this.frame.height);var i=this.fov*(Math.PI/180);this.viewPosition.z=this.height/h/Math.tan(i/2),this.dirtyCache[10]=1},createCheckerboard:function(h,i,o,f,u){h===void 0&&(h=16777215),i===void 0&&(i=255),o===void 0&&(o=255),f===void 0&&(f=255),u===void 0&&(u=128);for(var d=r(h),c=r(i),m=[],x=0;x<16;x++)for(var g=0;g<16;g++)x<8&&g<8||x>7&&g>7?m.push(d.r,d.g,d.b,o):m.push(c.r,c.g,c.b,f);var T=this.scene.sys.textures.addUint8Array(e(),new Uint8Array(m),16,16);return this.removeCheckerboard(),this.setTexture(T),this.setSizeToFrame(),this.setViewHeight(u),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(h,i){return this.anims.play(h,i)},playReverse:function(h,i){return this.anims.playReverse(h,i)},playAfterDelay:function(h,i){return this.anims.playAfterDelay(h,i)},playAfterRepeat:function(h,i){return this.anims.playAfterRepeat(h,i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(h){return this.anims.stopAfterDelay(h)},stopAfterRepeat:function(h){return this.anims.stopAfterRepeat(h)},stopOnFrame:function(h){return this.anims.stopOnFrame(h)},preUpdate:function(h,i){s.prototype.preUpdate.call(this,h,i),this.anims.update(h,i)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});p.exports=n},56015:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(13059),a=t(44603),r=t(23568),s=t(35154),e=t(33663);a.register("plane",function(n,h){n===void 0&&(n={});var i=r(n,"key",null),o=r(n,"frame",null),f=s(n,"width",8),u=s(n,"height",8),d=s(n,"tile",!1),c=new e(this.scene,0,0,i,o,f,u,d);h!==void 0&&(n.add=h);var m=s(n,"checkerboard",null);if(m){var x=s(m,"color1",16777215),g=s(m,"color2",255),T=s(m,"alpha1",255),S=s(m,"alpha2",255),E=s(m,"height",128);c.createCheckerboard(x,g,T,S,E)}return l(this.scene,c,n),v(c,n),c})},30985:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33663),v=t(39429);v.register("plane",function(a,r,s,e,n,h,i){return this.displayList.add(new l(this.scene,a,r,s,e,n,h,i))})},80321:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(95643),r=t(30100),s=t(36060),e=t(67277),n=new l({Extends:a,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible,e],initialize:function(i,o,f,u,d,c,m){u===void 0&&(u=16777215),d===void 0&&(d=128),c===void 0&&(c=1),m===void 0&&(m=.1),a.call(this,i,"PointLight"),this.initPipeline(s.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(o,f),this.color=r(u),this.intensity=c,this.attenuation=m,this.width=d*2,this.height=d*2,this._radius=d},radius:{get:function(){return this._radius},set:function(h){this._radius=h,this.width=h*2,this.height=h*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});p.exports=n},39829:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(80321);v.register("pointlight",function(s,e){s===void 0&&(s={});var n=a(s,"color",16777215),h=a(s,"radius",128),i=a(s,"intensity",1),o=a(s,"attenuation",.1),f=new r(this.scene,0,0,n,h,i,o);return e!==void 0&&(s.add=e),l(this.scene,f,s),f})},71255:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(80321);l.register("pointlight",function(a,r,s,e,n,h){return this.displayList.add(new v(this.scene,a,r,s,e,n,h))})},67277:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(57787),p.exports={renderWebGL:v,renderCanvas:a}},57787:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=function(a,r,s,e){s.addToRenderList(r);var n=a.pipelines.set(r.pipeline),h=l(r,s,e).calc,i=r.width,o=r.height,f=-r._radius,u=-r._radius,d=f+i,c=u+o,m=h.getX(0,0),x=h.getY(0,0),g=h.getX(f,u),T=h.getY(f,u),S=h.getX(f,c),E=h.getY(f,c),P=h.getX(d,c),F=h.getY(d,c),R=h.getX(d,u),M=h.getY(d,u);a.pipelines.preBatch(r),n.batchPointLight(r,s,g,T,S,E,P,F,R,M,m,x),a.pipelines.postBatch(r)};p.exports=v},591:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(81320),a=t(88571),r=new l({Extends:a,initialize:function(e,n,h,i,o){n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=32),o===void 0&&(o=32);var f=new v(e.sys.textures,"",i,o);a.call(this,e,n,h,f),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(s,e){this.width=s,this.height=e,this.texture.setSize(s,e),this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=s,n.hitArea.height=e),this},resize:function(s,e){return this.setSize(s,e),this},saveTexture:function(s){var e=this.texture;return e.key=s,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(s,e,n,h,i,o){return this.texture.fill(s,e,n,h,i,o),this},clear:function(){return this.texture.clear(),this},stamp:function(s,e,n,h,i){return this.texture.stamp(s,e,n,h,i),this},erase:function(s,e,n){return this.texture.erase(s,e,n),this},draw:function(s,e,n,h,i){return this.texture.draw(s,e,n,h,i),this},drawFrame:function(s,e,n,h,i,o){return this.texture.drawFrame(s,e,n,h,i,o),this},repeat:function(s,e,n,h,i,o,f,u,d){return this.texture.repeat(s,e,n,h,i,o,f,u,d),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(s,e,n,h,i){return this.texture.batchDraw(s,e,n,h,i),this},batchDrawFrame:function(s,e,n,h,i,o){return this.texture.batchDrawFrame(s,e,n,h,i,o),this},endDraw:function(s){return this.texture.endDraw(s),this},snapshotArea:function(s,e,n,h,i,o,f){return this.texture.snapshotArea(s,e,n,h,i,o,f),this},snapshot:function(s,e,n){return this.snapshotArea(0,0,this.width,this.height,s,e,n)},snapshotPixel:function(s,e,n){return this.snapshotArea(s,e,1,1,n,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});p.exports=r},34495:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(591);v.register("renderTexture",function(s,e){s===void 0&&(s={});var n=a(s,"x",0),h=a(s,"y",0),i=a(s,"width",32),o=a(s,"height",32),f=new r(this.scene,n,h,i,o);return e!==void 0&&(s.add=e),l(this.scene,f,s),f})},60505:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(591);l.register("renderTexture",function(a,r,s,e){return this.displayList.add(new v(this.scene,a,r,s,e))})},77757:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(9674),v=t(83419),a=t(31401),r=t(95643),s=t(36060),e=t(38745),n=t(26099),h=new v({Extends:r,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Flip,a.Mask,a.Pipeline,a.PostPipeline,a.Size,a.Texture,a.Transform,a.Visible,a.ScrollFactor,e],initialize:function(o,f,u,d,c,m,x,g,T){d===void 0&&(d="__DEFAULT"),m===void 0&&(m=2),x===void 0&&(x=!0),r.call(this,o,"Rope"),this.anims=new l(this),this.points=m,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=d==="__DEFAULT",this.dirty=!1,this.horizontal=x,this._flipX=!1,this._flipY=!1,this._perp=new n,this.debugCallback=null,this.debugGraphic=null,this.setTexture(d,c),this.setPosition(f,u),this.setSizeToFrame(),this.initPipeline(s.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(m)&&this.resizeArrays(m.length),this.setPoints(m,g,T),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,o){var f=this.anims.currentFrame;this.anims.update(i,o),this.anims.currentFrame!==f&&(this.updateUVs(),this.updateVertices())},play:function(i,o,f){return this.anims.play(i,o,f),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(i,o,f){return i===void 0&&(i=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(i,o,f))},setVertical:function(i,o,f){return i===void 0&&(i=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(i,o,f)):this},setTintFill:function(i){return i===void 0&&(i=!1),this.tintFill=i,this},setAlphas:function(i,o){var f=this.points.length;if(f<1)return this;var u=this.alphas;i===void 0?i=[1]:!Array.isArray(i)&&o===void 0&&(i=[i]);var d,c=0;if(o!==void 0)for(d=0;d<f;d++)c=d*2,u[c]=i,u[c+1]=o;else if(i.length===f)for(d=0;d<f;d++)c=d*2,u[c]=i[d],u[c+1]=i[d];else{var m=i[0];for(d=0;d<f;d++)c=d*2,i.length>c&&(m=i[c]),u[c]=m,i.length>c+1&&(m=i[c+1]),u[c+1]=m}return this},setColors:function(i){var o=this.points.length;if(o<1)return this;var f=this.colors;i===void 0?i=[16777215]:Array.isArray(i)||(i=[i]);var u,d=0;if(i.length===o)for(u=0;u<o;u++)d=u*2,f[d]=i[u],f[d+1]=i[u];else{var c=i[0];for(u=0;u<o;u++)d=u*2,i.length>d&&(c=i[d]),f[d]=c,i.length>d+1&&(c=i[d+1]),f[d+1]=c}return this},setPoints:function(i,o,f){if(i===void 0&&(i=2),typeof i=="number"){var u=i;u<2&&(u=2),i=[];var d,c,m;if(this.horizontal)for(m=-this.frame.halfWidth,c=this.frame.width/(u-1),d=0;d<u;d++)i.push({x:m+d*c,y:0});else for(m=-this.frame.halfHeight,c=this.frame.height/(u-1),d=0;d<u;d++)i.push({x:0,y:m+d*c})}var x=i.length,g=this.points.length;return x<1?(console.warn("Rope: Not enough points given"),this):(x===1&&(i.unshift({x:0,y:0}),x++),g!==x&&this.resizeArrays(x),this.dirty=!0,this.points=i,this.updateUVs(),o!=null&&this.setColors(o),f!=null&&this.setAlphas(f),this)},updateUVs:function(){for(var i=this.uv,o=this.points.length,f=this.frame.u0,u=this.frame.v0,d=this.frame.u1,c=this.frame.v1,m=(d-f)/(o-1),x=(c-u)/(o-1),g=0;g<o;g++){var T=g*4,S,E,P,F;this.horizontal?(this._flipX?(S=d-g*m,P=d-g*m):(S=f+g*m,P=f+g*m),this._flipY?(E=c,F=u):(E=u,F=c)):(this._flipX?(S=f,P=d):(S=d,P=f),this._flipY?(E=c-g*x,F=c-g*x):(E=u+g*x,F=u+g*x)),i[T+0]=S,i[T+1]=E,i[T+2]=P,i[T+3]=F}return this},resizeArrays:function(i){var o=this.colors,f=this.alphas;this.vertices=new Float32Array(i*4),this.uv=new Float32Array(i*4),o=new Uint32Array(i*2),f=new Float32Array(i*2);for(var u=0;u<i*2;u++)o[u]=16777215,f[u]=1;return this.colors=o,this.alphas=f,this.dirty=!0,this},updateVertices:function(){var i=this._perp,o=this.points,f=this.vertices,u=o.length;if(this.dirty=!1,!(u<1)){for(var d,c=o[0],m=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,x=0;x<u;x++){var g=o[x],T=x*4;x<u-1?d=o[x+1]:d=g,i.x=d.y-c.y,i.y=-(d.x-c.x);var S=i.length();i.x/=S,i.y/=S,i.x*=m,i.y*=m,f[T]=g.x+i.x,f[T+1]=g.y+i.y,f[T+2]=g.x-i.x,f[T+3]=g.y-i.y,c=g}return this}},setDebug:function(i,o){return this.debugGraphic=i,!i&&!o?this.debugCallback=null:o?this.debugCallback=o:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(i,o,f){var u=i.debugGraphic,d=f[0],c=f[1],m=f[2],x=f[3];u.lineBetween(d,c,m,x);for(var g=4;g<o;g+=4){var T=f[g+0],S=f[g+1],E=f[g+2],P=f[g+3];u.lineBetween(d,c,T,S),u.lineBetween(m,x,E,P),u.lineBetween(m,x,T,S),u.lineBetween(T,S,E,P),d=T,c=S,m=E,x=P}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(i){return this._flipX=i,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(i){return this._flipY=i,this.updateUVs()}}});p.exports=h},95262:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};p.exports=y},26209:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(35154),s=t(77757);v.register("rope",function(e,n){e===void 0&&(e={});var h=a(e,"key",null),i=a(e,"frame",null),o=a(e,"horizontal",!0),f=r(e,"points",void 0),u=r(e,"colors",void 0),d=r(e,"alphas",void 0),c=new s(this.scene,0,0,h,i,f,o,u,d);return n!==void 0&&(e.add=n),l(this.scene,c,e),c})},96819:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(77757),v=t(39429);v.register("rope",function(a,r,s,e,n,h,i,o){return this.displayList.add(new l(this.scene,a,r,s,e,n,h,i,o))})},38745:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(20439),a=t(95262),p.exports={renderWebGL:v,renderCanvas:a}},20439:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=t(70554),a=function(r,s,e,n){e.addToRenderList(s);var h=r.pipelines.set(s.pipeline,s),i=l(s,e,n).calc,o=s.vertices,f=s.uv,u=s.colors,d=s.alphas,c=s.alpha,m=v.getTintAppendFloatAlpha,x=e.roundPixels,g=o.length,T=Math.floor(g*.5);h.flush(),r.pipelines.preBatch(s);var S=h.setGameObject(s),E=h.vertexViewF32,P=h.vertexViewU32,F=h.vertexCount*h.currentShader.vertexComponentCount-1,R=0,M=s.tintFill;s.dirty&&s.updateVertices();for(var O=s.debugCallback,I=[],V=0;V<g;V+=2){var X=o[V+0],z=o[V+1],Z=X*i.a+z*i.c+i.e,N=X*i.b+z*i.d+i.f;x&&(Z=Math.round(Z),N=Math.round(N)),E[++F]=Z,E[++F]=N,E[++F]=f[V+0],E[++F]=f[V+1],E[++F]=S,E[++F]=M,P[++F]=m(u[R],e.alpha*(d[R]*c)),R++,O&&(I[V+0]=Z,I[V+1]=N)}O&&O.call(s,s,g,I),h.vertexCount+=T,h.currentBatch.count=h.vertexCount-h.currentBatch.start,r.pipelines.postBatch(s)};p.exports=a},20071:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(95643),r=t(95540),s=t(79291),e=t(61622),n=t(25479),h=t(61340),i=t(95428),o=t(92503),f=new l({Extends:a,Mixins:[v.ComputedSize,v.Depth,v.GetBounds,v.Mask,v.Origin,v.ScrollFactor,v.Transform,v.Visible,n],initialize:function(d,c,m,x,g,T,S,E){m===void 0&&(m=0),x===void 0&&(x=0),g===void 0&&(g=128),T===void 0&&(T=128),a.call(this,d,"Shader"),this.blendMode=-1,this.shader;var P=d.sys.renderer;this.renderer=P,this.gl=P.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=P.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=P.width,this._rendererHeight=P.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(m,x),this.setSize(g,T),this.setOrigin(.5,.5),this.setShader(c,S,E),this.renderer.on(o.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(u){return this.renderToTexture?!0:!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&u.id)},setRenderToTexture:function(u,d){if(!this.renderToTexture){var c=this.width,m=this.height,x=this.renderer;this.glTexture=x.createTextureFromSource(null,c,m,0),this.framebuffer=x.createFramebuffer(c,m,this.glTexture,!1),this._rendererWidth=c,this._rendererHeight=m,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),u&&(this.texture=this.scene.sys.textures.addGLTexture(u,this.glTexture))}return this.shader&&(x.pipelines.clear(),this.load(),this.flush(),x.pipelines.rebind()),this},setShader:function(u,d,c){if(this.renderer.contextLost)return this._deferSetShader={key:u,textures:d,textureData:c},this;if(d===void 0&&(d=[]),typeof u=="string"){var m=this.scene.sys.cache.shader;if(!m.has(u))return console.warn("Shader missing: "+u),this;this.shader=m.get(u)}else this.shader=u;var x=this.gl,g=this.renderer;this.program&&g.deleteProgram(this.program);var T=g.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);x.uniformMatrix4fv(x.getUniformLocation(T.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),x.uniformMatrix4fv(x.getUniformLocation(T.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),x.uniform2f(x.getUniformLocation(T.webGLProgram,"uResolution"),this.width,this.height),this.program=T;var S=new Date,E={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[S.getFullYear(),S.getMonth(),S.getDate(),S.getHours()*60*60+S.getMinutes()*60+S.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=s(!0,{},this.shader.uniforms,E):this.uniforms=E;for(var P=0;P<4;P++)d[P]&&this.setSampler2D("iChannel"+P,d[P],P,c);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(u){return this.pointer=u,this},projOrtho:function(u,d,c,m){if(this.renderer.contextLost){this._deferProjOrtho={left:u,right:d,bottom:c,top:m};return}var x=-1e3,g=1e3,T=1/(u-d),S=1/(c-m),E=1/(x-g),P=this.projectionMatrix;P[0]=-2*T,P[5]=-2*S,P[10]=2*E,P[12]=(u+d)*T,P[13]=(m+c)*S,P[14]=(g+x)*E;var F=this.program,R=this.gl,M=this.renderer;M.setProgram(F),R.uniformMatrix4fv(R.getUniformLocation(F.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=d,this._rendererHeight=c},initUniforms:function(){var u=this.renderer.glFuncMap,d=this.program;this._textureCount=0;for(var c in this.uniforms){var m=this.uniforms[c],x=m.type,g=u[x];m.uniformLocation=this.renderer.createUniformLocation(d,c),x!=="sampler2D"&&(m.glMatrix=g.matrix,m.glValueLength=g.length,m.glFunc=g.func)}},setSampler2DBuffer:function(u,d,c,m,x,g){x===void 0&&(x=0),g===void 0&&(g={});var T=this.uniforms[u];return T.value=d,g.width=c,g.height=m,T.textureData=g,this._textureCount=x,this.initSampler2D(T),this},setSampler2D:function(u,d,c,m){c===void 0&&(c=0);var x=this.scene.sys.textures;if(x.exists(d)){var g=x.getFrame(d);if(g.glTexture&&g.glTexture.isRenderTexture)return this.setSampler2DBuffer(u,g.glTexture,g.width,g.height,c,m);var T=this.uniforms[u],S=g.source;T.textureKey=d,T.source=S.image,T.value=g.glTexture,S.isGLTexture&&(m||(m={}),m.width=S.width,m.height=S.height),m&&(T.textureData=m),this._textureCount=c,this.initSampler2D(T)}return this},setUniform:function(u,d){return e(this.uniforms,u,d),this},getUniform:function(u){return r(this.uniforms,u,null)},setChannel0:function(u,d){return this.setSampler2D("iChannel0",u,0,d)},setChannel1:function(u,d){return this.setSampler2D("iChannel1",u,1,d)},setChannel2:function(u,d){return this.setSampler2D("iChannel2",u,2,d)},setChannel3:function(u,d){return this.setSampler2D("iChannel3",u,3,d)},initSampler2D:function(u){if(u.value){var d=u.textureData;if(d&&!u.value.isRenderTexture){var c=this.gl,m=u.value,x=c[r(d,"magFilter","linear").toUpperCase()],g=c[r(d,"minFilter","linear").toUpperCase()],T=c[r(d,"wrapS","repeat").toUpperCase()],S=c[r(d,"wrapT","repeat").toUpperCase()],E=c[r(d,"format","rgba").toUpperCase()],P=r(d,"flipY",!1),F=r(d,"width",m.width),R=r(d,"height",m.height),M=r(d,"source",m.pixels);d.repeat&&(T=c.REPEAT,S=c.REPEAT),d.width&&(M=null),m.update(M,F,R,P,T,S,g,x,E)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var u=this.gl,d=this.uniforms,c,m,x,g,T,S=0;for(var E in d)c=d[E],x=c.glFunc,m=c.glValueLength,g=c.uniformLocation,T=c.value,T!==null&&(m===1?c.glMatrix?x.call(u,g.webGLUniformLocation,c.transpose,T):x.call(u,g.webGLUniformLocation,T):m===2?x.call(u,g.webGLUniformLocation,T.x,T.y):m===3?x.call(u,g.webGLUniformLocation,T.x,T.y,T.z):m===4?x.call(u,g.webGLUniformLocation,T.x,T.y,T.z,T.w):c.type==="sampler2D"&&(u.activeTexture(u.TEXTURE0+S),u.bindTexture(u.TEXTURE_2D,T.webGLTexture),u.uniform1i(g.webGLUniformLocation,S),S++))},load:function(u){var d=this.gl,c=this.width,m=this.height,x=this.renderer,g=this.program,T=this.viewMatrix;if(!this.renderToTexture){var S=-this._displayOriginX,E=-this._displayOriginY;T[0]=u[0],T[1]=u[1],T[4]=u[2],T[5]=u[3],T[8]=u[4],T[9]=u[5],T[12]=T[0]*S+T[4]*E,T[13]=T[1]*S+T[5]*E}d.useProgram(g.webGLProgram),d.uniformMatrix4fv(d.getUniformLocation(g.webGLProgram,"uViewMatrix"),!1,T),d.uniformMatrix4fv(d.getUniformLocation(g.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),d.uniform2f(d.getUniformLocation(g.webGLProgram,"uResolution"),this.width,this.height);var P=this.uniforms,F=P.resolution;F.value.x=c,F.value.y=m,P.time.value=x.game.loop.getDuration();var R=this.pointer;if(R){var M=P.mouse,O=R.x/c,I=1-R.y/m;M.value.x=O.toFixed(2),M.value.y=I.toFixed(2)}this.syncUniforms()},flush:function(){var u=this.width,d=this.height,c=this.program,m=this.gl,x=this.vertexBuffer,g=this.renderer,T=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(g.setFramebuffer(this.framebuffer),m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT)),m.bindBuffer(m.ARRAY_BUFFER,x.webGLBuffer);var S=m.getAttribLocation(c.webGLProgram,"inPosition");S!==-1&&(m.enableVertexAttribArray(S),m.vertexAttribPointer(S,2,m.FLOAT,!1,T,0));var E=this.vertexViewF32;E[3]=d,E[4]=u,E[5]=d,E[8]=u,E[9]=d,E[10]=u;var P=6;m.bufferSubData(m.ARRAY_BUFFER,0,this.bytes.subarray(0,P*T)),m.drawArrays(m.TRIANGLES,0,P),this.renderToTexture&&g.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var u=this._deferSetShader.key,d=this._deferSetShader.textures,c=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(u,d,c)}if(this._deferProjOrtho!==null){var m=this._deferProjOrtho.left,x=this._deferProjOrtho.right,g=this._deferProjOrtho.bottom,T=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(m,x,g,T)}},preDestroy:function(){var u=this.renderer;u.off(o.RESTORE_WEBGL,this.onContextRestored,this),u.deleteProgram(this.program),u.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(u.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),i(this.uniforms,function(d){u.deleteUniformLocation(d.uniformLocation),d.uniformLocation=null})}});p.exports=f},80464:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};p.exports=y},54935:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(20071);v.register("shader",function(s,e){s===void 0&&(s={});var n=a(s,"key",null),h=a(s,"x",0),i=a(s,"y",0),o=a(s,"width",128),f=a(s,"height",128),u=new r(this.scene,n,h,i,o,f);return e!==void 0&&(s.add=e),l(this.scene,u,s),u})},74177:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20071),v=t(39429);v.register("shader",function(a,r,s,e,n,h,i){return this.displayList.add(new l(this.scene,a,r,s,e,n,h,i))})},25479:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(19257),a=t(80464),p.exports={renderWebGL:v,renderCanvas:a}},19257:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=function(a,r,s,e){if(r.shader){if(s.addToRenderList(r),a.pipelines.clear(),r.renderToTexture)r.load(),r.flush();else{var n=l(r,s,e).calc;(a.width!==r._rendererWidth||a.height!==r._rendererHeight)&&r.projOrtho(0,a.width,a.height,0),r.load(n.matrix),r.flush()}a.pipelines.rebind()}};p.exports=v},10441:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70554),v=function(a,r,s,e,n,h){for(var i=l.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*e),o=s.pathData,f=s.pathIndexes,u=0;u<f.length;u+=3){var d=f[u]*2,c=f[u+1]*2,m=f[u+2]*2,x=o[d+0]-n,g=o[d+1]-h,T=o[c+0]-n,S=o[c+1]-h,E=o[m+0]-n,P=o[m+1]-h,F=r.getX(x,g),R=r.getY(x,g),M=r.getX(T,S),O=r.getY(T,S),I=r.getX(E,P),V=r.getY(E,P);a.batchTri(s,F,R,M,O,I,V,0,0,1,1,i,i,i,2)}};p.exports=v},65960:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){var r=v||l.fillColor,s=a||l.fillAlpha,e=(r&16711680)>>>16,n=(r&65280)>>>8,h=r&255;t.fillStyle="rgba("+e+","+n+","+h+","+s+")"};p.exports=y},75177:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){var r=v||l.strokeColor,s=a||l.strokeAlpha,e=(r&16711680)>>>16,n=(r&65280)>>>8,h=r&255;t.strokeStyle="rgba("+e+","+n+","+h+","+s+")",t.lineWidth=l.lineWidth};p.exports=y},17803:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(95643),r=t(23031),s=new l({Extends:a,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible],initialize:function(n,h,i){h===void 0&&(h="Shape"),a.call(this,n,h),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new r,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,n){return n===void 0&&(n=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=n,this.isFilled=!0),this},setStrokeStyle:function(e,n,h){return h===void 0&&(h=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=n,this.strokeAlpha=h,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,n){return this.width=e,this.height=n,this},setDisplaySize:function(e,n){return this.displayWidth=e,this.displayHeight=n,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});p.exports=s},34682:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70554),v=function(a,r,s,e,n){var h=a.strokeTint,i=l.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*s);h.TL=i,h.TR=i,h.BL=i,h.BR=i;var o=r.pathData,f=o.length-1,u=r.lineWidth,d=u/2,c=o[0]-e,m=o[1]-n;r.closePath||(f-=2);for(var x=2;x<f;x+=2){var g=o[x]-e,T=o[x+1]-n;a.batchLine(c,m,g,T,d,d,u,x-2,r.closePath?x===f-1:!1),c=g,m=T}};p.exports=v},23629:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13609),v=t(83419),a=t(39506),r=t(94811),s=t(96503),e=t(36383),n=t(17803),h=new v({Extends:n,Mixins:[l],initialize:function(o,f,u,d,c,m,x,g,T){f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=128),c===void 0&&(c=0),m===void 0&&(m=360),x===void 0&&(x=!1),n.call(this,o,"Arc",new s(0,0,d)),this._startAngle=c,this._endAngle=m,this._anticlockwise=x,this._iterations=.01,this.setPosition(f,u);var S=this.geom.radius*2;this.setSize(S,S),g!==void 0&&this.setFillStyle(g,T),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(i){this._iterations=i,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(i){this.geom.radius=i;var o=i*2;this.setSize(o,o),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(i){this._startAngle=i,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(i){this._endAngle=i,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(i){this._anticlockwise=i,this.updateData()}},setRadius:function(i){return this.radius=i,this},setIterations:function(i){return i===void 0&&(i=.01),this.iterations=i,this},setStartAngle:function(i,o){return this._startAngle=i,o!==void 0&&(this._anticlockwise=o),this.updateData()},setEndAngle:function(i,o){return this._endAngle=i,o!==void 0&&(this._anticlockwise=o),this.updateData()},updateData:function(){var i=this._iterations,o=i,f=this.geom.radius,u=a(this._startAngle),d=a(this._endAngle),c=this._anticlockwise,m=f,x=f;d-=u,c?d<-e.PI2?d=-e.PI2:d>0&&(d=-e.PI2+d%e.PI2):d>e.PI2?d=e.PI2:d<0&&(d=e.PI2+d%e.PI2);for(var g=[m+Math.cos(u)*f,x+Math.sin(u)*f],T;o<1;)T=d*o+u,g.push(m+Math.cos(T)*f,x+Math.sin(T)*f),o+=i;return T=d+u,g.push(m+Math.cos(T)*f,x+Math.sin(T)*f),g.push(m+Math.cos(u)*f,x+Math.sin(u)*f),this.pathIndexes=r(g),this.pathData=g,this}});p.exports=h},42542:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39506),v=t(65960),a=t(75177),r=t(20926),s=function(e,n,h,i){h.addToRenderList(n);var o=e.currentContext;if(r(e,o,n,h,i)){var f=n.radius;o.beginPath(),o.arc(f-n.originX*(f*2),f-n.originY*(f*2),f,l(n._startAngle),l(n._endAngle),n.anticlockwise),n.closePath&&o.closePath(),n.isFilled&&(v(o,n),o.fill()),n.isStroked&&(a(o,n),o.stroke()),o.restore()}};p.exports=s},42563:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23629),v=t(39429);v.register("arc",function(a,r,s,e,n,h,i,o){return this.displayList.add(new l(this.scene,a,r,s,e,n,h,i,o))}),v.register("circle",function(a,r,s,e,n){return this.displayList.add(new l(this.scene,a,r,s,0,360,!1,e,n))})},13609:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(41447),a=t(42542),p.exports={renderWebGL:v,renderCanvas:a}},41447:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=t(10441),a=t(34682),r=function(s,e,n,h){n.addToRenderList(e);var i=s.pipelines.set(e.pipeline),o=l(e,n,h),f=i.calcMatrix.copyFrom(o.calc),u=e._displayOriginX,d=e._displayOriginY,c=n.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&v(i,f,e,c,u,d),e.isStroked&&a(i,e,c,u,d),s.pipelines.postBatch(e)};p.exports=r},89:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(33141),a=t(94811),r=t(87841),s=t(17803),e=new l({Extends:s,Mixins:[v],initialize:function(h,i,o,f,u,d){i===void 0&&(i=0),o===void 0&&(o=0),s.call(this,h,"Curve",f),this._smoothness=32,this._curveBounds=new r,this.closePath=!1,this.setPosition(i,o),u!==void 0&&this.setFillStyle(u,d),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){var n=this._curveBounds,h=this._smoothness;this.geom.getBounds(n,h),this.setSize(n.width,n.height),this.updateDisplayOrigin();for(var i=[],o=this.geom.getPoints(h),f=0;f<o.length;f++)i.push(o[f].x,o[f].y);return i.push(o[0].x,o[0].y),this.pathIndexes=a(i),this.pathData=i,this}});p.exports=e},3170:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),v=t(75177),a=t(20926),r=function(s,e,n,h){n.addToRenderList(e);var i=s.currentContext;if(a(s,i,e,n,h)){var o=e._displayOriginX+e._curveBounds.x,f=e._displayOriginY+e._curveBounds.y,u=e.pathData,d=u.length-1,c=u[0]-o,m=u[1]-f;i.beginPath(),i.moveTo(c,m),e.closePath||(d-=2);for(var x=2;x<d;x+=2){var g=u[x]-o,T=u[x+1]-f;i.lineTo(g,T)}e.closePath&&i.closePath(),e.isFilled&&(l(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};p.exports=r},40511:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(89);l.register("curve",function(a,r,s,e,n){return this.displayList.add(new v(this.scene,a,r,s,e,n))})},33141:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(53987),a=t(3170),p.exports={renderWebGL:v,renderCanvas:a}},53987:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10441),v=t(91296),a=t(34682),r=function(s,e,n,h){n.addToRenderList(e);var i=s.pipelines.set(e.pipeline),o=v(e,n,h),f=i.calcMatrix.copyFrom(o.calc),u=e._displayOriginX+e._curveBounds.x,d=e._displayOriginY+e._curveBounds.y,c=n.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&l(i,f,e,c,u,d),e.isStroked&&a(i,e,c,u,d),s.pipelines.postBatch(e)};p.exports=r},19921:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(94811),a=t(54205),r=t(8497),s=t(17803),e=new l({Extends:s,Mixins:[a],initialize:function(h,i,o,f,u,d,c){i===void 0&&(i=0),o===void 0&&(o=0),f===void 0&&(f=128),u===void 0&&(u=128),s.call(this,h,"Ellipse",new r(f/2,u/2,f,u)),this._smoothness=64,this.setPosition(i,o),this.width=f,this.height=u,d!==void 0&&this.setFillStyle(d,c),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSize:function(n,h){return this.width=n,this.height=h,this.geom.setPosition(n/2,h/2),this.geom.setSize(n,h),this.updateData()},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){for(var n=[],h=this.geom.getPoints(this._smoothness),i=0;i<h.length;i++)n.push(h[i].x,h[i].y);return n.push(h[0].x,h[0].y),this.pathIndexes=v(n),this.pathData=n,this}});p.exports=e},7930:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),v=t(75177),a=t(20926),r=function(s,e,n,h){n.addToRenderList(e);var i=s.currentContext;if(a(s,i,e,n,h)){var o=e._displayOriginX,f=e._displayOriginY,u=e.pathData,d=u.length-1,c=u[0]-o,m=u[1]-f;i.beginPath(),i.moveTo(c,m),e.closePath||(d-=2);for(var x=2;x<d;x+=2){var g=u[x]-o,T=u[x+1]-f;i.lineTo(g,T)}i.closePath(),e.isFilled&&(l(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};p.exports=r},1543:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19921),v=t(39429);v.register("ellipse",function(a,r,s,e,n,h){return this.displayList.add(new l(this.scene,a,r,s,e,n,h))})},54205:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(19467),a=t(7930),p.exports={renderWebGL:v,renderCanvas:a}},19467:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10441),v=t(91296),a=t(34682),r=function(s,e,n,h){n.addToRenderList(e);var i=s.pipelines.set(e.pipeline),o=v(e,n,h),f=i.calcMatrix.copyFrom(o.calc),u=e._displayOriginX,d=e._displayOriginY,c=n.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&l(i,f,e,c,u,d),e.isStroked&&a(i,e,c,u,d),s.pipelines.postBatch(e)};p.exports=r},30479:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(17803),a=t(26015),r=new l({Extends:v,Mixins:[a],initialize:function(e,n,h,i,o,f,u,d,c,m,x){n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=128),o===void 0&&(o=128),f===void 0&&(f=32),u===void 0&&(u=32),v.call(this,e,"Grid",null),this.cellWidth=f,this.cellHeight=u,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(n,h),this.setSize(i,o),this.setFillStyle(d,c),m!==void 0&&this.setOutlineStyle(m,x),this.updateDisplayOrigin()},setFillStyle:function(s,e){return e===void 0&&(e=1),s===void 0?this.showCells=!1:(this.fillColor=s,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(s,e){return e===void 0&&(e=1),s===void 0?this.showAltCells=!1:(this.altFillColor=s,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(s,e){return e===void 0&&(e=1),s===void 0?this.showOutline=!1:(this.outlineFillColor=s,this.outlineFillAlpha=e,this.showOutline=!0),this}});p.exports=r},49912:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),v=t(75177),a=t(20926),r=function(s,e,n,h){n.addToRenderList(e);var i=s.currentContext;if(a(s,i,e,n,h)){var o=-e._displayOriginX,f=-e._displayOriginY,u=n.alpha*e.alpha,d=e.width,c=e.height,m=e.cellWidth,x=e.cellHeight,g=Math.ceil(d/m),T=Math.ceil(c/x),S=m,E=x,P=m-(g*m-d),F=x-(T*x-c),R=e.showCells,M=e.showAltCells,O=e.showOutline,I=0,V=0,X=0,z=0,Z=0;if(O&&(S--,E--,P===m&&P--,F===x&&F--),R&&e.fillAlpha>0)for(l(i,e),V=0;V<T;V++)for(M&&(X=V%2),I=0;I<g;I++){if(M&&X){X=0;continue}X++,z=I<g-1?S:P,Z=V<T-1?E:F,i.fillRect(o+I*m,f+V*x,z,Z)}if(M&&e.altFillAlpha>0)for(l(i,e,e.altFillColor,e.altFillAlpha*u),V=0;V<T;V++)for(M&&(X=V%2),I=0;I<g;I++){if(M&&!X){X=1;continue}X=0,z=I<g-1?S:P,Z=V<T-1?E:F,i.fillRect(o+I*m,f+V*x,z,Z)}if(O&&e.outlineFillAlpha>0){for(v(i,e,e.outlineFillColor,e.outlineFillAlpha*u),I=1;I<g;I++){var N=I*m;i.beginPath(),i.moveTo(N+o,f),i.lineTo(N+o,c+f),i.stroke()}for(V=1;V<T;V++){var Y=V*x;i.beginPath(),i.moveTo(o,Y+f),i.lineTo(o+d,Y+f),i.stroke()}}i.restore()}};p.exports=r},34137:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(30479);l.register("grid",function(a,r,s,e,n,h,i,o,f,u){return this.displayList.add(new v(this.scene,a,r,s,e,n,h,i,o,f,u))})},26015:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(46161),a=t(49912),p.exports={renderWebGL:v,renderCanvas:a}},46161:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=t(70554),a=function(r,s,e,n){e.addToRenderList(s);var h=r.pipelines.set(s.pipeline),i=l(s,e,n),o=h.calcMatrix.copyFrom(i.calc);o.translate(-s._displayOriginX,-s._displayOriginY);var f=e.alpha*s.alpha,u=s.width,d=s.height,c=s.cellWidth,m=s.cellHeight,x=Math.ceil(u/c),g=Math.ceil(d/m),T=c,S=m,E=c-(x*c-u),P=m-(g*m-d),F,R,M=s.showCells,O=s.showAltCells,I=s.showOutline,V=0,X=0,z=0,Z=0,N=0;if(I&&(T--,S--,E===c&&E--,P===m&&P--),r.pipelines.preBatch(s),M&&s.fillAlpha>0)for(F=h.fillTint,R=v.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*f),F.TL=R,F.TR=R,F.BL=R,F.BR=R,X=0;X<g;X++)for(O&&(z=X%2),V=0;V<x;V++){if(O&&z){z=0;continue}z++,Z=V<x-1?T:E,N=X<g-1?S:P,h.batchFillRect(V*c,X*m,Z,N)}if(O&&s.altFillAlpha>0)for(F=h.fillTint,R=v.getTintAppendFloatAlpha(s.altFillColor,s.altFillAlpha*f),F.TL=R,F.TR=R,F.BL=R,F.BR=R,X=0;X<g;X++)for(O&&(z=X%2),V=0;V<x;V++){if(O&&!z){z=1;continue}z=0,Z=V<x-1?T:E,N=X<g-1?S:P,h.batchFillRect(V*c,X*m,Z,N)}if(I&&s.outlineFillAlpha>0){var Y=h.strokeTint,L=v.getTintAppendFloatAlpha(s.outlineFillColor,s.outlineFillAlpha*f);for(Y.TL=L,Y.TR=L,Y.BL=L,Y.BR=L,V=1;V<x;V++){var b=V*c;h.batchLine(b,0,b,d,1,1,1,0,!1)}for(X=1;X<g;X++){var U=X*m;h.batchLine(0,U,u,U,1,1,1,0,!1)}}r.pipelines.postBatch(s)};p.exports=a},61475:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99651),v=t(83419),a=t(17803),r=new v({Extends:a,Mixins:[l],initialize:function(e,n,h,i,o,f,u,d){n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=48),o===void 0&&(o=32),f===void 0&&(f=15658734),u===void 0&&(u=10066329),d===void 0&&(d=13421772),a.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=f,this.fillLeft=u,this.fillRight=d,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(n,h),this.setSize(i,o),this.updateDisplayOrigin()},setProjection:function(s){return this.projection=s,this},setFaces:function(s,e,n){return s===void 0&&(s=!0),e===void 0&&(e=!0),n===void 0&&(n=!0),this.showTop=s,this.showLeft=e,this.showRight=n,this},setFillStyle:function(s,e,n){return this.fillTop=s,this.fillLeft=e,this.fillRight=n,this.isFilled=!0,this}});p.exports=r},11508:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),v=t(20926),a=function(r,s,e,n){e.addToRenderList(s);var h=r.currentContext;if(v(r,h,s,e,n)&&s.isFilled){var i=s.width,o=s.height,f=i/2,u=i/s.projection;s.showTop&&(l(h,s,s.fillTop),h.beginPath(),h.moveTo(-f,-o),h.lineTo(0,-u-o),h.lineTo(f,-o),h.lineTo(f,-1),h.lineTo(0,u-1),h.lineTo(-f,-1),h.lineTo(-f,-o),h.fill()),s.showLeft&&(l(h,s,s.fillLeft),h.beginPath(),h.moveTo(-f,0),h.lineTo(0,u),h.lineTo(0,u-o),h.lineTo(-f,-o),h.lineTo(-f,0),h.fill()),s.showRight&&(l(h,s,s.fillRight),h.beginPath(),h.moveTo(f,0),h.lineTo(0,u),h.lineTo(0,u-o),h.lineTo(f,-o),h.lineTo(f,0),h.fill()),h.restore()}};p.exports=a},3933:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(61475);l.register("isobox",function(a,r,s,e,n,h,i){return this.displayList.add(new v(this.scene,a,r,s,e,n,h,i))})},99651:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(68149),a=t(11508),p.exports={renderWebGL:v,renderCanvas:a}},68149:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=t(70554),a=function(r,s,e,n){e.addToRenderList(s);var h=r.pipelines.set(s.pipeline),i=l(s,e,n),o=h.calcMatrix.copyFrom(i.calc),f=s.width,u=s.height,d=f/2,c=f/s.projection,m=e.alpha*s.alpha;if(s.isFilled){var x,g,T,S,E,P,F,R,M;r.pipelines.preBatch(s),s.showTop&&(x=v.getTintAppendFloatAlpha(s.fillTop,m),g=o.getX(-d,-u),T=o.getY(-d,-u),S=o.getX(0,-c-u),E=o.getY(0,-c-u),P=o.getX(d,-u),F=o.getY(d,-u),R=o.getX(0,c-u),M=o.getY(0,c-u),h.batchQuad(s,g,T,S,E,P,F,R,M,0,0,1,1,x,x,x,x,2)),s.showLeft&&(x=v.getTintAppendFloatAlpha(s.fillLeft,m),g=o.getX(-d,0),T=o.getY(-d,0),S=o.getX(0,c),E=o.getY(0,c),P=o.getX(0,c-u),F=o.getY(0,c-u),R=o.getX(-d,-u),M=o.getY(-d,-u),h.batchQuad(s,g,T,S,E,P,F,R,M,0,0,1,1,x,x,x,x,2)),s.showRight&&(x=v.getTintAppendFloatAlpha(s.fillRight,m),g=o.getX(d,0),T=o.getY(d,0),S=o.getX(0,c),E=o.getY(0,c),P=o.getX(0,c-u),F=o.getY(0,c-u),R=o.getX(d,-u),M=o.getY(d,-u),h.batchQuad(s,g,T,S,E,P,F,R,M,0,0,1,1,x,x,x,x,2)),r.pipelines.postBatch(s)}};p.exports=a},16933:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(60561),a=t(17803),r=new l({Extends:a,Mixins:[v],initialize:function(e,n,h,i,o,f,u,d,c){n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=48),o===void 0&&(o=32),f===void 0&&(f=!1),u===void 0&&(u=15658734),d===void 0&&(d=10066329),c===void 0&&(c=13421772),a.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=u,this.fillLeft=d,this.fillRight=c,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=f,this.isFilled=!0,this.setPosition(n,h),this.setSize(i,o),this.updateDisplayOrigin()},setProjection:function(s){return this.projection=s,this},setReversed:function(s){return this.isReversed=s,this},setFaces:function(s,e,n){return s===void 0&&(s=!0),e===void 0&&(e=!0),n===void 0&&(n=!0),this.showTop=s,this.showLeft=e,this.showRight=n,this},setFillStyle:function(s,e,n){return this.fillTop=s,this.fillLeft=e,this.fillRight=n,this.isFilled=!0,this}});p.exports=r},79590:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),v=t(20926),a=function(r,s,e,n){e.addToRenderList(s);var h=r.currentContext;if(v(r,h,s,e,n)&&s.isFilled){var i=s.width,o=s.height,f=i/2,u=i/s.projection,d=s.isReversed;s.showTop&&d&&(l(h,s,s.fillTop),h.beginPath(),h.moveTo(-f,-o),h.lineTo(0,-u-o),h.lineTo(f,-o),h.lineTo(0,u-o),h.fill()),s.showLeft&&(l(h,s,s.fillLeft),h.beginPath(),d?(h.moveTo(-f,-o),h.lineTo(0,u),h.lineTo(0,u-o)):(h.moveTo(-f,0),h.lineTo(0,u),h.lineTo(0,u-o)),h.fill()),s.showRight&&(l(h,s,s.fillRight),h.beginPath(),d?(h.moveTo(f,-o),h.lineTo(0,u),h.lineTo(0,u-o)):(h.moveTo(f,0),h.lineTo(0,u),h.lineTo(0,u-o)),h.fill()),h.restore()}};p.exports=a},49803:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(16933);l.register("isotriangle",function(a,r,s,e,n,h,i,o){return this.displayList.add(new v(this.scene,a,r,s,e,n,h,i,o))})},60561:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(51503),a=t(79590),p.exports={renderWebGL:v,renderCanvas:a}},51503:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=t(70554),a=function(r,s,e,n){e.addToRenderList(s);var h=r.pipelines.set(s.pipeline),i=l(s,e,n),o=h.calcMatrix.copyFrom(i.calc),f=s.width,u=s.height,d=f/2,c=f/s.projection,m=s.isReversed,x=e.alpha*s.alpha;if(s.isFilled){r.pipelines.preBatch(s);var g,T,S,E,P,F,R;if(s.showTop&&m){g=v.getTintAppendFloatAlpha(s.fillTop,x),T=o.getX(-d,-u),S=o.getY(-d,-u),E=o.getX(0,-c-u),P=o.getY(0,-c-u),F=o.getX(d,-u),R=o.getY(d,-u);var M=o.getX(0,c-u),O=o.getY(0,c-u);h.batchQuad(s,T,S,E,P,F,R,M,O,0,0,1,1,g,g,g,g,2)}s.showLeft&&(g=v.getTintAppendFloatAlpha(s.fillLeft,x),m?(T=o.getX(-d,-u),S=o.getY(-d,-u),E=o.getX(0,c),P=o.getY(0,c),F=o.getX(0,c-u),R=o.getY(0,c-u)):(T=o.getX(-d,0),S=o.getY(-d,0),E=o.getX(0,c),P=o.getY(0,c),F=o.getX(0,c-u),R=o.getY(0,c-u)),h.batchTri(s,T,S,E,P,F,R,0,0,1,1,g,g,g,2)),s.showRight&&(g=v.getTintAppendFloatAlpha(s.fillRight,x),m?(T=o.getX(d,-u),S=o.getY(d,-u),E=o.getX(0,c),P=o.getY(0,c),F=o.getX(0,c-u),R=o.getY(0,c-u)):(T=o.getX(d,0),S=o.getY(d,0),E=o.getX(0,c),P=o.getY(0,c),F=o.getX(0,c-u),R=o.getY(0,c-u)),h.batchTri(s,T,S,E,P,F,R,0,0,1,1,g,g,g,2)),r.pipelines.postBatch(s)}};p.exports=a},57847:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(17803),a=t(23031),r=t(36823),s=new l({Extends:v,Mixins:[r],initialize:function(n,h,i,o,f,u,d,c,m){h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=0),f===void 0&&(f=0),u===void 0&&(u=128),d===void 0&&(d=0),v.call(this,n,"Line",new a(o,f,u,d));var x=Math.max(1,this.geom.right-this.geom.left),g=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(h,i),this.setSize(x,g),c!==void 0&&this.setStrokeStyle(1,c,m),this.updateDisplayOrigin()},setLineWidth:function(e,n){return n===void 0&&(n=e),this._startWidth=e,this._endWidth=n,this.lineWidth=e,this},setTo:function(e,n,h,i){return this.geom.setTo(e,n,h,i),this}});p.exports=s},17440:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75177),v=t(20926),a=function(r,s,e,n){e.addToRenderList(s);var h=r.currentContext;if(v(r,h,s,e,n)){var i=s._displayOriginX,o=s._displayOriginY;s.isStroked&&(l(h,s),h.beginPath(),h.moveTo(s.geom.x1-i,s.geom.y1-o),h.lineTo(s.geom.x2-i,s.geom.y2-o),h.stroke()),h.restore()}};p.exports=a},2481:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(57847);l.register("line",function(a,r,s,e,n,h,i,o){return this.displayList.add(new v(this.scene,a,r,s,e,n,h,i,o))})},36823:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(77385),a=t(17440),p.exports={renderWebGL:v,renderCanvas:a}},77385:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=t(70554),a=function(r,s,e,n){e.addToRenderList(s);var h=r.pipelines.set(s.pipeline),i=l(s,e,n);h.calcMatrix.copyFrom(i.calc);var o=s._displayOriginX,f=s._displayOriginY,u=e.alpha*s.alpha;if(r.pipelines.preBatch(s),s.isStroked){var d=h.strokeTint,c=v.getTintAppendFloatAlpha(s.strokeColor,s.strokeAlpha*u);d.TL=c,d.TR=c,d.BL=c,d.BR=c,h.batchLine(s.geom.x1-o,s.geom.y1-f,s.geom.x2-o,s.geom.y2-f,s._startWidth/2,s._endWidth/2,1,0,!1,i.sprite,i.camera)}r.pipelines.postBatch(s)};p.exports=a},24949:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(90273),v=t(83419),a=t(94811),r=t(13829),s=t(25717),e=t(17803),n=t(5469),h=new v({Extends:e,Mixins:[l],initialize:function(o,f,u,d,c,m){f===void 0&&(f=0),u===void 0&&(u=0),e.call(this,o,"Polygon",new s(d));var x=r(this.geom);this.setPosition(f,u),this.setSize(x.width,x.height),c!==void 0&&this.setFillStyle(c,m),this.updateDisplayOrigin(),this.updateData()},smooth:function(i){i===void 0&&(i=1);for(var o=0;o<i;o++)n(this.geom);return this.updateData()},setTo:function(i){this.geom.setTo(i);var o=r(this.geom);return this.setSize(o.width,o.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var i=[],o=this.geom.points,f=0;f<o.length;f++)i.push(o[f].x,o[f].y);return i.push(o[0].x,o[0].y),this.pathIndexes=a(i),this.pathData=i,this}});p.exports=h},38710:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),v=t(75177),a=t(20926),r=function(s,e,n,h){n.addToRenderList(e);var i=s.currentContext;if(a(s,i,e,n,h)){var o=e._displayOriginX,f=e._displayOriginY,u=e.pathData,d=u.length-1,c=u[0]-o,m=u[1]-f;i.beginPath(),i.moveTo(c,m),e.closePath||(d-=2);for(var x=2;x<d;x+=2){var g=u[x]-o,T=u[x+1]-f;i.lineTo(g,T)}e.closePath&&i.closePath(),e.isFilled&&(l(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};p.exports=r},64827:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(24949);l.register("polygon",function(a,r,s,e,n){return this.displayList.add(new v(this.scene,a,r,s,e,n))})},90273:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(73695),a=t(38710),p.exports={renderWebGL:v,renderCanvas:a}},73695:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10441),v=t(91296),a=t(34682),r=function(s,e,n,h){n.addToRenderList(e);var i=s.pipelines.set(e.pipeline),o=v(e,n,h),f=i.calcMatrix.copyFrom(o.calc),u=e._displayOriginX,d=e._displayOriginY,c=n.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&l(i,f,e,c,u,d),e.isStroked&&a(i,e,c,u,d),s.pipelines.postBatch(e)};p.exports=r},74561:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(87841),a=t(17803),r=t(95597),s=new l({Extends:a,Mixins:[r],initialize:function(n,h,i,o,f,u,d){h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=128),f===void 0&&(f=128),a.call(this,n,"Rectangle",new v(0,0,o,f)),this.setPosition(h,i),this.setSize(o,f),u!==void 0&&this.setFillStyle(u,d),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,n){this.width=e,this.height=n,this.geom.setSize(e,n),this.updateData(),this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=e,h.hitArea.height=n),this},updateData:function(){var e=[],n=this.geom,h=this._tempLine;return n.getLineA(h),e.push(h.x1,h.y1,h.x2,h.y2),n.getLineB(h),e.push(h.x2,h.y2),n.getLineC(h),e.push(h.x2,h.y2),n.getLineD(h),e.push(h.x2,h.y2),this.pathData=e,this}});p.exports=s},48682:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),v=t(75177),a=t(20926),r=function(s,e,n,h){n.addToRenderList(e);var i=s.currentContext;if(a(s,i,e,n,h)){var o=e._displayOriginX,f=e._displayOriginY;e.isFilled&&(l(i,e),i.fillRect(-o,-f,e.width,e.height)),e.isStroked&&(v(i,e),i.beginPath(),i.rect(-o,-f,e.width,e.height),i.stroke()),i.restore()}};p.exports=r},87959:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(74561);l.register("rectangle",function(a,r,s,e,n,h){return this.displayList.add(new v(this.scene,a,r,s,e,n,h))})},95597:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(52059),a=t(48682),p.exports={renderWebGL:v,renderCanvas:a}},52059:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=t(34682),a=t(70554),r=function(s,e,n,h){n.addToRenderList(e);var i=s.pipelines.set(e.pipeline),o=l(e,n,h);i.calcMatrix.copyFrom(o.calc);var f=e._displayOriginX,u=e._displayOriginY,d=n.alpha*e.alpha;if(s.pipelines.preBatch(e),e.isFilled){var c=i.fillTint,m=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);c.TL=m,c.TR=m,c.BL=m,c.BR=m,i.batchFillRect(-f,-u,e.width,e.height)}e.isStroked&&v(i,e,d,f,u),s.pipelines.postBatch(e)};p.exports=r},55911:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(81991),v=t(83419),a=t(94811),r=t(17803),s=new v({Extends:r,Mixins:[l],initialize:function(n,h,i,o,f,u,d,c){h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=5),f===void 0&&(f=32),u===void 0&&(u=64),r.call(this,n,"Star",null),this._points=o,this._innerRadius=f,this._outerRadius=u,this.setPosition(h,i),this.setSize(u*2,u*2),d!==void 0&&this.setFillStyle(d,c),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],n=this._points,h=this._innerRadius,i=this._outerRadius,o=Math.PI/2*3,f=Math.PI/n,u=i,d=i;e.push(u,d+-i);for(var c=0;c<n;c++)e.push(u+Math.cos(o)*i,d+Math.sin(o)*i),o+=f,e.push(u+Math.cos(o)*h,d+Math.sin(o)*h),o+=f;return e.push(u,d+-i),this.pathIndexes=a(e),this.pathData=e,this}});p.exports=s},64272:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),v=t(75177),a=t(20926),r=function(s,e,n,h){n.addToRenderList(e);var i=s.currentContext;if(a(s,i,e,n,h)){var o=e._displayOriginX,f=e._displayOriginY,u=e.pathData,d=u.length-1,c=u[0]-o,m=u[1]-f;i.beginPath(),i.moveTo(c,m),e.closePath||(d-=2);for(var x=2;x<d;x+=2){var g=u[x]-o,T=u[x+1]-f;i.lineTo(g,T)}i.closePath(),e.isFilled&&(l(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};p.exports=r},93697:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(55911),v=t(39429);v.register("star",function(a,r,s,e,n,h,i){return this.displayList.add(new l(this.scene,a,r,s,e,n,h,i))})},81991:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(57017),a=t(64272),p.exports={renderWebGL:v,renderCanvas:a}},57017:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10441),v=t(91296),a=t(34682),r=function(s,e,n,h){n.addToRenderList(e);var i=s.pipelines.set(e.pipeline),o=v(e,n,h),f=i.calcMatrix.copyFrom(o.calc),u=e._displayOriginX,d=e._displayOriginY,c=n.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&l(i,f,e,c,u,d),e.isStroked&&a(i,e,c,u,d),s.pipelines.postBatch(e)};p.exports=r},36931:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(17803),a=t(16483),r=t(96195),s=new l({Extends:v,Mixins:[r],initialize:function(n,h,i,o,f,u,d,c,m,x,g){h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=0),f===void 0&&(f=128),u===void 0&&(u=64),d===void 0&&(d=0),c===void 0&&(c=128),m===void 0&&(m=128),v.call(this,n,"Triangle",new a(o,f,u,d,c,m));var T=this.geom.right-this.geom.left,S=this.geom.bottom-this.geom.top;this.setPosition(h,i),this.setSize(T,S),x!==void 0&&this.setFillStyle(x,g),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,n,h,i,o,f){return this.geom.setTo(e,n,h,i,o,f),this.updateData()},updateData:function(){var e=[],n=this.geom,h=this._tempLine;return n.getLineA(h),e.push(h.x1,h.y1,h.x2,h.y2),n.getLineB(h),e.push(h.x2,h.y2),n.getLineC(h),e.push(h.x2,h.y2),this.pathData=e,this}});p.exports=s},85172:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),v=t(75177),a=t(20926),r=function(s,e,n,h){n.addToRenderList(e);var i=s.currentContext;if(a(s,i,e,n,h)){var o=e._displayOriginX,f=e._displayOriginY,u=e.geom.x1-o,d=e.geom.y1-f,c=e.geom.x2-o,m=e.geom.y2-f,x=e.geom.x3-o,g=e.geom.y3-f;i.beginPath(),i.moveTo(u,d),i.lineTo(c,m),i.lineTo(x,g),i.closePath(),e.isFilled&&(l(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};p.exports=r},45245:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(36931);l.register("triangle",function(a,r,s,e,n,h,i,o,f,u){return this.displayList.add(new v(this.scene,a,r,s,e,n,h,i,o,f,u))})},96195:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(83253),a=t(85172),p.exports={renderWebGL:v,renderCanvas:a}},83253:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=t(34682),a=t(70554),r=function(s,e,n,h){n.addToRenderList(e);var i=s.pipelines.set(e.pipeline),o=l(e,n,h);i.calcMatrix.copyFrom(o.calc);var f=e._displayOriginX,u=e._displayOriginY,d=n.alpha*e.alpha;if(s.pipelines.preBatch(e),e.isFilled){var c=i.fillTint,m=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);c.TL=m,c.TR=m,c.BL=m,c.BR=m;var x=e.geom.x1-f,g=e.geom.y1-u,T=e.geom.x2-f,S=e.geom.y2-u,E=e.geom.x3-f,P=e.geom.y3-u;i.batchFillTriangle(x,g,T,S,E,P,o.sprite,o.camera)}e.isStroked&&v(i,e,d,f,u),s.pipelines.postBatch(e)};p.exports=r},68287:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(9674),v=t(83419),a=t(31401),r=t(95643),s=t(92751),e=new v({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.TextureCrop,a.Tint,a.Transform,a.Visible,s],initialize:function(h,i,o,f,u){r.call(this,h,"Sprite"),this._crop=this.resetCropObject(),this.anims=new l(this),this.setTexture(f,u),this.setPosition(i,o),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,h){this.anims.update(n,h)},play:function(n,h){return this.anims.play(n,h)},playReverse:function(n,h){return this.anims.playReverse(n,h)},playAfterDelay:function(n,h){return this.anims.playAfterDelay(n,h)},playAfterRepeat:function(n,h){return this.anims.playAfterRepeat(n,h)},chain:function(n){return this.anims.chain(n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(n){return this.anims.stopAfterDelay(n)},stopAfterRepeat:function(n){return this.anims.stopAfterRepeat(n)},stopOnFrame:function(n){return this.anims.stopOnFrame(n)},toJSON:function(){return a.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});p.exports=e},76552:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){v.addToRenderList(l),t.batchSprite(l,l.frame,v,a)};p.exports=y},15567:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(13059),a=t(44603),r=t(23568),s=t(68287);a.register("sprite",function(e,n){e===void 0&&(e={});var h=r(e,"key",null),i=r(e,"frame",null),o=new s(this.scene,0,0,h,i);return n!==void 0&&(e.add=n),l(this.scene,o,e),v(o,e),o})},46409:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(68287);l.register("sprite",function(a,r,s,e){return this.displayList.add(new v(this.scene,a,r,s,e))})},92751:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(9409),a=t(76552),p.exports={renderWebGL:v,renderCanvas:a}},9409:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){v.addToRenderList(l),l.pipeline.batchSprite(l,v,a)};p.exports=y},14220:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){var a=t.canvas,r=t.context,s=t.style,e=[],n=0,h=v.length;s.maxLines>0&&s.maxLines<v.length&&(h=s.maxLines),s.syncFont(a,r);for(var i=0;i<h;i++){var o=s.strokeThickness;o+=r.measureText(v[i]).width,v[i].length>1&&(o+=t.letterSpacing*(v[i].length-1)),s.wordWrap&&(o-=r.measureText(" ").width),e[i]=Math.ceil(o),n=Math.max(n,e[i])}var f=l.fontSize+s.strokeThickness,u=f*h,d=t.lineSpacing;return h>1&&(u+=d*(h-1)),{width:n,height:u,lines:h,lineWidths:e,lineSpacing:d,lineHeight:f}};p.exports=y},79557:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),v=function(a){var r=l.create(this),s=r.getContext("2d",{willReadFrequently:!0});a.syncFont(r,s);var e=s.measureText(a.testString);if("actualBoundingBoxAscent"in e){var n=e.actualBoundingBoxAscent,h=e.actualBoundingBoxDescent;return l.remove(r),{ascent:n,descent:h,fontSize:n+h}}var i=Math.ceil(e.width*a.baselineX),o=i,f=2*o;o=o*a.baselineY|0,r.width=i,r.height=f,s.fillStyle="#f00",s.fillRect(0,0,i,f),s.font=a._font,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(a.testString,0,o);var u={ascent:0,descent:0,fontSize:0},d=s.getImageData(0,0,i,f);if(!d)return u.ascent=o,u.descent=o+6,u.fontSize=u.ascent+u.descent,l.remove(r),u;var c=d.data,m=c.length,x=i*4,g,T,S=0,E=!1;for(g=0;g<o;g++){for(T=0;T<x;T+=4)if(c[S+T]!==255){E=!0;break}if(!E)S+=x;else break}for(u.ascent=o-g,S=m-x,E=!1,g=f;g>o;g--){for(T=0;T<x;T+=4)if(c[S+T]!==255){E=!0;break}if(!E)S-=x;else break}return u.descent=g-o,u.fontSize=u.ascent+u.descent,l.remove(r),u};p.exports=v},50171:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40366),v=t(27919),a=t(83419),r=t(31401),s=t(95643),e=t(14220),n=t(35154),h=t(35846),i=t(61771),o=t(35762),f=t(45650),u=new a({Extends:s,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,i],initialize:function(c,m,x,g,T){m===void 0&&(m=0),x===void 0&&(x=0),s.call(this,c,"Text"),this.renderer=c.sys.renderer,this.setPosition(m,x),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=v.create(this),this.context,this.style=new o(this,T),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=f(),this.texture=c.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(g),T&&T.padding&&this.setPadding(T.padding),T&&T.lineSpacing&&this.setLineSpacing(T.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",l(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(d){var c=this.style;if(c.wordWrapCallback){var m=c.wordWrapCallback.call(c.wordWrapCallbackScope,d,this);return Array.isArray(m)&&(m=m.join(`
`)),m}else return c.wordWrapWidth?c.wordWrapUseAdvanced?this.advancedWordWrap(d,this.context,this.style.wordWrapWidth):this.basicWordWrap(d,this.context,this.style.wordWrapWidth):d},advancedWordWrap:function(d,c,m){for(var x="",g=d.replace(/ +/gi," ").split(this.splitRegExp),T=g.length,S=0;S<T;S++){var E=g[S],P="";E=E.replace(/^ *|\s*$/gi,"");var F=c.measureText(E).width;if(F<m){x+=E+`
`;continue}for(var R=m,M=E.split(" "),O=0;O<M.length;O++){var I=M[O],V=I+" ",X=c.measureText(V).width;if(X>R){if(O===0){for(var z=V;z.length&&(z=z.slice(0,-1),X=c.measureText(z).width,!(X<=R)););if(!z.length)throw new Error("wordWrapWidth < a single character");var Z=I.substr(z.length);M[O]=Z,P+=z}var N=M[O].length?O:O+1,Y=M.slice(N).join(" ").replace(/[ \n]*$/gi,"");g.splice(S+1,0,Y),T=g.length;break}else P+=V,R-=X}x+=P.replace(/[ \n]*$/gi,"")+`
`}return x=x.replace(/[\s|\n]*$/gi,""),x},basicWordWrap:function(d,c,m){for(var x="",g=d.split(this.splitRegExp),T=g.length-1,S=c.measureText(" ").width,E=0;E<=T;E++){for(var P=m,F=g[E].split(" "),R=F.length-1,M=0;M<=R;M++){var O=F[M],I=c.measureText(O).width,V=I;M<R&&(V+=S),V>P&&M>0&&(x+=`
`,P=m),x+=O,M<R?(x+=" ",P-=V):P-=I}E<T&&(x+=`
`)}return x},getWrappedText:function(d){d===void 0&&(d=this._text),this.style.syncFont(this.canvas,this.context);var c=this.runWordWrap(d);return c.split(this.splitRegExp)},setText:function(d){return!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d!==this._text&&(this._text=d.toString(),this.updateText()),this},appendText:function(d,c){c===void 0&&(c=!0),!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d=d.toString();var m=this._text.concat(c?`
`+d:d);return m!==this._text&&(this._text=m,this.updateText()),this},setStyle:function(d){return this.style.setStyle(d)},setFont:function(d){return this.style.setFont(d)},setFontFamily:function(d){return this.style.setFontFamily(d)},setFontSize:function(d){return this.style.setFontSize(d)},setFontStyle:function(d){return this.style.setFontStyle(d)},setFixedSize:function(d,c){return this.style.setFixedSize(d,c)},setBackgroundColor:function(d){return this.style.setBackgroundColor(d)},setFill:function(d){return this.style.setFill(d)},setColor:function(d){return this.style.setColor(d)},setStroke:function(d,c){return this.style.setStroke(d,c)},setShadow:function(d,c,m,x,g,T){return this.style.setShadow(d,c,m,x,g,T)},setShadowOffset:function(d,c){return this.style.setShadowOffset(d,c)},setShadowColor:function(d){return this.style.setShadowColor(d)},setShadowBlur:function(d){return this.style.setShadowBlur(d)},setShadowStroke:function(d){return this.style.setShadowStroke(d)},setShadowFill:function(d){return this.style.setShadowFill(d)},setWordWrapWidth:function(d,c){return this.style.setWordWrapWidth(d,c)},setWordWrapCallback:function(d,c){return this.style.setWordWrapCallback(d,c)},setAlign:function(d){return this.style.setAlign(d)},setResolution:function(d){return this.style.setResolution(d)},setLineSpacing:function(d){return this.lineSpacing=d,this.updateText()},setLetterSpacing:function(d){return this.letterSpacing=d,this.updateText()},setPadding:function(d,c,m,x){if(typeof d=="object"){var g=d,T=n(g,"x",null);T!==null?(d=T,m=T):(d=n(g,"left",0),m=n(g,"right",d));var S=n(g,"y",null);S!==null?(c=S,x=S):(c=n(g,"top",0),x=n(g,"bottom",c))}else d===void 0&&(d=0),c===void 0&&(c=d),m===void 0&&(m=d),x===void 0&&(x=c);return this.padding.left=d,this.padding.top=c,this.padding.right=m,this.padding.bottom=x,this.updateText()},setMaxLines:function(d){return this.style.setMaxLines(d)},setRTL:function(d){d===void 0&&(d=!0);var c=this.style;return c.rtl===d?this:(c.rtl=d,d?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",l(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),c.align==="left"?c.align="right":c.align==="right"&&(c.align="left"),this)},updateText:function(){var d=this.canvas,c=this.context,m=this.style,x=m.resolution,g=m.metrics;m.syncFont(d,c);var T=this._text;(m.wordWrapWidth||m.wordWrapCallback)&&(T=this.runWordWrap(this._text));var S=T.split(this.splitRegExp),E=e(this,g,S),P=this.padding,F;m.fixedWidth===0?(this.width=E.width+P.left+P.right,F=E.width):(this.width=m.fixedWidth,F=this.width-P.left-P.right,F<E.width&&(F=E.width)),m.fixedHeight===0?this.height=E.height+P.top+P.bottom:this.height=m.fixedHeight;var R=this.width,M=this.height;this.updateDisplayOrigin(),R*=x,M*=x,R=Math.max(R,1),M=Math.max(M,1),d.width!==R||d.height!==M?(d.width=R,d.height=M,this.frame.setSize(R,M),m.syncFont(d,c),m.rtl&&(c.direction="rtl")):c.clearRect(0,0,R,M),c.save(),c.scale(x,x),m.backgroundColor&&(c.fillStyle=m.backgroundColor,c.fillRect(0,0,R,M)),m.syncStyle(d,c),c.translate(P.left,P.top);for(var O,I,V=0;V<E.lines;V++){if(O=m.strokeThickness/2,I=m.strokeThickness/2+V*E.lineHeight+g.ascent,V>0&&(I+=E.lineSpacing*V),m.rtl)O=R-O-P.left-P.right;else if(m.align==="right")O+=F-E.lineWidths[V];else if(m.align==="center")O+=(F-E.lineWidths[V])/2;else if(m.align==="justify"){var X=.85;if(E.lineWidths[V]/E.width>=X){var z=E.width-E.lineWidths[V],Z=c.measureText(" ").width,N=S[V].trim(),Y=N.split(" ");z+=(S[V].length-N.length)*Z;for(var L=Math.floor(z/Z),b=0;L>0;)Y[b]+=" ",b=(b+1)%(Y.length-1||1),--L;S[V]=Y.join(" ")}}if(this.autoRound&&(O=Math.round(O),I=Math.round(I)),m.strokeThickness&&(m.syncShadow(c,m.shadowStroke),c.strokeText(S[V],O,I)),m.color){m.syncShadow(c,m.shadowFill);var U=this.letterSpacing;if(U!==0)for(var W=0,j=S[V].split(""),Q=0;Q<j.length;Q++)c.fillText(j[Q],O+W,I),W+=c.measureText(j[Q]).width+U;else c.fillText(S[V],O,I)}}c.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(d,this.frame.source.glTexture,!0));var _=this.input;return _&&!_.customHitArea&&(_.hitArea.width=this.width,_.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(d){this.setText(d)}},toJSON:function(){var d=r.ToJSON(this),c={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return d.data=c,d},preDestroy:function(){h(this.canvas),v.remove(this.canvas);var d=this.texture;d&&d.destroy()}});p.exports=u},79724:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){l.width===0||l.height===0||(v.addToRenderList(l),t.batchSprite(l,l.frame,v,a))};p.exports=y},71259:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(50171);v.register("text",function(s,e){s===void 0&&(s={});var n=a(s,"text",""),h=a(s,"style",null),i=a(s,"padding",null);i!==null&&(h.padding=i);var o=new r(this.scene,0,0,n,h);return e!==void 0&&(s.add=e),l(this.scene,o,s),o.autoRound=a(s,"autoRound",!0),o.resolution=a(s,"resolution",1),o})},68005:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50171),v=t(39429);v.register("text",function(a,r,s,e){return this.displayList.add(new l(this.scene,a,r,s,e))})},61771:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(34397),a=t(79724),p.exports={renderWebGL:v,renderCanvas:a}},35762:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23568),a=t(35154),r=t(79557),s={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new l({initialize:function(h,i){this.parent=h,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(i,!1,!0)},setStyle:function(n,h,i){h===void 0&&(h=!0),i===void 0&&(i=!1),n&&n.hasOwnProperty("fontSize")&&typeof n.fontSize=="number"&&(n.fontSize=n.fontSize.toString()+"px");for(var o in s){var f=i?s[o][1]:this[o];o==="wordWrapCallback"||o==="wordWrapCallbackScope"?this[o]=a(n,s[o][0],f):this[o]=v(n,s[o][0],f)}var u=a(n,"font",null);u!==null&&this.setFont(u,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var d=a(n,"fill",null);d!==null&&(this.color=d);var c=a(n,"metrics",!1);return c?this.metrics={ascent:a(c,"ascent",0),descent:a(c,"descent",0),fontSize:a(c,"fontSize",0)}:(h||!this.metrics)&&(this.metrics=r(this)),h?this.parent.updateText():this.parent},syncFont:function(n,h){h.font=this._font},syncStyle:function(n,h){h.textBaseline="alphabetic",h.fillStyle=this.color,h.strokeStyle=this.stroke,h.lineWidth=this.strokeThickness,h.lineCap="round",h.lineJoin="round"},syncShadow:function(n,h){h?(n.shadowOffsetX=this.shadowOffsetX,n.shadowOffsetY=this.shadowOffsetY,n.shadowColor=this.shadowColor,n.shadowBlur=this.shadowBlur):(n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowColor=0,n.shadowBlur=0)},update:function(n){return n&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=r(this)),this.parent.updateText()},setFont:function(n,h){h===void 0&&(h=!0);var i=n,o="",f="";if(typeof n!="string")i=a(n,"fontFamily","Courier"),o=a(n,"fontSize","16px"),f=a(n,"fontStyle","");else{var u=n.split(" "),d=0;f=u.length>2?u[d++]:"",o=u[d++]||"16px",i=u[d++]||"Courier"}return(i!==this.fontFamily||o!==this.fontSize||f!==this.fontStyle)&&(this.fontFamily=i,this.fontSize=o,this.fontStyle=f,h&&this.update(!0)),this.parent},setFontFamily:function(n){return this.fontFamily!==n&&(this.fontFamily=n,this.update(!0)),this.parent},setFontStyle:function(n){return this.fontStyle!==n&&(this.fontStyle=n,this.update(!0)),this.parent},setFontSize:function(n){return typeof n=="number"&&(n=n.toString()+"px"),this.fontSize!==n&&(this.fontSize=n,this.update(!0)),this.parent},setTestString:function(n){return this.testString=n,this.update(!0)},setFixedSize:function(n,h){return this.fixedWidth=n,this.fixedHeight=h,n&&(this.parent.width=n),h&&(this.parent.height=h),this.update(!1)},setBackgroundColor:function(n){return this.backgroundColor=n,this.update(!1)},setFill:function(n){return this.color=n,this.update(!1)},setColor:function(n){return this.color=n,this.update(!1)},setResolution:function(n){return this.resolution=n,this.update(!1)},setStroke:function(n,h){return h===void 0&&(h=this.strokeThickness),n===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==n||this.strokeThickness!==h)&&(this.stroke=n,this.strokeThickness=h,this.update(!0)),this.parent},setShadow:function(n,h,i,o,f,u){return n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i="#000"),o===void 0&&(o=0),f===void 0&&(f=!1),u===void 0&&(u=!0),this.shadowOffsetX=n,this.shadowOffsetY=h,this.shadowColor=i,this.shadowBlur=o,this.shadowStroke=f,this.shadowFill=u,this.update(!1)},setShadowOffset:function(n,h){return n===void 0&&(n=0),h===void 0&&(h=n),this.shadowOffsetX=n,this.shadowOffsetY=h,this.update(!1)},setShadowColor:function(n){return n===void 0&&(n="#000"),this.shadowColor=n,this.update(!1)},setShadowBlur:function(n){return n===void 0&&(n=0),this.shadowBlur=n,this.update(!1)},setShadowStroke:function(n){return this.shadowStroke=n,this.update(!1)},setShadowFill:function(n){return this.shadowFill=n,this.update(!1)},setWordWrapWidth:function(n,h){return h===void 0&&(h=!1),this.wordWrapWidth=n,this.wordWrapUseAdvanced=h,this.update(!1)},setWordWrapCallback:function(n,h){return h===void 0&&(h=null),this.wordWrapCallback=n,this.wordWrapCallbackScope=h,this.update(!1)},setAlign:function(n){return n===void 0&&(n="left"),this.align=n,this.update(!1)},setMaxLines:function(n){return n===void 0&&(n=0),this.maxLines=n,this.update(!1)},getTextMetrics:function(){var n=this.metrics;return{ascent:n.ascent,descent:n.descent,fontSize:n.fontSize}},toJSON:function(){var n={};for(var h in s)n[h]=this[h];return n.metrics=this.getTextMetrics(),n},destroy:function(){this.parent=void 0}});p.exports=e},34397:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70554),v=function(a,r,s,e){if(!(r.width===0||r.height===0)){s.addToRenderList(r);var n=r.frame,h=n.width,i=n.height,o=l.getTintAppendFloatAlpha,f=a.pipelines.set(r.pipeline,r),u=f.setTexture2D(n.glTexture,r);f.batchTexture(r,n.glTexture,h,i,r.x,r.y,h/r.style.resolution,i/r.style.resolution,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,h,i,o(r.tintTopLeft,s.alpha*r._alphaTL),o(r.tintTopRight,s.alpha*r._alphaTR),o(r.tintBottomLeft,s.alpha*r._alphaBL),o(r.tintBottomRight,s.alpha*r._alphaBR),r.tintFill,0,0,s,e,!1,u)}};p.exports=v},20839:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),v=t(83419),a=t(31401),r=t(95643),s=t(98439),e=t(68703),n=t(56295),h=t(45650),i=t(26099),o=8,f=new v({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,n],initialize:function(d,c,m,x,g,T,S){var E=d.sys.renderer;r.call(this,d,"TileSprite");var P=d.sys.textures.get(T),F=P.get(S);F.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),P=d.sys.textures.get("__MISSING"),F=P.get()),P.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),P=d.sys.textures.get("__MISSING"),F=P.get()),!x||!g?(x=F.width,g=F.height):(x=Math.floor(x),g=Math.floor(g)),this._tilePosition=new i,this._tileScale=new i(1,1),this.dirty=!1,this.renderer=E,this.canvas=l.create(this,x,g),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=P,this.displayFrame=F,this._crop=this.resetCropObject(),this._textureKey=h(),this.texture=d.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=s(F.width),this.potHeight=s(F.height),this.fillCanvas=l.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(c,m),this.setSize(x,g),this.setFrame(S),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(u,d){return this.displayTexture=this.scene.sys.textures.get(u),this.setFrame(d)},setFrame:function(u){var d=this.displayTexture.get(u);return this.potWidth=s(d.width),this.potHeight=s(d.height),this.canvas.width=0,!d.cutWidth||!d.cutHeight?this.renderFlags&=~o:this.renderFlags|=o,this.displayFrame=d,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(u,d){return u!==void 0&&(this.tilePositionX=u),d!==void 0&&(this.tilePositionY=d),this},setTileScale:function(u,d){return u===void 0&&(u=this.tileScaleX),d===void 0&&(d=u),this.tileScaleX=u,this.tileScaleY=d,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var u=this.displayFrame;if(u.source.isRenderTexture||u.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var d=this.fillContext,c=this.fillCanvas,m=this.potWidth,x=this.potHeight;(!this.renderer||!this.renderer.gl)&&(m=u.cutWidth,x=u.cutHeight),d.clearRect(0,0,m,x),c.width=m,c.height=x,d.drawImage(u.source.image,u.cutX,u.cutY,u.cutWidth,u.cutHeight,0,0,m,x),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(c,this.fillPattern):this.fillPattern=d.createPattern(c,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var u=this.canvas;if((u.width!==this.width||u.height!==this.height)&&(u.width=this.width,u.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var d=this.context;this.scene.sys.game.config.antialias||e.disable(d);var c=this._tileScale.x,m=this._tileScale.y,x=this._tilePosition.x,g=this._tilePosition.y;d.clearRect(0,0,this.width,this.height),d.save(),d.scale(c,m),d.translate(-x,-g),d.fillStyle=this.fillPattern,d.fillRect(x,g,this.width/c,this.height/m),d.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),l.remove(this.canvas),l.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var u=this.texture;u&&u.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(u){this._tilePosition.x=u,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(u){this._tilePosition.y=u,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(u){this._tileScale.x=u,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(u){this._tileScale.y=u,this.dirty=!0}}});p.exports=f},46992:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){l.updateCanvas(),v.addToRenderList(l),t.batchSprite(l,l.frame,v,a)};p.exports=y},14167:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(20839);v.register("tileSprite",function(s,e){s===void 0&&(s={});var n=a(s,"x",0),h=a(s,"y",0),i=a(s,"width",512),o=a(s,"height",512),f=a(s,"key",""),u=a(s,"frame",""),d=new r(this.scene,n,h,i,o,f,u);return e!==void 0&&(s.add=e),l(this.scene,d,s),d})},91681:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20839),v=t(39429);v.register("tileSprite",function(a,r,s,e,n,h){return this.displayList.add(new l(this.scene,a,r,s,e,n,h))})},56295:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(18553),a=t(46992),p.exports={renderWebGL:v,renderCanvas:a}},18553:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70554),v=function(a,r,s,e){r.updateCanvas();var n=r.width,h=r.height;if(!(n===0||h===0)){s.addToRenderList(r);var i=l.getTintAppendFloatAlpha,o=a.pipelines.set(r.pipeline,r),f=o.setTexture2D(r.fillPattern,r);o.batchTexture(r,r.fillPattern,r.displayFrame.width*r.tileScaleX,r.displayFrame.height*r.tileScaleY,r.x,r.y,n,h,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.originX*n,r.originY*h,0,0,n,h,i(r.tintTopLeft,s.alpha*r._alphaTL),i(r.tintTopRight,s.alpha*r._alphaTR),i(r.tintBottomLeft,s.alpha*r._alphaBL),i(r.tintBottomRight,s.alpha*r._alphaBR),r.tintFill,r.tilePositionX%r.displayFrame.width/r.displayFrame.width,r.tilePositionY%r.displayFrame.height/r.displayFrame.height,s,e,!1,f)}};p.exports=v},18471:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=t(83419),a=t(31401),r=t(51708),s=t(8443),e=t(95643),n=t(36383),h=t(14463),i=t(45650),o=t(10247),f=new v({Extends:e,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.TextureCrop,a.Tint,a.Transform,a.Visible,o],initialize:function(d,c,m,x){e.call(this,d,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=i(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var g=d.sys.game;this._device=g.device.video,this.setPosition(c,m),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),g.events.on(s.PAUSE,this.globalPause,this),g.events.on(s.RESUME,this.globalResume,this);var T=d.sys.sound;T&&T.on(h.GLOBAL_MUTE,this.globalMute,this),x&&this.load(x)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(u){var d=this.scene.sys.cache.video.get(u);return d?(this.cacheKey=u,this.loadHandler(d.url,d.noAudio,d.crossOrigin)):console.warn("No video in cache for key: "+u),this},changeSource:function(u,d,c,m,x){d===void 0&&(d=!0),c===void 0&&(c=!1),this.cacheKey!==u&&(this.load(u),d&&this.play(c,m,x))},getVideoKey:function(){return this.cacheKey},loadURL:function(u,d,c){d===void 0&&(d=!1);var m=this._device.getVideoURL(u);return m?(this.cacheKey="",this.loadHandler(m.url,d,c)):console.warn("No supported video format found for "+u),this},loadMediaStream:function(u,d,c){return this.loadHandler(null,d,c,u)},loadHandler:function(u,d,c,m){d||(d=!1);var x=this.video;if(x?(this.removeLoadEventHandlers(),this.stop()):(x=document.createElement("video"),x.controls=!1,x.setAttribute("playsinline","playsinline"),x.setAttribute("preload","auto"),x.setAttribute("disablePictureInPicture","true")),d?(x.muted=!0,x.defaultMuted=!0,x.setAttribute("autoplay","autoplay")):(x.muted=!1,x.defaultMuted=!1,x.removeAttribute("autoplay")),c?x.setAttribute("crossorigin",c):x.removeAttribute("crossorigin"),m)if("srcObject"in x)try{x.srcObject=m}catch(T){if(T.name!=="TypeError")throw T;x.src=URL.createObjectURL(m)}else x.src=URL.createObjectURL(m);else x.src=u;this.retry=0,this.video=x,this._playCalled=!1,x.load(),this.addLoadEventHandlers();var g=this.scene.sys.textures.get(this._key);return this.setTexture(g),this},requestVideoFrame:function(u,d){var c=this.video;if(c){var m=d.width,x=d.height,g=this.videoTexture,T=this.videoTextureSource,S=!g||T.source!==c;S?(this._codePaused=c.paused,this._codeMuted=c.muted,g?(T.source=c,T.width=m,T.height=x,g.get().setSize(m,x)):(g=this.scene.sys.textures.create(this._key,c,m,x),g.add("__BASE",0,0,0,m,x),this.setTexture(g),this.videoTexture=g,this.videoTextureSource=g.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(r.VIDEO_TEXTURE,this,g)),this.setSizeToFrame(),this.updateDisplayOrigin()):T.update(),this.isStalled=!1,this.metadata=d;var E=d.mediaTime;S&&(this._lastUpdate=E,this.emit(r.VIDEO_CREATED,this,m,x),this.frameReady||(this.frameReady=!0,this.emit(r.VIDEO_PLAY,this))),this._playingMarker?E>=this._markerOut&&(c.loop?(c.currentTime=this._markerIn,this.emit(r.VIDEO_LOOP,this)):(this.stop(!1),this.emit(r.VIDEO_COMPLETE,this))):E<this._lastUpdate&&this.emit(r.VIDEO_LOOP,this),this._lastUpdate=E,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(u,d,c){d===void 0&&(d=-1),c===void 0&&(c=n.MAX_SAFE_INTEGER);var m=this.video;return!m||this.isPlaying()?(m||console.warn("Video not loaded"),this):(u===void 0&&(u=m.loop),m.loop=u,this._markerIn=d,this._markerOut=c,this._playingMarker=d>-1&&c>d&&c<n.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=m.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var u=this.video;u&&(u.addEventListener("error",this._loadCallbackHandler),u.addEventListener("abort",this._loadCallbackHandler),u.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var u=this.video;u&&(u.removeEventListener("error",this._loadCallbackHandler),u.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var u=this.video;if(u){var d=this._callbacks;for(var c in d)u.addEventListener(c,d[c])}},removeEventHandlers:function(){var u=this.video;if(u){var d=this._callbacks;for(var c in d)u.removeEventListener(c,d[c])}},createPlayPromise:function(u){u===void 0&&(u=!0);var d=this.video,c=d.play();if(c!==void 0){var m=this.playSuccess.bind(this),x=this.playError.bind(this);if(!u){var g=this;x=function(){g.failedPlayAttempts++}}c.then(m).catch(x)}else d.addEventListener("playing",this._callbacks.legacy),u||this.failedPlayAttempts++},addMarker:function(u,d,c){return!isNaN(d)&&d>=0&&!isNaN(c)&&c>d&&(this.markers[u]=[d,c]),this},playMarker:function(u,d){var c=this.markers[u];return c&&this.play(d,c[0],c[1]),this},removeMarker:function(u){return delete this.markers[u],this},snapshot:function(u,d){return u===void 0&&(u=this.width),d===void 0&&(d=this.height),this.snapshotArea(0,0,this.width,this.height,u,d)},snapshotArea:function(u,d,c,m,x,g){u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=this.width),m===void 0&&(m=this.height),x===void 0&&(x=c),g===void 0&&(g=m);var T=this.video,S=this.snapshotTexture;return S?(S.setSize(x,g),T&&S.context.drawImage(T,u,d,c,m,0,0,x,g)):(S=this.scene.sys.textures.createCanvas(i(),x,g),this.snapshotTexture=S,T&&S.context.drawImage(T,u,d,c,m,0,0,x,g)),S.update()},saveSnapshotTexture:function(u){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,u):this.snapshotTexture=this.scene.sys.textures.createCanvas(u,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(r.VIDEO_UNLOCKED,this));var u=this.scene.sys.sound;u&&u.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(u){var d=u.name;d==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(r.VIDEO_LOCKED,this)):d==="NotSupportedError"?(this.stop(!1),this.emit(r.VIDEO_UNSUPPORTED,this,u)):(this.stop(!1),this.emit(r.VIDEO_ERROR,this,u))},legacyPlayHandler:function(){var u=this.video;u&&(this.playSuccess(),u.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(r.VIDEO_PLAYING,this)},loadErrorHandler:function(u){this.stop(!1),this.emit(r.VIDEO_ERROR,this,u)},metadataHandler:function(u){this.emit(r.VIDEO_METADATA,this,u)},setSizeToFrame:function(u){u||(u=this.frame),this.width=u.realWidth,this.height=u.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this},stalledHandler:function(u){this.isStalled=!0,this.emit(r.VIDEO_STALLED,this,u)},completeHandler:function(){this._playCalled=!1,this.emit(r.VIDEO_COMPLETE,this)},preUpdate:function(u,d){var c=this.video;!c||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=d,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(u){var d=this.video;if(d){var c=d.duration;if(c!==1/0&&!isNaN(c)){var m=c*u;this.setCurrentTime(m)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(u){var d=this.video;if(d){if(typeof u=="string"){var c=u[0],m=parseFloat(u.substr(1));c==="+"?u=d.currentTime+m:c==="-"&&(u=d.currentTime-m)}d.currentTime=u}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(r.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(r.VIDEO_SEEKED,this)},getProgress:function(){var u=this.video;if(u){var d=u.duration;if(d!==1/0&&!isNaN(d))return u.currentTime/d}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(u){u===void 0&&(u=!0),this._codeMuted=u;var d=this.video;return d&&(d.muted=this._systemMuted?!0:u),this},isMuted:function(){return this._codeMuted},globalMute:function(u,d){this._systemMuted=d;var c=this.video;c&&(c.muted=this._codeMuted?!0:d)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(u){u===void 0&&(u=!0);var d=this.video;return this._codePaused=u,d&&!d.ended&&(u?d.paused||(this.removeEventHandlers(),d.pause()):u||(this._playCalled?d.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(u){return u===void 0&&(u=1),this.video&&(this.video.volume=l(u,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(u){return this.video&&(this.video.playbackRate=u),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(u){return u===void 0&&(u=!0),this.video&&(this.video.loop=u),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(u,d){return d===void 0&&(d=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,u),this.videoTextureSource.setFlipY(d)),this._key=u,this.flipY=d,!!this.videoTexture},stop:function(u){u===void 0&&(u=!0);var d=this.video;return d&&(this.removeEventHandlers(),d.cancelVideoFrameCallback(this._rfvCallbackId),d.pause()),this.retry=0,this._playCalled=!1,u&&this.emit(r.VIDEO_STOP,this),this},removeVideoElement:function(){var u=this.video;if(u){for(u.parentNode&&u.parentNode.removeChild(u);u.hasChildNodes();)u.removeChild(u.firstChild);u.removeAttribute("autoplay"),u.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var u=this.scene.sys.game.events;u.off(s.PAUSE,this.globalPause,this),u.off(s.RESUME,this.globalResume,this);var d=this.scene.sys.sound;d&&d.off(h.GLOBAL_MUTE,this.globalMute,this)}});p.exports=f},58352:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){l.videoTexture&&(v.addToRenderList(l),t.batchSprite(l,l.frame,v,a))};p.exports=y},11511:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(18471);v.register("video",function(s,e){s===void 0&&(s={});var n=a(s,"key",null),h=new r(this.scene,0,0,n);return e!==void 0&&(s.add=e),l(this.scene,h,s),h})},89025:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(18471),v=t(39429);v.register("video",function(a,r,s){return this.displayList.add(new l(this.scene,a,r,s))})},10247:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(29849),a=t(58352),p.exports={renderWebGL:v,renderCanvas:a}},29849:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){l.videoTexture&&(v.addToRenderList(l),l.pipeline.batchSprite(l,v,a))};p.exports=y},41481:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),v=t(96503),a=t(87902),r=t(83419),s=t(31401),e=t(95643),n=t(87841),h=t(37303),i=new r({Extends:e,Mixins:[s.Depth,s.GetBounds,s.Origin,s.Transform,s.ScrollFactor,s.Visible],initialize:function(f,u,d,c,m){c===void 0&&(c=1),m===void 0&&(m=c),e.call(this,f,"Zone"),this.setPosition(u,d),this.width=c,this.height=m,this.blendMode=l.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(o){this.scaleX=o/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(o){this.scaleY=o/this.height}},setSize:function(o,f,u){u===void 0&&(u=!0),this.width=o,this.height=f,this.updateDisplayOrigin();var d=this.input;return u&&d&&!d.customHitArea&&(d.hitArea.width=o,d.hitArea.height=f),this},setDisplaySize:function(o,f){return this.displayWidth=o,this.displayHeight=f,this},setCircleDropZone:function(o){return this.setDropZone(new v(0,0,o),a)},setRectangleDropZone:function(o,f){return this.setDropZone(new n(0,0,o,f),h)},setDropZone:function(o,f){return this.input||this.setInteractive(o,f,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(o,f,u){u.addToRenderList(f)},renderWebGL:function(o,f,u){u.addToRenderList(f)}});p.exports=i},95261:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44603),v=t(23568),a=t(41481);l.register("zone",function(r){var s=v(r,"x",0),e=v(r,"y",0),n=v(r,"width",1),h=v(r,"height",n);return new a(this.scene,s,e,n,h)})},84175:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41481),v=t(39429);v.register("zone",function(a,r,s,e){return this.displayList.add(new l(this.scene,a,r,s,e))})},95166:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};p.exports=y},96503:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(87902),a=t(26241),r=t(79124),s=t(23777),e=t(28176),n=new l({initialize:function(i,o,f){i===void 0&&(i=0),o===void 0&&(o=0),f===void 0&&(f=0),this.type=s.CIRCLE,this.x=i,this.y=o,this._radius=f,this._diameter=f*2},contains:function(h,i){return v(this,h,i)},getPoint:function(h,i){return a(this,h,i)},getPoints:function(h,i,o){return r(this,h,i,o)},getRandomPoint:function(h){return e(this,h)},setTo:function(h,i,o){return this.x=h,this.y=i,this._radius=o,this._diameter=o*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(h,i){return i===void 0&&(i=h),this.x=h,this.y=i,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(h){this._radius=h,this._diameter=h*2}},diameter:{get:function(){return this._diameter},set:function(h){this._diameter=h,this._radius=h*.5}},left:{get:function(){return this.x-this._radius},set:function(h){this.x=h+this._radius}},right:{get:function(){return this.x+this._radius},set:function(h){this.x=h-this._radius}},top:{get:function(){return this.y-this._radius},set:function(h){this.y=h+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(h){this.y=h-this._radius}}});p.exports=n},71562:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 2*(Math.PI*t.radius)};p.exports=y},92110:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r,s){return s===void 0&&(s=new l),s.x=a.x+a.radius*Math.cos(r),s.y=a.y+a.radius*Math.sin(r),s};p.exports=v},42250:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(96503),v=function(a){return new l(a.x,a.y,a.radius)};p.exports=v},87902:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){if(t.radius>0&&l>=t.left&&l<=t.right&&v>=t.top&&v<=t.bottom){var a=(t.x-l)*(t.x-l),r=(t.y-v)*(t.y-v);return a+r<=t.radius*t.radius}else return!1};p.exports=y},5698:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87902),v=function(a,r){return l(a,r.x,r.y)};p.exports=v},70588:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87902),v=function(a,r){return l(a,r.x,r.y)&&l(a,r.right,r.y)&&l(a,r.x,r.bottom)&&l(a,r.right,r.bottom)};p.exports=v},26394:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return l.setTo(t.x,t.y,t.radius)};p.exports=y},76278:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t.x===l.x&&t.y===l.y&&t.radius===l.radius};p.exports=y},2074:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=function(a,r){return r===void 0&&(r=new l),r.x=a.left,r.y=a.top,r.width=a.diameter,r.height=a.diameter,r};p.exports=v},26241:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(92110),v=t(62945),a=t(36383),r=t(2141),s=function(e,n,h){h===void 0&&(h=new r);var i=v(n,0,a.PI2);return l(e,i,h)};p.exports=s},79124:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71562),v=t(92110),a=t(62945),r=t(36383),s=function(e,n,h,i){i===void 0&&(i=[]),!n&&h>0&&(n=l(e)/h);for(var o=0;o<n;o++){var f=a(o/n,0,r.PI2);i.push(v(e,f))}return i};p.exports=s},50884:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return t.x+=l,t.y+=v,t};p.exports=y},39212:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t.x+=l.x,t.y+=l.y,t};p.exports=y},28176:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){r===void 0&&(r=new l);var s=2*Math.PI*Math.random(),e=Math.random()+Math.random(),n=e>1?2-e:e,h=n*Math.cos(s),i=n*Math.sin(s);return r.x=a.x+h*a.radius,r.y=a.y+i*a.radius,r};p.exports=v},88911:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(96503);l.Area=t(95166),l.Circumference=t(71562),l.CircumferencePoint=t(92110),l.Clone=t(42250),l.Contains=t(87902),l.ContainsPoint=t(5698),l.ContainsRect=t(70588),l.CopyFrom=t(26394),l.Equals=t(76278),l.GetBounds=t(2074),l.GetPoint=t(26241),l.GetPoints=t(79124),l.Offset=t(50884),l.OffsetPoint=t(39212),l.Random=t(28176),p.exports=l},23777:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};p.exports=y},78874:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};p.exports=y},92990:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var l=t.width/2,v=t.height/2,a=Math.pow(l-v,2)/Math.pow(l+v,2);return Math.PI*(l+v)*(1+3*a/(10+Math.sqrt(4-3*a)))};p.exports=y},79522:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r,s){s===void 0&&(s=new l);var e=a.width/2,n=a.height/2;return s.x=a.x+e*Math.cos(r),s.y=a.y+n*Math.sin(r),s};p.exports=v},58102:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8497),v=function(a){return new l(a.x,a.y,a.width,a.height)};p.exports=v},81154:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){if(t.width<=0||t.height<=0)return!1;var a=(l-t.x)/t.width,r=(v-t.y)/t.height;return a*=a,r*=r,a+r<.25};p.exports=y},46662:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(81154),v=function(a,r){return l(a,r.x,r.y)};p.exports=v},1632:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(81154),v=function(a,r){return l(a,r.x,r.y)&&l(a,r.right,r.y)&&l(a,r.x,r.bottom)&&l(a,r.right,r.bottom)};p.exports=v},65534:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return l.setTo(t.x,t.y,t.width,t.height)};p.exports=y},8497:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(81154),a=t(90549),r=t(48320),s=t(23777),e=t(24820),n=new l({initialize:function(i,o,f,u){i===void 0&&(i=0),o===void 0&&(o=0),f===void 0&&(f=0),u===void 0&&(u=0),this.type=s.ELLIPSE,this.x=i,this.y=o,this.width=f,this.height=u},contains:function(h,i){return v(this,h,i)},getPoint:function(h,i){return a(this,h,i)},getPoints:function(h,i,o){return r(this,h,i,o)},getRandomPoint:function(h){return e(this,h)},setTo:function(h,i,o,f){return this.x=h,this.y=i,this.width=o,this.height=f,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(h,i){return i===void 0&&(i=h),this.x=h,this.y=i,this},setSize:function(h,i){return i===void 0&&(i=h),this.width=h,this.height=i,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(h){this.x=h+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(h){this.x=h-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(h){this.y=h+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(h){this.y=h-this.height/2}}});p.exports=n},36146:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t.x===l.x&&t.y===l.y&&t.width===l.width&&t.height===l.height};p.exports=y},23694:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=function(a,r){return r===void 0&&(r=new l),r.x=a.left,r.y=a.top,r.width=a.width,r.height=a.height,r};p.exports=v},90549:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79522),v=t(62945),a=t(36383),r=t(2141),s=function(e,n,h){h===void 0&&(h=new r);var i=v(n,0,a.PI2);return l(e,i,h)};p.exports=s},48320:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(92990),v=t(79522),a=t(62945),r=t(36383),s=function(e,n,h,i){i===void 0&&(i=[]),!n&&h>0&&(n=l(e)/h);for(var o=0;o<n;o++){var f=a(o/n,0,r.PI2);i.push(v(e,f))}return i};p.exports=s},73424:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return t.x+=l,t.y+=v,t};p.exports=y},44808:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t.x+=l.x,t.y+=l.y,t};p.exports=y},24820:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){r===void 0&&(r=new l);var s=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return r.x=a.x+e*Math.cos(s)*a.width/2,r.y=a.y+e*Math.sin(s)*a.height/2,r};p.exports=v},49203:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8497);l.Area=t(78874),l.Circumference=t(92990),l.CircumferencePoint=t(79522),l.Clone=t(58102),l.Contains=t(81154),l.ContainsPoint=t(46662),l.ContainsRect=t(1632),l.CopyFrom=t(65534),l.Equals=t(36146),l.GetBounds=t(23694),l.GetPoint=t(90549),l.GetPoints=t(48320),l.Offset=t(73424),l.OffsetPoint=t(44808),l.Random=t(24820),p.exports=l},55738:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23777),v=t(79291),a={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};a=v(!1,a,l),p.exports=a},2044:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20339),v=function(a,r){return l(a.x,a.y,r.x,r.y)<=a.radius+r.radius};p.exports=v},81491:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){var v=l.width/2,a=l.height/2,r=Math.abs(t.x-l.x-v),s=Math.abs(t.y-l.y-a),e=v+t.radius,n=a+t.radius;if(r>e||s>n)return!1;if(r<=v||s<=a)return!0;var h=r-v,i=s-a,o=h*h,f=i*i,u=t.radius*t.radius;return o+f<=u};p.exports=y},63376:(p,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=t(2044),a=function(r,s,e){if(e===void 0&&(e=[]),v(r,s)){var n=r.x,h=r.y,i=r.radius,o=s.x,f=s.y,u=s.radius,d,c,m,x,g;if(h===f)g=(u*u-i*i-o*o+n*n)/(2*(n-o)),d=1,c=-2*f,m=o*o+g*g-2*o*g+f*f-u*u,x=c*c-4*d*m,x===0?e.push(new l(g,-c/(2*d))):x>0&&(e.push(new l(g,(-c+Math.sqrt(x))/(2*d))),e.push(new l(g,(-c-Math.sqrt(x))/(2*d))));else{var T=(n-o)/(h-f),S=(u*u-i*i-o*o+n*n-f*f+h*h)/(2*(h-f));d=T*T+1,c=2*h*T-2*S*T-2*n,m=n*n+h*h+S*S-i*i-2*h*S,x=c*c-4*d*m,x===0?(g=-c/(2*d),e.push(new l(g,S-g*T))):x>0&&(g=(-c+Math.sqrt(x))/(2*d),e.push(new l(g,S-g*T)),g=(-c-Math.sqrt(x))/(2*d),e.push(new l(g,S-g*T)))}}return e};p.exports=a},97439:(p,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(4042),v=t(81491),a=function(r,s,e){if(e===void 0&&(e=[]),v(r,s)){var n=s.getLineA(),h=s.getLineB(),i=s.getLineC(),o=s.getLineD();l(n,r,e),l(h,r,e),l(i,r,e),l(o,r,e)}return e};p.exports=a},4042:(p,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=t(80462),a=function(r,s,e){if(e===void 0&&(e=[]),v(r,s)){var n=r.x1,h=r.y1,i=r.x2,o=r.y2,f=s.x,u=s.y,d=s.radius,c=i-n,m=o-h,x=n-f,g=h-u,T=c*c+m*m,S=2*(c*x+m*g),E=x*x+g*g-d*d,P=S*S-4*T*E,F,R;if(P===0){var M=-S/(2*T);F=n+M*c,R=h+M*m,M>=0&&M<=1&&e.push(new l(F,R))}else if(P>0){var O=(-S-Math.sqrt(P))/(2*T);F=n+O*c,R=h+O*m,O>=0&&O<=1&&e.push(new l(F,R));var I=(-S+Math.sqrt(P))/(2*T);F=n+I*c,R=h+I*m,I>=0&&I<=1&&e.push(new l(F,R))}}return e};p.exports=a},36100:(p,y,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25836),v=function(a,r,s,e){s===void 0&&(s=!1);var n=a.x1,h=a.y1,i=a.x2,o=a.y2,f=r.x1,u=r.y1,d=r.x2,c=r.y2,m=i-n,x=o-h,g=d-f,T=c-u,S=m*T-x*g;if(S===0)return null;var E,P,F;if(s){if(E=(m*(u-h)+x*(n-f))/(g*x-T*m),P=(f+g*E-n)/m,P<0||E<0||E>1)return null;F=P}else{if(E=((f-n)*T-(u-h)*g)/S,P=((h-u)*m-(n-f)*x)/S,E<0||E>1||P<0||P>1)return null;F=E}return e===void 0&&(e=new l),e.set(n+m*F,h+x*F,F)};p.exports=v},3073:(p,y,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36100),v=t(23031),a=t(25836),r=new v,s=new a,e=function(n,h,i,o){i===void 0&&(i=!1),o===void 0&&(o=new a);var f=!1;o.set(),s.set();for(var u=h[h.length-1],d=0;d<h.length;d++){var c=h[d];r.setTo(u.x,u.y,c.x,c.y),u=c,l(n,r,i,s)&&(!f||s.z<o.z)&&(o.copy(s),f=!0)}return f?o:null};p.exports=e},56362:(p,y,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25836),v=t(61369),a=t(3073),r=new l,s=function(e,n,h,i){i===void 0&&(i=new v),Array.isArray(n)||(n=[n]);var o=!1;i.set(),r.set();for(var f=0;f<n.length;f++)a(e,n[f].points,h,r)&&(!o||r.z<i.z)&&(i.set(r.x,r.y,r.z,f),o=!0);return o?i:null};p.exports=s},60646:(p,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=t(76112),a=t(92773),r=function(s,e,n){if(n===void 0&&(n=[]),a(s,e))for(var h=e.getLineA(),i=e.getLineB(),o=e.getLineC(),f=e.getLineD(),u=[new l,new l,new l,new l],d=[v(h,s,u[0]),v(i,s,u[1]),v(o,s,u[2]),v(f,s,u[3])],c=0;c<4;c++)d[c]&&n.push(u[c]);return n};p.exports=r},71147:(p,y,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61369),v=t(56362),a=t(23031),r=new a;function s(h,i,o,f,u){var d=Math.cos(h),c=Math.sin(h);r.setTo(i,o,i+d,o+c);var m=v(r,f,!0);m&&u.push(new l(m.x,m.y,h,m.w))}function e(h,i){return h.z-i.z}var n=function(h,i,o){Array.isArray(o)||(o=[o]);for(var f=[],u=[],d=0;d<o.length;d++)for(var c=o[d].points,m=0;m<c.length;m++){var x=Math.atan2(c[m].y-i,c[m].x-h);u.indexOf(x)===-1&&(s(x,h,i,o,f),s(x-1e-5,h,i,o,f),s(x+1e-5,h,i,o,f),u.push(x))}return f.sort(e)};p.exports=n},68389:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=t(59996),a=function(r,s,e){return e===void 0&&(e=new l),v(r,s)&&(e.x=Math.max(r.x,s.x),e.y=Math.max(r.y,s.y),e.width=Math.min(r.right,s.right)-e.x,e.height=Math.min(r.bottom,s.bottom)-e.y),e};p.exports=a},52784:(p,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60646),v=t(59996),a=function(r,s,e){if(e===void 0&&(e=[]),v(r,s)){var n=r.getLineA(),h=r.getLineB(),i=r.getLineC(),o=r.getLineD();l(n,s,e),l(h,s,e),l(i,s,e),l(o,s,e)}return e};p.exports=a},26341:(p,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(89265),v=t(60646),a=function(r,s,e){if(e===void 0&&(e=[]),l(r,s)){var n=s.getLineA(),h=s.getLineB(),i=s.getLineC();v(n,r,e),v(h,r,e),v(i,r,e)}return e};p.exports=a},38720:(p,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(4042),v=t(67636),a=function(r,s,e){if(e===void 0&&(e=[]),v(r,s)){var n=r.getLineA(),h=r.getLineB(),i=r.getLineC();l(n,s,e),l(h,s,e),l(i,s,e)}return e};p.exports=a},13882:(p,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=t(2822),a=t(76112),r=function(s,e,n){if(n===void 0&&(n=[]),v(s,e))for(var h=s.getLineA(),i=s.getLineB(),o=s.getLineC(),f=[new l,new l,new l],u=[a(h,e,f[0]),a(i,e,f[1]),a(o,e,f[2])],d=0;d<3;d++)u[d]&&n.push(f[d]);return n};p.exports=r},75636:(p,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82944),v=t(13882),a=function(r,s,e){if(e===void 0&&(e=[]),l(r,s)){var n=s.getLineA(),h=s.getLineB(),i=s.getLineC();v(r,n,e),v(r,h,e),v(r,i,e)}return e};p.exports=a},80462:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87902),v=t(2141),a=new v,r=function(s,e,n){if(n===void 0&&(n=a),l(e,s.x1,s.y1))return n.x=s.x1,n.y=s.y1,!0;if(l(e,s.x2,s.y2))return n.x=s.x2,n.y=s.y2,!0;var h=s.x2-s.x1,i=s.y2-s.y1,o=e.x-s.x1,f=e.y-s.y1,u=h*h+i*i,d=h,c=i;if(u>0){var m=(o*h+f*i)/u;d*=m,c*=m}n.x=s.x1+d,n.y=s.y1+c;var x=d*d+c*c;return x<=u&&d*h+c*i>=0&&l(e,n.x,n.y)};p.exports=r},76112:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){var a=t.x1,r=t.y1,s=t.x2,e=t.y2,n=l.x1,h=l.y1,i=l.x2,o=l.y2;if(a===s&&r===e||n===i&&h===o)return!1;var f=(o-h)*(s-a)-(i-n)*(e-r);if(f===0)return!1;var u=((i-n)*(r-h)-(o-h)*(a-n))/f,d=((s-a)*(r-h)-(e-r)*(a-n))/f;return u<0||u>1||d<0||d>1?!1:(v&&(v.x=a+u*(s-a),v.y=r+u*(e-r)),!0)};p.exports=y},92773:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){var v=t.x1,a=t.y1,r=t.x2,s=t.y2,e=l.x,n=l.y,h=l.right,i=l.bottom,o=0;if(v>=e&&v<=h&&a>=n&&a<=i||r>=e&&r<=h&&s>=n&&s<=i)return!0;if(v<e&&r>=e){if(o=a+(s-a)*(e-v)/(r-v),o>n&&o<=i)return!0}else if(v>h&&r<=h&&(o=a+(s-a)*(h-v)/(r-v),o>=n&&o<=i))return!0;if(a<n&&s>=n){if(o=v+(r-v)*(n-a)/(s-a),o>=e&&o<=h)return!0}else if(a>i&&s<=i&&(o=v+(r-v)*(i-a)/(s-a),o>=e&&o<=h))return!0;return!1};p.exports=y},16204:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){v===void 0&&(v=1);var a=l.x1,r=l.y1,s=l.x2,e=l.y2,n=t.x,h=t.y,i=(s-a)*(s-a)+(e-r)*(e-r);if(i===0)return!1;var o=((n-a)*(s-a)+(h-r)*(e-r))/i;if(o<0)return Math.sqrt((a-n)*(a-n)+(r-h)*(r-h))<=v;if(o>=0&&o<=1){var f=((r-h)*(s-a)-(a-n)*(e-r))/i;return Math.abs(f)*Math.sqrt(i)<=v}else return Math.sqrt((s-n)*(s-n)+(e-h)*(e-h))<=v};p.exports=y},14199:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16204),v=function(a,r){if(!l(a,r))return!1;var s=Math.min(r.x1,r.x2),e=Math.max(r.x1,r.x2),n=Math.min(r.y1,r.y2),h=Math.max(r.y1,r.y2);return a.x>=s&&a.x<=e&&a.y>=n&&a.y<=h};p.exports=v},59996:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t.width<=0||t.height<=0||l.width<=0||l.height<=0?!1:!(t.right<l.x||t.bottom<l.y||t.x>l.right||t.y>l.bottom)};p.exports=y},89265:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(76112),v=t(37303),a=t(48653),r=t(77493),s=function(e,n){if(n.left>e.right||n.right<e.left||n.top>e.bottom||n.bottom<e.top)return!1;var h=n.getLineA(),i=n.getLineB(),o=n.getLineC();if(v(e,h.x1,h.y1)||v(e,h.x2,h.y2)||v(e,i.x1,i.y1)||v(e,i.x2,i.y2)||v(e,o.x1,o.y1)||v(e,o.x2,o.y2))return!0;var f=e.getLineA(),u=e.getLineB(),d=e.getLineC(),c=e.getLineD();if(l(h,f)||l(h,u)||l(h,d)||l(h,c)||l(i,f)||l(i,u)||l(i,d)||l(i,c)||l(o,f)||l(o,u)||l(o,d)||l(o,c))return!0;var m=r(e),x=a(n,m,!0);return x.length>0};p.exports=s},84411:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a,r,s){return s===void 0&&(s=0),!(l>t.right+s||v<t.left-s||a>t.bottom+s||r<t.top-s)};p.exports=y},67636:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(80462),v=t(10690),a=function(r,s){return r.left>s.right||r.right<s.left||r.top>s.bottom||r.bottom<s.top?!1:!!(v(r,s.x,s.y)||l(r.getLineA(),s)||l(r.getLineB(),s)||l(r.getLineC(),s))};p.exports=a},2822:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(76112),v=function(a,r){return!!(a.contains(r.x1,r.y1)||a.contains(r.x2,r.y2)||l(a.getLineA(),r)||l(a.getLineB(),r)||l(a.getLineC(),r))};p.exports=v},82944:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(48653),v=t(71694),a=t(76112),r=function(s,e){if(s.left>e.right||s.right<e.left||s.top>e.bottom||s.bottom<e.top)return!1;var n=s.getLineA(),h=s.getLineB(),i=s.getLineC(),o=e.getLineA(),f=e.getLineB(),u=e.getLineC();if(a(n,o)||a(n,f)||a(n,u)||a(h,o)||a(h,f)||a(h,u)||a(i,o)||a(i,f)||a(i,u))return!0;var d=v(s),c=l(e,d,!0);return c.length>0||(d=v(e),c=l(s,d,!0),c.length>0)};p.exports=r},91865:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};p.exports=y},84993:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){l===void 0&&(l=1),v===void 0&&(v=[]);var a=Math.round(t.x1),r=Math.round(t.y1),s=Math.round(t.x2),e=Math.round(t.y2),n=Math.abs(s-a),h=Math.abs(e-r),i=a<s?1:-1,o=r<e?1:-1,f=n-h;v.push({x:a,y:r});for(var u=1;!(a===s&&r===e);){var d=f<<1;d>-h&&(f-=h,a+=i),d<n&&(f+=n,r+=o),u%l===0&&v.push({x:a,y:r}),u++}return v};p.exports=y},36469:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){var a=l-(t.x1+t.x2)/2,r=v-(t.y1+t.y2)/2;return t.x1+=a,t.y1+=r,t.x2+=a,t.y2+=r,t};p.exports=y},31116:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23031),v=function(a){return new l(a.x1,a.y1,a.x2,a.y2)};p.exports=v},59944:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return l.setTo(t.x1,t.y1,t.x2,t.y2)};p.exports=y},59220:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t.x1===l.x1&&t.y1===l.y1&&t.x2===l.x2&&t.y2===l.y2};p.exports=y},78177:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35001),v=function(a,r,s){s===void 0&&(s=r);var e=l(a),n=a.x2-a.x1,h=a.y2-a.y1;return r&&(a.x1=a.x1-n/e*r,a.y1=a.y1-h/e*r),s&&(a.x2=a.x2+n/e*s,a.y2=a.y2+h/e*s),a};p.exports=v},26708:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(52816),v=t(6113),a=t(2141),r=function(s,e,n,h,i){h===void 0&&(h=0),i===void 0&&(i=[]);var o=[],f=s.x1,u=s.y1,d=s.x2-f,c=s.y2-u,m=v(e,i),x,g,T=n-1;for(x=0;x<T;x++)g=m(x/T),o.push(new a(f+d*g,u+c*g));if(g=m(1),o.push(new a(f+d*g,u+c*g)),h>0){var S=o[0],E=[S];for(x=1;x<o.length-1;x++){var P=o[x];l(S,P)>=h&&(E.push(P),S=P)}var F=o[o.length-1];return l(S,F)<h&&E.pop(),E.push(F),E}else return o};p.exports=r},32125:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){return r===void 0&&(r=new l),r.x=(a.x1+a.x2)/2,r.y=(a.y1+a.y2)/2,r};p.exports=v},99569:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r,s){s===void 0&&(s=new l);var e=a.x1,n=a.y1,h=a.x2,i=a.y2,o=(h-e)*(h-e)+(i-n)*(i-n);if(o===0)return s;var f=((r.x-e)*(h-e)+(r.y-n)*(i-n))/o;return s.x=e+f*(h-e),s.y=n+f*(i-n),s};p.exports=v},34638:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),v=t(91938),a=t(2141),r=function(s,e){e===void 0&&(e=new a);var n=v(s)-l.TAU;return e.x=Math.cos(n),e.y=Math.sin(n),e};p.exports=r},13151:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r,s){return s===void 0&&(s=new l),s.x=a.x1+(a.x2-a.x1)*r,s.y=a.y1+(a.y2-a.y1)*r,s};p.exports=v},15258:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35001),v=t(2141),a=function(r,s,e,n){n===void 0&&(n=[]),!s&&e>0&&(s=l(r)/e);for(var h=r.x1,i=r.y1,o=r.x2,f=r.y2,u=0;u<s;u++){var d=u/s,c=h+(o-h)*d,m=i+(f-i)*d;n.push(new v(c,m))}return n};p.exports=a},26408:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){var v=t.x1,a=t.y1,r=t.x2,s=t.y2,e=(r-v)*(r-v)+(s-a)*(s-a);if(e===0)return!1;var n=((a-l.y)*(r-v)-(v-l.x)*(s-a))/e;return Math.abs(n)*Math.sqrt(e)};p.exports=y},98770:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.abs(t.y1-t.y2)};p.exports=y},35001:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};p.exports=y},23031:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(13151),a=t(15258),r=t(23777),s=t(65822),e=t(26099),n=new l({initialize:function(i,o,f,u){i===void 0&&(i=0),o===void 0&&(o=0),f===void 0&&(f=0),u===void 0&&(u=0),this.type=r.LINE,this.x1=i,this.y1=o,this.x2=f,this.y2=u},getPoint:function(h,i){return v(this,h,i)},getPoints:function(h,i,o){return a(this,h,i,o)},getRandomPoint:function(h){return s(this,h)},setTo:function(h,i,o,f){return h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=0),f===void 0&&(f=0),this.x1=h,this.y1=i,this.x2=o,this.y2=f,this},setFromObjects:function(h,i){return this.x1=h.x,this.y1=h.y,this.x2=i.x,this.y2=i.y,this},getPointA:function(h){return h===void 0&&(h=new e),h.set(this.x1,this.y1),h},getPointB:function(h){return h===void 0&&(h=new e),h.set(this.x2,this.y2),h},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(h){this.x1<=this.x2?this.x1=h:this.x2=h}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(h){this.x1>this.x2?this.x1=h:this.x2=h}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(h){this.y1<=this.y2?this.y1=h:this.y2=h}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(h){this.y1>this.y2?this.y1=h:this.y2=h}}});p.exports=n},64795:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),v=t(15994),a=t(91938),r=function(s){var e=a(s)-l.TAU;return v(e,-Math.PI,Math.PI)};p.exports=r},52616:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),v=t(91938),a=function(r){return Math.cos(v(r)-l.TAU)};p.exports=a},87231:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),v=t(91938),a=function(r){return Math.sin(v(r)-l.TAU)};p.exports=a},89662:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return t.x1+=l,t.y1+=v,t.x2+=l,t.y2+=v,t};p.exports=y},71165:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};p.exports=y},65822:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){r===void 0&&(r=new l);var s=Math.random();return r.x=a.x1+s*(a.x2-a.x1),r.y=a.y1+s*(a.y2-a.y1),r};p.exports=v},69777:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91938),v=t(64795),a=function(r,s){return 2*v(s)-Math.PI-l(r)};p.exports=a},39706:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(64400),v=function(a,r){var s=(a.x1+a.x2)/2,e=(a.y1+a.y2)/2;return l(a,s,e,r)};p.exports=v},82585:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(64400),v=function(a,r,s){return l(a,r.x,r.y,s)};p.exports=v},64400:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){var r=Math.cos(a),s=Math.sin(a),e=t.x1-l,n=t.y1-v;return t.x1=e*r-n*s+l,t.y1=e*s+n*r+v,e=t.x2-l,n=t.y2-v,t.x2=e*r-n*s+l,t.y2=e*s+n*r+v,t};p.exports=y},62377:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a,r){return t.x1=l,t.y1=v,t.x2=l+Math.cos(a)*r,t.y2=v+Math.sin(a)*r,t};p.exports=y},71366:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};p.exports=y},10809:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.abs(t.x1-t.x2)};p.exports=y},2529:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23031);l.Angle=t(91938),l.BresenhamPoints=t(84993),l.CenterOn=t(36469),l.Clone=t(31116),l.CopyFrom=t(59944),l.Equals=t(59220),l.Extend=t(78177),l.GetEasedPoints=t(26708),l.GetMidPoint=t(32125),l.GetNearestPoint=t(99569),l.GetNormal=t(34638),l.GetPoint=t(13151),l.GetPoints=t(15258),l.GetShortestDistance=t(26408),l.Height=t(98770),l.Length=t(35001),l.NormalAngle=t(64795),l.NormalX=t(52616),l.NormalY=t(87231),l.Offset=t(89662),l.PerpSlope=t(71165),l.Random=t(65822),l.ReflectAngle=t(69777),l.Rotate=t(39706),l.RotateAroundPoint=t(82585),l.RotateAroundXY=t(64400),l.SetToAngle=t(62377),l.Slope=t(71366),l.Width=t(10809),p.exports=l},83997:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(87841),a=t(26099);function r(e,n,h,i){var o=e-h,f=n-i,u=o*o+f*f;return Math.sqrt(u)}var s=new l({initialize:function(n,h,i){this.vertex1=n,this.vertex2=h,this.vertex3=i,this.bounds=new v,this._inCenter=new a},getInCenter:function(e){e===void 0&&(e=!0);var n=this.vertex1,h=this.vertex2,i=this.vertex3,o,f,u,d,c,m;e?(o=n.x,f=n.y,u=h.x,d=h.y,c=i.x,m=i.y):(o=n.vx,f=n.vy,u=h.vx,d=h.vy,c=i.vx,m=i.vy);var x=r(c,m,u,d),g=r(o,f,c,m),T=r(u,d,o,f),S=x+g+T;return this._inCenter.set((o*x+u*g+c*T)/S,(f*x+d*g+m*T)/S)},contains:function(e,n,h){var i=this.vertex1,o=this.vertex2,f=this.vertex3,u=i.vx,d=i.vy,c=o.vx,m=o.vy,x=f.vx,g=f.vy;if(h){var T=h.a,S=h.b,E=h.c,P=h.d,F=h.e,R=h.f;u=i.vx*T+i.vy*E+F,d=i.vx*S+i.vy*P+R,c=o.vx*T+o.vy*E+F,m=o.vx*S+o.vy*P+R,x=f.vx*T+f.vy*E+F,g=f.vx*S+f.vy*P+R}var M=x-u,O=g-d,I=c-u,V=m-d,X=e-u,z=n-d,Z=M*M+O*O,N=M*I+O*V,Y=M*X+O*z,L=I*I+V*V,b=I*X+V*z,U=Z*L-N*N,W=U===0?0:1/U,j=(L*Y-N*b)*W,Q=(Z*b-N*Y)*W;return j>=0&&Q>=0&&j+Q<1},isCounterClockwise:function(e){var n=this.vertex1,h=this.vertex2,i=this.vertex3,o=(h.vx-n.vx)*(i.vy-n.vy)-(h.vy-n.vy)*(i.vx-n.vx);return e<=0?o>=0:o<0},load:function(e,n,h,i,o){return h=this.vertex1.load(e,n,h,i,o),h=this.vertex2.load(e,n,h,i,o),h=this.vertex3.load(e,n,h,i,o),h},transformCoordinatesLocal:function(e,n,h,i){return this.vertex1.transformCoordinatesLocal(e,n,h,i),this.vertex2.transformCoordinatesLocal(e,n,h,i),this.vertex3.transformCoordinatesLocal(e,n,h,i),this},updateBounds:function(){var e=this.vertex1,n=this.vertex2,h=this.vertex3,i=this.bounds;return i.x=Math.min(e.vx,n.vx,h.vx),i.y=Math.min(e.vy,n.vy,h.vy),i.width=Math.max(e.vx,n.vx,h.vx)-i.x,i.height=Math.max(e.vy,n.vy,h.vy)-i.y,this},isInView:function(e,n,h,i,o,f,u,d,c,m,x){this.update(i,o,f,u,d,c,m,x);var g=this.vertex1,T=this.vertex2,S=this.vertex3;if(g.ta<=0&&T.ta<=0&&S.ta<=0||n&&!this.isCounterClockwise(h))return!1;var E=this.bounds;E.x=Math.min(g.tx,T.tx,S.tx),E.y=Math.min(g.ty,T.ty,S.ty),E.width=Math.max(g.tx,T.tx,S.tx)-E.x,E.height=Math.max(g.ty,T.ty,S.ty)-E.y;var P=e.x+e.width,F=e.y+e.height;return E.width<=0||E.height<=0||e.width<=0||e.height<=0?!1:!(E.right<e.x||E.bottom<e.y||E.x>P||E.y>F)},scrollUV:function(e,n){return this.vertex1.scrollUV(e,n),this.vertex2.scrollUV(e,n),this.vertex3.scrollUV(e,n),this},scaleUV:function(e,n){return this.vertex1.scaleUV(e,n),this.vertex2.scaleUV(e,n),this.vertex3.scaleUV(e,n),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,n,h,i,o,f,u,d){return this.vertex1.update(n,h,i,o,f,u,d,e),this.vertex2.update(n,h,i,o,f,u,d,e),this.vertex3.update(n,h,i,o,f,u,d,e),this},translate:function(e,n){n===void 0&&(n=0);var h=this.vertex1,i=this.vertex2,o=this.vertex3;return h.x+=e,h.y+=n,i.x+=e,i.y+=n,o.x+=e,o.y+=n,this},x:{get:function(){return this.getInCenter().x},set:function(e){var n=this.getInCenter();this.translate(e-n.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var n=this.getInCenter();this.translate(0,e-n.y)}},alpha:{get:function(){var e=this.vertex1,n=this.vertex2,h=this.vertex3;return(e.alpha+n.alpha+h.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,n=this.vertex2,h=this.vertex3;return(e.vz+n.vz+h.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});p.exports=s},48803:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83997),v=t(95540),a=t(37867),r=t(25836),s=t(39318),e=new r,n=new r,h=new a,i=function(o){var f=v(o,"mesh"),u=v(o,"texture",null),d=v(o,"frame"),c=v(o,"width",1),m=v(o,"height",c),x=v(o,"widthSegments",1),g=v(o,"heightSegments",x),T=v(o,"x",0),S=v(o,"y",0),E=v(o,"z",0),P=v(o,"rotateX",0),F=v(o,"rotateY",0),R=v(o,"rotateZ",0),M=v(o,"zIsUp",!0),O=v(o,"isOrtho",f?f.dirtyCache[11]:!1),I=v(o,"colors",[16777215]),V=v(o,"alphas",[1]),X=v(o,"tile",!1),z=v(o,"flipY",!1),Z=v(o,"width",null),N={faces:[],verts:[]};e.set(T,S,E),n.set(P,F,R),h.fromRotationXYTranslation(n,e,M);var Y;if(!u&&f)u=f.texture,d||(Y=f.frame);else if(f&&typeof u=="string")u=f.scene.sys.textures.get(u);else if(!u)return N;Y||(Y=u.get(d)),!Z&&O&&u&&f&&(c=Y.width/f.height,m=Y.height/f.height);var L=c/2,b=m/2,U=Math.floor(x),W=Math.floor(g),j=U+1,Q=W+1,_=c/U,et=m/W,st=[],ct=[],gt,Et,xt=0,Mt=1,Vt=0,Wt=1;Y&&(xt=Y.u0,Mt=Y.u1,z?(Vt=Y.v1,Wt=Y.v0):(Vt=Y.v0,Wt=Y.v1));var Nt=Mt-xt,Pt=Wt-Vt;for(Et=0;Et<Q;Et++){var bt=Et*et-b;for(gt=0;gt<j;gt++){var Gt=gt*_-L;ct.push(Gt,-bt);var Zt=xt+Nt*(gt/U),$t=Vt+Pt*(Et/W);st.push(Zt,$t)}}Array.isArray(I)||(I=[I]),Array.isArray(V)||(V=[V]);var le=0,ve=0;for(Et=0;Et<W;Et++)for(gt=0;gt<U;gt++){var ie=(gt+j*Et)*2,qt=(gt+j*(Et+1))*2,de=(gt+1+j*(Et+1))*2,ce=(gt+1+j*Et)*2,Le=I[ve],Se=V[le],Ut=new s(ct[ie],ct[ie+1],0,st[ie],st[ie+1],Le,Se).transformMat4(h),We=new s(ct[qt],ct[qt+1],0,st[qt],st[qt+1],Le,Se).transformMat4(h),Ye=new s(ct[ce],ct[ce+1],0,st[ce],st[ce+1],Le,Se).transformMat4(h),ke=new s(ct[qt],ct[qt+1],0,st[qt],st[qt+1],Le,Se).transformMat4(h),Bt=new s(ct[de],ct[de+1],0,st[de],st[de+1],Le,Se).transformMat4(h),qe=new s(ct[ce],ct[ce+1],0,st[ce],st[ce+1],Le,Se).transformMat4(h);X&&(Ut.setUVs(xt,Wt),We.setUVs(xt,Vt),Ye.setUVs(Mt,Wt),ke.setUVs(xt,Vt),Bt.setUVs(Mt,Vt),qe.setUVs(Mt,Wt)),ve++,ve===I.length&&(ve=0),le++,le===V.length&&(le=0),N.verts.push(Ut,We,Ye,ke,Bt,qe),N.faces.push(new l(Ut,We,Ye),new l(ke,Bt,qe))}return f&&(f.faces=f.faces.concat(N.faces),f.vertices=f.vertices.concat(N.verts)),N};p.exports=i},34684:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83997),v=t(37867),a=t(25836),r=t(39318),s=new a,e=new a,n=new v,h=function(i,o,f,u,d,c,m,x,g,T){f===void 0&&(f=1),u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),m===void 0&&(m=0),x===void 0&&(x=0),g===void 0&&(g=0),T===void 0&&(T=!0);var S={faces:[],verts:[]},E=i.materials;s.set(u,d,c),e.set(m,x,g),n.fromRotationXYTranslation(e,s,T);for(var P=0;P<i.models.length;P++)for(var F=i.models[P],R=F.vertices,M=F.textureCoords,O=F.faces,I=0;I<O.length;I++){var V=O[I],X=V.vertices[0],z=V.vertices[1],Z=V.vertices[2],N=R[X.vertexIndex],Y=R[z.vertexIndex],L=R[Z.vertexIndex],b=X.textureCoordsIndex,U=z.textureCoordsIndex,W=Z.textureCoordsIndex,j=b===-1?{u:0,v:1}:M[b],Q=U===-1?{u:0,v:0}:M[U],_=W===-1?{u:1,v:1}:M[W],et=16777215;V.material!==""&&E[V.material]&&(et=E[V.material]);var st=new r(N.x*f,N.y*f,N.z*f,j.u,j.v,et).transformMat4(n),ct=new r(Y.x*f,Y.y*f,Y.z*f,Q.u,Q.v,et).transformMat4(n),gt=new r(L.x*f,L.y*f,L.z*f,_.u,_.v,et).transformMat4(n);S.verts.push(st,ct,gt),S.faces.push(new l(st,ct,gt))}return o&&(o.faces=o.faces.concat(S.faces),o.vertices=o.vertices.concat(S.verts)),S};p.exports=h},92515:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83997),v=t(39318),a=function(r,s,e,n,h,i,o,f){if(n===void 0&&(n=!1),i===void 0&&(i=16777215),o===void 0&&(o=1),f===void 0&&(f=!1),r.length!==s.length&&!n){console.warn("GenerateVerts: vertices and uvs count not equal");return}var u={faces:[],vertices:[]},d,c,m,x,g,T,S,E,P,F,R,M=n?3:2,O=Array.isArray(i),I=Array.isArray(o);if(Array.isArray(e)&&e.length>0)for(d=0;d<e.length;d++){var V=e[d],X=e[d]*2,z=e[d]*M;c=r[z],m=r[z+1],x=n?r[z+2]:0,g=s[X],T=s[X+1],f&&(T=1-T),S=O?i[V]:i,E=I?o[V]:o,P=0,F=0,R=0,h&&(P=h[z],F=h[z+1],R=n?h[z+2]:0),u.vertices.push(new v(c,m,x,g,T,S,E,P,F,R))}else{var Z=0,N=0;for(d=0;d<r.length;d+=M)c=r[d],m=r[d+1],x=n?r[d+2]:0,g=s[Z],T=s[Z+1],S=O?i[N]:i,E=I?o[N]:o,P=0,F=0,R=0,h&&(P=h[d],F=h[d+1],R=n?h[d+2]:0),u.vertices.push(new v(c,m,x,g,T,S,E,P,F,R)),Z+=2,N++}for(d=0;d<u.vertices.length;d+=3){var Y=u.vertices[d],L=u.vertices[d+1],b=u.vertices[d+2];u.faces.push(new l(Y,L,b))}return u};p.exports=a},85048:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=!0,t="untitled",l="",v="";function a(c){var m=c.indexOf("#");return m>-1?c.substring(0,m):c}function r(c){return c.models.length===0&&c.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),l="",c.models[c.models.length-1]}function s(c,m){var x=c.length>=2?c[1]:t;m.models.push({faces:[],name:x,textureCoords:[],vertexNormals:[],vertices:[]}),l=""}function e(c){c.length===2&&(l=c[1])}function n(c,m){var x=c.length,g=x>=2?parseFloat(c[1]):0,T=x>=3?parseFloat(c[2]):0,S=x>=4?parseFloat(c[3]):0;r(m).vertices.push({x:g,y:T,z:S})}function h(c,m){var x=c.length,g=x>=2?parseFloat(c[1]):0,T=x>=3?parseFloat(c[2]):0,S=x>=4?parseFloat(c[3]):0;isNaN(g)&&(g=0),isNaN(T)&&(T=0),isNaN(S)&&(S=0),y&&(T=1-T),r(m).textureCoords.push({u:g,v:T,w:S})}function i(c,m){var x=c.length,g=x>=2?parseFloat(c[1]):0,T=x>=3?parseFloat(c[2]):0,S=x>=4?parseFloat(c[3]):0;r(m).vertexNormals.push({x:g,y:T,z:S})}function o(c,m){var x=c.length-1;if(!(x<3)){for(var g={group:l,material:v,vertices:[]},T=0;T<x;T++){var S=c[T+1],E=S.split("/"),P=E.length;if(!(P<1||P>3)){var F=0,R=0,M=0;F=parseInt(E[0],10),P>1&&E[1]!==""&&(R=parseInt(E[1],10)),P>2&&(M=parseInt(E[2],10)),F!==0&&(F<0&&(F=r(m).vertices.length+1+F),R-=1,F-=1,M-=1,g.vertices.push({textureCoordsIndex:R,vertexIndex:F,vertexNormalIndex:M}))}}r(m).faces.push(g)}}function f(c,m){c.length>=2&&m.materialLibraries.push(c[1])}function u(c){c.length>=2&&(v=c[1])}var d=function(c,m){m===void 0&&(m=!0),y=m;var x={materials:{},materialLibraries:[],models:[]};l="",v="";for(var g=c.split(`
`),T=0;T<g.length;T++){var S=a(g[T]),E=S.replace(/\s\s+/g," ").trim().split(" ");switch(E[0].toLowerCase()){case"o":s(E,x);break;case"g":e(E);break;case"v":n(E,x);break;case"vt":h(E,x);break;case"vn":i(E,x);break;case"f":o(E,x);break;case"mtllib":f(E,x);break;case"usemtl":u(E);break}}return x};p.exports=d},61485:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37589),v=function(a){for(var r={},s=a.split(`
`),e="",n=0;n<s.length;n++){var h=s[n].trim();if(!(h.indexOf("#")===0||h==="")){var i=h.replace(/\s\s+/g," ").trim().split(" ");switch(i[0].toLowerCase()){case"newmtl":{e=i[1];break}case"kd":{var o=Math.floor(i[1]*255),f=i.length>=2?Math.floor(i[2]*255):o,u=i.length>=3?Math.floor(i[3]*255):o;r[e]=l(o,f,u);break}}}}return r};p.exports=v},92570:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){var r,s;if(v===void 0&&a===void 0){var e=t.getInCenter();r=e.x,s=e.y}var n=Math.cos(l),h=Math.sin(l),i=t.vertex1,o=t.vertex2,f=t.vertex3,u=i.x-r,d=i.y-s;i.set(u*n-d*h+r,u*h+d*n+s),u=o.x-r,d=o.y-s,o.set(u*n-d*h+r,u*h+d*n+s),u=f.x-r,d=f.y-s,f.set(u*n-d*h+r,u*h+d*n+s)};p.exports=y},39318:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(70554),a=t(25836),r=new l({Extends:a,initialize:function(e,n,h,i,o,f,u,d,c,m){f===void 0&&(f=16777215),u===void 0&&(u=1),d===void 0&&(d=0),c===void 0&&(c=0),m===void 0&&(m=0),a.call(this,e,n,h),this.vx=0,this.vy=0,this.vz=0,this.nx=d,this.ny=c,this.nz=m,this.u=i,this.v=o,this.color=f,this.alpha=u,this.tx=0,this.ty=0,this.ta=0,this.tu=i,this.tv=o},setUVs:function(s,e){return this.u=s,this.v=e,this.tu=s,this.tv=e,this},scrollUV:function(s,e){return this.tu+=s,this.tv+=e,this},scaleUV:function(s,e){return this.tu=this.u*s,this.tv=this.v*e,this},transformCoordinatesLocal:function(s,e,n,h){var i=this.x,o=this.y,f=this.z,u=s.val,d=i*u[0]+o*u[4]+f*u[8]+u[12],c=i*u[1]+o*u[5]+f*u[9]+u[13],m=i*u[2]+o*u[6]+f*u[10]+u[14],x=i*u[3]+o*u[7]+f*u[11]+u[15];this.vx=d/x*e,this.vy=-(c/x)*n,h<=0?this.vz=m/x:this.vz=-(m/x)},resize:function(s,e,n,h,i,o){return this.x=s,this.y=e,this.vx=this.x*n,this.vy=-this.y*h,this.vz=0,i<.5?this.vx+=n*(.5-i):i>.5&&(this.vx-=n*(i-.5)),o<.5?this.vy+=h*(.5-o):o>.5&&(this.vy-=h*(o-.5)),this},update:function(s,e,n,h,i,o,f,u){var d=this.vx*s+this.vy*n+i,c=this.vx*e+this.vy*h+o;return f&&(d=Math.round(d),c=Math.round(c)),this.tx=d,this.ty=c,this.ta=this.alpha*u,this},load:function(s,e,n,h,i){return s[++n]=this.tx,s[++n]=this.ty,s[++n]=this.tu,s[++n]=this.tv,s[++n]=h,s[++n]=i,e[++n]=v.getTintAppendFloatAlpha(this.color,this.ta),n}});p.exports=r},73090:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};p.exports=l},96550:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};p.exports=y},99706:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a){return new l(a.x,a.y)};p.exports=v},68010:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return l.setTo(t.x,t.y)};p.exports=y},27814:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t.x===l.x&&t.y===l.y};p.exports=y},73565:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};p.exports=y},87555:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){if(r===void 0&&(r=new l),!Array.isArray(a))throw new Error("GetCentroid points argument must be an array");var s=a.length;if(s<1)throw new Error("GetCentroid points array must not be empty");if(s===1)r.x=a[0].x,r.y=a[0].y;else{for(var e=0;e<s;e++)r.x+=a[e].x,r.y+=a[e].y;r.x/=s,r.y/=s}return r};p.exports=v},28793:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};p.exports=y},44405:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x*t.x+t.y*t.y};p.exports=y},20873:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=function(a,r){r===void 0&&(r=new l);for(var s=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY,i=0;i<a.length;i++){var o=a[i];o.x>s&&(s=o.x),o.x<e&&(e=o.x),o.y>n&&(n=o.y),o.y<h&&(h=o.y)}return r.x=e,r.y=h,r.width=s-e,r.height=n-h,r};p.exports=v},26152:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r,s,e){return s===void 0&&(s=0),e===void 0&&(e=new l),e.x=a.x+(r.x-a.x)*s,e.y=a.y+(r.y-a.y)*s,e};p.exports=v},55767:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.setTo(t.y,t.x)};p.exports=y},79432:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){return r===void 0&&(r=new l),r.setTo(-a.x,-a.y)};p.exports=v},2141:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23777),a=new l({initialize:function(s,e){s===void 0&&(s=0),e===void 0&&(e=s),this.type=v.POINT,this.x=s,this.y=e},setTo:function(r,s){return r===void 0&&(r=0),s===void 0&&(s=r),this.x=r,this.y=s,this}});p.exports=a},72930:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=t(44405),a=function(r,s,e){e===void 0&&(e=new l);var n=r.x*s.x+r.y*s.y,h=n/v(s);return h!==0&&(e.x=h*s.x,e.y=h*s.y),e};p.exports=a},62880:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r,s){s===void 0&&(s=new l);var e=a.x*r.x+a.y*r.y;return e!==0&&(s.x=e*r.x,s.y=e*r.y),s};p.exports=v},15093:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28793),v=function(a,r){if(a.x!==0||a.y!==0){var s=l(a);a.x/=s,a.y/=s}return a.x*=r,a.y*=r,a};p.exports=v},43711:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141);l.Ceil=t(96550),l.Clone=t(99706),l.CopyFrom=t(68010),l.Equals=t(27814),l.Floor=t(73565),l.GetCentroid=t(87555),l.GetMagnitude=t(28793),l.GetMagnitudeSq=t(44405),l.GetRectangleFromPoints=t(20873),l.Interpolate=t(26152),l.Invert=t(55767),l.Negative=t(79432),l.Project=t(72930),l.ProjectUnit=t(62880),l.SetMagnitude=t(15093),p.exports=l},12306:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25717),v=function(a){return new l(a.points)};p.exports=v},63814:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){for(var a=!1,r=-1,s=t.points.length-1;++r<t.points.length;s=r){var e=t.points[r].x,n=t.points[r].y,h=t.points[s].x,i=t.points[s].y;(n<=v&&v<i||i<=v&&v<n)&&l<(h-e)*(v-n)/(i-n)+e&&(a=!a)}return a};p.exports=y},99338:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(63814),v=function(a,r){return l(a,r.x,r.y)};p.exports=v},94811:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(N,Y,L){L=L||2;var b=Y&&Y.length,U=b?Y[0]*L:N.length,W=t(N,0,U,L,!0),j=[];if(!W||W.next===W.prev)return j;var Q,_,et,st,ct,gt,Et;if(b&&(W=n(N,Y,W,L)),N.length>80*L){Q=et=N[0],_=st=N[1];for(var xt=L;xt<U;xt+=L)ct=N[xt],gt=N[xt+1],ct<Q&&(Q=ct),gt<_&&(_=gt),ct>et&&(et=ct),gt>st&&(st=gt);Et=Math.max(et-Q,st-_),Et=Et!==0?32767/Et:0}return v(W,j,L,Q,_,Et,0),j}function t(N,Y,L,b,U){var W,j;if(U===Z(N,Y,L,b)>0)for(W=Y;W<L;W+=b)j=V(W,N[W],N[W+1],j);else for(W=L-b;W>=Y;W-=b)j=V(W,N[W],N[W+1],j);return j&&S(j,j.next)&&(X(j),j=j.next),j}function l(N,Y){if(!N)return N;Y||(Y=N);var L=N,b;do if(b=!1,!L.steiner&&(S(L,L.next)||T(L.prev,L,L.next)===0)){if(X(L),L=Y=L.prev,L===L.next)break;b=!0}else L=L.next;while(b||L!==Y);return Y}function v(N,Y,L,b,U,W,j){if(N){!j&&W&&u(N,b,U,W);for(var Q=N,_,et;N.prev!==N.next;){if(_=N.prev,et=N.next,W?r(N,b,U,W):a(N)){Y.push(_.i/L|0),Y.push(N.i/L|0),Y.push(et.i/L|0),X(N),N=et.next,Q=et.next;continue}if(N=et,N===Q){j?j===1?(N=s(l(N),Y,L),v(N,Y,L,b,U,W,2)):j===2&&e(N,Y,L,b,U,W):v(l(N),Y,L,b,U,W,1);break}}}}function a(N){var Y=N.prev,L=N,b=N.next;if(T(Y,L,b)>=0)return!1;for(var U=Y.x,W=L.x,j=b.x,Q=Y.y,_=L.y,et=b.y,st=U<W?U<j?U:j:W<j?W:j,ct=Q<_?Q<et?Q:et:_<et?_:et,gt=U>W?U>j?U:j:W>j?W:j,Et=Q>_?Q>et?Q:et:_>et?_:et,xt=b.next;xt!==Y;){if(xt.x>=st&&xt.x<=gt&&xt.y>=ct&&xt.y<=Et&&x(U,Q,W,_,j,et,xt.x,xt.y)&&T(xt.prev,xt,xt.next)>=0)return!1;xt=xt.next}return!0}function r(N,Y,L,b){var U=N.prev,W=N,j=N.next;if(T(U,W,j)>=0)return!1;for(var Q=U.x,_=W.x,et=j.x,st=U.y,ct=W.y,gt=j.y,Et=Q<_?Q<et?Q:et:_<et?_:et,xt=st<ct?st<gt?st:gt:ct<gt?ct:gt,Mt=Q>_?Q>et?Q:et:_>et?_:et,Vt=st>ct?st>gt?st:gt:ct>gt?ct:gt,Wt=c(Et,xt,Y,L,b),Nt=c(Mt,Vt,Y,L,b),Pt=N.prevZ,bt=N.nextZ;Pt&&Pt.z>=Wt&&bt&&bt.z<=Nt;){if(Pt.x>=Et&&Pt.x<=Mt&&Pt.y>=xt&&Pt.y<=Vt&&Pt!==U&&Pt!==j&&x(Q,st,_,ct,et,gt,Pt.x,Pt.y)&&T(Pt.prev,Pt,Pt.next)>=0||(Pt=Pt.prevZ,bt.x>=Et&&bt.x<=Mt&&bt.y>=xt&&bt.y<=Vt&&bt!==U&&bt!==j&&x(Q,st,_,ct,et,gt,bt.x,bt.y)&&T(bt.prev,bt,bt.next)>=0))return!1;bt=bt.nextZ}for(;Pt&&Pt.z>=Wt;){if(Pt.x>=Et&&Pt.x<=Mt&&Pt.y>=xt&&Pt.y<=Vt&&Pt!==U&&Pt!==j&&x(Q,st,_,ct,et,gt,Pt.x,Pt.y)&&T(Pt.prev,Pt,Pt.next)>=0)return!1;Pt=Pt.prevZ}for(;bt&&bt.z<=Nt;){if(bt.x>=Et&&bt.x<=Mt&&bt.y>=xt&&bt.y<=Vt&&bt!==U&&bt!==j&&x(Q,st,_,ct,et,gt,bt.x,bt.y)&&T(bt.prev,bt,bt.next)>=0)return!1;bt=bt.nextZ}return!0}function s(N,Y,L){var b=N;do{var U=b.prev,W=b.next.next;!S(U,W)&&E(U,b,b.next,W)&&M(U,W)&&M(W,U)&&(Y.push(U.i/L|0),Y.push(b.i/L|0),Y.push(W.i/L|0),X(b),X(b.next),b=N=W),b=b.next}while(b!==N);return l(b)}function e(N,Y,L,b,U,W){var j=N;do{for(var Q=j.next.next;Q!==j.prev;){if(j.i!==Q.i&&g(j,Q)){var _=I(j,Q);j=l(j,j.next),_=l(_,_.next),v(j,Y,L,b,U,W,0),v(_,Y,L,b,U,W,0);return}Q=Q.next}j=j.next}while(j!==N)}function n(N,Y,L,b){var U=[],W,j,Q,_,et;for(W=0,j=Y.length;W<j;W++)Q=Y[W]*b,_=W<j-1?Y[W+1]*b:N.length,et=t(N,Q,_,b,!1),et===et.next&&(et.steiner=!0),U.push(m(et));for(U.sort(h),W=0;W<U.length;W++)L=i(U[W],L);return L}function h(N,Y){return N.x-Y.x}function i(N,Y){var L=o(N,Y);if(!L)return Y;var b=I(L,N);return l(b,b.next),l(L,L.next)}function o(N,Y){var L=Y,b=N.x,U=N.y,W=-1/0,j;do{if(U<=L.y&&U>=L.next.y&&L.next.y!==L.y){var Q=L.x+(U-L.y)*(L.next.x-L.x)/(L.next.y-L.y);if(Q<=b&&Q>W&&(W=Q,j=L.x<L.next.x?L:L.next,Q===b))return j}L=L.next}while(L!==Y);if(!j)return null;var _=j,et=j.x,st=j.y,ct=1/0,gt;L=j;do b>=L.x&&L.x>=et&&b!==L.x&&x(U<st?b:W,U,et,st,U<st?W:b,U,L.x,L.y)&&(gt=Math.abs(U-L.y)/(b-L.x),M(L,N)&&(gt<ct||gt===ct&&(L.x>j.x||L.x===j.x&&f(j,L)))&&(j=L,ct=gt)),L=L.next;while(L!==_);return j}function f(N,Y){return T(N.prev,N,Y.prev)<0&&T(Y.next,N,N.next)<0}function u(N,Y,L,b){var U=N;do U.z===0&&(U.z=c(U.x,U.y,Y,L,b)),U.prevZ=U.prev,U.nextZ=U.next,U=U.next;while(U!==N);U.prevZ.nextZ=null,U.prevZ=null,d(U)}function d(N){var Y,L,b,U,W,j,Q,_,et=1;do{for(L=N,N=null,W=null,j=0;L;){for(j++,b=L,Q=0,Y=0;Y<et&&(Q++,b=b.nextZ,!!b);Y++);for(_=et;Q>0||_>0&&b;)Q!==0&&(_===0||!b||L.z<=b.z)?(U=L,L=L.nextZ,Q--):(U=b,b=b.nextZ,_--),W?W.nextZ=U:N=U,U.prevZ=W,W=U;L=b}W.nextZ=null,et*=2}while(j>1);return N}function c(N,Y,L,b,U){return N=(N-L)*U|0,Y=(Y-b)*U|0,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,Y=(Y|Y<<8)&16711935,Y=(Y|Y<<4)&252645135,Y=(Y|Y<<2)&858993459,Y=(Y|Y<<1)&1431655765,N|Y<<1}function m(N){var Y=N,L=N;do(Y.x<L.x||Y.x===L.x&&Y.y<L.y)&&(L=Y),Y=Y.next;while(Y!==N);return L}function x(N,Y,L,b,U,W,j,Q){return(U-j)*(Y-Q)>=(N-j)*(W-Q)&&(N-j)*(b-Q)>=(L-j)*(Y-Q)&&(L-j)*(W-Q)>=(U-j)*(b-Q)}function g(N,Y){return N.next.i!==Y.i&&N.prev.i!==Y.i&&!R(N,Y)&&(M(N,Y)&&M(Y,N)&&O(N,Y)&&(T(N.prev,N,Y.prev)||T(N,Y.prev,Y))||S(N,Y)&&T(N.prev,N,N.next)>0&&T(Y.prev,Y,Y.next)>0)}function T(N,Y,L){return(Y.y-N.y)*(L.x-Y.x)-(Y.x-N.x)*(L.y-Y.y)}function S(N,Y){return N.x===Y.x&&N.y===Y.y}function E(N,Y,L,b){var U=F(T(N,Y,L)),W=F(T(N,Y,b)),j=F(T(L,b,N)),Q=F(T(L,b,Y));return!!(U!==W&&j!==Q||U===0&&P(N,L,Y)||W===0&&P(N,b,Y)||j===0&&P(L,N,b)||Q===0&&P(L,Y,b))}function P(N,Y,L){return Y.x<=Math.max(N.x,L.x)&&Y.x>=Math.min(N.x,L.x)&&Y.y<=Math.max(N.y,L.y)&&Y.y>=Math.min(N.y,L.y)}function F(N){return N>0?1:N<0?-1:0}function R(N,Y){var L=N;do{if(L.i!==N.i&&L.next.i!==N.i&&L.i!==Y.i&&L.next.i!==Y.i&&E(L,L.next,N,Y))return!0;L=L.next}while(L!==N);return!1}function M(N,Y){return T(N.prev,N,N.next)<0?T(N,Y,N.next)>=0&&T(N,N.prev,Y)>=0:T(N,Y,N.prev)<0||T(N,N.next,Y)<0}function O(N,Y){var L=N,b=!1,U=(N.x+Y.x)/2,W=(N.y+Y.y)/2;do L.y>W!=L.next.y>W&&L.next.y!==L.y&&U<(L.next.x-L.x)*(W-L.y)/(L.next.y-L.y)+L.x&&(b=!b),L=L.next;while(L!==N);return b}function I(N,Y){var L=new z(N.i,N.x,N.y),b=new z(Y.i,Y.x,Y.y),U=N.next,W=Y.prev;return N.next=Y,Y.prev=N,L.next=U,U.prev=L,b.next=L,L.prev=b,W.next=b,b.prev=W,b}function V(N,Y,L,b){var U=new z(N,Y,L);return b?(U.next=b.next,U.prev=b,b.next.prev=U,b.next=U):(U.prev=U,U.next=U),U}function X(N){N.next.prev=N.prev,N.prev.next=N.next,N.prevZ&&(N.prevZ.nextZ=N.nextZ),N.nextZ&&(N.nextZ.prevZ=N.prevZ)}function z(N,Y,L){this.i=N,this.x=Y,this.y=L,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}y.deviation=function(N,Y,L,b){var U=Y&&Y.length,W=U?Y[0]*L:N.length,j=Math.abs(Z(N,0,W,L));if(U)for(var Q=0,_=Y.length;Q<_;Q++){var et=Y[Q]*L,st=Q<_-1?Y[Q+1]*L:N.length;j-=Math.abs(Z(N,et,st,L))}var ct=0;for(Q=0;Q<b.length;Q+=3){var gt=b[Q]*L,Et=b[Q+1]*L,xt=b[Q+2]*L;ct+=Math.abs((N[gt]-N[xt])*(N[Et+1]-N[gt+1])-(N[gt]-N[Et])*(N[xt+1]-N[gt+1]))}return j===0&&ct===0?0:Math.abs((ct-j)/j)};function Z(N,Y,L,b){for(var U=0,W=Y,j=L-b;W<L;W+=b)U+=(N[j]-N[W])*(N[W+1]+N[j+1]),j=W;return U}y.flatten=function(N){for(var Y=N[0][0].length,L={vertices:[],holes:[],dimensions:Y},b=0,U=0;U<N.length;U++){for(var W=0;W<N[U].length;W++)for(var j=0;j<Y;j++)L.vertices.push(N[U][W][j]);U>0&&(b+=N[U-1].length,L.holes.push(b))}return L},p.exports=y},13829:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=function(a,r){r===void 0&&(r=new l);for(var s=1/0,e=1/0,n=-s,h=-e,i,o=0;o<a.points.length;o++)i=a.points[o],s=Math.min(s,i.x),e=Math.min(e,i.y),n=Math.max(n,i.x),h=Math.max(h,i.y);return r.x=s,r.y=e,r.width=n-s,r.height=h-e,r};p.exports=v},26173:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){l===void 0&&(l=[]);for(var v=0;v<t.points.length;v++)l.push(t.points[v].x),l.push(t.points[v].y);return l};p.exports=y},9564:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35001),v=t(23031),a=t(30052),r=function(s,e,n,h){h===void 0&&(h=[]);var i=s.points,o=a(s);!e&&n>0&&(e=o/n);for(var f=0;f<e;f++)for(var u=o*(f/e),d=0,c=0;c<i.length;c++){var m=i[c],x=i[(c+1)%i.length],g=new v(m.x,m.y,x.x,x.y),T=l(g);if(u<d||u>d+T){d+=T;continue}var S=g.getPoint((u-d)/T);h.push(S);break}return h};p.exports=r},30052:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35001),v=t(23031),a=function(r){for(var s=r.points,e=0,n=0;n<s.length;n++){var h=s[n],i=s[(n+1)%s.length],o=new v(h.x,h.y,i.x,i.y);e+=l(o)}return e};p.exports=a},25717:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(63814),a=t(9564),r=t(23777),s=new l({initialize:function(n){this.type=r.POLYGON,this.area=0,this.points=[],n&&this.setTo(n)},contains:function(e,n){return v(this,e,n)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var n,h=0;h<e.length;h++)n={x:0,y:0},typeof e[h]=="number"||typeof e[h]=="string"?(n.x=parseFloat(e[h]),n.y=parseFloat(e[h+1]),h++):Array.isArray(e[h])?(n.x=e[h][0],n.y=e[h][1]):(n.x=e[h].x,n.y=e[h].y),this.points.push(n);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,n,h,i=0;i<this.points.length-1;i++)n=this.points[i],h=this.points[i+1],e+=(h.x-n.x)*(n.y+h.y);return n=this.points[0],h=this.points[this.points.length-1],e+=(n.x-h.x)*(h.y+n.y),this.area=-e*.5,this.area},getPoints:function(e,n,h){return a(this,e,n,h)}});p.exports=s},8133:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.points.reverse(),t};p.exports=y},29524:p=>{function y(s,e){var n=s.x-e.x,h=s.y-e.y;return n*n+h*h}function t(s,e,n){var h=e.x,i=e.y,o=n.x-h,f=n.y-i;if(o!==0||f!==0){var u=((s.x-h)*o+(s.y-i)*f)/(o*o+f*f);u>1?(h=n.x,i=n.y):u>0&&(h+=o*u,i+=f*u)}return o=s.x-h,f=s.y-i,o*o+f*f}function l(s,e){for(var n=s[0],h=[n],i,o=1,f=s.length;o<f;o++)i=s[o],y(i,n)>e&&(h.push(i),n=i);return n!==i&&h.push(i),h}function v(s,e,n,h,i){for(var o=h,f,u=e+1;u<n;u++){var d=t(s[u],s[e],s[n]);d>o&&(f=u,o=d)}o>h&&(f-e>1&&v(s,e,f,h,i),i.push(s[f]),n-f>1&&v(s,f,n,h,i))}function a(s,e){var n=s.length-1,h=[s[0]];return v(s,0,n,e,h),h.push(s[n]),h}var r=function(s,e,n){e===void 0&&(e=1),n===void 0&&(n=!1);var h=s.points;if(h.length>2){var i=e*e;n||(h=l(h,i)),s.setTo(a(h,i))}return s};p.exports=r},5469:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(l,v){return l[0]=v[0],l[1]=v[1],l},t=function(l){var v,a=[],r=l.points;for(v=0;v<r.length;v++)a.push([r[v].x,r[v].y]);var s=[];for(a.length>0&&s.push(y([0,0],a[0])),v=0;v<a.length-1;v++){var e=a[v],n=a[v+1],h=e[0],i=e[1],o=n[0],f=n[1];s.push([.85*h+.15*o,.85*i+.15*f]),s.push([.15*h+.85*o,.15*i+.85*f])}return a.length>1&&s.push(y([0,0],a[a.length-1])),l.setTo(s)};p.exports=t},24709:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){for(var a=t.points,r=0;r<a.length;r++)a[r].x+=l,a[r].y+=v;return t};p.exports=y},58423:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25717);l.Clone=t(12306),l.Contains=t(63814),l.ContainsPoint=t(99338),l.Earcut=t(94811),l.GetAABB=t(13829),l.GetNumberArray=t(26173),l.GetPoints=t(9564),l.Perimeter=t(30052),l.Reverse=t(8133),l.Simplify=t(29524),l.Smooth=t(5469),l.Translate=t(24709),p.exports=l},62224:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.width*t.height};p.exports=y},98615:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};p.exports=y},31688:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};p.exports=y},67502:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return t.x=l-t.width/2,t.y=v-t.height/2,t};p.exports=y},65085:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=function(a){return new l(a.x,a.y,a.width,a.height)};p.exports=v},37303:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return t.width<=0||t.height<=0?!1:t.x<=l&&t.x+t.width>=l&&t.y<=v&&t.y+t.height>=v};p.exports=y},96553:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37303),v=function(a,r){return l(a,r.x,r.y)};p.exports=v},70273:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return l.width*l.height>t.width*t.height?!1:l.x>t.x&&l.x<t.right&&l.right>t.x&&l.right<t.right&&l.y>t.y&&l.y<t.bottom&&l.bottom>t.y&&l.bottom<t.bottom};p.exports=y},43459:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return l.setTo(t.x,t.y,t.width,t.height)};p.exports=y},77493:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return l===void 0&&(l=[]),l.push({x:t.x,y:t.y}),l.push({x:t.right,y:t.y}),l.push({x:t.right,y:t.bottom}),l.push({x:t.x,y:t.bottom}),l};p.exports=y},9219:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t.x===l.x&&t.y===l.y&&t.width===l.width&&t.height===l.height};p.exports=y},53751:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8249),v=function(a,r){var s=l(a);return s<l(r)?a.setSize(r.height*s,r.height):a.setSize(r.width,r.width/s),a.setPosition(r.centerX-a.width/2,r.centerY-a.height/2)};p.exports=v},16088:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8249),v=function(a,r){var s=l(a);return s>l(r)?a.setSize(r.height*s,r.height):a.setSize(r.width,r.width/s),a.setPosition(r.centerX-a.width/2,r.centerY-a.height/2)};p.exports=v},80774:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};p.exports=y},83859:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};p.exports=y},19217:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=t(36383),a=function(r,s){if(s===void 0&&(s=new l),r.length===0)return s;for(var e=Number.MAX_VALUE,n=Number.MAX_VALUE,h=v.MIN_SAFE_INTEGER,i=v.MIN_SAFE_INTEGER,o,f,u,d=0;d<r.length;d++)o=r[d],Array.isArray(o)?(f=o[0],u=o[1]):(f=o.x,u=o.y),e=Math.min(e,f),n=Math.min(n,u),h=Math.max(h,f),i=Math.max(i,u);return s.x=e,s.y=n,s.width=h-e,s.height=i-n,s};p.exports=a},9477:(p,y,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=function(a,r,s,e,n){return n===void 0&&(n=new l),n.setTo(Math.min(a,s),Math.min(r,e),Math.abs(a-s),Math.abs(r-e))};p.exports=v},8249:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.height===0?NaN:t.width/t.height};p.exports=y},27165:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){return r===void 0&&(r=new l),r.x=a.centerX,r.y=a.centerY,r};p.exports=v},20812:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13019),v=t(2141),a=function(r,s,e){if(e===void 0&&(e=new v),s<=0||s>=1)return e.x=r.x,e.y=r.y,e;var n=l(r)*s;return s>.5?(n-=r.width+r.height,n<=r.width?(e.x=r.right-n,e.y=r.bottom):(e.x=r.x,e.y=r.bottom-(n-r.width))):n<=r.width?(e.x=r.x+n,e.y=r.y):(e.x=r.right,e.y=r.y+(n-r.width)),e};p.exports=a},34819:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20812),v=t(13019),a=function(r,s,e,n){n===void 0&&(n=[]),!s&&e>0&&(s=v(r)/e);for(var h=0;h<s;h++){var i=h/s;n.push(l(r,i))}return n};p.exports=a},51313:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){return r===void 0&&(r=new l),r.x=a.width,r.y=a.height,r};p.exports=v},86091:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(67502),v=function(a,r,s){var e=a.centerX,n=a.centerY;return a.setSize(a.width+r*2,a.height+s*2),l(a,e,n)};p.exports=v},53951:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=t(59996),a=function(r,s,e){return e===void 0&&(e=new l),v(r,s)?(e.x=Math.max(r.x,s.x),e.y=Math.max(r.y,s.y),e.width=Math.min(r.right,s.right)-e.x,e.height=Math.min(r.bottom,s.bottom)-e.y):e.setEmpty(),e};p.exports=a},14649:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13019),v=t(2141),a=function(r,s,e,n){if(n===void 0&&(n=[]),!s&&!e)return n;s?e=Math.round(l(r)/s):s=l(r)/e;for(var h=r.x,i=r.y,o=0,f=0;f<e;f++)switch(n.push(new v(h,i)),o){case 0:h+=s,h>=r.right&&(o=1,i+=h-r.right,h=r.right);break;case 1:i+=s,i>=r.bottom&&(o=2,h-=i-r.bottom,i=r.bottom);break;case 2:h-=s,h<=r.left&&(o=3,i-=r.left-h,h=r.left);break;case 3:i-=s,i<=r.top&&(o=0,i=r.top);break}return n};p.exports=a},33595:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){for(var v=t.x,a=t.right,r=t.y,s=t.bottom,e=0;e<l.length;e++)v=Math.min(v,l[e].x),a=Math.max(a,l[e].x),r=Math.min(r,l[e].y),s=Math.max(s,l[e].y);return t.x=v,t.y=r,t.width=a-v,t.height=s-r,t};p.exports=y},20074:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){var v=Math.min(t.x,l.x),a=Math.max(t.right,l.right);t.x=v,t.width=a-v;var r=Math.min(t.y,l.y),s=Math.max(t.bottom,l.bottom);return t.y=r,t.height=s-r,t};p.exports=y},92171:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){var a=Math.min(t.x,l),r=Math.max(t.right,l);t.x=a,t.width=r-a;var s=Math.min(t.y,v),e=Math.max(t.bottom,v);return t.y=s,t.height=e-s,t};p.exports=y},42981:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return t.x+=l,t.y+=v,t};p.exports=y},46907:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t.x+=l.x,t.y+=l.y,t};p.exports=y},60170:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t.x<l.right&&t.right>l.x&&t.y<l.bottom&&t.bottom>l.y};p.exports=y},13019:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 2*(t.width+t.height)};p.exports=y},85133:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=t(39506),a=function(r,s,e){e===void 0&&(e=new l),s=v(s);var n=Math.sin(s),h=Math.cos(s),i=h>0?r.width/2:r.width/-2,o=n>0?r.height/2:r.height/-2;return Math.abs(i*n)<Math.abs(o*h)?o=i*n/h:i=o*h/n,e.x=i+r.centerX,e.y=o+r.centerY,e};p.exports=a},26597:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){return r===void 0&&(r=new l),r.x=a.x+Math.random()*a.width,r.y=a.y+Math.random()*a.height,r};p.exports=v},86470:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30976),v=t(70273),a=t(2141),r=function(s,e,n){if(n===void 0&&(n=new a),v(s,e))switch(l(0,3)){case 0:n.x=s.x+Math.random()*(e.right-s.x),n.y=s.y+Math.random()*(e.top-s.y);break;case 1:n.x=e.x+Math.random()*(s.right-e.x),n.y=e.bottom+Math.random()*(s.bottom-e.bottom);break;case 2:n.x=s.x+Math.random()*(e.x-s.x),n.y=e.y+Math.random()*(s.bottom-e.y);break;case 3:n.x=e.right+Math.random()*(s.right-e.right),n.y=s.y+Math.random()*(e.bottom-s.y);break}return n};p.exports=r},87841:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(37303),a=t(20812),r=t(34819),s=t(23777),e=t(23031),n=t(26597),h=new l({initialize:function(o,f,u,d){o===void 0&&(o=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=s.RECTANGLE,this.x=o,this.y=f,this.width=u,this.height=d},contains:function(i,o){return v(this,i,o)},getPoint:function(i,o){return a(this,i,o)},getPoints:function(i,o,f){return r(this,i,o,f)},getRandomPoint:function(i){return n(this,i)},setTo:function(i,o,f,u){return this.x=i,this.y=o,this.width=f,this.height=u,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(i,o){return o===void 0&&(o=i),this.x=i,this.y=o,this},setSize:function(i,o){return o===void 0&&(o=i),this.width=i,this.height=o,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.y,this.right,this.y),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.y,this.right,this.bottom),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.bottom,this.x,this.bottom),i},getLineD:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.bottom,this.x,this.y),i},left:{get:function(){return this.x},set:function(i){i>=this.right?this.width=0:this.width=this.right-i,this.x=i}},right:{get:function(){return this.x+this.width},set:function(i){i<=this.x?this.width=0:this.width=i-this.x}},top:{get:function(){return this.y},set:function(i){i>=this.bottom?this.height=0:this.height=this.bottom-i,this.y=i}},bottom:{get:function(){return this.y+this.height},set:function(i){i<=this.y?this.height=0:this.height=i-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(i){this.x=i-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(i){this.y=i-this.height/2}}});p.exports=h},94845:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t.width===l.width&&t.height===l.height};p.exports=y},31730:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return v===void 0&&(v=l),t.width*=l,t.height*=v,t};p.exports=y},36899:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=function(a,r,s){s===void 0&&(s=new l);var e=Math.min(a.x,r.x),n=Math.min(a.y,r.y),h=Math.max(a.right,r.right)-e,i=Math.max(a.bottom,r.bottom)-n;return s.setTo(e,n,h,i)};p.exports=v},93232:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841);l.Area=t(62224),l.Ceil=t(98615),l.CeilAll=t(31688),l.CenterOn=t(67502),l.Clone=t(65085),l.Contains=t(37303),l.ContainsPoint=t(96553),l.ContainsRect=t(70273),l.CopyFrom=t(43459),l.Decompose=t(77493),l.Equals=t(9219),l.FitInside=t(53751),l.FitOutside=t(16088),l.Floor=t(80774),l.FloorAll=t(83859),l.FromPoints=t(19217),l.FromXY=t(9477),l.GetAspectRatio=t(8249),l.GetCenter=t(27165),l.GetPoint=t(20812),l.GetPoints=t(34819),l.GetSize=t(51313),l.Inflate=t(86091),l.Intersection=t(53951),l.MarchingAnts=t(14649),l.MergePoints=t(33595),l.MergeRect=t(20074),l.MergeXY=t(92171),l.Offset=t(42981),l.OffsetPoint=t(46907),l.Overlaps=t(60170),l.Perimeter=t(13019),l.PerimeterPoint=t(85133),l.Random=t(26597),l.RandomOutside=t(86470),l.SameDimensions=t(94845),l.Scale=t(31730),l.Union=t(36899),p.exports=l},41658:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var l=t.x1,v=t.y1,a=t.x2,r=t.y2,s=t.x3,e=t.y3;return Math.abs(((s-l)*(r-v)-(a-l)*(e-v))/2)};p.exports=y},39208:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16483),v=function(a,r,s){var e=s*(Math.sqrt(3)/2),n=a,h=r,i=a+s/2,o=r+e,f=a-s/2,u=r+e;return new l(n,h,i,o,f,u)};p.exports=v},39545:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(94811),v=t(16483),a=function(r,s,e,n,h){s===void 0&&(s=null),e===void 0&&(e=1),n===void 0&&(n=1),h===void 0&&(h=[]);for(var i=l(r,s),o,f,u,d,c,m,x,g,T,S=0;S<i.length;S+=3)o=i[S],f=i[S+1],u=i[S+2],d=r[o*2]*e,c=r[o*2+1]*n,m=r[f*2]*e,x=r[f*2+1]*n,g=r[u*2]*e,T=r[u*2+1]*n,h.push(new v(d,c,m,x,g,T));return h};p.exports=a},90301:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16483),v=function(a,r,s,e){e===void 0&&(e=s);var n=a,h=r,i=a,o=r-e,f=a+s,u=r;return new l(n,h,i,o,f,u)};p.exports=v},23707:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97523),v=t(13584),a=function(r,s,e,n){n===void 0&&(n=l);var h=n(r),i=s-h.x,o=e-h.y;return v(r,i,o)};p.exports=a},97523:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){return r===void 0&&(r=new l),r.x=(a.x1+a.x2+a.x3)/3,r.y=(a.y1+a.y2+a.y3)/3,r};p.exports=v},24951:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099);function v(r,s,e,n){return r*n-s*e}var a=function(r,s){s===void 0&&(s=new l);var e=r.x3,n=r.y3,h=r.x1-e,i=r.y1-n,o=r.x2-e,f=r.y2-n,u=2*v(h,i,o,f),d=v(i,h*h+i*i,f,o*o+f*f),c=v(h,h*h+i*i,o,o*o+f*f);return s.x=e-d/u,s.y=n+c/u,s};p.exports=a},85614:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(96503),v=function(a,r){r===void 0&&(r=new l);var s=a.x1,e=a.y1,n=a.x2,h=a.y2,i=a.x3,o=a.y3,f=n-s,u=h-e,d=i-s,c=o-e,m=f*(s+n)+u*(e+h),x=d*(s+i)+c*(e+o),g=2*(f*(o-h)-u*(i-n)),T,S;if(Math.abs(g)<1e-6){var E=Math.min(s,n,i),P=Math.min(e,h,o);T=(Math.max(s,n,i)-E)*.5,S=(Math.max(e,h,o)-P)*.5,r.x=E+T,r.y=P+S,r.radius=Math.sqrt(T*T+S*S)}else r.x=(c*m-u*x)/g,r.y=(f*x-d*m)/g,T=r.x-s,S=r.y-e,r.radius=Math.sqrt(T*T+S*S);return r};p.exports=v},74422:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16483),v=function(a){return new l(a.x1,a.y1,a.x2,a.y2,a.x3,a.y3)};p.exports=v},10690:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){var a=t.x3-t.x1,r=t.y3-t.y1,s=t.x2-t.x1,e=t.y2-t.y1,n=l-t.x1,h=v-t.y1,i=a*a+r*r,o=a*s+r*e,f=a*n+r*h,u=s*s+e*e,d=s*n+e*h,c=i*u-o*o,m=c===0?0:1/c,x=(u*f-o*d)*m,g=(i*d-o*f)*m;return x>=0&&g>=0&&x+g<1};p.exports=y},48653:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){v===void 0&&(v=!1),a===void 0&&(a=[]);for(var r=t.x3-t.x1,s=t.y3-t.y1,e=t.x2-t.x1,n=t.y2-t.y1,h=r*r+s*s,i=r*e+s*n,o=e*e+n*n,f=h*o-i*i,u=f===0?0:1/f,d,c,m,x,g,T,S=t.x1,E=t.y1,P=0;P<l.length&&(m=l[P].x-S,x=l[P].y-E,g=r*m+s*x,T=e*m+n*x,d=(o*g-i*T)*u,c=(h*T-i*g)*u,!(d>=0&&c>=0&&d+c<1&&(a.push({x:l[P].x,y:l[P].y}),v)));P++);return a};p.exports=y},96006:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10690),v=function(a,r){return l(a,r.x,r.y)};p.exports=v},71326:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return l.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};p.exports=y},71694:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return l===void 0&&(l=[]),l.push({x:t.x1,y:t.y1}),l.push({x:t.x2,y:t.y2}),l.push({x:t.x3,y:t.y3}),l};p.exports=y},33522:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t.x1===l.x1&&t.y1===l.y1&&t.x2===l.x2&&t.y2===l.y2&&t.x3===l.x3&&t.y3===l.y3};p.exports=y},20437:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=t(35001),a=function(r,s,e){e===void 0&&(e=new l);var n=r.getLineA(),h=r.getLineB(),i=r.getLineC();if(s<=0||s>=1)return e.x=n.x1,e.y=n.y1,e;var o=v(n),f=v(h),u=v(i),d=o+f+u,c=d*s,m=0;return c<o?(m=c/o,e.x=n.x1+(n.x2-n.x1)*m,e.y=n.y1+(n.y2-n.y1)*m):c>o+f?(c-=o+f,m=c/u,e.x=i.x1+(i.x2-i.x1)*m,e.y=i.y1+(i.y2-i.y1)*m):(c-=o,m=c/f,e.x=h.x1+(h.x2-h.x1)*m,e.y=h.y1+(h.y2-h.y1)*m),e};p.exports=a},80672:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35001),v=t(2141),a=function(r,s,e,n){n===void 0&&(n=[]);var h=r.getLineA(),i=r.getLineB(),o=r.getLineC(),f=l(h),u=l(i),d=l(o),c=f+u+d;!s&&e>0&&(s=c/e);for(var m=0;m<s;m++){var x=c*(m/s),g=0,T=new v;x<f?(g=x/f,T.x=h.x1+(h.x2-h.x1)*g,T.y=h.y1+(h.y2-h.y1)*g):x>f+u?(x-=f+u,g=x/d,T.x=o.x1+(o.x2-o.x1)*g,T.y=o.y1+(o.y2-o.y1)*g):(x-=f,g=x/u,T.x=i.x1+(i.x2-i.x1)*g,T.y=i.y1+(i.y2-i.y1)*g),n.push(T)}return n};p.exports=a},39757:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141);function v(r,s,e,n){var h=r-e,i=s-n,o=h*h+i*i;return Math.sqrt(o)}var a=function(r,s){s===void 0&&(s=new l);var e=r.x1,n=r.y1,h=r.x2,i=r.y2,o=r.x3,f=r.y3,u=v(o,f,h,i),d=v(e,n,o,f),c=v(h,i,e,n),m=u+d+c;return s.x=(e*u+h*d+o*c)/m,s.y=(n*u+i*d+f*c)/m,s};p.exports=a},13584:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return t.x1+=l,t.y1+=v,t.x2+=l,t.y2+=v,t.x3+=l,t.y3+=v,t};p.exports=y},1376:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35001),v=function(a){var r=a.getLineA(),s=a.getLineB(),e=a.getLineC();return l(r)+l(s)+l(e)};p.exports=v},90260:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){r===void 0&&(r=new l);var s=a.x2-a.x1,e=a.y2-a.y1,n=a.x3-a.x1,h=a.y3-a.y1,i=Math.random(),o=Math.random();return i+o>=1&&(i=1-i,o=1-o),r.x=a.x1+(s*i+n*o),r.y=a.y1+(e*i+h*o),r};p.exports=v},52172:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99614),v=t(39757),a=function(r,s){var e=v(r);return l(r,e.x,e.y,s)};p.exports=a},49907:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99614),v=function(a,r,s){return l(a,r.x,r.y,s)};p.exports=v},99614:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){var r=Math.cos(a),s=Math.sin(a),e=t.x1-l,n=t.y1-v;return t.x1=e*r-n*s+l,t.y1=e*s+n*r+v,e=t.x2-l,n=t.y2-v,t.x2=e*r-n*s+l,t.y2=e*s+n*r+v,e=t.x3-l,n=t.y3-v,t.x3=e*r-n*s+l,t.y3=e*s+n*r+v,t};p.exports=y},16483:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(10690),a=t(20437),r=t(80672),s=t(23777),e=t(23031),n=t(90260),h=new l({initialize:function(o,f,u,d,c,m){o===void 0&&(o=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),m===void 0&&(m=0),this.type=s.TRIANGLE,this.x1=o,this.y1=f,this.x2=u,this.y2=d,this.x3=c,this.y3=m},contains:function(i,o){return v(this,i,o)},getPoint:function(i,o){return a(this,i,o)},getPoints:function(i,o,f){return r(this,i,o,f)},getRandomPoint:function(i){return n(this,i)},setTo:function(i,o,f,u,d,c){return i===void 0&&(i=0),o===void 0&&(o=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),this.x1=i,this.y1=o,this.x2=f,this.y2=u,this.x3=d,this.y3=c,this},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x1,this.y1,this.x2,this.y2),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.x2,this.y2,this.x3,this.y3),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.x3,this.y3,this.x1,this.y1),i},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(i){var o=0;this.x1<=this.x2&&this.x1<=this.x3?o=this.x1-i:this.x2<=this.x1&&this.x2<=this.x3?o=this.x2-i:o=this.x3-i,this.x1-=o,this.x2-=o,this.x3-=o}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(i){var o=0;this.x1>=this.x2&&this.x1>=this.x3?o=this.x1-i:this.x2>=this.x1&&this.x2>=this.x3?o=this.x2-i:o=this.x3-i,this.x1-=o,this.x2-=o,this.x3-=o}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(i){var o=0;this.y1<=this.y2&&this.y1<=this.y3?o=this.y1-i:this.y2<=this.y1&&this.y2<=this.y3?o=this.y2-i:o=this.y3-i,this.y1-=o,this.y2-=o,this.y3-=o}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(i){var o=0;this.y1>=this.y2&&this.y1>=this.y3?o=this.y1-i:this.y2>=this.y1&&this.y2>=this.y3?o=this.y2-i:o=this.y3-i,this.y1-=o,this.y2-=o,this.y3-=o}}});p.exports=h},84435:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16483);l.Area=t(41658),l.BuildEquilateral=t(39208),l.BuildFromPolygon=t(39545),l.BuildRight=t(90301),l.CenterOn=t(23707),l.Centroid=t(97523),l.CircumCenter=t(24951),l.CircumCircle=t(85614),l.Clone=t(74422),l.Contains=t(10690),l.ContainsArray=t(48653),l.ContainsPoint=t(96006),l.CopyFrom=t(71326),l.Decompose=t(71694),l.Equals=t(33522),l.GetPoint=t(20437),l.GetPoints=t(80672),l.InCenter=t(39757),l.Perimeter=t(1376),l.Offset=t(13584),l.Random=t(90260),l.Rotate=t(52172),l.RotateAroundPoint=t(49907),l.RotateAroundXY=t(99614),p.exports=l},74457:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:l,hitAreaCallback:v,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};p.exports=y},84409:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return function(v,a,r,s){var e=t.getPixelAlpha(a,r,s.texture.key,s.frame.name);return e&&e>=l}};p.exports=y},7003:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(93301),a=t(50792),r=t(8214),s=t(8443),e=t(78970),n=t(85098),h=t(42515),i=t(36210),o=t(61340),f=t(85955),u=new l({initialize:function(c,m){this.game=c,this.scaleManager,this.canvas,this.config=m,this.enabled=!0,this.events=new a,this.isOver=!0,this.defaultCursor="",this.keyboard=m.inputKeyboard?new e(this):null,this.mouse=m.inputMouse?new n(this):null,this.touch=m.inputTouch?new i(this):null,this.pointers=[],this.pointersTotal=m.inputActivePointers,m.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var x=0;x<=this.pointersTotal;x++){var g=new h(this,x);g.smoothFactor=m.inputSmoothFactor,this.pointers.push(g)}this.mousePointer=m.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new o,this._tempMatrix2=new o,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],c.events.once(s.BOOT,this.boot,this)},boot:function(){var d=this.game,c=d.events;this.canvas=d.canvas,this.scaleManager=d.scale,this.events.emit(r.MANAGER_BOOT),c.on(s.PRE_RENDER,this.preRender,this),c.once(s.DESTROY,this.destroy,this)},setCanvasOver:function(d){this.isOver=!0,this.events.emit(r.GAME_OVER,d)},setCanvasOut:function(d){this.isOver=!1,this.events.emit(r.GAME_OUT,d)},preRender:function(){var d=this.game.loop.now,c=this.game.loop.delta,m=this.game.scene.getScenes(!0,!0);this.time=d,this.events.emit(r.MANAGER_UPDATE);for(var x=0;x<m.length;x++){var g=m[x];if(g.sys.input&&g.sys.input.updatePoll(d,c)&&this.globalTopOnly)return}},setDefaultCursor:function(d){this.defaultCursor=d,this.canvas.style.cursor!==d&&(this.canvas.style.cursor=d)},setCursor:function(d){d.cursor&&(this.canvas.style.cursor=d.cursor)},resetCursor:function(d){d.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(d){d===void 0&&(d=1);var c=[];this.pointersTotal+d>10&&(d=10-this.pointersTotal);for(var m=0;m<d;m++){var x=this.pointers.length,g=new h(this,x);g.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(g),this.pointersTotal++,c.push(g)}return c},updateInputPlugins:function(d,c){var m=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var x=0;x<m.length;x++){var g=m[x];if(g.sys.input){var T=g.sys.input.update(d,c);if(T&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(d){for(var c=this.pointers,m=[],x=0;x<d.changedTouches.length;x++)for(var g=d.changedTouches[x],T=1;T<this.pointersTotal;T++){var S=c[T];if(!S.active){S.touchstart(g,d),this.activePointer=S,m.push(S);break}}this.updateInputPlugins(v.TOUCH_START,m)},onTouchMove:function(d){for(var c=this.pointers,m=[],x=0;x<d.changedTouches.length;x++)for(var g=d.changedTouches[x],T=1;T<this.pointersTotal;T++){var S=c[T];if(S.active&&S.identifier===g.identifier){var E=document.elementFromPoint(g.clientX,g.clientY),P=E===this.canvas;!this.isOver&&P?this.setCanvasOver(d):this.isOver&&!P&&this.setCanvasOut(d),this.isOver&&(S.touchmove(g,d),this.activePointer=S,m.push(S));break}}this.updateInputPlugins(v.TOUCH_MOVE,m)},onTouchEnd:function(d){for(var c=this.pointers,m=[],x=0;x<d.changedTouches.length;x++)for(var g=d.changedTouches[x],T=1;T<this.pointersTotal;T++){var S=c[T];if(S.active&&S.identifier===g.identifier){S.touchend(g,d),m.push(S);break}}this.updateInputPlugins(v.TOUCH_END,m)},onTouchCancel:function(d){for(var c=this.pointers,m=[],x=0;x<d.changedTouches.length;x++)for(var g=d.changedTouches[x],T=1;T<this.pointersTotal;T++){var S=c[T];if(S.active&&S.identifier===g.identifier){S.touchcancel(g,d),m.push(S);break}}this.updateInputPlugins(v.TOUCH_CANCEL,m)},onMouseDown:function(d){var c=this.mousePointer;c.down(d),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(v.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(d){var c=this.mousePointer;c.move(d),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(v.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(d){var c=this.mousePointer;c.up(d),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(v.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(d){var c=this.mousePointer;c.wheel(d),this.activePointer=c,this.updateInputPlugins(v.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(d){var c=this.mouse.locked;this.mousePointer.locked=c,this.events.emit(r.POINTERLOCK_CHANGE,d,c)},inputCandidate:function(d,c){var m=d.input;if(!m||!m.enabled||!d.willRender(c))return!1;var x=!0,g=d.parentContainer;if(g)do{if(!g.willRender(c)){x=!1;break}g=g.parentContainer}while(g);return x},hitTest:function(d,c,m,x){x===void 0&&(x=this._tempHitTest);var g=this._tempPoint,T=m.scrollX,S=m.scrollY;x.length=0;var E=d.x,P=d.y;m.getWorldPoint(E,P,g),d.worldX=g.x,d.worldY=g.y;for(var F={x:0,y:0},R=this._tempMatrix,M=this._tempMatrix2,O=0;O<c.length;O++){var I=c[O];if(this.inputCandidate(I,m)){var V=g.x+T*I.scrollFactorX-T,X=g.y+S*I.scrollFactorY-S;I.parentContainer?(I.getWorldTransformMatrix(R,M),R.applyInverse(V,X,F)):f(V,X,I.x,I.y,I.rotation,I.scaleX,I.scaleY,F),this.pointWithinHitArea(I,F.x,F.y)&&x.push(I)}}return x},pointWithinHitArea:function(d,c,m){c+=d.displayOriginX,m+=d.displayOriginY;var x=d.input;return x&&x.hitAreaCallback(x.hitArea,c,m,d)?(x.localX=c,x.localY=m,!0):!1},pointWithinInteractiveObject:function(d,c,m){return d.hitArea?(c+=d.gameObject.displayOriginX,m+=d.gameObject.displayOriginY,d.localX=c,d.localY=m,d.hitAreaCallback(d.hitArea,c,m,d)):!1},transformPointer:function(d,c,m,x){var g=d.position,T=d.prevPosition;T.x=g.x,T.y=g.y;var S=this.scaleManager.transformX(c),E=this.scaleManager.transformY(m),P=d.smoothFactor;!x||P===0?(g.x=S,g.y=E):(g.x=S*P+T.x*(1-P),g.y=E*P+T.y*(1-P))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(s.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var d=0;d<this.pointers.length;d++)this.pointers[d].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});p.exports=u},48205:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(96503),v=t(87902),a=t(83419),r=t(93301),s=t(74457),e=t(84409),n=t(20339),h=t(8497),i=t(81154),o=t(8214),f=t(50792),u=t(95540),d=t(23777),c=t(89639),m=t(41212),x=t(37277),g=t(87841),T=t(37303),S=t(44594),E=t(16483),P=t(10690),F=new a({Extends:f,initialize:function(M){f.call(this),this.scene=M,this.systems=M.sys,this.settings=M.sys.settings,this.manager=M.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,c.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var O={cancelled:!1};this._eventContainer={stopPropagation:function(){O.cancelled=!0}},this._eventData=O,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,M.sys.events.once(S.BOOT,this.boot,this),M.sys.events.on(S.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(S.DESTROY,this.destroy,this),this.pluginEvents.emit(o.BOOT)},start:function(){var R=this.systems.events;R.on(S.TRANSITION_START,this.transitionIn,this),R.on(S.TRANSITION_OUT,this.transitionOut,this),R.on(S.TRANSITION_COMPLETE,this.transitionComplete,this),R.on(S.PRE_UPDATE,this.preUpdate,this),R.once(S.SHUTDOWN,this.shutdown,this),this.manager.events.on(o.GAME_OUT,this.onGameOut,this),this.manager.events.on(o.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(o.START)},onGameOver:function(R){this.isActive()&&this.emit(o.GAME_OVER,R.timeStamp,R)},onGameOut:function(R){this.isActive()&&this.emit(o.GAME_OUT,R.timeStamp,R)},preUpdate:function(){this.pluginEvents.emit(o.PRE_UPDATE);var R=this._pendingRemoval,M=this._pendingInsertion,O=R.length,I=M.length;if(!(O===0&&I===0)){for(var V=this._list,X=0;X<O;X++){var z=R[X],Z=V.indexOf(z);Z>-1&&(V.splice(Z,1),this.clear(z,!0))}this._pendingRemoval.length=0,this._list=V.concat(M.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(R,M){if(!this.isActive())return!1;if(this.pluginEvents.emit(o.UPDATE,R,M),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var O,I=this.manager,V=I.pointers,X=I.pointersTotal;for(O=0;O<X;O++)V[O].updateMotion();if(this._list.length===0)return!1;var z=this.pollRate;if(z===-1)return!1;if(z>0)if(this._pollTimer-=M,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var Z=!1;for(O=0;O<X;O++){var N=0,Y=V[O];this._tempZones=[],this._temp=this.hitTestPointer(Y),this.sortGameObjects(this._temp,Y),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),N+=this.processOverOutEvents(Y),this.getDragState(Y)===2&&this.processDragThresholdEvent(Y,R),N>0&&(Z=!0)}return Z},update:function(R,M){if(!this.isActive())return!1;for(var O=M.length,I=!1,V=0;V<O;V++){var X=0,z=M[V];switch(this._tempZones=[],this._temp=this.hitTestPointer(z),this.sortGameObjects(this._temp,z),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),R){case r.MOUSE_DOWN:X+=this.processDragDownEvent(z),X+=this.processDownEvents(z),X+=this.processOverOutEvents(z);break;case r.MOUSE_UP:X+=this.processDragUpEvent(z),X+=this.processUpEvents(z),X+=this.processOverOutEvents(z);break;case r.TOUCH_START:X+=this.processDragDownEvent(z),X+=this.processDownEvents(z),X+=this.processOverEvents(z);break;case r.TOUCH_END:case r.TOUCH_CANCEL:X+=this.processDragUpEvent(z),X+=this.processUpEvents(z),X+=this.processOutEvents(z);break;case r.MOUSE_MOVE:case r.TOUCH_MOVE:X+=this.processDragMoveEvent(z),X+=this.processMoveEvents(z),X+=this.processOverOutEvents(z);break;case r.MOUSE_WHEEL:X+=this.processWheelEvent(z);break}X>0&&(I=!0)}return this._updatedThisFrame=!0,I},clear:function(R,M){M===void 0&&(M=!1),this.disable(R);var O=R.input;O&&(this.removeDebug(R),this.manager.resetCursor(O),O.gameObject=void 0,O.target=void 0,O.hitArea=void 0,O.hitAreaCallback=void 0,O.callbackContext=void 0,R.input=null),M||this.queueForRemoval(R);var I=this._draggable.indexOf(R);return I>-1&&this._draggable.splice(I,1),R},disable:function(R){var M=R.input;M&&(M.enabled=!1,M.dragState=0);for(var O=this._drag,I=this._over,V=this.manager,X=0,z;X<V.pointersTotal;X++)z=O[X].indexOf(R),z>-1&&O[X].splice(z,1),z=I[X].indexOf(R),z>-1&&I[X].splice(z,1);return this},enable:function(R,M,O,I){return I===void 0&&(I=!1),R.input?R.input.enabled=!0:this.setHitArea(R,M,O),R.input&&I&&!R.input.dropZone&&(R.input.dropZone=I),this},hitTestPointer:function(R){for(var M=this.cameras.getCamerasBelowPointer(R),O=0;O<M.length;O++){for(var I=M[O],V=this.manager.hitTest(R,this._list,I),X=0;X<V.length;X++){var z=V[X];z.input.dropZone&&this._tempZones.push(z)}if(V.length>0)return R.camera=I,V}return R.camera=M[0],[]},processDownEvents:function(R){var M=0,O=this._temp,I=this._eventData,V=this._eventContainer;I.cancelled=!1;for(var X=!1,z=0;z<O.length;z++){var Z=O[z];if(!(!Z.input||!Z.input.enabled)){if(M++,Z.emit(o.GAMEOBJECT_POINTER_DOWN,R,Z.input.localX,Z.input.localY,V),I.cancelled||!Z.input||!Z.input.enabled){X=!0;break}if(this.emit(o.GAMEOBJECT_DOWN,R,Z,V),I.cancelled||!Z.input){X=!0;break}}}return!X&&this.manager&&(R.downElement===this.manager.game.canvas?this.emit(o.POINTER_DOWN,R,O):this.emit(o.POINTER_DOWN_OUTSIDE,R)),M},getDragState:function(R){return this._dragState[R.id]},setDragState:function(R,M){this._dragState[R.id]=M},processDragThresholdEvent:function(R,M){var O=!1,I=this.dragTimeThreshold,V=this.dragDistanceThreshold;if((V>0&&n(R.x,R.y,R.downX,R.downY)>=V||I>0&&M>=R.downTime+I)&&(O=!0),O)return this.setDragState(R,3),this.processDragStartList(R)},processDragStartList:function(R){if(this.getDragState(R)!==3)return 0;for(var M=this._drag[R.id],O=0;O<M.length;O++){var I=M[O],V=I.input;V.dragState=2,V.dragStartX=I.x,V.dragStartY=I.y,V.dragStartXGlobal=R.worldX,V.dragStartYGlobal=R.worldY,V.dragX=V.dragStartXGlobal-V.dragStartX,V.dragY=V.dragStartYGlobal-V.dragStartY,I.emit(o.GAMEOBJECT_DRAG_START,R,V.dragX,V.dragY),this.emit(o.DRAG_START,R,I)}return this.setDragState(R,4),M.length},processDragDownEvent:function(R){var M=this._temp;if(this._draggable.length===0||M.length===0||!R.primaryDown||this.getDragState(R)!==0)return 0;this.setDragState(R,1);for(var O=[],I=0;I<M.length;I++){var V=M[I];V.input.draggable&&V.input.dragState===0&&O.push(V)}return O.length===0?(this.setDragState(R,0),0):(O.length>1&&(this.sortGameObjects(O,R),this.topOnly&&O.splice(1)),this._drag[R.id]=O,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(R,3),this.processDragStartList(R)):(this.setDragState(R,2),0))},processDragMoveEvent:function(R){if(this.getDragState(R)===2&&this.processDragThresholdEvent(R,this.manager.game.loop.now),this.getDragState(R)!==4)return 0;for(var M=this._tempZones,O=this._drag[R.id],I=0;I<O.length;I++){var V=O[I],X=V.input,z=X.target;if(z){var Z=M.indexOf(z);Z===0?(V.emit(o.GAMEOBJECT_DRAG_OVER,R,z),this.emit(o.DRAG_OVER,R,V,z)):Z>0?(V.emit(o.GAMEOBJECT_DRAG_LEAVE,R,z),this.emit(o.DRAG_LEAVE,R,V,z),X.target=M[0],z=X.target,V.emit(o.GAMEOBJECT_DRAG_ENTER,R,z),this.emit(o.DRAG_ENTER,R,V,z)):(V.emit(o.GAMEOBJECT_DRAG_LEAVE,R,z),this.emit(o.DRAG_LEAVE,R,V,z),M[0]?(X.target=M[0],z=X.target,V.emit(o.GAMEOBJECT_DRAG_ENTER,R,z),this.emit(o.DRAG_ENTER,R,V,z)):X.target=null)}else!z&&M[0]&&(X.target=M[0],z=X.target,V.emit(o.GAMEOBJECT_DRAG_ENTER,R,z),this.emit(o.DRAG_ENTER,R,V,z));var N,Y;if(!V.parentContainer)N=R.worldX-X.dragX,Y=R.worldY-X.dragY;else{var L=R.worldX-X.dragStartXGlobal,b=R.worldY-X.dragStartYGlobal,U=V.getParentRotation(),W=L*Math.cos(U)+b*Math.sin(U),j=b*Math.cos(U)-L*Math.sin(U);W*=1/V.parentContainer.scaleX,j*=1/V.parentContainer.scaleY,N=W+X.dragStartX,Y=j+X.dragStartY}V.emit(o.GAMEOBJECT_DRAG,R,N,Y),this.emit(o.DRAG,R,V,N,Y)}return O.length},processDragUpEvent:function(R){for(var M=this._drag[R.id],O=0;O<M.length;O++){var I=M[O],V=I.input;if(V&&V.dragState===2){V.dragState=0,V.dragX=V.localX-I.displayOriginX,V.dragY=V.localY-I.displayOriginY;var X=!1,z=V.target;z&&(I.emit(o.GAMEOBJECT_DROP,R,z),this.emit(o.DROP,R,I,z),V.target=null,X=!0),I.input&&I.input.enabled&&(I.emit(o.GAMEOBJECT_DRAG_END,R,V.dragX,V.dragY,X),this.emit(o.DRAG_END,R,I,X))}}return this.setDragState(R,0),M.splice(0),0},processMoveEvents:function(R){var M=0,O=this._temp,I=this._eventData,V=this._eventContainer;I.cancelled=!1;for(var X=!1,z=0;z<O.length;z++){var Z=O[z];if(!(!Z.input||!Z.input.enabled)){if(M++,Z.emit(o.GAMEOBJECT_POINTER_MOVE,R,Z.input.localX,Z.input.localY,V),I.cancelled||!Z.input||!Z.input.enabled){X=!0;break}if(this.emit(o.GAMEOBJECT_MOVE,R,Z,V),I.cancelled||!Z.input||!Z.input.enabled){X=!0;break}if(this.topOnly)break}}return X||this.emit(o.POINTER_MOVE,R,O),M},processWheelEvent:function(R){var M=0,O=this._temp,I=this._eventData,V=this._eventContainer;I.cancelled=!1;for(var X=!1,z=R.deltaX,Z=R.deltaY,N=R.deltaZ,Y=0;Y<O.length;Y++){var L=O[Y];if(!(!L.input||!L.input.enabled)){if(M++,L.emit(o.GAMEOBJECT_POINTER_WHEEL,R,z,Z,N,V),I.cancelled||!L.input||!L.input.enabled){X=!0;break}if(this.emit(o.GAMEOBJECT_WHEEL,R,L,z,Z,N,V),I.cancelled||!L.input||!L.input.enabled){X=!0;break}}}return X||this.emit(o.POINTER_WHEEL,R,O,z,Z,N),M},processOverEvents:function(R){var M=this._temp,O=0,I=M.length,V=[];if(I>0){var X=this.manager,z=this._eventData,Z=this._eventContainer;z.cancelled=!1;for(var N=!1,Y=0;Y<I;Y++){var L=M[Y];if(!(!L.input||!L.input.enabled)){if(V.push(L),X.setCursor(L.input),L.emit(o.GAMEOBJECT_POINTER_OVER,R,L.input.localX,L.input.localY,Z),O++,z.cancelled||!L.input||!L.input.enabled){N=!0;break}if(this.emit(o.GAMEOBJECT_OVER,R,L,Z),z.cancelled||!L.input||!L.input.enabled){N=!0;break}}}N||this.emit(o.POINTER_OVER,R,V)}return this._over[R.id]=V,O},processOutEvents:function(R){var M=this._over[R.id],O=0,I=M.length;if(I>0){var V=this.manager,X=this._eventData,z=this._eventContainer;X.cancelled=!1;var Z=!1;this.sortGameObjects(M,R);for(var N=0;N<I;N++){var Y=M[N];if(Y=M[N],!(!Y.input||!Y.input.enabled)){if(V.resetCursor(Y.input),Y.emit(o.GAMEOBJECT_POINTER_OUT,R,z),O++,X.cancelled||!Y.input||!Y.input.enabled){Z=!0;break}if(this.emit(o.GAMEOBJECT_OUT,R,Y,z),X.cancelled||!Y.input||!Y.input.enabled){Z=!0;break}Z||this.emit(o.POINTER_OUT,R,M)}}this._over[R.id]=[]}return O},processOverOutEvents:function(R){var M=this._temp,O,I,V=[],X=[],z=[],Z=this._over[R.id],N=this._drag[R.id],Y=this.manager;for(O=0;O<Z.length;O++)I=Z[O],M.indexOf(I)===-1&&N.indexOf(I)===-1?V.push(I):z.push(I);for(O=0;O<M.length;O++)I=M[O],Z.indexOf(I)===-1&&X.push(I);var L=V.length,b=0,U=this._eventData,W=this._eventContainer;U.cancelled=!1;var j=!1;if(L>0){for(this.sortGameObjects(V,R),O=0;O<L;O++)if(I=V[O],!(!I.input||!I.input.enabled)){if(Y.resetCursor(I.input),I.emit(o.GAMEOBJECT_POINTER_OUT,R,W),b++,U.cancelled||!I.input||!I.input.enabled){j=!0;break}if(this.emit(o.GAMEOBJECT_OUT,R,I,W),U.cancelled||!I.input||!I.input.enabled){j=!0;break}}j||this.emit(o.POINTER_OUT,R,V)}if(L=X.length,U.cancelled=!1,j=!1,L>0){for(this.sortGameObjects(X,R),O=0;O<L;O++)if(I=X[O],!(!I.input||!I.input.enabled)){if(Y.setCursor(I.input),I.emit(o.GAMEOBJECT_POINTER_OVER,R,I.input.localX,I.input.localY,W),b++,U.cancelled||!I.input||!I.input.enabled){j=!0;break}if(this.emit(o.GAMEOBJECT_OVER,R,I,W),U.cancelled||!I.input||!I.input.enabled){j=!0;break}}j||this.emit(o.POINTER_OVER,R,X)}return Z=z.concat(X),this._over[R.id]=this.sortGameObjects(Z,R),b},processUpEvents:function(R){var M=this._temp,O=this._eventData,I=this._eventContainer;O.cancelled=!1;for(var V=!1,X=0;X<M.length;X++){var z=M[X];if(!(!z.input||!z.input.enabled)){if(z.emit(o.GAMEOBJECT_POINTER_UP,R,z.input.localX,z.input.localY,I),O.cancelled||!z.input||!z.input.enabled){V=!0;break}if(this.emit(o.GAMEOBJECT_UP,R,z,I),O.cancelled||!z.input||!z.input.enabled){V=!0;break}}}return!V&&this.manager&&(R.upElement===this.manager.game.canvas?this.emit(o.POINTER_UP,R,M):this.emit(o.POINTER_UP_OUTSIDE,R)),M.length},queueForInsertion:function(R){return this._pendingInsertion.indexOf(R)===-1&&this._list.indexOf(R)===-1&&this._pendingInsertion.push(R),this},queueForRemoval:function(R){return this._pendingRemoval.push(R),this},setDraggable:function(R,M){M===void 0&&(M=!0),Array.isArray(R)||(R=[R]);for(var O=0;O<R.length;O++){var I=R[O];I.input.draggable=M;var V=this._draggable.indexOf(I);M&&V===-1?this._draggable.push(I):!M&&V>-1&&this._draggable.splice(V,1)}return this},makePixelPerfect:function(R){R===void 0&&(R=1);var M=this.systems.textures;return e(M,R)},setHitArea:function(R,M,O){if(M===void 0)return this.setHitAreaFromTexture(R);Array.isArray(R)||(R=[R]);var I=!1,V=!1,X=!1,z=!1,Z=!1,N=!0;if(m(M)&&Object.keys(M).length){var Y=M,L=R.some(function(Q){return Q.hasOwnProperty("faces")});if(!L){M=u(Y,"hitArea",null),O=u(Y,"hitAreaCallback",null),Z=u(Y,"pixelPerfect",!1);var b=u(Y,"alphaTolerance",1);Z&&(M={},O=this.makePixelPerfect(b))}I=u(Y,"draggable",!1),V=u(Y,"dropZone",!1),X=u(Y,"cursor",!1),z=u(Y,"useHandCursor",!1),(!M||!O)&&(this.setHitAreaFromTexture(R),N=!1)}else typeof M=="function"&&!O&&(O=M,M={});for(var U=0;U<R.length;U++){var W=R[U];if(Z&&W.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var j=W.input?W.input:s(W,M,O);j.customHitArea=N,j.dropZone=V,j.cursor=z?"pointer":X,W.input=j,I&&this.setDraggable(W),this.queueForInsertion(W)}return this},setHitAreaCircle:function(R,M,O,I,V){V===void 0&&(V=v);var X=new l(M,O,I);return this.setHitArea(R,X,V)},setHitAreaEllipse:function(R,M,O,I,V,X){X===void 0&&(X=i);var z=new h(M,O,I,V);return this.setHitArea(R,z,X)},setHitAreaFromTexture:function(R,M){M===void 0&&(M=T),Array.isArray(R)||(R=[R]);for(var O=0;O<R.length;O++){var I=R[O],V=I.frame,X=0,z=0;if(I.width?(X=I.width,z=I.height):V&&(X=V.realWidth,z=V.realHeight),I.type==="Container"&&(X===0||z===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}X!==0&&z!==0&&(I.input=s(I,new g(0,0,X,z),M),this.queueForInsertion(I))}return this},setHitAreaRectangle:function(R,M,O,I,V,X){X===void 0&&(X=T);var z=new g(M,O,I,V);return this.setHitArea(R,z,X)},setHitAreaTriangle:function(R,M,O,I,V,X,z,Z){Z===void 0&&(Z=P);var N=new E(M,O,I,V,X,z);return this.setHitArea(R,N,Z)},enableDebug:function(R,M){M===void 0&&(M=65280);var O=R.input;if(!O||!O.hitArea)return this;var I=O.hitArea,V=I.type,X=O.hitAreaDebug,z=this.systems.add,Z=this.systems.updateList;X&&(Z.remove(X),X.destroy(),X=null);var N=0,Y=0;switch(V){case d.CIRCLE:X=z.arc(0,0,I.radius),N=I.x-I.radius,Y=I.y-I.radius;break;case d.ELLIPSE:X=z.ellipse(0,0,I.width,I.height),N=I.x-I.width/2,Y=I.y-I.height/2;break;case d.LINE:X=z.line(0,0,I.x1,I.y1,I.x2,I.y2);break;case d.POLYGON:X=z.polygon(0,0,I.points);break;case d.RECTANGLE:X=z.rectangle(0,0,I.width,I.height),N=I.x,Y=I.y;break;case d.TRIANGLE:X=z.triangle(0,0,I.x1,I.y1,I.x2,I.y2,I.x3,I.y3);break}return X&&(X.isFilled=!1,X.strokeColor=M,X.preUpdate=function(){X.setVisible(R.visible),X.setStrokeStyle(1/R.scale,X.strokeColor),X.setDisplayOrigin(R.displayOriginX,R.displayOriginY);var L=R.x,b=R.y,U=R.rotation,W=R.scaleX,j=R.scaleY;if(R.parentContainer){var Q=R.getWorldTransformMatrix();L=Q.tx,b=Q.ty,U=Q.rotation,W=Q.scaleX,j=Q.scaleY}X.setRotation(U),X.setScale(W,j),X.setPosition(L+N*W,b+Y*j),X.setScrollFactor(R.scrollFactorX,R.scrollFactorY),X.setDepth(R.depth)},Z.add(X),O.hitAreaDebug=X),this},removeDebug:function(R){var M=R.input;if(M&&M.hitAreaDebug){var O=M.hitAreaDebug;O.destroy(),M.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(R){return this.pollRate=R,this._pollTimer=0,this},setGlobalTopOnly:function(R){return this.manager.globalTopOnly=R,this},setTopOnly:function(R){return this.topOnly=R,this},sortGameObjects:function(R,M){if(R.length<2||!M.camera)return R;var O=M.camera.renderList;return R.sort(function(I,V){var X=Math.max(O.indexOf(I),0),z=Math.max(O.indexOf(V),0);return z-X})},sortDropZones:function(R){return R.length<2?R:(this.scene.sys.depthSort(),R.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(R,M){if(!R.parentContainer&&!M.parentContainer)return this.displayList.getIndex(M)-this.displayList.getIndex(R);if(R.parentContainer===M.parentContainer)return M.parentContainer.getIndex(M)-R.parentContainer.getIndex(R);if(R.parentContainer===M)return-1;if(M.parentContainer===R)return 1;for(var O=R.getIndexList(),I=M.getIndexList(),V=Math.min(O.length,I.length),X=0;X<V;X++){var z=O[X],Z=I[X];if(z!==Z)return Z-z}return I.length-O.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(R){return this.manager.addPointer(R)},setDefaultCursor:function(R){return this.manager.setDefaultCursor(R),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(o.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var R=0;R<10;R++)this._drag[R]=[],this._over[R]=[];this.removeAllListeners();var M=this.manager;M.canvas.style.cursor=M.defaultCursor;var O=this.systems.events;O.off(S.TRANSITION_START,this.transitionIn,this),O.off(S.TRANSITION_OUT,this.transitionOut,this),O.off(S.TRANSITION_COMPLETE,this.transitionComplete,this),O.off(S.PRE_UPDATE,this.preUpdate,this),M.events.off(o.GAME_OUT,this.onGameOut,this),M.events.off(o.GAME_OVER,this.onGameOver,this),O.off(S.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var R=this.manager.pointers,M=0;M<R.length;M++)R[M].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(o.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(S.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});x.register("InputPlugin",F,"input"),p.exports=F},89639:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35154),v={},a={};a.register=function(r,s,e,n,h){v[r]={plugin:s,mapping:e,settingsKey:n,configKey:h}},a.getPlugin=function(r){return v[r]},a.install=function(r){var s=r.scene.sys,e=s.settings.input,n=s.game.config;for(var h in v){var i=v[h].plugin,o=v[h].mapping,f=v[h].settingsKey,u=v[h].configKey;l(e,f,n[u])&&(r[o]=new i(r))}},a.remove=function(r){v.hasOwnProperty(r)&&delete v[r]},p.exports=a},42515:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(31040),v=t(83419),a=t(20339),r=t(43855),s=t(47235),e=t(26099),n=t(25892),h=new v({initialize:function(o,f){this.manager=o,this.id=f,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=f===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(i){var o=i.getWorldPoint(this.x,this.y);return this.worldX=o.x,this.worldY=o.y,this},positionToCamera:function(i,o){return i.getWorldPoint(this.x,this.y,o)},updateMotion:function(){var i=this.position.x,o=this.position.y,f=this.midPoint.x,u=this.midPoint.y;if(!(i===f&&o===u)){var d=s(this.motionFactor,f,i),c=s(this.motionFactor,u,o);r(d,i,.1)&&(d=i),r(c,o,.1)&&(c=o),this.midPoint.set(d,c);var m=i-d,x=o-c;this.velocity.set(m,x),this.angle=l(d,c,i,o),this.distance=Math.sqrt(m*m+x*x)}},up:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=i.timeStamp,this.wasTouch=!1)},down:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),n.macOS&&i.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=i.timeStamp),this.wasTouch=!1},move:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.locked&&(this.movementX=i.movementX||i.mozMovementX||i.webkitMovementX||0,this.movementY=i.movementY||i.mozMovementY||i.webkitMovementY||0),this.moveTime=i.timeStamp,this.wasTouch=!1},wheel:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.deltaX=i.deltaX,this.deltaY=i.deltaY,this.deltaZ=i.deltaZ,this.wasTouch=!1},touchstart:function(i,o){i.pointerId&&(this.pointerId=i.pointerId),this.identifier=i.identifier,this.target=i.target,this.active=!0,this.buttons=1,this.event=o,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=o.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(i,o){this.event=o,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.moveTime=o.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(i,o){this.buttons=0,this.event=o,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=o.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(i,o){this.buttons=0,this.event=o,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=o.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?l(this.downX,this.downY,this.x,this.y):l(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(i,o){i===void 0&&(i=10),o===void 0&&(o=[]);for(var f=this.prevPosition.x,u=this.prevPosition.y,d=this.position.x,c=this.position.y,m=0;m<i;m++){var x=1/i*m;o[m]={x:s(x,f,d),y:s(x,u,c)}}return o},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(i){this.position.x=i}},y:{get:function(){return this.position.y},set:function(i){this.position.y=i}},time:{get:function(){return this.event?this.event.timeStamp:0}}});p.exports=h},93301:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};p.exports=y},7179:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},85375:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},39843:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},23388:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},16133:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},27829:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},53904:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},56058:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},2642:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},88171:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectdown"},36147:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},71692:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},96149:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},81285:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},74048:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},21322:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},49378:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},86754:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectmove"},86433:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectout"},60709:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectover"},24081:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},11172:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},18907:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},95579:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},35368:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},26972:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},47078:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectup"},73802:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectwheel"},56718:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameout"},25936:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameover"},27503:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},50852:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="process"},96438:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},59152:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerlockchange"},47777:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},27957:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdownoutside"},19444:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},54251:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},18667:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},27192:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},24652:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerupoutside"},45132:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},44512:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},15757:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},41637:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},93802:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},8214:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,s){this.pad=r,this.events=r.events,this.index=s,this.value=0,this.threshold=.1},update:function(a){this.value=a},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});p.exports=v},28884:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(92734),a=new l({initialize:function(s,e){this.pad=s,this.events=s.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(r){this.value=r;var s=this.pad,e=this.index;r>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(v.BUTTON_DOWN,s,this,r),this.pad.emit(v.GAMEPAD_BUTTON_DOWN,e,r,this)):this.pressed&&(this.pressed=!1,this.events.emit(v.BUTTON_UP,s,this,r),this.pad.emit(v.GAMEPAD_BUTTON_UP,e,r,this))},destroy:function(){this.pad=null,this.events=null}});p.exports=a},99125:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97421),v=t(28884),a=t(83419),r=t(50792),s=t(26099),e=new a({Extends:r,initialize:function(h,i){r.call(this),this.manager=h,this.pad=i,this.id=i.id,this.index=i.index;for(var o=[],f=0;f<i.buttons.length;f++)o.push(new v(this,f));this.buttons=o;var u=[];for(f=0;f<i.axes.length;f++)u.push(new l(this,f));this.axes=u,this.vibration=i.vibrationActuator;var d={value:0,pressed:!1};this._LCLeft=o[14]?o[14]:d,this._LCRight=o[15]?o[15]:d,this._LCTop=o[12]?o[12]:d,this._LCBottom=o[13]?o[13]:d,this._RCLeft=o[2]?o[2]:d,this._RCRight=o[1]?o[1]:d,this._RCTop=o[3]?o[3]:d,this._RCBottom=o[0]?o[0]:d,this._FBLeftTop=o[4]?o[4]:d,this._FBLeftBottom=o[6]?o[6]:d,this._FBRightTop=o[5]?o[5]:d,this._FBRightBottom=o[7]?o[7]:d;var c={value:0};this._HAxisLeft=u[0]?u[0]:c,this._VAxisLeft=u[1]?u[1]:c,this._HAxisRight=u[2]?u[2]:c,this._VAxisRight=u[3]?u[3]:c,this.leftStick=new s,this.rightStick=new s,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(n){return this.axes[n].getValue()},setAxisThreshold:function(n){for(var h=0;h<this.axes.length;h++)this.axes[h].threshold=n},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(n){return this.buttons[n].value},isButtonDown:function(n){return this.buttons[n].pressed},update:function(n){if(!(n.timestamp<this._created)){var h,i=this.buttons,o=n.buttons,f=i.length;for(h=0;h<f;h++)i[h].update(o[h].value);var u=this.axes,d=n.axes;for(f=u.length,h=0;h<f;h++)u[h].update(d[h]);f>=2&&(this.leftStick.set(u[0].getValue(),u[1].getValue()),f>=4&&this.rightStick.set(u[2].getValue(),u[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var n;for(n=0;n<this.buttons.length;n++)this.buttons[n].destroy();for(n=0;n<this.axes.length;n++)this.axes[n].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});p.exports=e},56654:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(50792),a=t(92734),r=t(99125),s=t(35154),e=t(89639),n=t(8214),h=new l({Extends:v,initialize:function(o){v.call(this),this.scene=o.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=o,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,o.pluginEvents.once(n.BOOT,this.boot,this),o.pluginEvents.on(n.START,this.start,this)},boot:function(){var i=this.scene.sys.game,o=this.settings.input,f=i.config;this.enabled=s(o,"gamepad",f.inputGamepad)&&i.device.input.gamepads,this.target=s(o,"gamepad.target",f.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var i=this,o=this.target,f=function(u){u.defaultPrevented||!i.isActive()||(i.refreshPads(),i.queue.push(u))};this.onGamepadHandler=f,o.addEventListener("gamepadconnected",f,!1),o.addEventListener("gamepaddisconnected",f,!1),this.sceneInputPlugin.pluginEvents.on(n.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(n.UPDATE,this.update);for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].removeAllListeners()},disconnectAll:function(){for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].pad.connected=!1},refreshPads:function(){var i=navigator.getGamepads();if(!i)this.disconnectAll();else for(var o=this.gamepads,f=0;f<i.length;f++){var u=i[f];if(u){var d=u.id,c=u.index,m=o[c];if(m)m.id!==d?(m.destroy(),o[c]=new r(this,u)):m.update(u);else{var x=new r(this,u);o[c]=x,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=x):this._pad3=x:this._pad2=x:this._pad1=x}}}},getAll:function(){for(var i=[],o=this.gamepads,f=0;f<o.length;f++)o[f]&&i.push(o[f]);return i},getPad:function(i){for(var o=this.gamepads,f=0;f<o.length;f++)if(o[f]&&o[f].index===i)return o[f]},update:function(){if(this.enabled){this.refreshPads();var i=this.queue.length;if(i!==0)for(var o=this.queue.splice(0,i),f=0;f<i;f++){var u=o[f],d=this.getPad(u.gamepad.index);u.type==="gamepadconnected"?this.emit(a.CONNECTED,d,u):u.type==="gamepaddisconnected"&&this.emit(a.DISCONNECTED,d,u)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var i=0;i<this.gamepads.length;i++)this.gamepads[i]&&this.gamepads[i].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",h,"gamepad","gamepad","inputGamepad"),p.exports=h},89651:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},7629:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},42206:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="connected"},86544:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="disconnected"},94784:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},14325:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},92734:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93301),v=t(79291),a={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};a=v(!1,a,l),p.exports=a},78970:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72905),v=t(83419),a=t(8443),r=t(8214),s=t(46032),e=t(29747),n=new v({initialize:function(i){this.manager=i,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,i.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputKeyboard,this.target=h.inputKeyboardEventTarget,this.addCapture(h.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(a.POST_STEP,this.postUpdate,this)},startListeners:function(){var h=this;this.onKeyDown=function(o){if(!(o.defaultPrevented||!h.enabled||!h.manager)){h.queue.push(o),h.manager.events.emit(r.MANAGER_PROCESS);var f=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;h.preventDefault&&!f&&h.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}},this.onKeyUp=function(o){if(!(o.defaultPrevented||!h.enabled||!h.manager)){h.queue.push(o),h.manager.events.emit(r.MANAGER_PROCESS);var f=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;h.preventDefault&&!f&&h.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}};var i=this.target;i&&(i.addEventListener("keydown",this.onKeyDown,!1),i.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var h=this.target;h.removeEventListener("keydown",this.onKeyDown,!1),h.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(h){typeof h=="string"&&(h=h.split(",")),Array.isArray(h)||(h=[h]);for(var i=this.captures,o=0;o<h.length;o++){var f=h[o];typeof f=="string"&&(f=s[f.trim().toUpperCase()]),i.indexOf(f)===-1&&i.push(f)}this.preventDefault=i.length>0},removeCapture:function(h){typeof h=="string"&&(h=h.split(",")),Array.isArray(h)||(h=[h]);for(var i=this.captures,o=0;o<h.length;o++){var f=h[o];typeof f=="string"&&(f=s[f.toUpperCase()]),l(i,f)}this.preventDefault=i.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(a.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});p.exports=n},28846:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(50792),a=t(95922),r=t(8443),s=t(35154),e=t(8214),n=t(89639),h=t(30472),i=t(46032),o=t(87960),f=t(74600),u=t(44594),d=t(56583),c=new l({Extends:v,initialize:function(x){v.call(this),this.game=x.systems.game,this.scene=x.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=x,this.manager=x.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,x.pluginEvents.once(e.BOOT,this.boot,this),x.pluginEvents.on(e.START,this.start,this)},boot:function(){var m=this.settings.input;this.enabled=s(m,"keyboard",!0);var x=s(m,"keyboard.capture",null);x&&this.addCaptures(x),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(r.BLUR,this.resetKeys,this),this.scene.sys.events.on(u.PAUSE,this.resetKeys,this),this.scene.sys.events.on(u.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(m){return this.manager.addCapture(m),this},removeCapture:function(m){return this.manager.removeCapture(m),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:i.UP,down:i.DOWN,left:i.LEFT,right:i.RIGHT,space:i.SPACE,shift:i.SHIFT})},addKeys:function(m,x,g){x===void 0&&(x=!0),g===void 0&&(g=!1);var T={};if(typeof m=="string"){m=m.split(",");for(var S=0;S<m.length;S++){var E=m[S].trim();E&&(T[E]=this.addKey(E,x,g))}}else for(var P in m)T[P]=this.addKey(m[P],x,g);return T},addKey:function(m,x,g){x===void 0&&(x=!0),g===void 0&&(g=!1);var T=this.keys;if(m instanceof h){var S=T.indexOf(m);return S>-1?T[S]=m:T[m.keyCode]=m,x&&this.addCapture(m.keyCode),m.setEmitOnRepeat(g),m}return typeof m=="string"&&(m=i[m.toUpperCase()]),T[m]||(T[m]=new h(this,m),x&&this.addCapture(m),T[m].setEmitOnRepeat(g)),T[m]},removeKey:function(m,x,g){x===void 0&&(x=!1),g===void 0&&(g=!1);var T=this.keys,S;if(m instanceof h){var E=T.indexOf(m);E>-1&&(S=this.keys[E],this.keys[E]=void 0)}else typeof m=="string"&&(m=i[m.toUpperCase()]);return T[m]&&(S=T[m],T[m]=void 0),S&&(S.plugin=null,g&&this.removeCapture(S.keyCode),x&&S.destroy()),this},removeAllKeys:function(m,x){m===void 0&&(m=!1),x===void 0&&(x=!1);for(var g=this.keys,T=0;T<g.length;T++){var S=g[T];S&&(g[T]=void 0,x&&this.removeCapture(S.keyCode),m&&S.destroy())}return this},createCombo:function(m,x){return new o(this,m,x)},checkDown:function(m,x){if(x===void 0&&(x=0),this.enabled&&m.isDown){var g=d(this.time-m.timeDown,x);if(g>m._tick)return m._tick=g,!0}return!1},update:function(){var m=this.manager.queue,x=m.length;if(!(!this.isActive()||x===0))for(var g=this.keys,T=0;T<x;T++){var S=m[T],E=S.keyCode,P=g[E],F=!1;S.cancelled===void 0&&(S.cancelled=0,S.stopImmediatePropagation=function(){S.cancelled=1},S.stopPropagation=function(){S.cancelled=-1}),S.cancelled!==-1&&(E===this.prevCode&&S.timeStamp===this.prevTime&&S.type===this.prevType||(this.prevCode=E,this.prevTime=S.timeStamp,this.prevType=S.type,S.type==="keydown"?(P&&(F=P.isDown,P.onDown(S)),!S.cancelled&&(!P||!F)&&(f[E]&&this.emit(a.KEY_DOWN+f[E],S),S.cancelled||this.emit(a.ANY_KEY_DOWN,S))):(P&&P.onUp(S),S.cancelled||(f[E]&&this.emit(a.KEY_UP+f[E],S),S.cancelled||this.emit(a.ANY_KEY_UP,S))),S.cancelled===1&&(S.cancelled=0)))}},resetKeys:function(){for(var m=this.keys,x=0;x<m.length;x++)m[x]&&m[x].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(r.BLUR,this.resetKeys),this.scene.sys.events.off(u.PAUSE,this.resetKeys,this),this.scene.sys.events.off(u.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var m=this.keys,x=0;x<m.length;x++)m[x]&&m[x].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});n.register("KeyboardPlugin",c,"keyboard","keyboard","inputKeyboard"),p.exports=c},66970:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return l.timeLastMatched=t.timeStamp,l.index++,l.index===l.size?!0:(l.current=l.keyCodes[l.index],!1)};p.exports=y},87960:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95922),a=t(95540),r=t(68769),s=t(92803),e=new l({initialize:function(h,i,o){if(o===void 0&&(o={}),i.length<2)return!1;this.manager=h,this.enabled=!0,this.keyCodes=[];for(var f=0;f<i.length;f++){var u=i[f];typeof u=="string"?this.keyCodes.push(u.toUpperCase().charCodeAt(0)):typeof u=="number"?this.keyCodes.push(u):u.hasOwnProperty("keyCode")&&this.keyCodes.push(u.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=a(o,"resetOnWrongKey",!0),this.maxKeyDelay=a(o,"maxKeyDelay",0),this.resetOnMatch=a(o,"resetOnMatch",!1),this.deleteOnMatch=a(o,"deleteOnMatch",!1);var d=this,c=function(m){if(!(d.matched||!d.enabled)){var x=r(m,d);x&&(d.manager.emit(v.COMBO_MATCH,d,m),d.resetOnMatch?s(d):d.deleteOnMatch&&d.destroy())}};this.onKeyDown=c,this.manager.on(v.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(v.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});p.exports=e},68769:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66970),v=function(a,r){if(r.matched)return!0;var s=!1,e=!1;if(a.keyCode===r.current)if(r.index>0&&r.maxKeyDelay>0){var n=r.timeLastMatched+r.maxKeyDelay;a.timeStamp<=n&&(e=!0,s=l(a,r))}else e=!0,s=l(a,r);return!e&&r.resetOnWrongKey&&(r.index=0,r.current=r.keyCodes[0]),s&&(r.timeLastMatched=a.timeStamp,r.matched=!0,r.timeMatched=a.timeStamp),s};p.exports=v},92803:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};p.exports=y},92612:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown"},23345:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup"},21957:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keycombomatch"},44743:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},3771:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown-"},46358:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup-"},75674:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},95922:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){l===void 0&&(l=50);var v=t.plugin.game.loop.time-t.timeDown;return t.isDown&&v<l};p.exports=y},90229:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t._justDown?(t._justDown=!1,!0):!1};p.exports=y},38796:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t._justUp?(t._justUp=!1,!0):!1};p.exports=y},30472:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(50792),a=t(95922),r=new l({Extends:v,initialize:function(e,n){v.call(this),this.plugin=e,this.keyCode=n,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(s){return this.emitOnRepeat=s,this},onDown:function(s){this.originalEvent=s,this.enabled&&(this.altKey=s.altKey,this.ctrlKey=s.ctrlKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.location=s.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(a.DOWN,this,s):(this.isDown=!0,this.isUp=!1,this.timeDown=s.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(a.DOWN,this,s)))},onUp:function(s){this.originalEvent=s,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=s.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(a.UP,this,s))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});p.exports=r},46032:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};p.exports=y},74600:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(46032),v={};for(var a in l)v[l[a]]=a;p.exports=v},41170:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){l===void 0&&(l=50);var v=t.plugin.game.loop.time-t.timeUp;return t.isUp&&v<l};p.exports=y},85098:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(89357),a=t(8214),r=t(29747),s=new l({initialize:function(n){this.manager=n,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=r,this.onMouseDown=r,this.onMouseUp=r,this.onMouseDownWindow=r,this.onMouseUpWindow=r,this.onMouseOver=r,this.onMouseOut=r,this.onMouseWheel=r,this.pointerLockChange=r,this.isTop=!0,n.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(v.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){v.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var n=this,h=this.manager,i=h.canvas,o=window&&window.focus&&h.game.config.autoFocus;this.onMouseMove=function(u){!u.defaultPrevented&&n.enabled&&h&&h.enabled&&(h.onMouseMove(u),n.preventDefaultMove&&u.preventDefault())},this.onMouseDown=function(u){o&&window.focus(),!u.defaultPrevented&&n.enabled&&h&&h.enabled&&(h.onMouseDown(u),n.preventDefaultDown&&u.target===i&&u.preventDefault())},this.onMouseDownWindow=function(u){u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents||!u.defaultPrevented&&n.enabled&&h&&h.enabled&&u.target!==i&&h.onMouseDown(u)},this.onMouseUp=function(u){!u.defaultPrevented&&n.enabled&&h&&h.enabled&&(h.onMouseUp(u),n.preventDefaultUp&&u.target===i&&u.preventDefault())},this.onMouseUpWindow=function(u){u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents||!u.defaultPrevented&&n.enabled&&h&&h.enabled&&u.target!==i&&h.onMouseUp(u)},this.onMouseOver=function(u){!u.defaultPrevented&&n.enabled&&h&&h.enabled&&h.setCanvasOver(u)},this.onMouseOut=function(u){!u.defaultPrevented&&n.enabled&&h&&h.enabled&&h.setCanvasOut(u)},this.onMouseWheel=function(u){!u.defaultPrevented&&n.enabled&&h&&h.enabled&&h.onMouseWheel(u),n.preventDefaultWheel&&u.target===i&&u.preventDefault()};var f={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,f),e.addEventListener("mouseout",this.onMouseOut,f),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,f),window&&h.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,f),window.top.addEventListener("mouseup",this.onMouseUpWindow,f)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,f),window.addEventListener("mouseup",this.onMouseUpWindow,f),this.isTop=!1}v.pointerLock&&(this.pointerLockChange=function(u){var d=n.target;n.locked=document.pointerLockElement===d||document.mozPointerLockElement===d||document.webkitPointerLockElement===d,h.onPointerLockChange(u)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),v.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=s},87078:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={MouseManager:t(85098)}},36210:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(8214),a=t(29747),r=new l({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=a,this.onTouchStartWindow=a,this.onTouchMove=a,this.onTouchEnd=a,this.onTouchEndWindow=a,this.onTouchCancel=a,this.onTouchCancelWindow=a,this.isTop=!0,e.events.once(v.MANAGER_BOOT,this.boot,this)},boot:function(){var s=this.manager.config;this.enabled=s.inputTouch,this.target=s.inputTouchEventTarget,this.capture=s.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,s.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(s){return s.preventDefault(),!1}),this},startListeners:function(){var s=this.target;if(s){var e=this,n=this.manager,h=n.canvas,i=window&&window.focus&&n.game.config.autoFocus;this.onTouchMove=function(d){!d.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchMove(d),e.capture&&d.cancelable&&d.preventDefault())},this.onTouchStart=function(d){i&&window.focus(),!d.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchStart(d),e.capture&&d.cancelable&&d.target===h&&d.preventDefault())},this.onTouchStartWindow=function(d){!d.defaultPrevented&&e.enabled&&n&&n.enabled&&d.target!==h&&n.onTouchStart(d)},this.onTouchEnd=function(d){!d.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchEnd(d),e.capture&&d.cancelable&&d.target===h&&d.preventDefault())},this.onTouchEndWindow=function(d){!d.defaultPrevented&&e.enabled&&n&&n.enabled&&d.target!==h&&n.onTouchEnd(d)},this.onTouchCancel=function(d){!d.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchCancel(d),e.capture&&d.preventDefault())},this.onTouchCancelWindow=function(d){!d.defaultPrevented&&e.enabled&&n&&n.enabled&&n.onTouchCancel(d)};var o=this.capture,f={passive:!0},u={passive:!1};if(s.addEventListener("touchstart",this.onTouchStart,o?u:f),s.addEventListener("touchmove",this.onTouchMove,o?u:f),s.addEventListener("touchend",this.onTouchEnd,o?u:f),s.addEventListener("touchcancel",this.onTouchCancel,o?u:f),window&&n.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,u),window.top.addEventListener("touchend",this.onTouchEndWindow,u),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,u)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,u),window.addEventListener("touchend",this.onTouchEndWindow,u),window.addEventListener("touchcancel",this.onTouchCancelWindow,u),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var s=this.target;s.removeEventListener("touchstart",this.onTouchStart),s.removeEventListener("touchmove",this.onTouchMove),s.removeEventListener("touchend",this.onTouchEnd),s.removeEventListener("touchcancel",this.onTouchCancel),window&&(s=this.isTop?window.top:window,s.removeEventListener("touchstart",this.onTouchStartWindow),s.removeEventListener("touchend",this.onTouchEndWindow),s.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=r},95618:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TouchManager:t(36210)}},41299:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(54899),r=t(95540),s=t(98356),e=t(3374),n=t(84376),h=t(92638),i=new l({initialize:function(f,u){if(this.loader=f,this.cache=r(u,"cache",!1),this.type=r(u,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=r(u,"key",!1);var d=this.key;if(f.prefix&&f.prefix!==""&&(this.key=f.prefix+d),!this.key)throw new Error("Invalid File key: "+this.key);var c=r(u,"url");c===void 0?c=f.path+d+"."+r(u,"extension",""):typeof c=="string"&&!c.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(c=f.path+c),this.url=c,this.src="",this.xhrSettings=h(r(u,"responseType",void 0)),r(u,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,r(u,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?v.FILE_POPULATED:v.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=r(u,"config",{}),this.multiFile,this.linkFile,this.base64=typeof c=="string"&&c.indexOf("data:")===0},setLink:function(o){this.linkFile=o,o.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===v.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=v.FILE_LOADING,this.src=s(this,this.loader.baseURL),this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=n(this,this.loader.xhr))},onLoad:function(o,f){var u=o.responseURL&&this.loader.localSchemes.some(function(m){return o.responseURL.indexOf(m)===0}),d=u&&f.target.status===0,c=!(f.target&&f.target.status!==200)||d;o.readyState===4&&o.status>=400&&o.status<=599&&(c=!1),this.state=v.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,c)},onBase64Load:function(o){this.xhrLoader=o,this.state=v.FILE_LOADED,this.percentComplete=1,this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(o){o.lengthComputable&&(this.bytesLoaded=o.loaded,this.bytesTotal=o.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=v.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=v.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=v.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(o){if(this.state!==v.FILE_PENDING_DESTROY){o===void 0&&(o=this.data);var f=this.key,u=this.type;this.loader.emit(a.FILE_COMPLETE,f,u,o),this.loader.emit(a.FILE_KEY_COMPLETE+u+"-"+f,f,u,o),this.loader.flagForRemoval(this),this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});i.createObjectURL=function(o,f,u){if(typeof URL=="function")o.src=URL.createObjectURL(f);else{var d=new FileReader;d.onload=function(){o.removeAttribute("crossOrigin"),o.src="data:"+(f.type||u)+";base64,"+d.result.split(",")[1]},d.onerror=o.onerror,d.readAsDataURL(f)}},i.revokeObjectURL=function(o){typeof URL=="function"&&URL.revokeObjectURL(o.src)},p.exports=i},74099:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={},t={install:function(l){for(var v in y)l[v]=y[v]},register:function(l,v){y[l]=v},destroy:function(){y={}}};p.exports=t},98356:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:l+t.url:!1};p.exports=y},74261:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(35072),r=t(50792),s=t(54899),e=t(74099),n=t(95540),h=t(35154),i=t(37277),o=t(44594),f=t(92638),u=new l({Extends:r,initialize:function(c){r.call(this);var m=c.sys.game.config,x=c.sys.settings.loader;this.scene=c,this.systems=c.sys,this.cacheManager=c.sys.cache,this.textureManager=c.sys.textures,this.sceneManager=c.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(n(x,"baseURL",m.loaderBaseURL)),this.setPath(n(x,"path",m.loaderPath)),this.setPrefix(n(x,"prefix",m.loaderPrefix)),this.maxParallelDownloads=n(x,"maxParallelDownloads",m.loaderMaxParallelDownloads),this.xhr=f(n(x,"responseType",m.loaderResponseType),n(x,"async",m.loaderAsync),n(x,"user",m.loaderUser),n(x,"password",m.loaderPassword),n(x,"timeout",m.loaderTimeout),n(x,"withCredentials",m.loaderWithCredentials)),this.crossOrigin=n(x,"crossOrigin",m.loaderCrossOrigin),this.imageLoadType=n(x,"imageLoadType",m.loaderImageLoadType),this.localSchemes=n(x,"localScheme",m.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new a,this.inflight=new a,this.queue=new a,this._deleteQueue=new a,this.totalFailed=0,this.totalComplete=0,this.state=v.LOADER_IDLE,this.multiKeyIndex=0,c.sys.events.once(o.BOOT,this.boot,this),c.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},setBaseURL:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.baseURL=d,this},setPath:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.path=d,this},setPrefix:function(d){return d===void 0&&(d=""),this.prefix=d,this},setCORS:function(d){return this.crossOrigin=d,this},addFile:function(d){Array.isArray(d)||(d=[d]);for(var c=0;c<d.length;c++){var m=d[c];this.keyExists(m)||(this.list.set(m),this.emit(s.ADD,m.key,m.type,this,m),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(d){var c=d.hasCacheConflict();return c||this.list.iterate(function(m){if(m.type===d.type&&m.key===d.key)return c=!0,!1}),!c&&this.isLoading()&&(this.inflight.iterate(function(m){if(m.type===d.type&&m.key===d.key)return c=!0,!1}),this.queue.iterate(function(m){if(m.type===d.type&&m.key===d.key)return c=!0,!1})),c},addPack:function(d,c){if(typeof c=="string"){var m=h(d,c);m&&(d={packKey:m})}var x=0,g=this.baseURL,T=this.path,S=this.prefix;for(var E in d)if(Object.prototype.hasOwnProperty.call(d,E)){var P=d[E],F=n(P,"baseURL",g),R=n(P,"path",T),M=n(P,"prefix",S),O=n(P,"files",null),I=n(P,"defaultType","void");if(Array.isArray(O)){this.setBaseURL(F),this.setPath(R),this.setPrefix(M);for(var V=0;V<O.length;V++){var X=O[V],z=X.hasOwnProperty("type")?X.type:I;this[z]&&(this[z](X),x++)}}}return this.setBaseURL(g),this.setPath(T),this.setPrefix(S),x>0},isLoading:function(){return this.state===v.LOADER_LOADING||this.state===v.LOADER_PROCESSING},isReady:function(){return this.state===v.LOADER_IDLE||this.state===v.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(s.START,this),this.list.size===0?this.loadComplete():(this.state=v.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(o.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(s.PROGRESS,this.progress)},update:function(){this.state===v.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(d){if((d.state===v.FILE_POPULATED||d.state===v.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(d),this.list.delete(d),d.crossOrigin||(d.crossOrigin=this.crossOrigin),d.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(d,c){this.inflight&&(this.inflight.delete(d),this.updateProgress(),c?(this.totalComplete++,this.queue.set(d),this.emit(s.FILE_LOAD,d),d.onProcess()):(this.totalFailed++,this._deleteQueue.set(d),this.emit(s.FILE_LOAD_ERROR,d),this.fileProcessComplete(d)))},fileProcessComplete:function(d){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(d.state===v.FILE_ERRORED?d.multiFile&&d.multiFile.onFileFailed(d):d.state===v.FILE_COMPLETE&&(d.multiFile?d.multiFile.isReadyToProcess()&&(d.multiFile.addToCache(),d.multiFile.pendingDestroy()):(d.addToCache(),d.pendingDestroy())),this.queue.delete(d),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(s.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=v.LOADER_COMPLETE,this.systems.events.off(o.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(s.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(d){this._deleteQueue.set(d)},saveJSON:function(d,c){return this.save(JSON.stringify(d),c)},save:function(d,c,m){c===void 0&&(c="file.json"),m===void 0&&(m="application/json");var x=new Blob([d],{type:m}),g=URL.createObjectURL(x),T=document.createElement("a");return T.download=c,T.textContent="Download "+c,T.href=g,T.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var d=this.systems.game.config,c=this.systems.settings.loader;this.setBaseURL(n(c,"baseURL",d.loaderBaseURL)),this.setPath(n(c,"path",d.loaderPath)),this.setPrefix(n(c,"prefix",d.loaderPrefix)),this.state=v.LOADER_IDLE},shutdown:function(){this.reset(),this.state=v.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=v.LOADER_DESTROYED,this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});i.register("Loader",u,"load"),p.exports=u},3374:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79291),v=t(92638),a=function(r,s){var e=r===void 0?v():l({},r);if(s)for(var n in s)s[n]!==void 0&&(e[n]=s[n]);return e};p.exports=a},26430:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(54899),r=new l({initialize:function(e,n,h,i){var o=[];i.forEach(function(d){d&&o.push(d)}),this.loader=e,this.type=n,this.key=h;var f=this.key;e.prefix&&e.prefix!==""&&(this.key=e.prefix+f),this.multiKeyIndex=e.multiKeyIndex++,this.files=o,this.state=v.FILE_PENDING,this.complete=!1,this.pending=o.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var u=0;u<o.length;u++)o[u].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(s){return this.files.push(s),s.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(s){var e=this.files.indexOf(s);e!==-1&&this.pending--},onFileFailed:function(s){var e=this.files.indexOf(s);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,s.type,s.key))},pendingDestroy:function(){if(this.state!==v.FILE_PENDING_DESTROY){var s=this.key,e=this.type;this.loader.emit(a.FILE_COMPLETE,s,e),this.loader.emit(a.FILE_KEY_COMPLETE+e+"-"+s,s,e),this.loader.flagForRemoval(this);for(var n=0;n<this.files.length;n++)this.files[n].pendingDestroy();this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});p.exports=r},84376:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(3374),v=function(a,r){var s=l(r,a.xhrSettings);if(a.base64){var e=a.url.split(";base64,").pop()||a.url.split(",").pop(),n={responseText:atob(e)};a.onBase64Load(n);return}var h=new XMLHttpRequest;if(h.open("GET",a.src,s.async,s.user,s.password),h.responseType=a.xhrSettings.responseType,h.timeout=s.timeout,s.headers)for(var i in s.headers)h.setRequestHeader(i,s.headers[i]);return s.header&&s.headerValue&&h.setRequestHeader(s.header,s.headerValue),s.requestedWith&&h.setRequestHeader("X-Requested-With",s.requestedWith),s.overrideMimeType&&h.overrideMimeType(s.overrideMimeType),s.withCredentials&&(h.withCredentials=!0),h.onload=a.onLoad.bind(a,h),h.onerror=a.onError.bind(a,h),h.onprogress=a.onProgress.bind(a),h.ontimeout=a.onError.bind(a,h),h.send(),h};p.exports=v},92638:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a,r,s){return t===void 0&&(t=""),l===void 0&&(l=!0),v===void 0&&(v=""),a===void 0&&(a=""),r===void 0&&(r=0),s===void 0&&(s=!1),{responseType:t,async:l,user:v,password:a,timeout:r,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:s}};p.exports=y},23906:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};p.exports=y},42155:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addfile"},38991:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},27540:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete"},87464:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete-"},94486:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loaderror"},13035:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="load"},38144:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fileprogress"},97520:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postprocess"},85595:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="progress"},55680:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},54899:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(518),r=t(54899),s=new l({Extends:a,initialize:function(n,h,i,o,f){a.call(this,n,h,i,o,f),this.type="animationJSON"},onProcess:function(){this.loader.once(r.POST_PROCESS,this.onLoadComplete,this),a.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});v.register("animation",function(e,n,h,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new s(this,e[o]));else this.addFile(new s(this,e,n,i,h));return this}),p.exports=s},76272:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(95540),r=t(19550),s=t(41212),e=t(518),n=t(26430),h=new l({Extends:n,initialize:function(o,f,u,d,c,m){var x,g;if(s(f)){var T=f;f=a(T,"key"),x=new r(o,{key:f,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),g=new e(o,{key:f,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","json"),xhrSettings:a(T,"atlasXhrSettings")})}else x=new r(o,f,u,c),g=new e(o,f,d,m);x.linkFile?n.call(this,o,"atlasjson",f,[x,g,x.linkFile]):n.call(this,o,"atlasjson",f,[x,g])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],o=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,o.data,f),o.addToCache(),this.complete=!0}}});v.register("aseprite",function(i,o,f,u,d){var c;if(Array.isArray(i))for(var m=0;m<i.length;m++)c=new h(this,i[m]),this.addFile(c.files);else c=new h(this,i,o,f,u,d),this.addFile(c.files);return this}),p.exports=h},38734:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(95540),r=t(19550),s=t(41212),e=t(518),n=t(26430),h=new l({Extends:n,initialize:function(o,f,u,d,c,m){var x,g;if(s(f)){var T=f;f=a(T,"key"),x=new r(o,{key:f,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),g=new e(o,{key:f,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","json"),xhrSettings:a(T,"atlasXhrSettings")})}else x=new r(o,f,u,c),g=new e(o,f,d,m);x.linkFile?n.call(this,o,"atlasjson",f,[x,g,x.linkFile]):n.call(this,o,"atlasjson",f,[x,g])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],o=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,o.data,f),this.complete=!0}}});v.register("atlas",function(i,o,f,u,d){var c;if(Array.isArray(i))for(var m=0;m<i.length;m++)c=new h(this,i[m]),this.addFile(c.files);else c=new h(this,i,o,f,u,d),this.addFile(c.files);return this}),p.exports=h},74599:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(95540),r=t(19550),s=t(41212),e=t(26430),n=t(57318),h=new l({Extends:e,initialize:function(o,f,u,d,c,m){var x,g;if(s(f)){var T=f;f=a(T,"key"),x=new r(o,{key:f,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),g=new n(o,{key:f,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","xml"),xhrSettings:a(T,"atlasXhrSettings")})}else x=new r(o,f,u,c),g=new n(o,f,d,m);x.linkFile?e.call(this,o,"atlasxml",f,[x,g,x.linkFile]):e.call(this,o,"atlasxml",f,[x,g])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],o=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(i.key,i.data,o.data,f),this.complete=!0}}});v.register("atlasXML",function(i,o,f,u,d){var c;if(Array.isArray(i))for(var m=0;m<i.length;m++)c=new h(this,i[m]),this.addFile(c.files);else c=new h(this,i,o,f,u,d),this.addFile(c.files);return this}),p.exports=h},21097:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),s=t(95540),e=t(89749),n=t(41212),h=new l({Extends:a,initialize:function(o,f,u,d,c){if(n(f)){var m=f;f=s(m,"key"),d=s(m,"xhrSettings"),c=s(m,"context",c)}var x={type:"audio",cache:o.cacheManager.audio,extension:u.type,responseType:"arraybuffer",key:f,url:u.url,xhrSettings:d,config:{context:c}};a.call(this,o,x)},onProcess:function(){this.state=v.FILE_PROCESSING;var i=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(o){i.data=o,i.onProcessComplete()},function(o){console.error("Error decoding audio: "+i.key+" - ",o?o.message:null),i.onProcessError()}),this.config.context=null}});h.create=function(i,o,f,u,d){var c=i.systems.game,m=c.config.audio,x=c.device.audio;n(o)&&(f=s(o,"url",[]),u=s(o,"config",{}));var g=h.getAudioURL(c,f);return g?x.webAudio&&!m.disableWebAudio?new h(i,o,g,d,c.sound.context):new e(i,o,g,u):(console.warn('No audio URLs for "%s" matched this device',o),null)},h.getAudioURL=function(i,o){Array.isArray(o)||(o=[o]);for(var f=0;f<o.length;f++){var u=s(o[f],"url",o[f]);if(u.indexOf("blob:")===0||u.indexOf("data:")===0)return{url:u,type:""};var d=u.match(/\.([a-zA-Z0-9]+)($|\?)/);if(d=s(o[f],"type",d?d[1]:"").toLowerCase(),i.device.audio[d])return{url:u,type:d}}return null},r.register("audio",function(i,o,f,u){var d=this.systems.game,c=d.config.audio,m=d.device.audio;if(c.noAudio||!m.webAudio&&!m.audioData)return this;var x;if(Array.isArray(i))for(var g=0;g<i.length;g++)x=h.create(this,i[g]),x&&this.addFile(x);else x=h.create(this,i,o,f,u),x&&this.addFile(x);return this}),p.exports=h},89524:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(21097),v=t(83419),a=t(74099),r=t(95540),s=t(41212),e=t(518),n=t(26430),h=new v({Extends:n,initialize:function(o,f,u,d,c,m,x){if(s(f)){var g=f;f=r(g,"key"),u=r(g,"jsonURL"),d=r(g,"audioURL"),c=r(g,"audioConfig"),m=r(g,"audioXhrSettings"),x=r(g,"jsonXhrSettings")}var T;if(!d)T=new e(o,f,u,x),n.call(this,o,"audiosprite",f,[T]),this.config.resourceLoad=!0,this.config.audioConfig=c,this.config.audioXhrSettings=m;else{var S=l.create(o,f,d,c,m);S&&(T=new e(o,f,u,x),n.call(this,o,"audiosprite",f,[S,T]),this.config.resourceLoad=!1)}},onFileComplete:function(i){var o=this.files.indexOf(i);if(o!==-1&&(this.pending--,this.config.resourceLoad&&i.type==="json"&&i.data.hasOwnProperty("resources"))){var f=i.data.resources,u=r(this.config,"audioConfig"),d=r(this.config,"audioXhrSettings"),c=l.create(this.loader,i.key,f,u,d);c&&(this.addToMultiFile(c),this.loader.addFile(c))}},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],o=this.files[1];i.addToCache(),o.addToCache(),this.complete=!0}}});a.register("audioSprite",function(i,o,f,u,d,c){var m=this.systems.game,x=m.config.audio,g=m.device.audio;if(x&&x.noAudio||!g.webAudio&&!g.audioData)return this;var T;if(Array.isArray(i))for(var S=0;S<i.length;S++)T=new h(this,i[S]),T.files&&this.addFile(T.files);else T=new h(this,i,o,f,u,d,c),T.files&&this.addFile(T.files);return this})},85722:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),s=t(95540),e=t(41212),n=new l({Extends:a,initialize:function(i,o,f,u,d){var c="bin";if(e(o)){var m=o;o=s(m,"key"),f=s(m,"url"),u=s(m,"xhrSettings"),c=s(m,"extension",c),d=s(m,"dataType",d)}var x={type:"binary",cache:i.cacheManager.binary,extension:c,responseType:"arraybuffer",key:o,url:f,xhrSettings:u,config:{dataType:d}};a.call(this,i,x)},onProcess:function(){this.state=v.FILE_PROCESSING;var h=this.config.dataType;this.data=h?new h(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});r.register("binary",function(h,i,o,f){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new n(this,h[u]));else this.addFile(new n(this,h,i,f,o));return this}),p.exports=n},97025:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(95540),r=t(19550),s=t(41212),e=t(26430),n=t(21859),h=t(57318),i=new l({Extends:e,initialize:function(f,u,d,c,m,x){var g,T;if(s(u)){var S=u;u=a(S,"key"),g=new r(f,{key:u,url:a(S,"textureURL"),extension:a(S,"textureExtension","png"),normalMap:a(S,"normalMap"),xhrSettings:a(S,"textureXhrSettings")}),T=new h(f,{key:u,url:a(S,"fontDataURL"),extension:a(S,"fontDataExtension","xml"),xhrSettings:a(S,"fontDataXhrSettings")})}else g=new r(f,u,d,m),T=new h(f,u,c,x);g.linkFile?e.call(this,f,"bitmapfont",u,[g,T,g.linkFile]):e.call(this,f,"bitmapfont",u,[g,T])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],f=this.files[1];o.addToCache();var u=o.cache.get(o.key),d=n(f.data,o.cache.getFrame(o.key),0,0,u);this.loader.cacheManager.bitmapFont.add(o.key,{data:d,texture:o.key,frame:null}),this.complete=!0}}});v.register("bitmapFont",function(o,f,u,d,c){var m;if(Array.isArray(o))for(var x=0;x<o.length;x++)m=new i(this,o[x]),this.addFile(m.files);else m=new i(this,o,f,u,d,c),this.addFile(m.files);return this}),p.exports=i},16024:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),s=t(95540),e=t(41212),n=new l({Extends:a,initialize:function(i,o,f,u){var d="css";if(e(o)){var c=o;o=s(c,"key"),f=s(c,"url"),u=s(c,"xhrSettings"),d=s(c,"extension",d)}var m={type:"script",cache:!1,extension:d,responseType:"text",key:o,url:f,xhrSettings:u};a.call(this,i,m)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("css",function(h,i,o){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new n(this,h[f]));else this.addFile(new n(this,h,i,o));return this}),p.exports=n},69559:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(38734),v=t(85722),a=t(83419),r=t(74099),s=t(95540),e=t(19550),n=t(41212),h=t(518),i=t(31403),o=t(46975),f=t(59327),u=t(26430),d=t(82038),c=t(55222),m=new a({Extends:u,initialize:function(g,T,S,E){if(S.multiAtlasURL){var P=new h(g,{key:T,url:S.multiAtlasURL,xhrSettings:E,config:S});u.call(this,g,"texture",T,[P])}else{var F=S.textureURL.substr(S.textureURL.length-3);S.type||(S.type=F.toLowerCase()==="ktx"?"KTX":"PVR");var R=new v(g,{key:T,url:S.textureURL,extension:F,xhrSettings:E,config:S});if(S.atlasURL){var M=new h(g,{key:T,url:S.atlasURL,xhrSettings:E,config:S});u.call(this,g,"texture",T,[R,M])}else u.call(this,g,"texture",T,[R])}this.config=S},onFileComplete:function(x){var g=this.files.indexOf(x);if(g!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(x.type==="json"&&x.data.hasOwnProperty("textures")){var T=x.data.textures,S=this.config,E=this.loader,P=E.baseURL,F=E.path,R=E.prefix,M=s(S,"multiBaseURL",this.baseURL),O=s(S,"multiPath",this.path),I=s(S,"prefix",this.prefix),V=s(S,"textureXhrSettings");M&&E.setBaseURL(M),O&&E.setPath(O),I&&E.setPrefix(I);for(var X=0;X<T.length;X++){var z=T[X].image,Z="CMA"+this.multiKeyIndex+"_"+z,N=new v(E,Z,z,V);if(this.addToMultiFile(N),E.addFile(N),T[X].normalMap){var Y=new v(E,Z,T[X].normalMap,V);Y.type="normalMap",N.setLink(Y),this.addToMultiFile(Y),E.addFile(Y)}}E.setBaseURL(P),E.setPath(F),E.setPrefix(R)}}},addToCache:function(){function x(M){console.warn('Compressed Texture Invalid: "'+P.key+'". '+M)}if(this.isReadyToProcess()){var g=this.config;if(g.multiAtlasURL)this.addMultiToCache();else{var T=this.loader.systems.renderer,S=this.loader.textureManager,E,P=this.files[0],F=this.files[1];if(g.type==="PVR"?E=d(P.data):g.type==="KTX"&&(E=i(P.data),E||x("KTX file contains unsupported format.")),E&&!c(E)&&(x("Texture dimensions failed verification. Check the texture format specifications for "+g.format+" 0x"+E.internalFormat.toString(16)+"."),E=null),E&&!T.supportsCompressedTexture(g.format,E.internalFormat)&&(x("Texture format "+g.format+" with internal format "+E.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),E=null),E){E.format=T.getCompressedTextureName(g.format,E.internalFormat);var R=F&&F.data?F.data:null;S.addCompressedTexture(P.key,E,R)}}this.complete=!0}},addMultiToCache:function(){for(var x=this.config,g=this.files[0],T=[],S=[],E=[],P=this.loader.systems.renderer,F=this.loader.textureManager,R,M=1;M<this.files.length;M++){var O=this.files[M];if(O.type!=="normalMap")for(var I=O.key.indexOf("_"),V=O.key.substr(I+1),X=O.data,z=0;z<g.data.textures.length;z++){var Z=g.data.textures[z];if(Z.image===V){x.type==="PVR"?R=d(X):x.type==="KTX"&&(R=i(X)),R&&P.supportsCompressedTexture(x.format,R.internalFormat)&&(R.format=P.getCompressedTextureName(x.format,R.internalFormat),S.push(R),T.push(Z),O.linkFile&&E.push(O.linkFile.data));break}}}E.length===0&&(E=void 0),F.addAtlasJSONArray(this.key,S,T,E),this.complete=!0}});r.register("texture",function(x,g,T){var S=this.systems.renderer,E=function(F,R,M,O){var I={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(n(R)){var V=R;R=s(V,"key"),M=s(V,"url"),O=s(V,"xhrSettings")}var X=!1;for(var z in M)if(S.supportsCompressedTexture(z)){var Z=M[z];typeof Z=="string"?I.textureURL=Z:I=o(Z,I),I.format=z.toUpperCase(),X=!0;break}if(!X)console.warn("No supported compressed texture format or IMG fallback",R);else if(I.format==="IMG"){var N,Y;I.multiAtlasURL?(Y=new f(F,R,I.multiAtlasURL,I.multiPath,I.multiBaseURL,O),N=Y.files):I.atlasURL?(Y=new l(F,R,I.textureURL,I.atlasURL,O),N=Y.files):N=new e(F,R,I.textureURL,O),F.addFile(N)}else{var L=new m(F,R,I,O);F.addFile(L.files)}};if(Array.isArray(x))for(var P=0;P<x.length;P++)E(this,x[P]);else E(this,x,g,T);return this}),p.exports=m},47931:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),s=t(95540),e=t(41212),n=t(73894),h=new l({Extends:a,initialize:function(o,f,u,d,c){var m="glsl";if(e(f)){var x=f;f=s(x,"key"),u=s(x,"url"),d=s(x,"shaderType","fragment"),c=s(x,"xhrSettings"),m=s(x,"extension",m)}else d===void 0&&(d="fragment");var g={type:"glsl",cache:o.cacheManager.shader,extension:m,responseType:"text",key:f,url:u,config:{shaderType:d},xhrSettings:c};a.call(this,o,g)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i=this.data.split(`
`),o=this.extractBlock(i,0);if(o)for(;o;){var f=this.getShaderName(o.header),u=this.getShaderType(o.header),d=this.getShaderUniforms(o.header),c=o.shader;if(this.cache.has(f)){var m=this.cache.get(f);u==="fragment"?m.fragmentSrc=c:m.vertexSrc=c,m.uniforms||(m.uniforms=d)}else u==="fragment"?this.cache.add(f,new n(f,c,"",d)):this.cache.add(f,new n(f,"",c,d));o=this.extractBlock(i,o.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new n(this.key,this.data)):this.cache.add(this.key,new n(this.key,"",this.data))},getShaderName:function(i){for(var o=0;o<i.length;o++){var f=i[o].trim();if(f.substring(0,5)==="name:")return f.substring(5).trim()}return this.key},getShaderType:function(i){for(var o=0;o<i.length;o++){var f=i[o].trim();if(f.substring(0,5)==="type:")return f.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(i){for(var o={},f=0;f<i.length;f++){var u=i[f].trim();if(u.substring(0,8)==="uniform."){var d=u.indexOf(":");if(d){var c=u.substring(8,d);try{o[c]=JSON.parse(u.substring(d+1))}catch{console.warn("Invalid uniform JSON: "+c)}}}}return o},extractBlock:function(i,o){for(var f=-1,u=-1,d=-1,c=!1,m=!1,x=[],g=[],T=o;T<i.length;T++){var S=i[T].trim();if(S==="---")if(f===-1)f=T,c=!0;else if(c)u=T,c=!1,m=!0;else{m=!1;break}else c?x.push(S):m&&(g.push(S),d=T)}return!c&&u!==-1?{header:x,shader:g.join(`
`),offset:d}:null}});r.register("glsl",function(i,o,f,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new h(this,i[d]));else this.addFile(new h(this,i,o,f,u));return this}),p.exports=h},89749:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(54899),a=t(41299),r=t(95540),s=t(98356),e=t(41212),n=new l({Extends:a,initialize:function(i,o,f,u){if(e(o)){var d=o;o=r(d,"key"),u=r(d,"config",u)}var c={type:"audio",cache:i.cacheManager.audio,extension:f.type,key:o,url:f.url,config:u};a.call(this,i,c),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var h=0;h<this.data.length;h++){var i=this.data[h];i.oncanplaythrough=null,i.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(h){var i=h.target;i.oncanplaythrough=null,i.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(v.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var h=this.config&&this.config.instances||1;this.filesTotal=h,this.filesLoaded=0,this.percentComplete=0;for(var i=0;i<h;i++){var o=new Audio;o.dataset||(o.dataset={}),o.dataset.name=this.key+("0"+i).slice(-2),o.dataset.used="false",this.locked?o.dataset.locked="true":(o.dataset.locked="false",o.preload="auto",o.oncanplaythrough=this.onProgress.bind(this),o.onerror=this.onError.bind(this)),this.data.push(o)}for(i=0;i<this.data.length;i++)o=this.data[i],o.src=s(this,this.loader.baseURL),this.locked||o.load();this.locked&&setTimeout(this.onLoad.bind(this))}});p.exports=n},88470:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),s=t(95540),e=t(41212),n=new l({Extends:a,initialize:function(i,o,f,u){var d="html";if(e(o)){var c=o;o=s(c,"key"),f=s(c,"url"),u=s(c,"xhrSettings"),d=s(c,"extension",d)}var m={type:"text",cache:i.cacheManager.html,extension:d,responseType:"text",key:o,url:f,xhrSettings:u};a.call(this,i,m)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("html",function(h,i,o){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new n(this,h[f]));else this.addFile(new n(this,h,i,o));return this}),p.exports=n},14643:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),s=t(95540),e=t(41212),n=new l({Extends:a,initialize:function(i,o,f,u,d,c){u===void 0&&(u=512),d===void 0&&(d=512);var m="html";if(e(o)){var x=o;o=s(x,"key"),f=s(x,"url"),c=s(x,"xhrSettings"),m=s(x,"extension",m),u=s(x,"width",u),d=s(x,"height",d)}var g={type:"html",cache:i.textureManager,extension:m,responseType:"text",key:o,url:f,xhrSettings:c,config:{width:u,height:d}};a.call(this,i,g)},onProcess:function(){this.state=v.FILE_PROCESSING;var h=this.config.width,i=this.config.height,o=[];o.push('<svg width="'+h+'px" height="'+i+'px" viewBox="0 0 '+h+" "+i+'" xmlns="http://www.w3.org/2000/svg">'),o.push('<foreignObject width="100%" height="100%">'),o.push('<body xmlns="http://www.w3.org/1999/xhtml">'),o.push(this.xhrLoader.responseText),o.push("</body>"),o.push("</foreignObject>"),o.push("</svg>");var f=[o.join(`
`)],u=this;try{var d=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{u.state=v.FILE_ERRORED,u.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){a.revokeObjectURL(u.data),u.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(u.data),u.onProcessError()},a.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("htmlTexture",function(h,i,o,f,u){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new n(this,h[d]));else this.addFile(new n(this,h,i,o,f,u));return this}),p.exports=n},19550:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),s=t(95540),e=t(41212),n=t(98356),h=new l({Extends:a,initialize:function i(o,f,u,d,c){var m="png",x;if(e(f)){var g=f;f=s(g,"key"),u=s(g,"url"),x=s(g,"normalMap"),d=s(g,"xhrSettings"),m=s(g,"extension",m),c=s(g,"frameConfig")}Array.isArray(u)&&(x=u[1],u=u[0]);var T={type:"image",cache:o.textureManager,extension:m,responseType:"blob",key:f,url:u,xhrSettings:d,config:c};if(a.call(this,o,T),x){var S=new i(o,this.key,x,d,c);S.type="normalMap",this.setLink(S),o.addFile(S)}this.useImageElementLoad=o.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){a.revokeObjectURL(i.data),i.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(i.data),i.onProcessError()},a.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var i=this.state;this.state=v.FILE_PROCESSING,i===v.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=v.FILE_LOADING,this.src=n(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){i.state=v.FILE_LOADED,i.loader.nextFile(i,!0)},this.data.onerror=function(){i.loader.nextFile(i,!1)},this.data.src=this.src},addToCache:function(){var i=this.linkFile;i?i.state>=v.FILE_COMPLETE&&(i.type==="spritesheet"?i.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,i.data,this.data):this.cache.addImage(this.key,this.data,i.data)):this.cache.addImage(this.key,this.data)}});r.register("image",function(i,o,f){if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addFile(new h(this,i[u]));else this.addFile(new h(this,i,o,f));return this}),p.exports=h},518:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),s=t(95540),e=t(35154),n=t(41212),h=new l({Extends:a,initialize:function(o,f,u,d,c){var m="json";if(n(f)){var x=f;f=s(x,"key"),u=s(x,"url"),d=s(x,"xhrSettings"),m=s(x,"extension",m),c=s(x,"dataKey",c)}var g={type:"json",cache:o.cacheManager.json,extension:m,responseType:"text",key:f,url:u,xhrSettings:d,config:c};a.call(this,o,g),n(u)&&(c?this.data=e(u,c):this.data=u,this.state=v.FILE_POPULATED)},onProcess:function(){if(this.state!==v.FILE_POPULATED){this.state=v.FILE_PROCESSING;try{var i=JSON.parse(this.xhrLoader.responseText)}catch(f){throw this.onProcessError(),f}var o=this.config;typeof o=="string"?this.data=e(i,o,i):this.data=i}this.onProcessComplete()}});r.register("json",function(i,o,f,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new h(this,i[d]));else this.addFile(new h(this,i,o,u,f));return this}),p.exports=h},59327:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(95540),r=t(19550),s=t(41212),e=t(518),n=t(26430),h=new l({Extends:n,initialize:function(o,f,u,d,c,m,x){if(s(f)){var g=f;f=a(g,"key"),a(g,"url",!1)?u=a(g,"url"):u=a(g,"atlasURL"),m=a(g,"xhrSettings"),d=a(g,"path"),c=a(g,"baseURL"),x=a(g,"textureXhrSettings")}var T=new e(o,f,u,m);n.call(this,o,"multiatlas",f,[T]),this.config.path=d,this.config.baseURL=c,this.config.textureXhrSettings=x},onFileComplete:function(i){var o=this.files.indexOf(i);if(o!==-1&&(this.pending--,i.type==="json"&&i.data.hasOwnProperty("textures"))){var f=i.data.textures,u=this.config,d=this.loader,c=d.baseURL,m=d.path,x=d.prefix,g=a(u,"baseURL",this.baseURL),T=a(u,"path",this.path),S=a(u,"prefix",this.prefix),E=a(u,"textureXhrSettings");d.setBaseURL(g),d.setPath(T),d.setPrefix(S);for(var P=0;P<f.length;P++){var F=f[P].image,R="MA"+this.multiKeyIndex+"_"+F,M=new r(d,R,F,E);if(this.addToMultiFile(M),d.addFile(M),f[P].normalMap){var O=new r(d,R,f[P].normalMap,E);O.type="normalMap",M.setLink(O),this.addToMultiFile(O),d.addFile(O)}}d.setBaseURL(c),d.setPath(m),d.setPrefix(x)}},addToCache:function(){if(this.isReadyToProcess()){for(var i=this.files[0],o=[],f=[],u=[],d=1;d<this.files.length;d++){var c=this.files[d];if(c.type!=="normalMap")for(var m=c.key.indexOf("_"),x=c.key.substr(m+1),g=c.data,T=0;T<i.data.textures.length;T++){var S=i.data.textures[T];if(S.image===x){f.push(g),o.push(S),c.linkFile&&u.push(c.linkFile.data);break}}}u.length===0&&(u=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,f,o,u),this.complete=!0}}});v.register("multiatlas",function(i,o,f,u,d){var c;if(Array.isArray(i))for(var m=0;m<i.length;m++)c=new h(this,i[m]),this.addFile(c.files);else c=new h(this,i,o,f,u,d),this.addFile(c.files);return this}),p.exports=h},99297:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(95540),r=t(41212),s=t(26430),e=t(34328),n=new l({Extends:s,initialize:function(i,o,f,u){var d="js",c=[];if(r(o)){var m=o;o=a(m,"key"),f=a(m,"url"),u=a(m,"xhrSettings"),d=a(m,"extension",d)}Array.isArray(f)||(f=[f]);for(var x=0;x<f.length;x++){var g=new e(i,{key:o+"_"+x.toString(),url:f[x],extension:d,xhrSettings:u});g.onProcess=function(){this.onProcessComplete()},c.push(g)}s.call(this,i,"scripts",o,c)},addToCache:function(){if(this.isReadyToProcess()){for(var h=0;h<this.files.length;h++){var i=this.files[h];i.data=document.createElement("script"),i.data.language="javascript",i.data.type="text/javascript",i.data.defer=!1,i.data.text=i.xhrLoader.responseText,document.head.appendChild(i.data)}this.complete=!0}}});v.register("scripts",function(h,i,o){var f;if(Array.isArray(h))for(var u=0;u<h.length;u++)f=new n(this,h[u]),this.addFile(f.files);else f=new n(this,h,i,o),this.addFile(f.files);return this}),p.exports=n},41846:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(95540),r=t(41212),s=t(26430),e=t(85048),n=t(61485),h=t(78776),i=new l({Extends:s,initialize:function(f,u,d,c,m,x){var g,T,S=f.cacheManager.obj;if(r(u)){var E=u;u=a(E,"key"),g=new h(f,{key:u,type:"obj",cache:S,url:a(E,"url"),extension:a(E,"extension","obj"),xhrSettings:a(E,"xhrSettings"),config:{flipUV:a(E,"flipUV",m)}}),c=a(E,"matURL"),c&&(T=new h(f,{key:u,type:"mat",cache:S,url:c,extension:a(E,"matExtension","mat"),xhrSettings:a(E,"xhrSettings")}))}else g=new h(f,{key:u,url:d,type:"obj",cache:S,extension:"obj",xhrSettings:x,config:{flipUV:m}}),c&&(T=new h(f,{key:u,url:c,type:"mat",cache:S,extension:"mat",xhrSettings:x}));s.call(this,f,"obj",u,[g,T])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],f=this.files[1],u=e(o.data,o.config.flipUV);f&&(u.materials=n(f.data)),o.cache.add(o.key,u),this.complete=!0}}});v.register("obj",function(o,f,u,d,c){var m;if(Array.isArray(o))for(var x=0;x<o.length;x++)m=new i(this,o[x]),this.addFile(m.files);else m=new i(this,o,f,u,d,c),this.addFile(m.files);return this}),p.exports=i},58610:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(74099),r=t(518),s=new l({Extends:r,initialize:function(n,h,i,o,f){r.call(this,n,h,i,o,f),this.type="packfile"},onProcess:function(){if(this.state!==v.FILE_POPULATED&&(this.state=v.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});a.register("pack",function(e,n,h,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new s(this,e[o]));else this.addFile(new s(this,e,n,i,h));return this}),p.exports=s},48988:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),s=t(95540),e=t(41212),n=new l({Extends:a,initialize:function(i,o,f,u,d,c){var m="js";if(e(o)){var x=o;o=s(x,"key"),f=s(x,"url"),c=s(x,"xhrSettings"),m=s(x,"extension",m),u=s(x,"start"),d=s(x,"mapping")}var g={type:"plugin",cache:!1,extension:m,responseType:"text",key:o,url:f,xhrSettings:c,config:{start:u,mapping:d}};a.call(this,i,g),typeof f=="function"&&(this.data=f,this.state=v.FILE_POPULATED)},onProcess:function(){var h=this.loader.systems.plugins,i=this.config,o=s(i,"start",!1),f=s(i,"mapping",null);if(this.state===v.FILE_POPULATED)h.install(this.key,this.data,o,f);else{this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var u=h.install(this.key,window[this.key],o,f);(o||f)&&(this.loader.systems[f]=u,this.loader.scene[f]=u)}this.onProcessComplete()}});r.register("plugin",function(h,i,o,f,u){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new n(this,h[d]));else this.addFile(new n(this,h,i,o,f,u));return this}),p.exports=n},67397:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),s=t(95540),e=t(41212),n=new l({Extends:a,initialize:function(i,o,f,u,d){var c="svg";if(e(o)){var m=o;o=s(m,"key"),f=s(m,"url"),u=s(m,"svgConfig",{}),d=s(m,"xhrSettings"),c=s(m,"extension",c)}var x={type:"svg",cache:i.textureManager,extension:c,responseType:"text",key:o,url:f,xhrSettings:d,config:{width:s(u,"width"),height:s(u,"height"),scale:s(u,"scale")}};a.call(this,i,x)},onProcess:function(){this.state=v.FILE_PROCESSING;var h=this.xhrLoader.responseText,i=[h],o=this.config.width,f=this.config.height,u=this.config.scale;t:if(o&&f||u){var d=null,c=new DOMParser;d=c.parseFromString(h,"text/xml");var m=d.getElementsByTagName("svg")[0],x=m.hasAttribute("viewBox"),g=parseFloat(m.getAttribute("width")),T=parseFloat(m.getAttribute("height"));if(!x&&g&&T)m.setAttribute("viewBox","0  0 "+g+" "+T);else if(x&&!g&&!T){var S=m.getAttribute("viewBox").split(/\s+|,/);g=S[2],T=S[3]}if(u)if(g&&T)o=g*u,f=T*u;else break t;m.setAttribute("width",o.toString()+"px"),m.setAttribute("height",f.toString()+"px"),i=[new XMLSerializer().serializeToString(m)]}try{var E=new window.Blob(i,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var P=this,F=!1;this.data.onload=function(){F||a.revokeObjectURL(P.data),P.onProcessComplete()},this.data.onerror=function(){F?P.onProcessError():(F=!0,a.revokeObjectURL(P.data),P.data.src="data:image/svg+xml,"+encodeURIComponent(i.join("")))},a.createObjectURL(this.data,E,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("svg",function(h,i,o,f){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new n(this,h[u]));else this.addFile(new n(this,h,i,o,f));return this}),p.exports=n},88423:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),s=t(95540),e=t(41212),n=new l({Extends:a,initialize:function(i,o,f,u){var d="js";if(e(o)){var c=o;o=s(c,"key"),f=s(c,"url"),u=s(c,"xhrSettings"),d=s(c,"extension",d)}var m={type:"text",extension:d,responseType:"text",key:o,url:f,xhrSettings:u};a.call(this,i,m)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),i=eval;this.loader.sceneManager.add(this.key,i(h)),this.complete=!0}});r.register("sceneFile",function(h,i,o){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new n(this,h[f]));else this.addFile(new n(this,h,i,o));return this}),p.exports=n},56812:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),s=t(95540),e=t(41212),n=new l({Extends:a,initialize:function(i,o,f,u,d,c){var m="js";if(e(o)){var x=o;o=s(x,"key"),f=s(x,"url"),c=s(x,"xhrSettings"),m=s(x,"extension",m),u=s(x,"systemKey"),d=s(x,"sceneKey")}var g={type:"scenePlugin",cache:!1,extension:m,responseType:"text",key:o,url:f,xhrSettings:c,config:{systemKey:u,sceneKey:d}};a.call(this,i,g),typeof f=="function"&&(this.data=f,this.state=v.FILE_POPULATED)},onProcess:function(){var h=this.loader.systems.plugins,i=this.config,o=this.key,f=s(i,"systemKey",o),u=s(i,"sceneKey",o);this.state===v.FILE_POPULATED?h.installScenePlugin(f,this.data,u,this.loader.scene,!0):(this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),h.installScenePlugin(f,window[this.key],u,this.loader.scene,!0)),this.onProcessComplete()}});r.register("scenePlugin",function(h,i,o,f,u){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new n(this,h[d]));else this.addFile(new n(this,h,i,o,f,u));return this}),p.exports=n},34328:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),s=t(95540),e=t(41212),n=new l({Extends:a,initialize:function(i,o,f,u,d){var c="js";if(e(o)){var m=o;o=s(m,"key"),f=s(m,"url"),u=s(m,"type","script"),d=s(m,"xhrSettings"),c=s(m,"extension",c)}else u===void 0&&(u="script");var x={type:u,cache:!1,extension:c,responseType:"text",key:o,url:f,xhrSettings:d};a.call(this,i,x)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("script",function(h,i,o,f){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new n(this,h[u]));else this.addFile(new n(this,h,i,o,f));return this}),p.exports=n},85035:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(74099),r=t(19550),s=new l({Extends:r,initialize:function(n,h,i,o,f){r.call(this,n,h,i,f,o),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=v.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});a.register("spritesheet",function(e,n,h,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new s(this,e[o]));else this.addFile(new s(this,e,n,h,i));return this}),p.exports=s},78776:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),s=t(95540),e=t(41212),n=new l({Extends:a,initialize:function(i,o,f,u){var d="text",c="txt",m=i.cacheManager.text;if(e(o)){var x=o;o=s(x,"key"),f=s(x,"url"),u=s(x,"xhrSettings"),c=s(x,"extension",c),d=s(x,"type",d),m=s(x,"cache",m)}var g={type:d,cache:m,extension:c,responseType:"text",key:o,url:f,xhrSettings:u};a.call(this,i,g)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",function(h,i,o){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new n(this,h[f]));else this.addFile(new n(this,h,i,o));return this}),p.exports=n},49477:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),s=t(95540),e=t(41212),n=t(80341),h=new l({Extends:a,initialize:function(o,f,u,d){var c="csv";if(e(f)){var m=f;f=s(m,"key"),u=s(m,"url"),d=s(m,"xhrSettings"),c=s(m,"extension",c)}var x={type:"tilemapCSV",cache:o.cacheManager.tilemap,extension:c,responseType:"text",key:f,url:u,xhrSettings:d};a.call(this,o,x),this.tilemapFormat=n.CSV},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,i)}});r.register("tilemapCSV",function(i,o,f){if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addFile(new h(this,i[u]));else this.addFile(new h(this,i,o,f));return this}),p.exports=h},40807:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(518),r=t(80341),s=new l({Extends:a,initialize:function(n,h,i,o){a.call(this,n,h,i,o),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var e={format:r.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});v.register("tilemapImpact",function(e,n,h){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new s(this,e[i]));else this.addFile(new s(this,e,n,h));return this}),p.exports=s},56775:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(518),r=t(80341),s=new l({Extends:a,initialize:function(n,h,i,o){a.call(this,n,h,i,o),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var e={format:r.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});v.register("tilemapTiledJSON",function(e,n,h){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new s(this,e[i]));else this.addFile(new s(this,e,n,h));return this}),p.exports=s},25771:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(95540),r=t(19550),s=t(41212),e=t(26430),n=t(78776),h=new l({Extends:e,initialize:function(o,f,u,d,c,m){var x,g;if(s(f)){var T=f;f=a(T,"key"),x=new r(o,{key:f,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),g=new n(o,{key:f,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","txt"),xhrSettings:a(T,"atlasXhrSettings")})}else x=new r(o,f,u,c),g=new n(o,f,d,m);x.linkFile?e.call(this,o,"unityatlas",f,[x,g,x.linkFile]):e.call(this,o,"unityatlas",f,[x,g])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],o=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(i.key,i.data,o.data,f),this.complete=!0}}});v.register("unityAtlas",function(i,o,f,u,d){var c;if(Array.isArray(i))for(var m=0;m<i.length;m++)c=new h(this,i[m]),this.addFile(c.files);else c=new h(this,i,o,f,u,d),this.addFile(c.files);return this}),p.exports=h},33720:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),s=t(98356),e=t(95540),n=t(41212),h=new l({Extends:a,initialize:function(o,f,u,d){if(d===void 0&&(d=!1),n(f)){var c=f;f=e(c,"key"),u=e(c,"url",[]),d=e(c,"noAudio",!1)}var m=o.systems.game.device.video.getVideoURL(u);m||console.warn("VideoFile: No supported format for "+f);var x={type:"video",cache:o.cacheManager.video,extension:m.type,key:f,url:m.url,config:{noAudio:d}};a.call(this,o,x)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=s(this,this.loader.baseURL),this.state=v.FILE_LOADED,this.loader.nextFile(this,!0)}});r.register("video",function(i,o,f){if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addFile(new h(this,i[u]));else this.addFile(new h(this,i,o,f));return this}),p.exports=h},57318:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),s=t(95540),e=t(41212),n=t(56836),h=new l({Extends:a,initialize:function(o,f,u,d){var c="xml";if(e(f)){var m=f;f=s(m,"key"),u=s(m,"url"),d=s(m,"xhrSettings"),c=s(m,"extension",c)}var x={type:"xml",cache:o.cacheManager.xml,extension:c,responseType:"text",key:f,url:u,xhrSettings:d};a.call(this,o,x)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=n(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});r.register("xml",function(i,o,f){if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addFile(new h(this,i[u]));else this.addFile(new h(this,i,o,f));return this}),p.exports=h},64589:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23906),v=t(79291),a={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};a=v(!1,a,l),p.exports=a},53307:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var l=0,v=0;v<t.length;v++)l+=+t[v];return l/t.length};p.exports=y},85710:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6411),v=function(a,r){return l(a)/l(r)/l(a-r)};p.exports=v},30976:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return Math.floor(Math.random()*(l-t+1)+t)};p.exports=y},87842:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a,r){var s=(a-l)*.5,e=(r-v)*.5,n=t*t,h=t*n;return(2*v-2*a+s+e)*h+(-3*v+3*a-2*s-e)*n+s*t+v};p.exports=y},26302:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){l===void 0&&(l=0),v===void 0&&(v=10);var a=Math.pow(v,-l);return Math.ceil(t*a)/a};p.exports=y},45319:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return Math.max(l,Math.min(v,t))};p.exports=y},39506:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),v=function(a){return a*l.DEG_TO_RAD};p.exports=v},61241:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return Math.abs(t-l)};p.exports=y},38857:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=t(83419),a=t(37867),r=t(29747),s=new a,e=new v({initialize:function n(h,i,o,f){h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=0),f===void 0&&(f=n.DefaultOrder),this._x=h,this._y=i,this._z=o,this._order=f,this.onChangeCallback=r},x:{get:function(){return this._x},set:function(n){this._x=n,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(n){this._y=n,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(n){this._z=n,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(n){this._order=n,this.onChangeCallback(this)}},set:function(n,h,i,o){return o===void 0&&(o=this._order),this._x=n,this._y=h,this._z=i,this._order=o,this.onChangeCallback(this),this},copy:function(n){return this.set(n.x,n.y,n.z,n.order)},setFromQuaternion:function(n,h,i){return h===void 0&&(h=this._order),i===void 0&&(i=!1),s.fromQuat(n),this.setFromRotationMatrix(s,h,i)},setFromRotationMatrix:function(n,h,i){h===void 0&&(h=this._order),i===void 0&&(i=!1);var o=n.val,f=o[0],u=o[4],d=o[8],c=o[1],m=o[5],x=o[9],g=o[2],T=o[6],S=o[10],E=0,P=0,F=0,R=.99999;switch(h){case"XYZ":{P=Math.asin(l(d,-1,1)),Math.abs(d)<R?(E=Math.atan2(-x,S),F=Math.atan2(-u,f)):E=Math.atan2(T,m);break}case"YXZ":{E=Math.asin(-l(x,-1,1)),Math.abs(x)<R?(P=Math.atan2(d,S),F=Math.atan2(c,m)):P=Math.atan2(-g,f);break}case"ZXY":{E=Math.asin(l(T,-1,1)),Math.abs(T)<R?(P=Math.atan2(-g,S),F=Math.atan2(-u,m)):F=Math.atan2(c,f);break}case"ZYX":{P=Math.asin(-l(g,-1,1)),Math.abs(g)<R?(E=Math.atan2(T,S),F=Math.atan2(c,f)):F=Math.atan2(-u,m);break}case"YZX":{F=Math.asin(l(c,-1,1)),Math.abs(c)<R?(E=Math.atan2(-x,m),P=Math.atan2(-g,f)):P=Math.atan2(d,S);break}case"XZY":{F=Math.asin(-l(u,-1,1)),Math.abs(u)<R?(E=Math.atan2(T,m),P=Math.atan2(d,f)):E=Math.atan2(-x,S);break}}return this._x=E,this._y=P,this._z=F,this._order=h,i&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",p.exports=e},6411:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){if(t===0)return 1;for(var l=t;--t;)l*=t;return l};p.exports=y},99472:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return Math.random()*(l-t)+t};p.exports=y},77623:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){l===void 0&&(l=0),v===void 0&&(v=10);var a=Math.pow(v,-l);return Math.floor(t*a)/a};p.exports=y},62945:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=function(a,r,s){return a=l(a,0,1),(s-r)*a+r};p.exports=v},38265:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t/l/1e3};p.exports=y},78702:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t==parseFloat(t)?!(t%2):void 0};p.exports=y},94883:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t===parseFloat(t)?!(t%2):void 0};p.exports=y},28915:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return(l-t)*v+t};p.exports=y},94908:p=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return v===void 0&&(v=0),t.clone().lerp(l,v)};p.exports=y},94434:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r){this.val=new Float32Array(9),r?this.copy(r):this.identity()},clone:function(){return new v(this)},set:function(a){return this.copy(a)},copy:function(a){var r=this.val,s=a.val;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=s[4],r[5]=s[5],r[6]=s[6],r[7]=s[7],r[8]=s[8],this},fromMat4:function(a){var r=a.val,s=this.val;return s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[4],s[4]=r[5],s[5]=r[6],s[6]=r[8],s[7]=r[9],s[8]=r[10],this},fromArray:function(a){var r=this.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],r[6]=a[6],r[7]=a[7],r[8]=a[8],this},identity:function(){var a=this.val;return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,this},transpose:function(){var a=this.val,r=a[1],s=a[2],e=a[5];return a[1]=a[3],a[2]=a[6],a[3]=r,a[5]=a[7],a[6]=s,a[7]=e,this},invert:function(){var a=this.val,r=a[0],s=a[1],e=a[2],n=a[3],h=a[4],i=a[5],o=a[6],f=a[7],u=a[8],d=u*h-i*f,c=-u*n+i*o,m=f*n-h*o,x=r*d+s*c+e*m;return x?(x=1/x,a[0]=d*x,a[1]=(-u*s+e*f)*x,a[2]=(i*s-e*h)*x,a[3]=c*x,a[4]=(u*r-e*o)*x,a[5]=(-i*r+e*n)*x,a[6]=m*x,a[7]=(-f*r+s*o)*x,a[8]=(h*r-s*n)*x,this):null},adjoint:function(){var a=this.val,r=a[0],s=a[1],e=a[2],n=a[3],h=a[4],i=a[5],o=a[6],f=a[7],u=a[8];return a[0]=h*u-i*f,a[1]=e*f-s*u,a[2]=s*i-e*h,a[3]=i*o-n*u,a[4]=r*u-e*o,a[5]=e*n-r*i,a[6]=n*f-h*o,a[7]=s*o-r*f,a[8]=r*h-s*n,this},determinant:function(){var a=this.val,r=a[0],s=a[1],e=a[2],n=a[3],h=a[4],i=a[5],o=a[6],f=a[7],u=a[8];return r*(u*h-i*f)+s*(-u*n+i*o)+e*(f*n-h*o)},multiply:function(a){var r=this.val,s=r[0],e=r[1],n=r[2],h=r[3],i=r[4],o=r[5],f=r[6],u=r[7],d=r[8],c=a.val,m=c[0],x=c[1],g=c[2],T=c[3],S=c[4],E=c[5],P=c[6],F=c[7],R=c[8];return r[0]=m*s+x*h+g*f,r[1]=m*e+x*i+g*u,r[2]=m*n+x*o+g*d,r[3]=T*s+S*h+E*f,r[4]=T*e+S*i+E*u,r[5]=T*n+S*o+E*d,r[6]=P*s+F*h+R*f,r[7]=P*e+F*i+R*u,r[8]=P*n+F*o+R*d,this},translate:function(a){var r=this.val,s=a.x,e=a.y;return r[6]=s*r[0]+e*r[3]+r[6],r[7]=s*r[1]+e*r[4]+r[7],r[8]=s*r[2]+e*r[5]+r[8],this},rotate:function(a){var r=this.val,s=r[0],e=r[1],n=r[2],h=r[3],i=r[4],o=r[5],f=Math.sin(a),u=Math.cos(a);return r[0]=u*s+f*h,r[1]=u*e+f*i,r[2]=u*n+f*o,r[3]=u*h-f*s,r[4]=u*i-f*e,r[5]=u*o-f*n,this},scale:function(a){var r=this.val,s=a.x,e=a.y;return r[0]=s*r[0],r[1]=s*r[1],r[2]=s*r[2],r[3]=e*r[3],r[4]=e*r[4],r[5]=e*r[5],this},fromQuat:function(a){var r=a.x,s=a.y,e=a.z,n=a.w,h=r+r,i=s+s,o=e+e,f=r*h,u=r*i,d=r*o,c=s*i,m=s*o,x=e*o,g=n*h,T=n*i,S=n*o,E=this.val;return E[0]=1-(c+x),E[3]=u+S,E[6]=d-T,E[1]=u-S,E[4]=1-(f+x),E[7]=m+g,E[2]=d+T,E[5]=m-g,E[8]=1-(f+c),this},normalFromMat4:function(a){var r=a.val,s=this.val,e=r[0],n=r[1],h=r[2],i=r[3],o=r[4],f=r[5],u=r[6],d=r[7],c=r[8],m=r[9],x=r[10],g=r[11],T=r[12],S=r[13],E=r[14],P=r[15],F=e*f-n*o,R=e*u-h*o,M=e*d-i*o,O=n*u-h*f,I=n*d-i*f,V=h*d-i*u,X=c*S-m*T,z=c*E-x*T,Z=c*P-g*T,N=m*E-x*S,Y=m*P-g*S,L=x*P-g*E,b=F*L-R*Y+M*N+O*Z-I*z+V*X;return b?(b=1/b,s[0]=(f*L-u*Y+d*N)*b,s[1]=(u*Z-o*L-d*z)*b,s[2]=(o*Y-f*Z+d*X)*b,s[3]=(h*Y-n*L-i*N)*b,s[4]=(e*L-h*Z+i*z)*b,s[5]=(n*Z-e*Y-i*X)*b,s[6]=(S*V-E*I+P*O)*b,s[7]=(E*M-T*V-P*R)*b,s[8]=(T*I-S*M+P*F)*b,this):null}});p.exports=v},37867:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(25836),a=1e-6,r=new l({initialize:function(f){this.val=new Float32Array(16),f?this.copy(f):this.identity()},clone:function(){return new r(this)},set:function(o){return this.copy(o)},setValues:function(o,f,u,d,c,m,x,g,T,S,E,P,F,R,M,O){var I=this.val;return I[0]=o,I[1]=f,I[2]=u,I[3]=d,I[4]=c,I[5]=m,I[6]=x,I[7]=g,I[8]=T,I[9]=S,I[10]=E,I[11]=P,I[12]=F,I[13]=R,I[14]=M,I[15]=O,this},copy:function(o){var f=o.val;return this.setValues(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},fromArray:function(o){return this.setValues(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(o,f,u){var d=s.fromQuat(u),c=d.val,m=f.x,x=f.y,g=f.z;return this.setValues(c[0]*m,c[1]*m,c[2]*m,0,c[4]*x,c[5]*x,c[6]*x,0,c[8]*g,c[9]*g,c[10]*g,0,o.x,o.y,o.z,1)},xyz:function(o,f,u){this.identity();var d=this.val;return d[12]=o,d[13]=f,d[14]=u,this},scaling:function(o,f,u){this.zero();var d=this.val;return d[0]=o,d[5]=f,d[10]=u,d[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var o=this.val,f=o[1],u=o[2],d=o[3],c=o[6],m=o[7],x=o[11];return o[1]=o[4],o[2]=o[8],o[3]=o[12],o[4]=f,o[6]=o[9],o[7]=o[13],o[8]=u,o[9]=c,o[11]=o[14],o[12]=d,o[13]=m,o[14]=x,this},getInverse:function(o){return this.copy(o),this.invert()},invert:function(){var o=this.val,f=o[0],u=o[1],d=o[2],c=o[3],m=o[4],x=o[5],g=o[6],T=o[7],S=o[8],E=o[9],P=o[10],F=o[11],R=o[12],M=o[13],O=o[14],I=o[15],V=f*x-u*m,X=f*g-d*m,z=f*T-c*m,Z=u*g-d*x,N=u*T-c*x,Y=d*T-c*g,L=S*M-E*R,b=S*O-P*R,U=S*I-F*R,W=E*O-P*M,j=E*I-F*M,Q=P*I-F*O,_=V*Q-X*j+z*W+Z*U-N*b+Y*L;return _?(_=1/_,this.setValues((x*Q-g*j+T*W)*_,(d*j-u*Q-c*W)*_,(M*Y-O*N+I*Z)*_,(P*N-E*Y-F*Z)*_,(g*U-m*Q-T*b)*_,(f*Q-d*U+c*b)*_,(O*z-R*Y-I*X)*_,(S*Y-P*z+F*X)*_,(m*j-x*U+T*L)*_,(u*U-f*j-c*L)*_,(R*N-M*z+I*V)*_,(E*z-S*N-F*V)*_,(x*b-m*W-g*L)*_,(f*W-u*b+d*L)*_,(M*X-R*Z-O*V)*_,(S*Z-E*X+P*V)*_)):this},adjoint:function(){var o=this.val,f=o[0],u=o[1],d=o[2],c=o[3],m=o[4],x=o[5],g=o[6],T=o[7],S=o[8],E=o[9],P=o[10],F=o[11],R=o[12],M=o[13],O=o[14],I=o[15];return this.setValues(x*(P*I-F*O)-E*(g*I-T*O)+M*(g*F-T*P),-(u*(P*I-F*O)-E*(d*I-c*O)+M*(d*F-c*P)),u*(g*I-T*O)-x*(d*I-c*O)+M*(d*T-c*g),-(u*(g*F-T*P)-x*(d*F-c*P)+E*(d*T-c*g)),-(m*(P*I-F*O)-S*(g*I-T*O)+R*(g*F-T*P)),f*(P*I-F*O)-S*(d*I-c*O)+R*(d*F-c*P),-(f*(g*I-T*O)-m*(d*I-c*O)+R*(d*T-c*g)),f*(g*F-T*P)-m*(d*F-c*P)+S*(d*T-c*g),m*(E*I-F*M)-S*(x*I-T*M)+R*(x*F-T*E),-(f*(E*I-F*M)-S*(u*I-c*M)+R*(u*F-c*E)),f*(x*I-T*M)-m*(u*I-c*M)+R*(u*T-c*x),-(f*(x*F-T*E)-m*(u*F-c*E)+S*(u*T-c*x)),-(m*(E*O-P*M)-S*(x*O-g*M)+R*(x*P-g*E)),f*(E*O-P*M)-S*(u*O-d*M)+R*(u*P-d*E),-(f*(x*O-g*M)-m*(u*O-d*M)+R*(u*g-d*x)),f*(x*P-g*E)-m*(u*P-d*E)+S*(u*g-d*x))},determinant:function(){var o=this.val,f=o[0],u=o[1],d=o[2],c=o[3],m=o[4],x=o[5],g=o[6],T=o[7],S=o[8],E=o[9],P=o[10],F=o[11],R=o[12],M=o[13],O=o[14],I=o[15],V=f*x-u*m,X=f*g-d*m,z=f*T-c*m,Z=u*g-d*x,N=u*T-c*x,Y=d*T-c*g,L=S*M-E*R,b=S*O-P*R,U=S*I-F*R,W=E*O-P*M,j=E*I-F*M,Q=P*I-F*O;return V*Q-X*j+z*W+Z*U-N*b+Y*L},multiply:function(o){var f=this.val,u=f[0],d=f[1],c=f[2],m=f[3],x=f[4],g=f[5],T=f[6],S=f[7],E=f[8],P=f[9],F=f[10],R=f[11],M=f[12],O=f[13],I=f[14],V=f[15],X=o.val,z=X[0],Z=X[1],N=X[2],Y=X[3];return f[0]=z*u+Z*x+N*E+Y*M,f[1]=z*d+Z*g+N*P+Y*O,f[2]=z*c+Z*T+N*F+Y*I,f[3]=z*m+Z*S+N*R+Y*V,z=X[4],Z=X[5],N=X[6],Y=X[7],f[4]=z*u+Z*x+N*E+Y*M,f[5]=z*d+Z*g+N*P+Y*O,f[6]=z*c+Z*T+N*F+Y*I,f[7]=z*m+Z*S+N*R+Y*V,z=X[8],Z=X[9],N=X[10],Y=X[11],f[8]=z*u+Z*x+N*E+Y*M,f[9]=z*d+Z*g+N*P+Y*O,f[10]=z*c+Z*T+N*F+Y*I,f[11]=z*m+Z*S+N*R+Y*V,z=X[12],Z=X[13],N=X[14],Y=X[15],f[12]=z*u+Z*x+N*E+Y*M,f[13]=z*d+Z*g+N*P+Y*O,f[14]=z*c+Z*T+N*F+Y*I,f[15]=z*m+Z*S+N*R+Y*V,this},multiplyLocal:function(o){var f=this.val,u=o.val;return this.setValues(f[0]*u[0]+f[1]*u[4]+f[2]*u[8]+f[3]*u[12],f[0]*u[1]+f[1]*u[5]+f[2]*u[9]+f[3]*u[13],f[0]*u[2]+f[1]*u[6]+f[2]*u[10]+f[3]*u[14],f[0]*u[3]+f[1]*u[7]+f[2]*u[11]+f[3]*u[15],f[4]*u[0]+f[5]*u[4]+f[6]*u[8]+f[7]*u[12],f[4]*u[1]+f[5]*u[5]+f[6]*u[9]+f[7]*u[13],f[4]*u[2]+f[5]*u[6]+f[6]*u[10]+f[7]*u[14],f[4]*u[3]+f[5]*u[7]+f[6]*u[11]+f[7]*u[15],f[8]*u[0]+f[9]*u[4]+f[10]*u[8]+f[11]*u[12],f[8]*u[1]+f[9]*u[5]+f[10]*u[9]+f[11]*u[13],f[8]*u[2]+f[9]*u[6]+f[10]*u[10]+f[11]*u[14],f[8]*u[3]+f[9]*u[7]+f[10]*u[11]+f[11]*u[15],f[12]*u[0]+f[13]*u[4]+f[14]*u[8]+f[15]*u[12],f[12]*u[1]+f[13]*u[5]+f[14]*u[9]+f[15]*u[13],f[12]*u[2]+f[13]*u[6]+f[14]*u[10]+f[15]*u[14],f[12]*u[3]+f[13]*u[7]+f[14]*u[11]+f[15]*u[15])},premultiply:function(o){return this.multiplyMatrices(o,this)},multiplyMatrices:function(o,f){var u=o.val,d=f.val,c=u[0],m=u[4],x=u[8],g=u[12],T=u[1],S=u[5],E=u[9],P=u[13],F=u[2],R=u[6],M=u[10],O=u[14],I=u[3],V=u[7],X=u[11],z=u[15],Z=d[0],N=d[4],Y=d[8],L=d[12],b=d[1],U=d[5],W=d[9],j=d[13],Q=d[2],_=d[6],et=d[10],st=d[14],ct=d[3],gt=d[7],Et=d[11],xt=d[15];return this.setValues(c*Z+m*b+x*Q+g*ct,T*Z+S*b+E*Q+P*ct,F*Z+R*b+M*Q+O*ct,I*Z+V*b+X*Q+z*ct,c*N+m*U+x*_+g*gt,T*N+S*U+E*_+P*gt,F*N+R*U+M*_+O*gt,I*N+V*U+X*_+z*gt,c*Y+m*W+x*et+g*Et,T*Y+S*W+E*et+P*Et,F*Y+R*W+M*et+O*Et,I*Y+V*W+X*et+z*Et,c*L+m*j+x*st+g*xt,T*L+S*j+E*st+P*xt,F*L+R*j+M*st+O*xt,I*L+V*j+X*st+z*xt)},translate:function(o){return this.translateXYZ(o.x,o.y,o.z)},translateXYZ:function(o,f,u){var d=this.val;return d[12]=d[0]*o+d[4]*f+d[8]*u+d[12],d[13]=d[1]*o+d[5]*f+d[9]*u+d[13],d[14]=d[2]*o+d[6]*f+d[10]*u+d[14],d[15]=d[3]*o+d[7]*f+d[11]*u+d[15],this},scale:function(o){return this.scaleXYZ(o.x,o.y,o.z)},scaleXYZ:function(o,f,u){var d=this.val;return d[0]=d[0]*o,d[1]=d[1]*o,d[2]=d[2]*o,d[3]=d[3]*o,d[4]=d[4]*f,d[5]=d[5]*f,d[6]=d[6]*f,d[7]=d[7]*f,d[8]=d[8]*u,d[9]=d[9]*u,d[10]=d[10]*u,d[11]=d[11]*u,this},makeRotationAxis:function(o,f){var u=Math.cos(f),d=Math.sin(f),c=1-u,m=o.x,x=o.y,g=o.z,T=c*m,S=c*x;return this.setValues(T*m+u,T*x-d*g,T*g+d*x,0,T*x+d*g,S*x+u,S*g-d*m,0,T*g-d*x,S*g+d*m,c*g*g+u,0,0,0,0,1)},rotate:function(o,f){var u=this.val,d=f.x,c=f.y,m=f.z,x=Math.sqrt(d*d+c*c+m*m);if(Math.abs(x)<a)return this;x=1/x,d*=x,c*=x,m*=x;var g=Math.sin(o),T=Math.cos(o),S=1-T,E=u[0],P=u[1],F=u[2],R=u[3],M=u[4],O=u[5],I=u[6],V=u[7],X=u[8],z=u[9],Z=u[10],N=u[11],Y=u[12],L=u[13],b=u[14],U=u[15],W=d*d*S+T,j=c*d*S+m*g,Q=m*d*S-c*g,_=d*c*S-m*g,et=c*c*S+T,st=m*c*S+d*g,ct=d*m*S+c*g,gt=c*m*S-d*g,Et=m*m*S+T;return this.setValues(E*W+M*j+X*Q,P*W+O*j+z*Q,F*W+I*j+Z*Q,R*W+V*j+N*Q,E*_+M*et+X*st,P*_+O*et+z*st,F*_+I*et+Z*st,R*_+V*et+N*st,E*ct+M*gt+X*Et,P*ct+O*gt+z*Et,F*ct+I*gt+Z*Et,R*ct+V*gt+N*Et,Y,L,b,U)},rotateX:function(o){var f=this.val,u=Math.sin(o),d=Math.cos(o),c=f[4],m=f[5],x=f[6],g=f[7],T=f[8],S=f[9],E=f[10],P=f[11];return f[4]=c*d+T*u,f[5]=m*d+S*u,f[6]=x*d+E*u,f[7]=g*d+P*u,f[8]=T*d-c*u,f[9]=S*d-m*u,f[10]=E*d-x*u,f[11]=P*d-g*u,this},rotateY:function(o){var f=this.val,u=Math.sin(o),d=Math.cos(o),c=f[0],m=f[1],x=f[2],g=f[3],T=f[8],S=f[9],E=f[10],P=f[11];return f[0]=c*d-T*u,f[1]=m*d-S*u,f[2]=x*d-E*u,f[3]=g*d-P*u,f[8]=c*u+T*d,f[9]=m*u+S*d,f[10]=x*u+E*d,f[11]=g*u+P*d,this},rotateZ:function(o){var f=this.val,u=Math.sin(o),d=Math.cos(o),c=f[0],m=f[1],x=f[2],g=f[3],T=f[4],S=f[5],E=f[6],P=f[7];return f[0]=c*d+T*u,f[1]=m*d+S*u,f[2]=x*d+E*u,f[3]=g*d+P*u,f[4]=T*d-c*u,f[5]=S*d-m*u,f[6]=E*d-x*u,f[7]=P*d-g*u,this},fromRotationTranslation:function(o,f){var u=o.x,d=o.y,c=o.z,m=o.w,x=u+u,g=d+d,T=c+c,S=u*x,E=u*g,P=u*T,F=d*g,R=d*T,M=c*T,O=m*x,I=m*g,V=m*T;return this.setValues(1-(F+M),E+V,P-I,0,E-V,1-(S+M),R+O,0,P+I,R-O,1-(S+F),0,f.x,f.y,f.z,1)},fromQuat:function(o){var f=o.x,u=o.y,d=o.z,c=o.w,m=f+f,x=u+u,g=d+d,T=f*m,S=f*x,E=f*g,P=u*x,F=u*g,R=d*g,M=c*m,O=c*x,I=c*g;return this.setValues(1-(P+R),S+I,E-O,0,S-I,1-(T+R),F+M,0,E+O,F-M,1-(T+P),0,0,0,0,1)},frustum:function(o,f,u,d,c,m){var x=1/(f-o),g=1/(d-u),T=1/(c-m);return this.setValues(c*2*x,0,0,0,0,c*2*g,0,0,(f+o)*x,(d+u)*g,(m+c)*T,-1,0,0,m*c*2*T,0)},perspective:function(o,f,u,d){var c=1/Math.tan(o/2),m=1/(u-d);return this.setValues(c/f,0,0,0,0,c,0,0,0,0,(d+u)*m,-1,0,0,2*d*u*m,0)},perspectiveLH:function(o,f,u,d){return this.setValues(2*u/o,0,0,0,0,2*u/f,0,0,0,0,-d/(u-d),1,0,0,u*d/(u-d),0)},ortho:function(o,f,u,d,c,m){var x=o-f,g=u-d,T=c-m;return x=x===0?x:1/x,g=g===0?g:1/g,T=T===0?T:1/T,this.setValues(-2*x,0,0,0,0,-2*g,0,0,0,0,2*T,0,(o+f)*x,(d+u)*g,(m+c)*T,1)},lookAtRH:function(o,f,u){var d=this.val;return i.subVectors(o,f),i.getLengthSquared()===0&&(i.z=1),i.normalize(),n.crossVectors(u,i),n.getLengthSquared()===0&&(Math.abs(u.z)===1?i.x+=1e-4:i.z+=1e-4,i.normalize(),n.crossVectors(u,i)),n.normalize(),h.crossVectors(i,n),d[0]=n.x,d[1]=n.y,d[2]=n.z,d[4]=h.x,d[5]=h.y,d[6]=h.z,d[8]=i.x,d[9]=i.y,d[10]=i.z,this},lookAt:function(o,f,u){var d=o.x,c=o.y,m=o.z,x=u.x,g=u.y,T=u.z,S=f.x,E=f.y,P=f.z;if(Math.abs(d-S)<a&&Math.abs(c-E)<a&&Math.abs(m-P)<a)return this.identity();var F=d-S,R=c-E,M=m-P,O=1/Math.sqrt(F*F+R*R+M*M);F*=O,R*=O,M*=O;var I=g*M-T*R,V=T*F-x*M,X=x*R-g*F;O=Math.sqrt(I*I+V*V+X*X),O?(O=1/O,I*=O,V*=O,X*=O):(I=0,V=0,X=0);var z=R*X-M*V,Z=M*I-F*X,N=F*V-R*I;return O=Math.sqrt(z*z+Z*Z+N*N),O?(O=1/O,z*=O,Z*=O,N*=O):(z=0,Z=0,N=0),this.setValues(I,z,F,0,V,Z,R,0,X,N,M,0,-(I*d+V*c+X*m),-(z*d+Z*c+N*m),-(F*d+R*c+M*m),1)},yawPitchRoll:function(o,f,u){this.zero(),s.zero(),e.zero();var d=this.val,c=s.val,m=e.val,x=Math.sin(u),g=Math.cos(u);return d[10]=1,d[15]=1,d[0]=g,d[1]=x,d[4]=-x,d[5]=g,x=Math.sin(f),g=Math.cos(f),c[0]=1,c[15]=1,c[5]=g,c[10]=g,c[9]=-x,c[6]=x,x=Math.sin(o),g=Math.cos(o),m[5]=1,m[15]=1,m[0]=g,m[2]=-x,m[8]=x,m[10]=g,this.multiplyLocal(s),this.multiplyLocal(e),this},setWorldMatrix:function(o,f,u,d,c){return this.yawPitchRoll(o.y,o.x,o.z),s.scaling(u.x,u.y,u.z),e.xyz(f.x,f.y,f.z),this.multiplyLocal(s),this.multiplyLocal(e),d&&this.multiplyLocal(d),c&&this.multiplyLocal(c),this},multiplyToMat4:function(o,f){var u=this.val,d=o.val,c=u[0],m=u[1],x=u[2],g=u[3],T=u[4],S=u[5],E=u[6],P=u[7],F=u[8],R=u[9],M=u[10],O=u[11],I=u[12],V=u[13],X=u[14],z=u[15],Z=d[0],N=d[1],Y=d[2],L=d[3],b=d[4],U=d[5],W=d[6],j=d[7],Q=d[8],_=d[9],et=d[10],st=d[11],ct=d[12],gt=d[13],Et=d[14],xt=d[15];return f.setValues(Z*c+N*T+Y*F+L*I,N*m+N*S+Y*R+L*V,Y*x+N*E+Y*M+L*X,L*g+N*P+Y*O+L*z,b*c+U*T+W*F+j*I,b*m+U*S+W*R+j*V,b*x+U*E+W*M+j*X,b*g+U*P+W*O+j*z,Q*c+_*T+et*F+st*I,Q*m+_*S+et*R+st*V,Q*x+_*E+et*M+st*X,Q*g+_*P+et*O+st*z,ct*c+gt*T+Et*F+xt*I,ct*m+gt*S+Et*R+xt*V,ct*x+gt*E+Et*M+xt*X,ct*g+gt*P+Et*O+xt*z)},fromRotationXYTranslation:function(o,f,u){var d=f.x,c=f.y,m=f.z,x=Math.sin(o.x),g=Math.cos(o.x),T=Math.sin(o.y),S=Math.cos(o.y),E=d,P=c,F=m,R=-x,M=0-R*T,O=0-g*T,I=R*S,V=g*S;return u||(E=S*d+T*m,P=M*d+g*c+I*m,F=O*d+x*c+V*m),this.setValues(S,M,O,0,0,g,x,0,T,I,V,0,E,P,F,1)},getMaxScaleOnAxis:function(){var o=this.val,f=o[0]*o[0]+o[1]*o[1]+o[2]*o[2],u=o[4]*o[4]+o[5]*o[5]+o[6]*o[6],d=o[8]*o[8]+o[9]*o[9]+o[10]*o[10];return Math.sqrt(Math.max(f,u,d))}}),s=new r,e=new r,n=new v,h=new v,i=new v;p.exports=r},86883:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return Math.min(t+l,v)};p.exports=y},50040:p=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var l=t.length;if(l===0)return 0;t.sort(function(a,r){return a-r});var v=Math.floor(l/2);return l%2===0?(t[v]+t[v-1])/2:t[v]};p.exports=y},37204:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return Math.max(t-l,v)};p.exports=y},65201:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){v===void 0&&(v=l+1);var r=(t-l)/(v-l);return r>1?a!==void 0?(r=(a-t)/(a-v),r<0&&(r=0)):r=1:r<0&&(r=0),r};p.exports=y},15746:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(94434),a=t(29747),r=t(25836),s=1e-6,e=new Int8Array([1,2,0]),n=new Float32Array([0,0,0]),h=new r(1,0,0),i=new r(0,1,0),o=new r,f=new v,u=new l({initialize:function(c,m,x,g){this.onChangeCallback=a,this.set(c,m,x,g)},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(d){this._w=d,this.onChangeCallback(this)}},copy:function(d){return this.set(d)},set:function(d,c,m,x,g){return g===void 0&&(g=!0),typeof d=="object"?(this._x=d.x||0,this._y=d.y||0,this._z=d.z||0,this._w=d.w||0):(this._x=d||0,this._y=c||0,this._z=m||0,this._w=x||0),g&&this.onChangeCallback(this),this},add:function(d){return this._x+=d.x,this._y+=d.y,this._z+=d.z,this._w+=d.w,this.onChangeCallback(this),this},subtract:function(d){return this._x-=d.x,this._y-=d.y,this._z-=d.z,this._w-=d.w,this.onChangeCallback(this),this},scale:function(d){return this._x*=d,this._y*=d,this._z*=d,this._w*=d,this.onChangeCallback(this),this},length:function(){var d=this.x,c=this.y,m=this.z,x=this.w;return Math.sqrt(d*d+c*c+m*m+x*x)},lengthSq:function(){var d=this.x,c=this.y,m=this.z,x=this.w;return d*d+c*c+m*m+x*x},normalize:function(){var d=this.x,c=this.y,m=this.z,x=this.w,g=d*d+c*c+m*m+x*x;return g>0&&(g=1/Math.sqrt(g),this._x=d*g,this._y=c*g,this._z=m*g,this._w=x*g),this.onChangeCallback(this),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,c){c===void 0&&(c=0);var m=this.x,x=this.y,g=this.z,T=this.w;return this.set(m+c*(d.x-m),x+c*(d.y-x),g+c*(d.z-g),T+c*(d.w-T))},rotationTo:function(d,c){var m=d.x*c.x+d.y*c.y+d.z*c.z;return m<-.999999?(o.copy(h).cross(d).length()<s&&o.copy(i).cross(d),o.normalize(),this.setAxisAngle(o,Math.PI)):m>.999999?this.set(0,0,0,1):(o.copy(d).cross(c),this._x=o.x,this._y=o.y,this._z=o.z,this._w=1+m,this.normalize())},setAxes:function(d,c,m){var x=f.val;return x[0]=c.x,x[3]=c.y,x[6]=c.z,x[1]=m.x,x[4]=m.y,x[7]=m.z,x[2]=-d.x,x[5]=-d.y,x[8]=-d.z,this.fromMat3(f).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(d,c){c=c*.5;var m=Math.sin(c);return this.set(m*d.x,m*d.y,m*d.z,Math.cos(c))},multiply:function(d){var c=this.x,m=this.y,x=this.z,g=this.w,T=d.x,S=d.y,E=d.z,P=d.w;return this.set(c*P+g*T+m*E-x*S,m*P+g*S+x*T-c*E,x*P+g*E+c*S-m*T,g*P-c*T-m*S-x*E)},slerp:function(d,c){var m=this.x,x=this.y,g=this.z,T=this.w,S=d.x,E=d.y,P=d.z,F=d.w,R=m*S+x*E+g*P+T*F;R<0&&(R=-R,S=-S,E=-E,P=-P,F=-F);var M=1-c,O=c;if(1-R>s){var I=Math.acos(R),V=Math.sin(I);M=Math.sin((1-c)*I)/V,O=Math.sin(c*I)/V}return this.set(M*m+O*S,M*x+O*E,M*g+O*P,M*T+O*F)},invert:function(){var d=this.x,c=this.y,m=this.z,x=this.w,g=d*d+c*c+m*m+x*x,T=g?1/g:0;return this.set(-d*T,-c*T,-m*T,x*T)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(d){d*=.5;var c=this.x,m=this.y,x=this.z,g=this.w,T=Math.sin(d),S=Math.cos(d);return this.set(c*S+g*T,m*S+x*T,x*S-m*T,g*S-c*T)},rotateY:function(d){d*=.5;var c=this.x,m=this.y,x=this.z,g=this.w,T=Math.sin(d),S=Math.cos(d);return this.set(c*S-x*T,m*S+g*T,x*S+c*T,g*S-m*T)},rotateZ:function(d){d*=.5;var c=this.x,m=this.y,x=this.z,g=this.w,T=Math.sin(d),S=Math.cos(d);return this.set(c*S+m*T,m*S-c*T,x*S+g*T,g*S-x*T)},calculateW:function(){var d=this.x,c=this.y,m=this.z;return this.w=-Math.sqrt(1-d*d-c*c-m*m),this},setFromEuler:function(d,c){var m=d.x/2,x=d.y/2,g=d.z/2,T=Math.cos(m),S=Math.cos(x),E=Math.cos(g),P=Math.sin(m),F=Math.sin(x),R=Math.sin(g);switch(d.order){case"XYZ":{this.set(P*S*E+T*F*R,T*F*E-P*S*R,T*S*R+P*F*E,T*S*E-P*F*R,c);break}case"YXZ":{this.set(P*S*E+T*F*R,T*F*E-P*S*R,T*S*R-P*F*E,T*S*E+P*F*R,c);break}case"ZXY":{this.set(P*S*E-T*F*R,T*F*E+P*S*R,T*S*R+P*F*E,T*S*E-P*F*R,c);break}case"ZYX":{this.set(P*S*E-T*F*R,T*F*E+P*S*R,T*S*R-P*F*E,T*S*E+P*F*R,c);break}case"YZX":{this.set(P*S*E+T*F*R,T*F*E+P*S*R,T*S*R-P*F*E,T*S*E-P*F*R,c);break}case"XZY":{this.set(P*S*E-T*F*R,T*F*E-P*S*R,T*S*R+P*F*E,T*S*E+P*F*R,c);break}}return this},setFromRotationMatrix:function(d){var c=d.val,m=c[0],x=c[4],g=c[8],T=c[1],S=c[5],E=c[9],P=c[2],F=c[6],R=c[10],M=m+S+R,O;return M>0?(O=.5/Math.sqrt(M+1),this.set((F-E)*O,(g-P)*O,(T-x)*O,.25/O)):m>S&&m>R?(O=2*Math.sqrt(1+m-S-R),this.set(.25*O,(x+T)/O,(g+P)/O,(F-E)/O)):S>R?(O=2*Math.sqrt(1+S-m-R),this.set((x+T)/O,.25*O,(E+F)/O,(g-P)/O)):(O=2*Math.sqrt(1+R-m-S),this.set((g+P)/O,(E+F)/O,.25*O,(T-x)/O)),this},fromMat3:function(d){var c=d.val,m=c[0]+c[4]+c[8],x;if(m>0)x=Math.sqrt(m+1),this.w=.5*x,x=.5/x,this._x=(c[7]-c[5])*x,this._y=(c[2]-c[6])*x,this._z=(c[3]-c[1])*x;else{var g=0;c[4]>c[0]&&(g=1),c[8]>c[g*3+g]&&(g=2);var T=e[g],S=e[T];x=Math.sqrt(c[g*3+g]-c[T*3+T]-c[S*3+S]+1),n[g]=.5*x,x=.5/x,n[T]=(c[T*3+g]+c[g*3+T])*x,n[S]=(c[S*3+g]+c[g*3+S])*x,this._x=n[0],this._y=n[1],this._z=n[2],this._w=(c[S*3+T]-c[T*3+S])*x}return this.onChangeCallback(this),this}});p.exports=u},43396:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),v=function(a){return a*l.RAD_TO_DEG};p.exports=v},74362:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){l===void 0&&(l=1);var v=Math.random()*2*Math.PI;return t.x=Math.cos(v)*l,t.y=Math.sin(v)*l,t};p.exports=y},60706:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){l===void 0&&(l=1);var v=Math.random()*2*Math.PI,a=Math.random()*2-1,r=Math.sqrt(1-a*a)*l;return t.x=Math.cos(v)*r,t.y=Math.sin(v)*r,t.z=a*l,t};p.exports=y},67421:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return l===void 0&&(l=1),t.x=(Math.random()*2-1)*l,t.y=(Math.random()*2-1)*l,t.z=(Math.random()*2-1)*l,t.w=(Math.random()*2-1)*l,t};p.exports=y},36305:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){var v=t.x,a=t.y;return t.x=v*Math.cos(l)-a*Math.sin(l),t.y=v*Math.sin(l)+a*Math.cos(l),t};p.exports=y},11520:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){var r=Math.cos(a),s=Math.sin(a),e=t.x-l,n=t.y-v;return t.x=e*r-n*s+l,t.y=e*s+n*r+v,t};p.exports=y},1163:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a,r){var s=a+Math.atan2(t.y-v,t.x-l);return t.x=l+r*Math.cos(s),t.y=v+r*Math.sin(s),t};p.exports=y},70336:p=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a,r){return t.x=l+r*Math.cos(a),t.y=v+r*Math.sin(a),t};p.exports=y},72678:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25836),v=t(37867),a=t(15746),r=new v,s=new a,e=new l,n=function(h,i,o){return s.setAxisAngle(i,o),r.fromRotationTranslation(s,e.set(0,0,0)),h.transformMat4(r)};p.exports=n},2284:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t>0?Math.ceil(t):Math.floor(t)};p.exports=y},41013:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){l===void 0&&(l=0),v===void 0&&(v=10);var a=Math.pow(v,-l);return Math.round(t*a)/a};p.exports=y},16922:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){l===void 0&&(l=1),v===void 0&&(v=1),a===void 0&&(a=1),a*=Math.PI/t;for(var r=[],s=[],e=0;e<t;e++)v-=l*a,l+=v*a,r[e]=v,s[e]=l;return{sin:s,cos:r,length:t}};p.exports=y},7602:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return t<=l?0:t>=v?1:(t=(t-l)/(v-l),t*t*(3-2*t))};p.exports=y},54261:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return t=Math.max(0,Math.min(1,(t-l)/(v-l))),t*t*t*(t*(t*6-15)+10)};p.exports=y},44408:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,s,e){e===void 0&&(e=new l);var n=0,h=0,i=r*s;return a>0&&a<=i&&(a>r-1?(h=Math.floor(a/r),n=a-h*r):n=a),e.set(n,h)};p.exports=v},85955:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,s,e,n,h,i,o){o===void 0&&(o=new l);var f=Math.sin(n),u=Math.cos(n),d=u*h,c=f*h,m=-f*i,x=u*i,g=1/(d*x+m*-c);return o.x=x*g*a+-m*g*r+(e*m-s*x)*g,o.y=d*g*r+-c*g*a+(-e*d+s*c)*g,o};p.exports=v},26099:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(43855),a=new l({initialize:function(s,e){this.x=0,this.y=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0):(e===void 0&&(e=s),this.x=s||0,this.y=e||0)},clone:function(){return new a(this.x,this.y)},copy:function(r){return this.x=r.x||0,this.y=r.y||0,this},setFromObject:function(r){return this.x=r.x||0,this.y=r.y||0,this},set:function(r,s){return s===void 0&&(s=r),this.x=r,this.y=s,this},setTo:function(r,s){return this.set(r,s)},setToPolar:function(r,s){return s==null&&(s=1),this.x=Math.cos(r)*s,this.y=Math.sin(r)*s,this},equals:function(r){return this.x===r.x&&this.y===r.y},fuzzyEquals:function(r,s){return v(this.x,r.x,s)&&v(this.y,r.y,s)},angle:function(){var r=Math.atan2(this.y,this.x);return r<0&&(r+=2*Math.PI),r},setAngle:function(r){return this.setToPolar(r,this.length())},add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this},scale:function(r){return isFinite(r)?(this.x*=r,this.y*=r):(this.x=0,this.y=0),this},divide:function(r){return this.x/=r.x,this.y/=r.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(r){var s=r.x-this.x,e=r.y-this.y;return Math.sqrt(s*s+e*e)},distanceSq:function(r){var s=r.x-this.x,e=r.y-this.y;return s*s+e*e},length:function(){var r=this.x,s=this.y;return Math.sqrt(r*r+s*s)},setLength:function(r){return this.normalize().scale(r)},lengthSq:function(){var r=this.x,s=this.y;return r*r+s*s},normalize:function(){var r=this.x,s=this.y,e=r*r+s*s;return e>0&&(e=1/Math.sqrt(e),this.x=r*e,this.y=s*e),this},normalizeRightHand:function(){var r=this.x;return this.x=this.y*-1,this.y=r,this},normalizeLeftHand:function(){var r=this.x;return this.x=this.y,this.y=r*-1,this},dot:function(r){return this.x*r.x+this.y*r.y},cross:function(r){return this.x*r.y-this.y*r.x},lerp:function(r,s){s===void 0&&(s=0);var e=this.x,n=this.y;return this.x=e+s*(r.x-e),this.y=n+s*(r.y-n),this},transformMat3:function(r){var s=this.x,e=this.y,n=r.val;return this.x=n[0]*s+n[3]*e+n[6],this.y=n[1]*s+n[4]*e+n[7],this},transformMat4:function(r){var s=this.x,e=this.y,n=r.val;return this.x=n[0]*s+n[4]*e+n[12],this.y=n[1]*s+n[5]*e+n[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(r){var s=this.length();return s&&s>r&&this.scale(r/s),this},reflect:function(r){return r=r.clone().normalize(),this.subtract(r.scale(2*this.dot(r)))},mirror:function(r){return this.reflect(r).negate()},rotate:function(r){var s=Math.cos(r),e=Math.sin(r);return this.set(s*this.x-e*this.y,e*this.x+s*this.y)},project:function(r){var s=this.dot(r)/r.dot(r);return this.copy(r).scale(s)}});a.ZERO=new a,a.RIGHT=new a(1,0),a.LEFT=new a(-1,0),a.UP=new a(0,-1),a.DOWN=new a(0,1),a.ONE=new a(1,1),p.exports=a},25836:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,s,e){this.x=0,this.y=0,this.z=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):(this.x=r||0,this.y=s||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this},max:function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this},clone:function(){return new v(this.x,this.y,this.z)},addVectors:function(a,r){return this.x=a.x+r.x,this.y=a.y+r.y,this.z=a.z+r.z,this},crossVectors:function(a,r){var s=a.x,e=a.y,n=a.z,h=r.x,i=r.y,o=r.z;return this.x=e*o-n*i,this.y=n*h-s*o,this.z=s*i-e*h,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this},set:function(a,r,s){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=r||0,this.z=s||0),this},setFromMatrixPosition:function(a){return this.fromArray(a.val,12)},setFromMatrixColumn:function(a,r){return this.fromArray(a.val,r*4)},fromArray:function(a,r){return r===void 0&&(r=0),this.x=a[r],this.y=a[r+1],this.z=a[r+2],this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this},addScalar:function(a){return this.x+=a,this.y+=a,this.z+=a,this},addScale:function(a,r){return this.x+=a.x*r,this.y+=a.y*r,this.z+=a.z*r||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):(this.x=0,this.y=0,this.z=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(a){var r=a.x-this.x,s=a.y-this.y,e=a.z-this.z||0;return Math.sqrt(r*r+s*s+e*e)},distanceSq:function(a){var r=a.x-this.x,s=a.y-this.y,e=a.z-this.z||0;return r*r+s*s+e*e},length:function(){var a=this.x,r=this.y,s=this.z;return Math.sqrt(a*a+r*r+s*s)},lengthSq:function(){var a=this.x,r=this.y,s=this.z;return a*a+r*r+s*s},normalize:function(){var a=this.x,r=this.y,s=this.z,e=a*a+r*r+s*s;return e>0&&(e=1/Math.sqrt(e),this.x=a*e,this.y=r*e,this.z=s*e),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},cross:function(a){var r=this.x,s=this.y,e=this.z,n=a.x,h=a.y,i=a.z;return this.x=s*i-e*h,this.y=e*n-r*i,this.z=r*h-s*n,this},lerp:function(a,r){r===void 0&&(r=0);var s=this.x,e=this.y,n=this.z;return this.x=s+r*(a.x-s),this.y=e+r*(a.y-e),this.z=n+r*(a.z-n),this},applyMatrix3:function(a){var r=this.x,s=this.y,e=this.z,n=a.val;return this.x=n[0]*r+n[3]*s+n[6]*e,this.y=n[1]*r+n[4]*s+n[7]*e,this.z=n[2]*r+n[5]*s+n[8]*e,this},applyMatrix4:function(a){var r=this.x,s=this.y,e=this.z,n=a.val,h=1/(n[3]*r+n[7]*s+n[11]*e+n[15]);return this.x=(n[0]*r+n[4]*s+n[8]*e+n[12])*h,this.y=(n[1]*r+n[5]*s+n[9]*e+n[13])*h,this.z=(n[2]*r+n[6]*s+n[10]*e+n[14])*h,this},transformMat3:function(a){var r=this.x,s=this.y,e=this.z,n=a.val;return this.x=r*n[0]+s*n[3]+e*n[6],this.y=r*n[1]+s*n[4]+e*n[7],this.z=r*n[2]+s*n[5]+e*n[8],this},transformMat4:function(a){var r=this.x,s=this.y,e=this.z,n=a.val;return this.x=n[0]*r+n[4]*s+n[8]*e+n[12],this.y=n[1]*r+n[5]*s+n[9]*e+n[13],this.z=n[2]*r+n[6]*s+n[10]*e+n[14],this},transformCoordinates:function(a){var r=this.x,s=this.y,e=this.z,n=a.val,h=r*n[0]+s*n[4]+e*n[8]+n[12],i=r*n[1]+s*n[5]+e*n[9]+n[13],o=r*n[2]+s*n[6]+e*n[10]+n[14],f=r*n[3]+s*n[7]+e*n[11]+n[15];return this.x=h/f,this.y=i/f,this.z=o/f,this},transformQuat:function(a){var r=this.x,s=this.y,e=this.z,n=a.x,h=a.y,i=a.z,o=a.w,f=o*r+h*e-i*s,u=o*s+i*r-n*e,d=o*e+n*s-h*r,c=-n*r-h*s-i*e;return this.x=f*o+c*-n+u*-i-d*-h,this.y=u*o+c*-h+d*-n-f*-i,this.z=d*o+c*-i+f*-h-u*-n,this},project:function(a){var r=this.x,s=this.y,e=this.z,n=a.val,h=n[0],i=n[1],o=n[2],f=n[3],u=n[4],d=n[5],c=n[6],m=n[7],x=n[8],g=n[9],T=n[10],S=n[11],E=n[12],P=n[13],F=n[14],R=n[15],M=1/(r*f+s*m+e*S+R);return this.x=(r*h+s*u+e*x+E)*M,this.y=(r*i+s*d+e*g+P)*M,this.z=(r*o+s*c+e*T+F)*M,this},projectViewMatrix:function(a,r){return this.applyMatrix4(a).applyMatrix4(r)},unprojectViewMatrix:function(a,r){return this.applyMatrix4(a).applyMatrix4(r)},unproject:function(a,r){var s=a.x,e=a.y,n=a.z,h=a.w,i=this.x-s,o=h-this.y-1-e,f=this.z;return this.x=2*i/n-1,this.y=2*o/h-1,this.z=2*f-1,this.project(r)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});v.ZERO=new v,v.RIGHT=new v(1,0,0),v.LEFT=new v(-1,0,0),v.UP=new v(0,-1,0),v.DOWN=new v(0,1,0),v.FORWARD=new v(0,0,1),v.BACK=new v(0,0,-1),v.ONE=new v(1,1,1),p.exports=v},61369:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,s,e,n){this.x=0,this.y=0,this.z=0,this.w=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0,this.w=r.w||0):(this.x=r||0,this.y=s||0,this.z=e||0,this.w=n||0)},clone:function(){return new v(this.x,this.y,this.z,this.w)},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this.w=a.w||0,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z&&this.w===a.w},set:function(a,r,s,e){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=r||0,this.z=s||0,this.w=e||0),this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this.w+=a.w||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this.w-=a.w||0,this},scale:function(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this},length:function(){var a=this.x,r=this.y,s=this.z,e=this.w;return Math.sqrt(a*a+r*r+s*s+e*e)},lengthSq:function(){var a=this.x,r=this.y,s=this.z,e=this.w;return a*a+r*r+s*s+e*e},normalize:function(){var a=this.x,r=this.y,s=this.z,e=this.w,n=a*a+r*r+s*s+e*e;return n>0&&(n=1/Math.sqrt(n),this.x=a*n,this.y=r*n,this.z=s*n,this.w=e*n),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lerp:function(a,r){r===void 0&&(r=0);var s=this.x,e=this.y,n=this.z,h=this.w;return this.x=s+r*(a.x-s),this.y=e+r*(a.y-e),this.z=n+r*(a.z-n),this.w=h+r*(a.w-h),this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this.w*=a.w||1,this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this.w/=a.w||1,this},distance:function(a){var r=a.x-this.x,s=a.y-this.y,e=a.z-this.z||0,n=a.w-this.w||0;return Math.sqrt(r*r+s*s+e*e+n*n)},distanceSq:function(a){var r=a.x-this.x,s=a.y-this.y,e=a.z-this.z||0,n=a.w-this.w||0;return r*r+s*s+e*e+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(a){var r=this.x,s=this.y,e=this.z,n=this.w,h=a.val;return this.x=h[0]*r+h[4]*s+h[8]*e+h[12]*n,this.y=h[1]*r+h[5]*s+h[9]*e+h[13]*n,this.z=h[2]*r+h[6]*s+h[10]*e+h[14]*n,this.w=h[3]*r+h[7]*s+h[11]*e+h[15]*n,this},transformQuat:function(a){var r=this.x,s=this.y,e=this.z,n=a.x,h=a.y,i=a.z,o=a.w,f=o*r+h*e-i*s,u=o*s+i*r-n*e,d=o*e+n*s-h*r,c=-n*r-h*s-i*e;return this.x=f*o+c*-n+u*-i-d*-h,this.y=u*o+c*-h+d*-n-f*-i,this.z=d*o+c*-i+f*-h-u*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});v.prototype.sub=v.prototype.subtract,v.prototype.mul=v.prototype.multiply,v.prototype.div=v.prototype.divide,v.prototype.dist=v.prototype.distance,v.prototype.distSq=v.prototype.distanceSq,v.prototype.len=v.prototype.length,v.prototype.lenSq=v.prototype.lengthSq,p.exports=v},60417:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return Math.abs(t-l)<=v};p.exports=y},15994:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){var a=v-l;return l+((t-l)%a+a)%a};p.exports=y},31040:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){return Math.atan2(a-l,v-t)};p.exports=y},55495:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return Math.atan2(l.y-t.y,l.x-t.x)};p.exports=y},128:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return Math.atan2(l.x-t.x,l.y-t.y)};p.exports=y},41273:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){return Math.atan2(v-t,a-l)};p.exports=y},1432:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),v=function(a){return a>Math.PI&&(a-=l.PI2),Math.abs(((a+l.TAU)%l.PI2-l.PI2)%l.PI2)};p.exports=v},12407:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};p.exports=y},53993:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99472),v=function(){return l(-Math.PI,Math.PI)};p.exports=v},86564:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99472),v=function(){return l(-180,180)};p.exports=v},90154:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12407),v=function(a){return l(a+Math.PI)};p.exports=v},48736:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),v=function(a,r,s){return s===void 0&&(s=.05),a===r||(Math.abs(r-a)<=s||Math.abs(r-a)>=l.PI2-s?a=r:(Math.abs(r-a)>Math.PI&&(r<a?r+=l.PI2:r-=l.PI2),r>a?a+=s:r<a&&(a-=s))),a};p.exports=v},61430:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){var v=l-t;if(v===0)return 0;var a=Math.floor((v- -180)/360);return v-a*360};p.exports=y},86554:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15994),v=function(a){return l(a,-Math.PI,Math.PI)};p.exports=v},30954:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15994),v=function(a){return l(a,-180,180)};p.exports=v},25588:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};p.exports=y},20339:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){var r=t-v,s=l-a;return Math.sqrt(r*r+s*s)};p.exports=y},52816:p=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){var v=t.x-l.x,a=t.y-l.y;return Math.sqrt(v*v+a*a)};p.exports=y},64559:p=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){var v=t.x-l.x,a=t.y-l.y;return v*v+a*a};p.exports=y},82340:p=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){return Math.max(Math.abs(t-v),Math.abs(l-a))};p.exports=y},14390:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a,r){return r===void 0&&(r=2),Math.sqrt(Math.pow(v-t,r)+Math.pow(a-l,r))};p.exports=y},2243:p=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){return Math.abs(t-v)+Math.abs(l-a)};p.exports=y},89774:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){var r=t-v,s=l-a;return r*r+s*s};p.exports=y},50994:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(54178),v=t(41521),a=t(79980),r=t(85433),s=t(99140),e=t(48857),n=t(81596),h=t(59133),i=t(98516),o=t(35248),f=t(82500),u=t(49752);p.exports={Power0:n,Power1:h.Out,Power2:r.Out,Power3:i.Out,Power4:o.Out,Linear:n,Quad:h.Out,Cubic:r.Out,Quart:i.Out,Quint:o.Out,Sine:f.Out,Expo:e.Out,Circ:a.Out,Elastic:s.Out,Back:l.Out,Bounce:v.Out,Stepped:u,"Quad.easeIn":h.In,"Cubic.easeIn":r.In,"Quart.easeIn":i.In,"Quint.easeIn":o.In,"Sine.easeIn":f.In,"Expo.easeIn":e.In,"Circ.easeIn":a.In,"Elastic.easeIn":s.In,"Back.easeIn":l.In,"Bounce.easeIn":v.In,"Quad.easeOut":h.Out,"Cubic.easeOut":r.Out,"Quart.easeOut":i.Out,"Quint.easeOut":o.Out,"Sine.easeOut":f.Out,"Expo.easeOut":e.Out,"Circ.easeOut":a.Out,"Elastic.easeOut":s.Out,"Back.easeOut":l.Out,"Bounce.easeOut":v.Out,"Quad.easeInOut":h.InOut,"Cubic.easeInOut":r.InOut,"Quart.easeInOut":i.InOut,"Quint.easeInOut":o.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":a.InOut,"Elastic.easeInOut":s.InOut,"Back.easeInOut":l.InOut,"Bounce.easeInOut":v.InOut}},1639:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return l===void 0&&(l=1.70158),t*t*((l+1)*t-l)};p.exports=y},50099:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){l===void 0&&(l=1.70158);var v=l*1.525;return(t*=2)<1?.5*(t*t*((v+1)*t-v)):.5*((t-=2)*t*((v+1)*t+v)+2)};p.exports=y},41286:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return l===void 0&&(l=1.70158),--t*t*((l+1)*t+l)+1};p.exports=y},54178:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};p.exports=y},41788:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var l=!1;return t<.5?(t=1-t*2,l=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,l?(1-t)*.5:t*.5+.5};p.exports=y},69905:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};p.exports=y},41521:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 1-Math.sqrt(1-t*t)};p.exports=y},4177:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};p.exports=y},57512:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.sqrt(1- --t*t)};p.exports=y},79980:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*t*t};p.exports=y},82820:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};p.exports=y},35033:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return--t*t*t+1};p.exports=y},85433:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){if(l===void 0&&(l=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var a=v/4;return l<1?l=1:a=v*Math.asin(1/l)/(2*Math.PI),-(l*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/v))};p.exports=y},50665:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){if(l===void 0&&(l=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var a=v/4;return l<1?l=1:a=v*Math.asin(1/l)/(2*Math.PI),(t*=2)<1?-.5*(l*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/v)):l*Math.pow(2,-10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/v)*.5+1};p.exports=y},7744:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){if(l===void 0&&(l=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var a=v/4;return l<1?l=1:a=v*Math.asin(1/l)/(2*Math.PI),l*Math.pow(2,-10*t)*Math.sin((t-a)*(2*Math.PI)/v)+1};p.exports=y},99140:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.pow(2,10*(t-1))-.001};p.exports=y},87844:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};p.exports=y},89433:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 1-Math.pow(2,-10*t)};p.exports=y},48857:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t};p.exports=y},81596:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(7147)},34826:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*t};p.exports=y},20544:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};p.exports=y},92029:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*(2-t)};p.exports=y},59133:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*t*t*t};p.exports=y},78137:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};p.exports=y},45840:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 1- --t*t*t*t};p.exports=y},98516:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*t*t*t*t};p.exports=y},16509:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};p.exports=y},17868:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return--t*t*t*t*t+1};p.exports=y},35248:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};p.exports=y},34025:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};p.exports=y},52768:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};p.exports=y},82500:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return l===void 0&&(l=1),t<=0?0:t>=1?1:((l*t|0)+1)*(1/l)};p.exports=y},49752:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(72251)},75698:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return l===void 0&&(l=1e-4),Math.ceil(t-l)};p.exports=y},43855:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return v===void 0&&(v=1e-4),Math.abs(t-l)<v};p.exports=y},25777:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return l===void 0&&(l=1e-4),Math.floor(t+l)};p.exports=y},5470:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return v===void 0&&(v=1e-4),t>l-v};p.exports=y},94977:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return v===void 0&&(v=1e-4),t<l+v};p.exports=y},48379:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),v=t(79291),a={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};a=v(!1,a,l),p.exports=a},89318:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85710),v=function(a,r){for(var s=0,e=a.length-1,n=0;n<=e;n++)s+=Math.pow(1-r,e-n)*Math.pow(r,n)*a[n]*l(e,n);return s};p.exports=v},77259:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87842),v=function(a,r){var s=a.length-1,e=s*r,n=Math.floor(e);return a[0]===a[s]?(r<0&&(n=Math.floor(e=s*(1+r))),l(e-n,a[(n-1+s)%s],a[n],a[(n+1)%s],a[(n+2)%s])):r<0?a[0]-(l(-e,a[0],a[0],a[1],a[1])-a[0]):r>1?a[s]-(l(e-s,a[s],a[s],a[s-1],a[s-1])-a[s]):l(e-n,a[n?n-1:0],a[n],a[s<n+1?s:n+1],a[s<n+2?s:n+2])};p.exports=v},36316:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(r,s){var e=1-r;return e*e*e*s}function t(r,s){var e=1-r;return 3*e*e*r*s}function l(r,s){return 3*(1-r)*r*r*s}function v(r,s){return r*r*r*s}var a=function(r,s,e,n,h){return y(r,s)+t(r,e)+l(r,n)+v(r,h)};p.exports=a},28392:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28915),v=function(a,r){var s=a.length-1,e=s*r,n=Math.floor(e);return r<0?l(a[0],a[1],e):r>1?l(a[s],a[s-1],s-e):l(a[n],a[n+1>s?s:n+1],e-n)};p.exports=v},32112:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(a,r){var s=1-a;return s*s*r}function t(a,r){return 2*(1-a)*a*r}function l(a,r){return a*a*r}var v=function(a,r,s,e){return y(a,r)+t(a,s)+l(a,e)};p.exports=v},47235:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7602),v=function(a,r,s){return r+(s-r)*l(a,0,1)};p.exports=v},50178:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(54261),v=function(a,r,s){return r+(s-r)*l(a,0,1)};p.exports=v},38289:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var l=Math.log(t)/.6931471805599453;return 1<<Math.ceil(l)};p.exports=y},50030:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t>0&&(t&t-1)===0&&l>0&&(l&l-1)===0};p.exports=y},81230:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t>0&&(t&t-1)===0};p.exports=y},49001:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r){r===void 0&&(r=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],r&&this.init(r)},rnd:function(){var a=2091639*this.s0+this.c*23283064365386963e-26;return this.c=a|0,this.s0=this.s1,this.s1=this.s2,this.s2=a-this.c,this.s2},hash:function(a){var r,s=this.n;a=a.toString();for(var e=0;e<a.length;e++)s+=a.charCodeAt(e),r=.02519603282416938*s,s=r>>>0,r-=s,r*=s,s=r>>>0,r-=s,s+=r*4294967296;return this.n=s,(s>>>0)*23283064365386963e-26},init:function(a){typeof a=="string"?this.state(a):this.sow(a)},sow:function(a){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!a)for(var r=0;r<a.length&&a[r]!=null;r++){var s=a[r];this.s0-=this.hash(s),this.s0+=~~(this.s0<0),this.s1-=this.hash(s),this.s1+=~~(this.s1<0),this.s2-=this.hash(s),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(a,r){return Math.floor(this.realInRange(0,r-a+1)+a)},between:function(a,r){return Math.floor(this.realInRange(0,r-a+1)+a)},realInRange:function(a,r){return this.frac()*(r-a)+a},normal:function(){return 1-2*this.frac()},uuid:function(){var a="",r="";for(r=a="";a++<36;r+=~a%5|a*3&4?(a^15?8^this.frac()*(a^20?16:4):4).toString(16):"-");return r},pick:function(a){return a[this.integerInRange(0,a.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(a){return a[~~(Math.pow(this.frac(),2)*(a.length-.5)+.5)]},timestamp:function(a,r){return this.realInRange(a||9466848e5,r||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(a){return typeof a=="string"&&a.match(/^!rnd/)&&(a=a.split(","),this.c=parseFloat(a[1]),this.s0=parseFloat(a[2]),this.s1=parseFloat(a[3]),this.s2=parseFloat(a[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(a){for(var r=a.length-1,s=r;s>0;s--){var e=Math.floor(this.frac()*(s+1)),n=a[e];a[e]=a[s],a[s]=n}return a}});p.exports=v},63448:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){return v===void 0&&(v=0),l===0?t:(t-=v,t=l*Math.ceil(t/l),a?(v+t)/l:v+t)};p.exports=y},56583:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){return v===void 0&&(v=0),l===0?t:(t-=v,t=l*Math.floor(t/l),a?(v+t)/l:v+t)};p.exports=y},77720:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){return v===void 0&&(v=0),l===0?t:(t-=v,t=l*Math.round(t/l),a?(v+t)/l:v+t)};p.exports=y},73697:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(63595);var l=t(8054),v=t(79291),a={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};a.Sound=t(23717),a=v(!1,a,l),p.exports=a,t.g.Phaser=a},71289:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(92209),a=t(88571),r=new l({Extends:a,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Collision,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(e,n,h,i,o){a.call(this,e,n,h,i,o),this.body=null}});p.exports=r},86689:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(39506),a=t(20339),r=t(89774),s=t(66022),e=t(95540),n=t(46975),h=t(72441),i=t(47956),o=t(37277),f=t(44594),u=t(26099),d=t(82248),c=new l({initialize:function(x){this.scene=x,this.systems=x.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,x.sys.events.once(f.BOOT,this.boot,this),x.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new d(this.scene,this.config),this.add=new s(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new d(this.scene,this.config),this.add=new s(this.world));var m=this.systems.events;e(this.config,"customUpdate",!1)||m.on(f.UPDATE,this.world.update,this.world),m.on(f.POST_UPDATE,this.world.postUpdate,this.world),m.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var m=this.systems.game.config.physics,x=this.systems.settings.physics,g=n(e(x,"arcade",{}),e(m,"arcade",{}));return g},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(m,x,g,T,S){return g===void 0&&(g=null),T===void 0&&(T=null),S===void 0&&(S=g),this.world.collideObjects(m,x,g,T,S,!0)},collide:function(m,x,g,T,S){return g===void 0&&(g=null),T===void 0&&(T=null),S===void 0&&(S=g),this.world.collideObjects(m,x,g,T,S,!1)},collideTiles:function(m,x,g,T,S){return this.world.collideTiles(m,x,g,T,S)},overlapTiles:function(m,x,g,T,S){return this.world.overlapTiles(m,x,g,T,S)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(m,x,g,T,S,E){T===void 0&&(T=60);var P=Math.atan2(g-m.y,x-m.x);return m.body.acceleration.setToPolar(P,T),S!==void 0&&E!==void 0&&m.body.maxVelocity.set(S,E),P},accelerateToObject:function(m,x,g,T,S){return this.accelerateTo(m,x.x,x.y,g,T,S)},closest:function(m,x){x||(x=this.world.bodies.entries);for(var g=Number.MAX_VALUE,T=null,S=m.x,E=m.y,P=x.length,F=0;F<P;F++){var R=x[F],M=R.body||R;if(!(m===R||m===M||m===M.gameObject||m===M.center)){var O=r(S,E,M.center.x,M.center.y);O<g&&(T=R,g=O)}}return T},furthest:function(m,x){x||(x=this.world.bodies.entries);for(var g=-1,T=null,S=m.x,E=m.y,P=x.length,F=0;F<P;F++){var R=x[F],M=R.body||R;if(!(m===R||m===M||m===M.gameObject||m===M.center)){var O=r(S,E,M.center.x,M.center.y);O>g&&(T=R,g=O)}}return T},moveTo:function(m,x,g,T,S){T===void 0&&(T=60),S===void 0&&(S=0);var E=Math.atan2(g-m.y,x-m.x);return S>0&&(T=a(m.x,m.y,x,g)/(S/1e3)),m.body.velocity.setToPolar(E,T),E},moveToObject:function(m,x,g,T){return this.moveTo(m,x.x,x.y,g,T)},velocityFromAngle:function(m,x,g){return x===void 0&&(x=60),g===void 0&&(g=new u),g.setToPolar(v(m),x)},velocityFromRotation:function(m,x,g){return x===void 0&&(x=60),g===void 0&&(g=new u),g.setToPolar(m,x)},overlapRect:function(m,x,g,T,S,E){return i(this.world,m,x,g,T,S,E)},overlapCirc:function(m,x,g,T,S){return h(this.world,m,x,g,T,S)},shutdown:function(){if(this.world){var m=this.systems.events;m.off(f.UPDATE,this.world.update,this.world),m.off(f.POST_UPDATE,this.world.postUpdate,this.world),m.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});o.register("ArcadePhysics",c,"arcadePhysics"),p.exports=c},13759:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(92209),a=t(68287),r=new l({Extends:a,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Collision,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(e,n,h,i,o){a.call(this,e,n,h,i,o),this.body=null}});p.exports=r},37742:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(78389),a=t(37747),r=t(63012),s=t(43396),e=t(87841),n=t(37303),h=t(95829),i=t(26099),o=new l({Mixins:[v],initialize:function(u,d){var c=64,m=64,x={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},g=d!==void 0;g&&d.displayWidth&&(c=d.displayWidth,m=d.displayHeight),g||(d=x),this.world=u,this.gameObject=g?d:void 0,this.isBody=!0,this.transform={x:d.x,y:d.y,rotation:d.angle,scaleX:d.scaleX,scaleY:d.scaleY,displayOriginX:d.displayOriginX,displayOriginY:d.displayOriginY},this.debugShowBody=u.defaults.debugShowBody,this.debugShowVelocity=u.defaults.debugShowVelocity,this.debugBodyColor=u.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(d.x-d.scaleX*d.displayOriginX,d.y-d.scaleY*d.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=d.angle,this.preRotation=d.angle,this.width=c,this.height=m,this.sourceWidth=c,this.sourceHeight=m,d.frame&&(this.sourceWidth=d.frame.realWidth,this.sourceHeight=d.frame.realHeight),this.halfWidth=Math.abs(c/2),this.halfHeight=Math.abs(m/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new i,this.newVelocity=new i,this.deltaMax=new i,this.acceleration=new i,this.allowDrag=!0,this.drag=new i,this.allowGravity=!0,this.gravity=new i,this.bounce=new i,this.worldBounce=null,this.customBoundsRectangle=u.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new i(1e4,1e4),this.maxSpeed=-1,this.friction=new i(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=a.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new i(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=h(!1),this.touching=h(!0),this.wasTouching=h(!0),this.blocked=h(!0),this.syncBounds=!1,this.physicsType=a.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=d.scaleX,this._sy=d.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new e,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var f=this.gameObject,u=this.transform;if(f.parentContainer){var d=f.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);u.x=d.tx,u.y=d.ty,u.rotation=s(d.rotation),u.scaleX=d.scaleX,u.scaleY=d.scaleY,u.displayOriginX=f.displayOriginX,u.displayOriginY=f.displayOriginY}else u.x=f.x,u.y=f.y,u.rotation=f.angle,u.scaleX=f.scaleX,u.scaleY=f.scaleY,u.displayOriginX=f.displayOriginX,u.displayOriginY=f.displayOriginY;var c=!1;if(this.syncBounds){var m=f.getBounds(this._bounds);this.width=m.width,this.height=m.height,c=!0}else{var x=Math.abs(u.scaleX),g=Math.abs(u.scaleY);(this._sx!==x||this._sy!==g)&&(this.width=this.sourceWidth*x,this.height=this.sourceHeight*g,this._sx=x,this._sy=g,c=!0)}c&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var f=this.transform;this.position.x=f.x+f.scaleX*(this.offset.x-f.displayOriginX),this.position.y=f.y+f.scaleY*(this.offset.y-f.displayOriginY),this.updateCenter()},resetFlags:function(f){f===void 0&&(f=!1);var u=this.wasTouching,d=this.touching,c=this.blocked;f?h(!0,u):(u.none=d.none,u.up=d.up,u.down=d.down,u.left=d.left,u.right=d.right),h(!0,d),h(!0,c),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(f,u){if(f&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var d=this.position;this.prev.x=d.x,this.prev.y=d.y,this.prevFrame.x=d.x,this.prevFrame.y=d.y}f&&this.update(u)},update:function(f){var u=this.prev,d=this.position,c=this.velocity;if(u.set(d.x,d.y),!this.moves){this._dx=d.x-u.x,this._dy=d.y-u.y;return}if(this.directControl){var m=this.autoFrame;c.set((d.x-m.x)/f,(d.y-m.y)/f),this.world.updateMotion(this,f),this._dx=d.x-m.x,this._dy=d.y-m.y}else this.world.updateMotion(this,f),this.newVelocity.set(c.x*f,c.y*f),d.add(this.newVelocity),this._dx=d.x-u.x,this._dy=d.y-u.y;var x=c.x,g=c.y;if(this.updateCenter(),this.angle=Math.atan2(g,x),this.speed=Math.sqrt(x*x+g*g),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var T=this.blocked;this.world.emit(r.WORLD_BOUNDS,this,T.up,T.down,T.left,T.right)}},postUpdate:function(){var f=this.position,u=f.x-this.prevFrame.x,d=f.y-this.prevFrame.y,c=this.gameObject;if(this.moves){var m=this.deltaMax.x,x=this.deltaMax.y;m!==0&&u!==0&&(u<0&&u<-m?u=-m:u>0&&u>m&&(u=m)),x!==0&&d!==0&&(d<0&&d<-x?d=-x:d>0&&d>x&&(d=x)),c&&(c.x+=u,c.y+=d)}u<0?this.facing=a.FACING_LEFT:u>0&&(this.facing=a.FACING_RIGHT),d<0?this.facing=a.FACING_UP:d>0&&(this.facing=a.FACING_DOWN),this.allowRotation&&c&&(c.angle+=this.deltaZ()),this._tx=u,this._ty=d,this.autoFrame.set(f.x,f.y)},setBoundsRectangle:function(f){return this.customBoundsRectangle=f||this.world.bounds,this},checkWorldBounds:function(){var f=this.position,u=this.velocity,d=this.blocked,c=this.customBoundsRectangle,m=this.world.checkCollision,x=this.worldBounce?-this.worldBounce.x:-this.bounce.x,g=this.worldBounce?-this.worldBounce.y:-this.bounce.y,T=!1;return f.x<c.x&&m.left?(f.x=c.x,u.x*=x,d.left=!0,T=!0):this.right>c.right&&m.right&&(f.x=c.right-this.width,u.x*=x,d.right=!0,T=!0),f.y<c.y&&m.up?(f.y=c.y,u.y*=g,d.up=!0,T=!0):this.bottom>c.bottom&&m.down&&(f.y=c.bottom-this.height,u.y*=g,d.down=!0,T=!0),T&&(this.blocked.none=!1,this.updateCenter()),T},setOffset:function(f,u){return u===void 0&&(u=f),this.offset.set(f,u),this},setGameObject:function(f,u){return u===void 0&&(u=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=f,f.body&&(f.body=this),this.setSize(),this.world.add(this),this.enable=u,this},setSize:function(f,u,d){d===void 0&&(d=!0);var c=this.gameObject;if(c&&(!f&&c.frame&&(f=c.frame.realWidth),!u&&c.frame&&(u=c.frame.realHeight)),this.sourceWidth=f,this.sourceHeight=u,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),d&&c&&c.getCenter){var m=(c.width-f)/2,x=(c.height-u)/2;this.offset.set(m,x)}return this.isCircle=!1,this.radius=0,this},setCircle:function(f,u,d){return u===void 0&&(u=this.offset.x),d===void 0&&(d=this.offset.y),f>0?(this.isCircle=!0,this.radius=f,this.sourceWidth=f*2,this.sourceHeight=f*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(u,d),this.updateCenter()):this.isCircle=!1,this},reset:function(f,u){this.stop();var d=this.gameObject;d&&(d.setPosition(f,u),this.rotation=d.angle,this.preRotation=d.angle);var c=this.position;d&&d.getTopLeft?d.getTopLeft(c):c.set(f,u),this.prev.copy(c),this.prevFrame.copy(c),this.autoFrame.copy(c),d&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(f){return f.x=this.x,f.y=this.y,f.right=this.right,f.bottom=this.bottom,f},hitTest:function(f,u){if(!this.isCircle)return n(this,f,u);if(this.radius>0&&f>=this.left&&f<=this.right&&u>=this.top&&u<=this.bottom){var d=(this.center.x-f)*(this.center.x-f),c=(this.center.y-u)*(this.center.y-u);return d+c<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(f){var u=this.position,d=u.x+this.halfWidth,c=u.y+this.halfHeight;this.debugShowBody&&(f.lineStyle(f.defaultStrokeWidth,this.debugBodyColor),this.isCircle?f.strokeCircle(d,c,this.width/2):(this.checkCollision.up&&f.lineBetween(u.x,u.y,u.x+this.width,u.y),this.checkCollision.right&&f.lineBetween(u.x+this.width,u.y,u.x+this.width,u.y+this.height),this.checkCollision.down&&f.lineBetween(u.x,u.y+this.height,u.x+this.width,u.y+this.height),this.checkCollision.left&&f.lineBetween(u.x,u.y,u.x,u.y+this.height))),this.debugShowVelocity&&(f.lineStyle(f.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),f.lineBetween(d,c,d+this.velocity.x/2,c+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(f){return f===void 0&&(f=!0),this.directControl=f,this},setCollideWorldBounds:function(f,u,d,c){f===void 0&&(f=!0),this.collideWorldBounds=f;var m=u!==void 0,x=d!==void 0;return(m||x)&&(this.worldBounce||(this.worldBounce=new i),m&&(this.worldBounce.x=u),x&&(this.worldBounce.y=d)),c!==void 0&&(this.onWorldBounds=c),this},setVelocity:function(f,u){return this.velocity.set(f,u),f=this.velocity.x,u=this.velocity.y,this.speed=Math.sqrt(f*f+u*u),this},setVelocityX:function(f){return this.setVelocity(f,this.velocity.y)},setVelocityY:function(f){return this.setVelocity(this.velocity.x,f)},setMaxVelocity:function(f,u){return this.maxVelocity.set(f,u),this},setMaxVelocityX:function(f){return this.maxVelocity.x=f,this},setMaxVelocityY:function(f){return this.maxVelocity.y=f,this},setMaxSpeed:function(f){return this.maxSpeed=f,this},setSlideFactor:function(f,u){return this.slideFactor.set(f,u),this},setBounce:function(f,u){return this.bounce.set(f,u),this},setBounceX:function(f){return this.bounce.x=f,this},setBounceY:function(f){return this.bounce.y=f,this},setAcceleration:function(f,u){return this.acceleration.set(f,u),this},setAccelerationX:function(f){return this.acceleration.x=f,this},setAccelerationY:function(f){return this.acceleration.y=f,this},setAllowDrag:function(f){return f===void 0&&(f=!0),this.allowDrag=f,this},setAllowGravity:function(f){return f===void 0&&(f=!0),this.allowGravity=f,this},setAllowRotation:function(f){return f===void 0&&(f=!0),this.allowRotation=f,this},setDrag:function(f,u){return this.drag.set(f,u),this},setDamping:function(f){return this.useDamping=f,this},setDragX:function(f){return this.drag.x=f,this},setDragY:function(f){return this.drag.y=f,this},setGravity:function(f,u){return this.gravity.set(f,u),this},setGravityX:function(f){return this.gravity.x=f,this},setGravityY:function(f){return this.gravity.y=f,this},setFriction:function(f,u){return this.friction.set(f,u),this},setFrictionX:function(f){return this.friction.x=f,this},setFrictionY:function(f){return this.friction.y=f,this},setAngularVelocity:function(f){return this.angularVelocity=f,this},setAngularAcceleration:function(f){return this.angularAcceleration=f,this},setAngularDrag:function(f){return this.angularDrag=f,this},setMass:function(f){return this.mass=f,this},setImmovable:function(f){return f===void 0&&(f=!0),this.immovable=f,this},setEnable:function(f){return f===void 0&&(f=!0),this.enable=f,this},processX:function(f,u,d,c){this.x+=f,this.updateCenter(),u!==null&&(this.velocity.x=u*this.slideFactor.x);var m=this.blocked;d&&(m.left=!0,m.none=!1),c&&(m.right=!0,m.none=!1)},processY:function(f,u,d,c){this.y+=f,this.updateCenter(),u!==null&&(this.velocity.y=u*this.slideFactor.y);var m=this.blocked;d&&(m.up=!0,m.none=!1),c&&(m.down=!0,m.none=!1)},x:{get:function(){return this.position.x},set:function(f){this.position.x=f}},y:{get:function(){return this.position.y},set:function(f){this.position.y=f}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=o},79342:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,s,e,n,h,i,o){this.world=r,this.name="",this.active=!0,this.overlapOnly=s,this.object1=e,this.object2=n,this.collideCallback=h,this.processCallback=i,this.callbackContext=o},setName:function(a){return this.name=a,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});p.exports=v},66022:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71289),v=t(13759),a=t(37742),r=t(83419),s=t(37747),e=t(60758),n=t(72624),h=t(71464),i=new r({initialize:function(f){this.world=f,this.scene=f.scene,this.sys=f.scene.sys},collider:function(o,f,u,d,c){return this.world.addCollider(o,f,u,d,c)},overlap:function(o,f,u,d,c){return this.world.addOverlap(o,f,u,d,c)},existing:function(o,f){var u=f?s.STATIC_BODY:s.DYNAMIC_BODY;return this.world.enableBody(o,u),o},staticImage:function(o,f,u,d){var c=new l(this.scene,o,f,u,d);return this.sys.displayList.add(c),this.world.enableBody(c,s.STATIC_BODY),c},image:function(o,f,u,d){var c=new l(this.scene,o,f,u,d);return this.sys.displayList.add(c),this.world.enableBody(c,s.DYNAMIC_BODY),c},staticSprite:function(o,f,u,d){var c=new v(this.scene,o,f,u,d);return this.sys.displayList.add(c),this.sys.updateList.add(c),this.world.enableBody(c,s.STATIC_BODY),c},sprite:function(o,f,u,d){var c=new v(this.scene,o,f,u,d);return this.sys.displayList.add(c),this.sys.updateList.add(c),this.world.enableBody(c,s.DYNAMIC_BODY),c},staticGroup:function(o,f){return this.sys.updateList.add(new h(this.world,this.world.scene,o,f))},group:function(o,f){return this.sys.updateList.add(new e(this.world,this.world.scene,o,f))},body:function(o,f,u,d){var c=new a(this.world);return c.position.set(o,f),u&&d&&c.setSize(u,d),this.world.add(c,s.DYNAMIC_BODY),c},staticBody:function(o,f,u,d){var c=new n(this.world);return c.position.set(o,f),u&&d&&c.setSize(u,d),this.world.add(c,s.STATIC_BODY),c},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=i},79599:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var l=0;if(!Array.isArray(t))l=t;else for(var v=0;v<t.length;v++)l|=t[v];return l};p.exports=y},64897:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37747),v=function(a,r,s,e){var n=0,h=a.deltaAbsX()+r.deltaAbsX()+e;return a._dx===0&&r._dx===0?(a.embedded=!0,r.embedded=!0):a._dx>r._dx?(n=a.right-r.x,n>h&&!s||a.checkCollision.right===!1||r.checkCollision.left===!1?n=0:(a.touching.none=!1,a.touching.right=!0,r.touching.none=!1,r.touching.left=!0,r.physicsType===l.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.right=!0),a.physicsType===l.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.left=!0))):a._dx<r._dx&&(n=a.x-r.width-r.x,-n>h&&!s||a.checkCollision.left===!1||r.checkCollision.right===!1?n=0:(a.touching.none=!1,a.touching.left=!0,r.touching.none=!1,r.touching.right=!0,r.physicsType===l.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.left=!0),a.physicsType===l.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.right=!0))),a.overlapX=n,r.overlapX=n,n};p.exports=v},45170:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37747),v=function(a,r,s,e){var n=0,h=a.deltaAbsY()+r.deltaAbsY()+e;return a._dy===0&&r._dy===0?(a.embedded=!0,r.embedded=!0):a._dy>r._dy?(n=a.bottom-r.y,n>h&&!s||a.checkCollision.down===!1||r.checkCollision.up===!1?n=0:(a.touching.none=!1,a.touching.down=!0,r.touching.none=!1,r.touching.up=!0,r.physicsType===l.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.down=!0),a.physicsType===l.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.up=!0))):a._dy<r._dy&&(n=a.y-r.bottom,-n>h&&!s||a.checkCollision.up===!1||r.checkCollision.down===!1?n=0:(a.touching.none=!1,a.touching.up=!0,r.touching.none=!1,r.touching.down=!0,r.physicsType===l.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.up=!0),a.physicsType===l.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.down=!0))),a.overlapY=n,r.overlapY=n,n};p.exports=v},60758:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13759),v=t(83419),a=t(78389),r=t(37747),s=t(95540),e=t(26479),n=t(41212),h=new v({Extends:e,Mixins:[a],initialize:function(o,f,u,d){if(!u&&!d)d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(n(u))d=u,u=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(u)&&n(u[0])){var c=this;u.forEach(function(m){m.internalCreateCallback=c.createCallbackHandler,m.internalRemoveCallback=c.removeCallbackHandler,m.classType=s(m,"classType",l)}),d=null}else d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=o,d&&(d.classType=s(d,"classType",l)),this.physicsType=r.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:s(d,"collideWorldBounds",!1),setBoundsRectangle:s(d,"customBoundsRectangle",null),setAccelerationX:s(d,"accelerationX",0),setAccelerationY:s(d,"accelerationY",0),setAllowDrag:s(d,"allowDrag",!0),setAllowGravity:s(d,"allowGravity",!0),setAllowRotation:s(d,"allowRotation",!0),setDamping:s(d,"useDamping",!1),setBounceX:s(d,"bounceX",0),setBounceY:s(d,"bounceY",0),setDragX:s(d,"dragX",0),setDragY:s(d,"dragY",0),setEnable:s(d,"enable",!0),setGravityX:s(d,"gravityX",0),setGravityY:s(d,"gravityY",0),setFrictionX:s(d,"frictionX",0),setFrictionY:s(d,"frictionY",0),setMaxSpeed:s(d,"maxSpeed",-1),setMaxVelocityX:s(d,"maxVelocityX",1e4),setMaxVelocityY:s(d,"maxVelocityY",1e4),setVelocityX:s(d,"velocityX",0),setVelocityY:s(d,"velocityY",0),setAngularVelocity:s(d,"angularVelocity",0),setAngularAcceleration:s(d,"angularAcceleration",0),setAngularDrag:s(d,"angularDrag",0),setMass:s(d,"mass",1),setImmovable:s(d,"immovable",!1)},e.call(this,f,u,d),this.type="PhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,r.DYNAMIC_BODY);var o=i.body;for(var f in this.defaults)o[f](this.defaults[f])},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},setVelocity:function(i,o,f){f===void 0&&(f=0);for(var u=this.getChildren(),d=0;d<u.length;d++)u[d].body.velocity.set(i+d*f,o+d*f);return this},setVelocityX:function(i,o){o===void 0&&(o=0);for(var f=this.getChildren(),u=0;u<f.length;u++)f[u].body.velocity.x=i+u*o;return this},setVelocityY:function(i,o){o===void 0&&(o=0);for(var f=this.getChildren(),u=0;u<f.length;u++)f[u].body.velocity.y=i+u*o;return this}});p.exports=h},3017:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y,t,l,v,a,r,s,e,n,h,i,o,f,u,d,c,m,x=function(F,R,M){y=F,t=R;var O=y.velocity.x,I=t.velocity.x;return l=y.pushable,n=y._dx<0,h=y._dx>0,i=y._dx===0,d=Math.abs(y.right-t.x)<=Math.abs(t.right-y.x),s=I-O*y.bounce.x,v=t.pushable,o=t._dx<0,f=t._dx>0,u=t._dx===0,c=!d,e=O-I*t.bounce.x,m=Math.abs(M),g()},g=function(){return h&&d&&t.blocked.right?(y.processX(-m,s,!1,!0),1):n&&c&&t.blocked.left?(y.processX(m,s,!0),1):f&&c&&y.blocked.right?(t.processX(-m,e,!1,!0),2):o&&d&&y.blocked.left?(t.processX(m,e,!0),2):0},T=function(){var F=y.velocity.x,R=t.velocity.x,M=Math.sqrt(R*R*t.mass/y.mass)*(R>0?1:-1),O=Math.sqrt(F*F*y.mass/t.mass)*(F>0?1:-1),I=(M+O)*.5;return M-=I,O-=I,a=I+M*y.bounce.x,r=I+O*t.bounce.x,n&&c?S(0):o&&d?S(1):h&&d?S(2):f&&c?S(3):!1},S=function(F){if(l&&v)m*=.5,F===0||F===3?(y.processX(m,a),t.processX(-m,r)):(y.processX(-m,a),t.processX(m,r));else if(l&&!v)F===0||F===3?y.processX(m,s,!0):y.processX(-m,s,!1,!0);else if(!l&&v)F===0||F===3?t.processX(-m,e,!1,!0):t.processX(m,e,!0);else{var R=m*.5;F===0?u?(y.processX(m,0,!0),t.processX(0,null,!1,!0)):f?(y.processX(R,0,!0),t.processX(-R,0,!1,!0)):(y.processX(R,t.velocity.x,!0),t.processX(-R,null,!1,!0)):F===1?i?(y.processX(0,null,!1,!0),t.processX(m,0,!0)):h?(y.processX(-R,0,!1,!0),t.processX(R,0,!0)):(y.processX(-R,null,!1,!0),t.processX(R,y.velocity.x,!0)):F===2?u?(y.processX(-m,0,!1,!0),t.processX(0,null,!0)):o?(y.processX(-R,0,!1,!0),t.processX(R,0,!0)):(y.processX(-R,t.velocity.x,!1,!0),t.processX(R,null,!0)):F===3&&(i?(y.processX(0,null,!0),t.processX(-m,0,!1,!0)):n?(y.processX(R,0,!0),t.processX(-R,0,!1,!0)):(y.processX(R,t.velocity.y,!0),t.processX(-R,null,!1,!0)))}return!0},E=function(F){F===1?t.velocity.x=0:d?t.processX(m,e,!0):t.processX(-m,e,!1,!0),y.moves&&(t.y+=(y.y-y.prev.y)*y.friction.y,t._dy=t.y-t.prev.y)},P=function(F){F===2?y.velocity.x=0:c?y.processX(m,s,!0):y.processX(-m,s,!1,!0),t.moves&&(y.y+=(t.y-t.prev.y)*t.friction.y,y._dy=y.y-y.prev.y)};p.exports={BlockCheck:g,Check:T,Set:x,Run:S,RunImmovableBody1:E,RunImmovableBody2:P}},47962:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y,t,l,v,a,r,s,e,n,h,i,o,f,u,d,c,m,x=function(F,R,M){y=F,t=R;var O=y.velocity.y,I=t.velocity.y;return l=y.pushable,n=y._dy<0,h=y._dy>0,i=y._dy===0,d=Math.abs(y.bottom-t.y)<=Math.abs(t.bottom-y.y),s=I-O*y.bounce.y,v=t.pushable,o=t._dy<0,f=t._dy>0,u=t._dy===0,c=!d,e=O-I*t.bounce.y,m=Math.abs(M),g()},g=function(){return h&&d&&t.blocked.down?(y.processY(-m,s,!1,!0),1):n&&c&&t.blocked.up?(y.processY(m,s,!0),1):f&&c&&y.blocked.down?(t.processY(-m,e,!1,!0),2):o&&d&&y.blocked.up?(t.processY(m,e,!0),2):0},T=function(){var F=y.velocity.y,R=t.velocity.y,M=Math.sqrt(R*R*t.mass/y.mass)*(R>0?1:-1),O=Math.sqrt(F*F*y.mass/t.mass)*(F>0?1:-1),I=(M+O)*.5;return M-=I,O-=I,a=I+M*y.bounce.y,r=I+O*t.bounce.y,n&&c?S(0):o&&d?S(1):h&&d?S(2):f&&c?S(3):!1},S=function(F){if(l&&v)m*=.5,F===0||F===3?(y.processY(m,a),t.processY(-m,r)):(y.processY(-m,a),t.processY(m,r));else if(l&&!v)F===0||F===3?y.processY(m,s,!0):y.processY(-m,s,!1,!0);else if(!l&&v)F===0||F===3?t.processY(-m,e,!1,!0):t.processY(m,e,!0);else{var R=m*.5;F===0?u?(y.processY(m,0,!0),t.processY(0,null,!1,!0)):f?(y.processY(R,0,!0),t.processY(-R,0,!1,!0)):(y.processY(R,t.velocity.y,!0),t.processY(-R,null,!1,!0)):F===1?i?(y.processY(0,null,!1,!0),t.processY(m,0,!0)):h?(y.processY(-R,0,!1,!0),t.processY(R,0,!0)):(y.processY(-R,null,!1,!0),t.processY(R,y.velocity.y,!0)):F===2?u?(y.processY(-m,0,!1,!0),t.processY(0,null,!0)):o?(y.processY(-R,0,!1,!0),t.processY(R,0,!0)):(y.processY(-R,t.velocity.y,!1,!0),t.processY(R,null,!0)):F===3&&(i?(y.processY(0,null,!0),t.processY(-m,0,!1,!0)):n?(y.processY(R,0,!0),t.processY(-R,0,!1,!0)):(y.processY(R,t.velocity.y,!0),t.processY(-R,null,!1,!0)))}return!0},E=function(F){F===1?t.velocity.y=0:d?t.processY(m,e,!0):t.processY(-m,e,!1,!0),y.moves&&(t.x+=(y.x-y.prev.x)*y.friction.x,t._dx=t.x-t.prev.x)},P=function(F){F===2?y.velocity.y=0:c?y.processY(m,s,!0):y.processY(-m,s,!1,!0),t.moves&&(y.x+=(t.x-t.prev.x)*t.friction.x,y._dx=y.x-y.prev.x)};p.exports={BlockCheck:g,Check:T,Set:x,Run:S,RunImmovableBody1:E,RunImmovableBody2:P}},14087:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(64897),v=t(3017),a=function(r,s,e,n,h){h===void 0&&(h=l(r,s,e,n));var i=r.immovable,o=s.immovable;if(e||h===0||i&&o||r.customSeparateX||s.customSeparateX)return h!==0||r.embedded&&s.embedded;var f=v.Set(r,s,h);return!i&&!o?f>0?!0:v.Check():(i?v.RunImmovableBody1(f):o&&v.RunImmovableBody2(f),!0)};p.exports=a},89936:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45170),v=t(47962),a=function(r,s,e,n,h){h===void 0&&(h=l(r,s,e,n));var i=r.immovable,o=s.immovable;if(e||h===0||i&&o||r.customSeparateY||s.customSeparateY)return h!==0||r.embedded&&s.embedded;var f=v.Set(r,s,h);return!i&&!o?f>0?!0:v.Check():(i?v.RunImmovableBody1(f):o&&v.RunImmovableBody2(f),!0)};p.exports=a},95829:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return l===void 0&&(l={}),l.none=t,l.up=!1,l.down=!1,l.left=!1,l.right=!1,t||(l.up=!0,l.down=!0,l.left=!0,l.right=!0),l};p.exports=y},72624:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87902),v=t(83419),a=t(78389),r=t(37747),s=t(37303),e=t(95829),n=t(26099),h=new v({Mixins:[a],initialize:function(o,f){var u=64,d=64,c={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},m=f!==void 0;m&&f.displayWidth&&(u=f.displayWidth,d=f.displayHeight),m||(f=c),this.world=o,this.gameObject=m?f:void 0,this.isBody=!0,this.debugShowBody=o.defaults.debugShowStaticBody,this.debugBodyColor=o.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(f.x-u*f.originX,f.y-d*f.originY),this.width=u,this.height=d,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=n.ZERO,this.allowGravity=!1,this.gravity=n.ZERO,this.bounce=n.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=e(!1),this.touching=e(!0),this.wasTouching=e(!0),this.blocked=e(!0),this.physicsType=r.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(i,o){return i&&i!==this.gameObject&&(this.gameObject.body=null,i.body=this,this.gameObject=i),o&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var i=this.gameObject;return i.getTopLeft(this.position),this.width=i.displayWidth,this.height=i.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(i,o){return o===void 0&&(o=i),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(i,o),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(i,o,f){f===void 0&&(f=!0);var u=this.gameObject;if(u&&u.frame&&(i||(i=u.frame.realWidth),o||(o=u.frame.realHeight)),this.world.staticTree.remove(this),this.width=i,this.height=o,this.halfWidth=Math.floor(i/2),this.halfHeight=Math.floor(o/2),f&&u&&u.getCenter){var d=u.displayWidth/2,c=u.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d-this.halfWidth,c-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(i,o,f){return o===void 0&&(o=this.offset.x),f===void 0&&(f=this.offset.y),i>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=i,this.width=i*2,this.height=i*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(o,f),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(i,o){var f=this.gameObject;i===void 0&&(i=f.x),o===void 0&&(o=f.y),this.world.staticTree.remove(this),f.setPosition(i,o),f.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(i){return i.x=this.x,i.y=this.y,i.right=this.right,i.bottom=this.bottom,i},hitTest:function(i,o){return this.isCircle?l(this,i,o):s(this,i,o)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(i){var o=this.position,f=o.x+this.halfWidth,u=o.y+this.halfHeight;this.debugShowBody&&(i.lineStyle(i.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?i.strokeCircle(f,u,this.width/2):i.strokeRect(o.x,o.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(i){return i<=0&&(i=.1),this.mass=i,this},x:{get:function(){return this.position.x},set:function(i){this.world.staticTree.remove(this),this.position.x=i,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(i){this.world.staticTree.remove(this),this.position.y=i,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=h},71464:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13759),v=t(83419),a=t(78389),r=t(37747),s=t(95540),e=t(26479),n=t(41212),h=new v({Extends:e,Mixins:[a],initialize:function(o,f,u,d){!u&&!d?d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:l}:n(u)?(d=u,u=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler,d.createMultipleCallback=this.createMultipleCallbackHandler,d.classType=s(d,"classType",l)):Array.isArray(u)&&n(u[0])?(d=u,u=null,d.forEach(function(c){c.internalCreateCallback=this.createCallbackHandler,c.internalRemoveCallback=this.removeCallbackHandler,c.createMultipleCallback=this.createMultipleCallbackHandler,c.classType=s(c,"classType",l)})):d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=o,this.physicsType=r.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,e.call(this,f,u,d),this.type="StaticPhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,r.STATIC_BODY)},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var i=this.children.entries,o=0;o<i.length;o++)i[o].body.reset();return this}});p.exports=h},82248:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(55495),v=t(37742),a=t(45319),r=t(83419),s=t(79342),e=t(37747),n=t(20339),h=t(52816),i=t(50792),o=t(63012),f=t(43855),u=t(5470),d=t(94977),c=t(64897),m=t(45170),x=t(96523),g=t(35154),T=t(36383),S=t(25774),E=t(96602),P=t(87841),F=t(59542),R=t(40012),M=t(14087),O=t(89936),I=t(35072),V=t(72624),X=t(2483),z=t(61340),Z=t(26099),N=t(15994),Y=new r({Extends:i,initialize:function(b,U){i.call(this),this.scene=b,this.bodies=new I,this.staticBodies=new I,this.pendingDestroy=new I,this.colliders=new S,this.gravity=new Z(g(U,"gravity.x",0),g(U,"gravity.y",0)),this.bounds=new P(g(U,"x",0),g(U,"y",0),g(U,"width",b.sys.scale.width),g(U,"height",b.sys.scale.height)),this.checkCollision={up:g(U,"checkCollision.up",!0),down:g(U,"checkCollision.down",!0),left:g(U,"checkCollision.left",!0),right:g(U,"checkCollision.right",!0)},this.fps=g(U,"fps",60),this.fixedStep=g(U,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=g(U,"timeScale",1),this.OVERLAP_BIAS=g(U,"overlapBias",4),this.TILE_BIAS=g(U,"tileBias",16),this.forceX=g(U,"forceX",!1),this.isPaused=g(U,"isPaused",!1),this._total=0,this.drawDebug=g(U,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:g(U,"debugShowBody",!0),debugShowStaticBody:g(U,"debugShowStaticBody",!0),debugShowVelocity:g(U,"debugShowVelocity",!0),bodyDebugColor:g(U,"debugBodyColor",16711935),staticBodyDebugColor:g(U,"debugStaticBodyColor",255),velocityDebugColor:g(U,"debugVelocityColor",65280)},this.maxEntries=g(U,"maxEntries",16),this.useTree=g(U,"useTree",!0),this.tree=new F(this.maxEntries),this.staticTree=new F(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new z,this._tempMatrix2=new z,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(L,b){b===void 0&&(b=e.DYNAMIC_BODY),Array.isArray(L)||(L=[L]);for(var U=0;U<L.length;U++){var W=L[U];if(W.isParent)for(var j=W.getChildren(),Q=0;Q<j.length;Q++){var _=j[Q];_.isParent?this.enable(_,b):this.enableBody(_,b)}else this.enableBody(W,b)}},enableBody:function(L,b){return b===void 0&&(b=e.DYNAMIC_BODY),L.hasTransformComponent&&(L.body||(b===e.DYNAMIC_BODY?L.body=new v(this,L):b===e.STATIC_BODY&&(L.body=new V(this,L))),this.add(L.body)),L},add:function(L){return L.physicsType===e.DYNAMIC_BODY?this.bodies.set(L):L.physicsType===e.STATIC_BODY&&(this.staticBodies.set(L),this.staticTree.insert(L)),L.enable=!0,L},disable:function(L){Array.isArray(L)||(L=[L]);for(var b=0;b<L.length;b++){var U=L[b];if(U.isParent)for(var W=U.getChildren(),j=0;j<W.length;j++){var Q=W[j];Q.isParent?this.disable(Q):this.disableBody(Q.body)}else this.disableBody(U.body)}},disableBody:function(L){this.remove(L),L.enable=!1},remove:function(L){L.physicsType===e.DYNAMIC_BODY?(this.tree.remove(L),this.bodies.delete(L)):L.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(L),this.staticTree.remove(L))},createDebugGraphic:function(){var L=this.scene.sys.add.graphics({x:0,y:0});return L.setDepth(Number.MAX_VALUE),this.debugGraphic=L,this.drawDebug=!0,L},setBounds:function(L,b,U,W,j,Q,_,et){return this.bounds.setTo(L,b,U,W),j!==void 0&&this.setBoundsCollision(j,Q,_,et),this},setBoundsCollision:function(L,b,U,W){return L===void 0&&(L=!0),b===void 0&&(b=!0),U===void 0&&(U=!0),W===void 0&&(W=!0),this.checkCollision.left=L,this.checkCollision.right=b,this.checkCollision.up=U,this.checkCollision.down=W,this},pause:function(){return this.isPaused=!0,this.emit(o.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(o.RESUME),this},addCollider:function(L,b,U,W,j){U===void 0&&(U=null),W===void 0&&(W=null),j===void 0&&(j=U);var Q=new s(this,!1,L,b,U,W,j);return this.colliders.add(Q),Q},addOverlap:function(L,b,U,W,j){U===void 0&&(U=null),W===void 0&&(W=null),j===void 0&&(j=U);var Q=new s(this,!0,L,b,U,W,j);return this.colliders.add(Q),Q},removeCollider:function(L){return this.colliders.remove(L),this},setFPS:function(L){return this.fps=L,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(L,b){if(!(this.isPaused||this.bodies.size===0)){var U,W=this._frameTime,j=this._frameTimeMS*this.timeScale;this._elapsed+=b;var Q,_=this.bodies.entries,et=this._elapsed>=j;for(this.fixedStep||(W=b*.001,et=!0,this._elapsed=0),U=0;U<_.length;U++)Q=_[U],Q.enable&&Q.preUpdate(et,W);if(et){this._elapsed-=j,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(_));var st=this.colliders.update();for(U=0;U<st.length;U++){var ct=st[U];ct.active&&ct.update()}this.emit(o.WORLD_STEP,W)}for(;this._elapsed>=j;)this._elapsed-=j,this.step(W)}},step:function(L){var b,U,W=this.bodies.entries,j=W.length;for(b=0;b<j;b++)U=W[b],U.enable&&U.update(L);this.useTree&&(this.tree.clear(),this.tree.load(W));var Q=this.colliders.update();for(b=0;b<Q.length;b++){var _=Q[b];_.active&&_.update()}this.emit(o.WORLD_STEP,L),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var L,b,U=this.bodies.entries,W=U.length,j=this.bodies,Q=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,L=0;L<W;L++)b=U[L],b.enable&&b.postUpdate();if(this.drawDebug){var _=this.debugGraphic;for(_.clear(),L=0;L<W;L++)b=U[L],b.willDrawDebug()&&b.drawDebug(_);for(U=Q.entries,W=U.length,L=0;L<W;L++)b=U[L],b.willDrawDebug()&&b.drawDebug(_)}var et=this.pendingDestroy;if(et.size>0){var st=this.tree,ct=this.staticTree;for(U=et.entries,W=U.length,L=0;L<W;L++)b=U[L],b.physicsType===e.DYNAMIC_BODY?(st.remove(b),j.delete(b)):b.physicsType===e.STATIC_BODY&&(ct.remove(b),Q.delete(b)),b.world=void 0,b.gameObject=void 0;et.clear()}},updateMotion:function(L,b){L.allowRotation&&this.computeAngularVelocity(L,b),this.computeVelocity(L,b)},computeAngularVelocity:function(L,b){var U=L.angularVelocity,W=L.angularAcceleration,j=L.angularDrag,Q=L.maxAngular;W?U+=W*b:L.allowDrag&&j&&(j*=b,u(U-j,0,.1)?U-=j:d(U+j,0,.1)?U+=j:U=0),U=a(U,-Q,Q);var _=U-L.angularVelocity;L.angularVelocity+=_,L.rotation+=L.angularVelocity*b},computeVelocity:function(L,b){var U=L.velocity.x,W=L.acceleration.x,j=L.drag.x,Q=L.maxVelocity.x,_=L.velocity.y,et=L.acceleration.y,st=L.drag.y,ct=L.maxVelocity.y,gt=L.speed,Et=L.maxSpeed,xt=L.allowDrag,Mt=L.useDamping;L.allowGravity&&(U+=(this.gravity.x+L.gravity.x)*b,_+=(this.gravity.y+L.gravity.y)*b),W?U+=W*b:xt&&j&&(Mt?(j=Math.pow(j,b),U*=j,gt=Math.sqrt(U*U+_*_),f(gt,0,.001)&&(U=0)):(j*=b,u(U-j,0,.01)?U-=j:d(U+j,0,.01)?U+=j:U=0)),et?_+=et*b:xt&&st&&(Mt?(st=Math.pow(st,b),_*=st,gt=Math.sqrt(U*U+_*_),f(gt,0,.001)&&(_=0)):(st*=b,u(_-st,0,.01)?_-=st:d(_+st,0,.01)?_+=st:_=0)),U=a(U,-Q,Q),_=a(_,-ct,ct),L.velocity.set(U,_),Et>-1&&L.velocity.length()>Et&&(L.velocity.normalize().scale(Et),gt=Et),L.speed=gt},separate:function(L,b,U,W,j){var Q,_,et=!1,st=!0;if(!L.enable||!b.enable||L.checkCollision.none||b.checkCollision.none||!this.intersects(L,b)||U&&U.call(W,L.gameObject,b.gameObject)===!1)return et;if(L.isCircle||b.isCircle){var ct=this.separateCircle(L,b,j);ct.result?(et=!0,st=!1):(Q=ct.x,_=ct.y,st=!0)}if(st){var gt=!1,Et=!1,xt=this.OVERLAP_BIAS;j?(gt=M(L,b,j,xt,Q),Et=O(L,b,j,xt,_)):this.forceX||Math.abs(this.gravity.y+L.gravity.y)<Math.abs(this.gravity.x+L.gravity.x)?(gt=M(L,b,j,xt,Q),this.intersects(L,b)&&(Et=O(L,b,j,xt,_))):(Et=O(L,b,j,xt,_),this.intersects(L,b)&&(gt=M(L,b,j,xt,Q))),et=gt||Et}return et&&(j?(L.onOverlap||b.onOverlap)&&this.emit(o.OVERLAP,L.gameObject,b.gameObject,L,b):(L.onCollide||b.onCollide)&&this.emit(o.COLLIDE,L.gameObject,b.gameObject,L,b)),et},separateCircle:function(L,b,U){c(L,b,!1,0),m(L,b,!1,0);var W=L.isCircle,j=b.isCircle,Q=L.center,_=b.center,et=L.immovable,st=b.immovable,ct=L.velocity,gt=b.velocity,Et=0,xt=!0;if(W!==j){xt=!1;var Mt=Q.x,Vt=Q.y,Wt=L.halfWidth,Nt=b.position.x,Pt=b.position.y,bt=b.right,Gt=b.bottom;j&&(Mt=_.x,Vt=_.y,Wt=b.halfWidth,Nt=L.position.x,Pt=L.position.y,bt=L.right,Gt=L.bottom),Vt<Pt?Mt<Nt?Et=n(Mt,Vt,Nt,Pt)-Wt:Mt>bt&&(Et=n(Mt,Vt,bt,Pt)-Wt):Vt>Gt&&(Mt<Nt?Et=n(Mt,Vt,Nt,Gt)-Wt:Mt>bt&&(Et=n(Mt,Vt,bt,Gt)-Wt)),Et*=-1}else Et=L.halfWidth+b.halfWidth-h(Q,_);L.overlapR=Et,b.overlapR=Et;var Zt=l(Q,_),$t=(Et+T.EPSILON)*Math.cos(Zt),le=(Et+T.EPSILON)*Math.sin(Zt),ve={overlap:Et,result:!1,x:$t,y:le};if(U&&(!xt||xt&&Et!==0))return ve.result=!0,ve;if(!xt&&Et===0||et&&st||L.customSeparateX||b.customSeparateX)return ve.x=void 0,ve.y=void 0,ve;var ie=!L.pushable&&!b.pushable;if(xt){var qt=Q.x-_.x,de=Q.y-_.y,ce=Math.sqrt(Math.pow(qt,2)+Math.pow(de,2)),Le=(_.x-Q.x)/ce||0,Se=(_.y-Q.y)/ce||0,Ut=2*(ct.x*Le+ct.y*Se-gt.x*Le-gt.y*Se)/(L.mass+b.mass);(et||st)&&(Ut*=2),et||(ct.x=ct.x-Ut/L.mass*Le,ct.y=ct.y-Ut/L.mass*Se,ct.multiply(L.bounce)),st||(gt.x=gt.x+Ut/b.mass*Le,gt.y=gt.y+Ut/b.mass*Se,gt.multiply(b.bounce)),!et&&!st&&($t*=.5,le*=.5),et||(L.x-=$t,L.y-=le,L.updateCenter()),st||(b.x+=$t,b.y+=le,b.updateCenter()),ve.result=!0}else!et||L.pushable||ie?(L.x-=$t,L.y-=le,L.updateCenter()):(!st||b.pushable||ie)&&(b.x+=$t,b.y+=le,b.updateCenter()),ve.x=void 0,ve.y=void 0;return ve},intersects:function(L,b){return L===b?!1:!L.isCircle&&!b.isCircle?!(L.right<=b.left||L.bottom<=b.top||L.left>=b.right||L.top>=b.bottom):L.isCircle?b.isCircle?h(L.center,b.center)<=L.halfWidth+b.halfWidth:this.circleBodyIntersects(L,b):this.circleBodyIntersects(b,L)},circleBodyIntersects:function(L,b){var U=a(L.center.x,b.left,b.right),W=a(L.center.y,b.top,b.bottom),j=(L.center.x-U)*(L.center.x-U),Q=(L.center.y-W)*(L.center.y-W);return j+Q<=L.halfWidth*L.halfWidth},overlap:function(L,b,U,W,j){return U===void 0&&(U=null),W===void 0&&(W=null),j===void 0&&(j=U),this.collideObjects(L,b,U,W,j,!0)},collide:function(L,b,U,W,j){return U===void 0&&(U=null),W===void 0&&(W=null),j===void 0&&(j=U),this.collideObjects(L,b,U,W,j,!1)},collideObjects:function(L,b,U,W,j,Q){var _,et;L.isParent&&(L.physicsType===void 0||b===void 0||L===b)&&(L=L.children.entries),b&&b.isParent&&b.physicsType===void 0&&(b=b.children.entries);var st=Array.isArray(L),ct=Array.isArray(b);if(this._total=0,!st&&!ct)this.collideHandler(L,b,U,W,j,Q);else if(!st&&ct)for(_=0;_<b.length;_++)this.collideHandler(L,b[_],U,W,j,Q);else if(st&&!ct)if(b)for(_=0;_<L.length;_++)this.collideHandler(L[_],b,U,W,j,Q);else for(_=0;_<L.length;_++){var gt=L[_];for(et=_+1;et<L.length;et++)_!==et&&this.collideHandler(gt,L[et],U,W,j,Q)}else for(_=0;_<L.length;_++)for(et=0;et<b.length;et++)this.collideHandler(L[_],b[et],U,W,j,Q);return this._total>0},collideHandler:function(L,b,U,W,j,Q){if(b===void 0&&L.isParent)return this.collideGroupVsGroup(L,L,U,W,j,Q);if(!L||!b)return!1;if(L.body||L.isBody){if(b.body||b.isBody)return this.collideSpriteVsSprite(L,b,U,W,j,Q);if(b.isParent)return this.collideSpriteVsGroup(L,b,U,W,j,Q);if(b.isTilemap)return this.collideSpriteVsTilemapLayer(L,b,U,W,j,Q)}else if(L.isParent){if(b.body||b.isBody)return this.collideSpriteVsGroup(b,L,U,W,j,Q);if(b.isParent)return this.collideGroupVsGroup(L,b,U,W,j,Q);if(b.isTilemap)return this.collideGroupVsTilemapLayer(L,b,U,W,j,Q)}else if(L.isTilemap){if(b.body||b.isBody)return this.collideSpriteVsTilemapLayer(b,L,U,W,j,Q);if(b.isParent)return this.collideGroupVsTilemapLayer(b,L,U,W,j,Q)}},canCollide:function(L,b){return L&&b&&(L.collisionMask&b.collisionCategory)!==0&&(b.collisionMask&L.collisionCategory)!==0},collideSpriteVsSprite:function(L,b,U,W,j,Q){var _=L.isBody?L:L.body,et=b.isBody?b:b.body;return this.canCollide(_,et)?(this.separate(_,et,W,j,Q)&&(U&&U.call(j,L,b),this._total++),!0):!1},collideSpriteVsGroup:function(L,b,U,W,j,Q){var _=L.isBody?L:L.body;if(!(b.length===0||!_||!_.enable||_.checkCollision.none||!this.canCollide(_,b))){var et,st,ct;if(this.useTree||b.physicsType===e.STATIC_BODY){var gt=this.treeMinMax;gt.minX=_.left,gt.minY=_.top,gt.maxX=_.right,gt.maxY=_.bottom;var Et=b.physicsType===e.DYNAMIC_BODY?this.tree.search(gt):this.staticTree.search(gt);for(st=Et.length,et=0;et<st;et++)ct=Et[et],!(_===ct||!ct.enable||ct.checkCollision.none||!b.contains(ct.gameObject))&&this.separate(_,ct,W,j,Q)&&(U&&U.call(j,_.gameObject,ct.gameObject),this._total++)}else{var xt=b.getChildren(),Mt=b.children.entries.indexOf(L);for(st=xt.length,et=0;et<st;et++)ct=xt[et].body,!(!ct||et===Mt||!ct.enable)&&this.separate(_,ct,W,j,Q)&&(U&&U.call(j,_.gameObject,ct.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(L,b,U,W,j,Q){if(!this.canCollide(L,b))return!1;var _=L.getChildren();if(_.length===0)return!1;for(var et=!1,st=0;st<_.length;st++)(_[st].body||_[st].isBody)&&this.collideSpriteVsTilemapLayer(_[st],b,U,W,j,Q)&&(et=!0);return et},collideTiles:function(L,b,U,W,j){return b.length===0||L.body&&!L.body.enable||L.isBody&&!L.enable?!1:this.collideSpriteVsTilesHandler(L,b,U,W,j,!1,!1)},overlapTiles:function(L,b,U,W,j){return b.length===0||L.body&&!L.body.enable||L.isBody&&!L.enable?!1:this.collideSpriteVsTilesHandler(L,b,U,W,j,!0,!1)},collideSpriteVsTilemapLayer:function(L,b,U,W,j,Q){var _=L.isBody?L:L.body;if(!_.enable||_.checkCollision.none||!this.canCollide(_,b))return!1;var et=b.layer,st=_.x-et.tileWidth*b.scaleX,ct=_.y-et.tileHeight*b.scaleY,gt=_.width+et.tileWidth*b.scaleX,Et=_.height+et.tileHeight*b.scaleY,xt=Q?null:this.tileFilterOptions,Mt=x(st,ct,gt,Et,xt,b.scene.cameras.main,b.layer);return Mt.length===0?!1:this.collideSpriteVsTilesHandler(L,Mt,U,W,j,Q,!0)},collideSpriteVsTilesHandler:function(L,b,U,W,j,Q,_){for(var et=L.isBody?L:L.body,st,ct={left:0,right:0,top:0,bottom:0},gt,Et=!1,xt=0;xt<b.length;xt++){st=b[xt],gt=st.tilemapLayer;var Mt=gt.tileToWorldXY(st.x,st.y);ct.left=Mt.x,ct.top=Mt.y,ct.right=ct.left+st.width*gt.scaleX,ct.bottom=ct.top+st.height*gt.scaleY,X(ct,et)&&(!W||W.call(j,L,st))&&E(st,L)&&(Q||R(xt,et,st,ct,gt,this.TILE_BIAS,_))&&(this._total++,Et=!0,U&&U.call(j,L,st),Q&&et.onOverlap?this.emit(o.TILE_OVERLAP,L,st,et):et.onCollide&&this.emit(o.TILE_COLLIDE,L,st,et))}return Et},collideGroupVsGroup:function(L,b,U,W,j,Q){if(!(L.length===0||b.length===0||!this.canCollide(L,b)))for(var _=L.getChildren(),et=0;et<_.length;et++)this.collideSpriteVsGroup(_[et],b,U,W,j,Q)},wrap:function(L,b){L.body?this.wrapObject(L,b):L.getChildren?this.wrapArray(L.getChildren(),b):Array.isArray(L)?this.wrapArray(L,b):this.wrapObject(L,b)},wrapArray:function(L,b){for(var U=0;U<L.length;U++)this.wrapObject(L[U],b)},wrapObject:function(L,b){b===void 0&&(b=0),L.x=N(L.x,this.bounds.left-b,this.bounds.right+b),L.y=N(L.y,this.bounds.top-b,this.bounds.bottom+b)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});p.exports=Y},1093:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setAcceleration:function(t,l){return this.body.acceleration.set(t,l),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};p.exports=y},59023:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};p.exports=y},62069:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setBounce:function(t,l){return this.body.bounce.set(t,l),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,l,v,a){return this.body.setCollideWorldBounds(t,l,v,a),this}};p.exports=y},78389:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79599),v={setCollisionCategory:function(a){var r=this.body?this.body:this;return r.collisionCategory=a,this},willCollideWith:function(a){var r=this.body?this.body:this;return(r.collisionMask&a)!==0},addCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=r.collisionMask|a,this},removeCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=r.collisionMask&~a,this},setCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=l(a),this},resetCollisionCategory:function(){var a=this.body?this.body:this;return a.collisionCategory=1,a.collisionMask=1,this}};p.exports=v},87118:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDebug:function(t,l,v){return this.debugShowBody=t,this.debugShowVelocity=l,this.debugBodyColor=v,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};p.exports=y},52819:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDrag:function(t,l){return this.body.drag.set(t,l),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};p.exports=y},4074:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,l,v,a,r){return t&&this.body.reset(l,v),a&&(this.body.gameObject.active=!0),r&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,l){return t===void 0&&(t=!1),l===void 0&&(l=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),l&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};p.exports=y},40831:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setFriction:function(t,l){return this.body.friction.set(t,l),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};p.exports=y},26775:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setGravity:function(t,l){return this.body.gravity.set(t,l),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};p.exports=y},9437:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};p.exports=y},30621:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setMass:function(t){return this.body.mass=t,this}};p.exports=y},72441:(p,y,t)=>{var l=t(47956),v=t(96503),a=t(2044),r=t(81491),s=function(e,n,h,i,o,f){var u=l(e,n-i,h-i,2*i,2*i,o,f);if(u.length===0)return u;for(var d=new v(n,h,i),c=new v,m=[],x=0;x<u.length;x++){var g=u[x];g.isCircle?(c.setTo(g.center.x,g.center.y,g.halfWidth),a(d,c)&&m.push(g)):r(d,g)&&m.push(g)}return m};p.exports=s},47956:p=>{var y=function(t,l,v,a,r,s,e){s===void 0&&(s=!0),e===void 0&&(e=!1);var n=[],h=[],i=t.treeMinMax;if(i.minX=l,i.minY=v,i.maxX=l+a,i.maxY=v+r,e&&(h=t.staticTree.search(i)),s&&t.useTree)n=t.tree.search(i);else if(s){var o=t.bodies,f={position:{x:l,y:v},left:l,top:v,right:l+a,bottom:v+r,isCircle:!1},u=t.intersects;o.iterate(function(d){u(d,f)&&n.push(d)})}return h.concat(n)};p.exports=y},62121:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};p.exports=y},29384:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setOffset:function(t,l){return this.body.setOffset(t,l),this},setSize:function(t,l,v){return this.body.setSize(t,l,v),this},setBodySize:function(t,l,v){return this.body.setSize(t,l,v),this},setCircle:function(t,l,v){return this.body.setCircle(t,l,v),this}};p.exports=y},15098:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setVelocity:function(t,l){return this.body.setVelocity(t,l),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,l){return this.body.maxVelocity.set(t,l),this}};p.exports=y},92209:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};p.exports=y},20009:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collide"},36768:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="overlap"},60473:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},89954:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},61804:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tilecollide"},7161:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tileoverlap"},34689:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldbounds"},16006:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldstep"},63012:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37747),v=t(79291),a={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};a=v(!1,a,l),p.exports=a},96602:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,l,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,l,t):!0};p.exports=y},36294:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){l<0?(t.blocked.none=!1,t.blocked.left=!0):l>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=l,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};p.exports=y},67013:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){l<0?(t.blocked.none=!1,t.blocked.up=!0):l>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=l,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};p.exports=y},40012:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(21329),v=t(53442),a=t(2483),r=function(s,e,n,h,i,o,f){var u=h.left,d=h.top,c=h.right,m=h.bottom,x=n.faceLeft||n.faceRight,g=n.faceTop||n.faceBottom;if(f||(x=!0,g=!0),!x&&!g)return!1;var T=0,S=0,E=0,P=1;if(e.deltaAbsX()>e.deltaAbsY()?E=-1:e.deltaAbsX()<e.deltaAbsY()&&(P=-1),e.deltaX()!==0&&e.deltaY()!==0&&x&&g&&(E=Math.min(Math.abs(e.position.x-c),Math.abs(e.right-u)),P=Math.min(Math.abs(e.position.y-m),Math.abs(e.bottom-d))),E<P){if(x&&(T=l(e,n,u,c,o,f),T!==0&&!a(h,e)))return!0;g&&(S=v(e,n,d,m,o,f))}else{if(g&&(S=v(e,n,d,m,o,f),S!==0&&!a(h,e)))return!0;x&&(T=l(e,n,u,c,o,f))}return T!==0||S!==0};p.exports=r},21329:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36294),v=function(a,r,s,e,n,h){var i=0,o=r.faceLeft,f=r.faceRight,u=r.collideLeft,d=r.collideRight;return h||(o=!0,f=!0,u=!0,d=!0),a.deltaX()<0&&d&&a.checkCollision.left?f&&a.x<e&&(i=a.x-e,i<-n&&(i=0)):a.deltaX()>0&&u&&a.checkCollision.right&&o&&a.right>s&&(i=a.right-s,i>n&&(i=0)),i!==0&&(a.customSeparateX?a.overlapX=i:l(a,i)),i};p.exports=v},53442:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(67013),v=function(a,r,s,e,n,h){var i=0,o=r.faceTop,f=r.faceBottom,u=r.collideUp,d=r.collideDown;return h||(o=!0,f=!0,u=!0,d=!0),a.deltaY()<0&&d&&a.checkCollision.up?f&&a.y<e&&(i=a.y-e,i<-n&&(i=0)):a.deltaY()>0&&u&&a.checkCollision.down&&o&&a.bottom>s&&(i=a.bottom-s,i>n&&(i=0)),i!==0&&(a.customSeparateY?a.overlapY=i:l(a,i)),i};p.exports=v},2483:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return!(l.right<=t.left||l.bottom<=t.top||l.position.x>=t.right||l.position.y>=t.bottom)};p.exports=y},55173:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};p.exports=l},44563:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Arcade:t(27064),Matter:t(3875)}},68174:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(26099),a=new l({initialize:function(){this.boundsCenter=new v,this.centerDiff=new v},parseBody:function(r){if(r=r.hasOwnProperty("body")?r.body:r,!r.hasOwnProperty("bounds")||!r.hasOwnProperty("centerOfMass"))return!1;var s=this.boundsCenter,e=this.centerDiff,n=r.bounds.max.x-r.bounds.min.x,h=r.bounds.max.y-r.bounds.min.y,i=n*r.centerOfMass.x,o=h*r.centerOfMass.y;return s.set(n/2,h/2),e.set(i-s.x,o-s.y),!0},getTopLeft:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var n=this.boundsCenter,h=this.centerDiff;return new v(s+n.x+h.x,e+n.y+h.y)}return!1},getTopCenter:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var n=this.boundsCenter,h=this.centerDiff;return new v(s+h.x,e+n.y+h.y)}return!1},getTopRight:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var n=this.boundsCenter,h=this.centerDiff;return new v(s-(n.x-h.x),e+n.y+h.y)}return!1},getLeftCenter:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var n=this.boundsCenter,h=this.centerDiff;return new v(s+n.x+h.x,e+h.y)}return!1},getCenter:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var n=this.centerDiff;return new v(s+n.x,e+n.y)}return!1},getRightCenter:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var n=this.boundsCenter,h=this.centerDiff;return new v(s-(n.x-h.x),e+h.y)}return!1},getBottomLeft:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var n=this.boundsCenter,h=this.centerDiff;return new v(s+n.x+h.x,e-(n.y-h.y))}return!1},getBottomCenter:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var n=this.boundsCenter,h=this.centerDiff;return new v(s+h.x,e-(n.y-h.y))}return!1},getBottomRight:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var n=this.boundsCenter,h=this.centerDiff;return new v(s-(n.x-h.x),e-(n.y-h.y))}return!1}});p.exports=a},19933:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6790);l.Body=t(22562),l.Composite=t(69351),l.World=t(4372),l.Collision=t(52284),l.Detector=t(81388),l.Pairs=t(99561),l.Pair=t(4506),l.Query=t(73296),l.Resolver=t(66272),l.Constraint=t(48140),l.Common=t(53402),l.Engine=t(48413),l.Events=t(35810),l.Sleeping=t(53614),l.Plugin=t(73832),l.Bodies=t(66280),l.Composites=t(74116),l.Axes=t(66615),l.Bounds=t(15647),l.Svg=t(74058),l.Vector=t(31725),l.Vertices=t(41598),l.World.add=l.Composite.add,l.World.remove=l.Composite.remove,l.World.addComposite=l.Composite.addComposite,l.World.addBody=l.Composite.addBody,l.World.addConstraint=l.Composite.addConstraint,l.World.clear=l.Composite.clear,p.exports=l},28137:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66280),v=t(83419),a=t(74116),r=t(48140),s=t(74058),e=t(75803),n=t(23181),h=t(34803),i=t(73834),o=t(19496),f=t(85791),u=t(98713),d=t(41598),c=new v({initialize:function(x){this.world=x,this.scene=x.scene,this.sys=x.scene.sys},rectangle:function(m,x,g,T,S){var E=l.rectangle(m,x,g,T,S);return this.world.add(E),E},trapezoid:function(m,x,g,T,S,E){var P=l.trapezoid(m,x,g,T,S,E);return this.world.add(P),P},circle:function(m,x,g,T,S){var E=l.circle(m,x,g,T,S);return this.world.add(E),E},polygon:function(m,x,g,T,S){var E=l.polygon(m,x,g,T,S);return this.world.add(E),E},fromVertices:function(m,x,g,T,S,E,P){typeof g=="string"&&(g=d.fromPath(g));var F=l.fromVertices(m,x,g,T,S,E,P);return this.world.add(F),F},fromPhysicsEditor:function(m,x,g,T,S){S===void 0&&(S=!0);var E=o.parseBody(m,x,g,T);return S&&!this.world.has(E)&&this.world.add(E),E},fromSVG:function(m,x,g,T,S,E){T===void 0&&(T=1),S===void 0&&(S={}),E===void 0&&(E=!0);for(var P=g.getElementsByTagName("path"),F=[],R=0;R<P.length;R++){var M=s.pathToVertices(P[R],30);T!==1&&d.scale(M,T,T),F.push(M)}var O=l.fromVertices(m,x,F,S);return E&&this.world.add(O),O},fromJSON:function(m,x,g,T,S){T===void 0&&(T={}),S===void 0&&(S=!0);var E=f.parseBody(m,x,g,T);return E&&S&&this.world.add(E),E},imageStack:function(m,x,g,T,S,E,P,F,R){P===void 0&&(P=0),F===void 0&&(F=0),R===void 0&&(R={});var M=this.world,O=this.sys.displayList;R.addToWorld=!1;var I=a.stack(g,T,S,E,P,F,function(V,X){var z=new n(M,V,X,m,x,R);return O.add(z),z.body});return M.add(I),I},stack:function(m,x,g,T,S,E,P){var F=a.stack(m,x,g,T,S,E,P);return this.world.add(F),F},pyramid:function(m,x,g,T,S,E,P){var F=a.pyramid(m,x,g,T,S,E,P);return this.world.add(F),F},chain:function(m,x,g,T,S,E){return a.chain(m,x,g,T,S,E)},mesh:function(m,x,g,T,S){return a.mesh(m,x,g,T,S)},newtonsCradle:function(m,x,g,T,S){var E=a.newtonsCradle(m,x,g,T,S);return this.world.add(E),E},car:function(m,x,g,T,S){var E=a.car(m,x,g,T,S);return this.world.add(E),E},softBody:function(m,x,g,T,S,E,P,F,R,M){var O=a.softBody(m,x,g,T,S,E,P,F,R,M);return this.world.add(O),O},joint:function(m,x,g,T,S){return this.constraint(m,x,g,T,S)},spring:function(m,x,g,T,S){return this.constraint(m,x,g,T,S)},constraint:function(m,x,g,T,S){T===void 0&&(T=1),S===void 0&&(S={}),S.bodyA=m.type==="body"?m:m.body,S.bodyB=x.type==="body"?x:x.body,isNaN(g)||(S.length=g),S.stiffness=T;var E=r.create(S);return this.world.add(E),E},worldConstraint:function(m,x,g,T){g===void 0&&(g=1),T===void 0&&(T={}),T.bodyB=m.type==="body"?m:m.body,isNaN(x)||(T.length=x),T.stiffness=g;var S=r.create(T);return this.world.add(S),S},mouseSpring:function(m){return this.pointerConstraint(m)},pointerConstraint:function(m){m===void 0&&(m={}),m.hasOwnProperty("render")||(m.render={visible:!1});var x=new u(this.scene,this.world,m);return this.world.add(x.constraint),x},image:function(m,x,g,T,S){var E=new n(this.world,m,x,g,T,S);return this.sys.displayList.add(E),E},tileBody:function(m,x){return new i(this.world,m,x)},sprite:function(m,x,g,T,S){var E=new h(this.world,m,x,g,T,S);return this.sys.displayList.add(E),this.sys.updateList.add(E),E},gameObject:function(m,x,g){return e(this.world,m,x,g)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=c},75803:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(31884),v=t(95540),a=t(26099);function r(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var s=function(e,n,h,i){h===void 0&&(h={}),i===void 0&&(i=!0);var o=n.x,f=n.y;n.body={temp:!0,position:{x:o,y:f}};var u=[l.Bounce,l.Collision,l.Force,l.Friction,l.Gravity,l.Mass,l.Sensor,l.SetBody,l.Sleep,l.Static,l.Transform,l.Velocity];if(u.forEach(function(c){for(var m in c)r(c[m])?Object.defineProperty(n,m,{get:c[m].get,set:c[m].set}):Object.defineProperty(n,m,{value:c[m]})}),n.world=e,n._tempVec2=new a(o,f),h.hasOwnProperty("type")&&h.type==="body")n.setExistingBody(h,i);else{var d=v(h,"shape",null);d||(d="rectangle"),h.addToWorld=i,n.setBody(d,h)}return n};p.exports=s},23181:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31884),a=t(95643),r=t(95540),s=t(88571),e=t(72699),n=t(26099),h=new l({Extends:s,Mixins:[v.Bounce,v.Collision,v.Force,v.Friction,v.Gravity,v.Mass,v.Sensor,v.SetBody,v.Sleep,v.Static,v.Transform,v.Velocity,e],initialize:function(o,f,u,d,c,m){a.call(this,o.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,c),this.setSizeToFrame(),this.setOrigin(),this.world=o,this._tempVec2=new n(f,u);var x=r(m,"shape",null);x?this.setBody(x,m):this.setRectangle(this.width,this.height,m),this.setPosition(f,u),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=h},42045:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60461),v=t(66615),a=t(66280),r=t(22562),s=t(68174),e=t(15647),n=t(83419),h=t(52284),i=t(53402),o=t(69351),f=t(74116),u=t(48140),d=t(81388),c=t(20339),m=t(28137),x=t(95540),g=t(35154),T=t(18210),S=t(40178),E=t(6790),P=t(74507),F=t(46975),R=t(4506),M=t(99561),O=t(73832),I=t(37277),V=t(73296),X=t(66272),z=t(44594),Z=t(74058),N=t(31725),Y=t(41598),L=t(68243);i.setDecomp(t(55973));var b=new n({initialize:function(W){this.scene=W,this.systems=W.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=r,this.composite=o,this.collision=h,this.detector=d,this.pair=R,this.pairs=M,this.query=V,this.resolver=X,this.constraint=u,this.bodies=a,this.composites=f,this.axes=v,this.bounds=e,this.svg=Z,this.vector=N,this.vertices=Y,this.verts=Y,this._tempVec2=N.create(),g(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),g(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),g(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),X._restingThresh=g(this.config,"restingThresh",4),X._restingThreshTangent=g(this.config,"restingThreshTangent",6),X._positionDampen=g(this.config,"positionDampen",.9),X._positionWarming=g(this.config,"positionWarming",.8),X._frictionNormalMultiplier=g(this.config,"frictionNormalMultiplier",5),W.sys.events.once(z.BOOT,this.boot,this),W.sys.events.on(z.START,this.start,this)},boot:function(){this.world=new L(this.scene,this.config),this.add=new m(this.world),this.bodyBounds=new s,this.systems.events.once(z.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new L(this.scene,this.config),this.add=new m(this.world));var U=this.systems.events;U.on(z.UPDATE,this.world.update,this.world),U.on(z.POST_UPDATE,this.world.postUpdate,this.world),U.once(z.SHUTDOWN,this.shutdown,this)},getConfig:function(){var U=this.systems.game.config.physics,W=this.systems.settings.physics,j=F(x(W,"matter",{}),x(U,"matter",{}));return j},enableAttractorPlugin:function(){return O.register(T),O.use(E,T),this},enableWrapPlugin:function(){return O.register(P),O.use(E,P),this},enableCollisionEventsPlugin:function(){return O.register(S),O.use(E,S),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(U,W){this.world.step(U,W)},containsPoint:function(U,W,j){U=this.getMatterBodies(U);var Q=N.create(W,j),_=V.point(U,Q);return _.length>0},intersectPoint:function(U,W,j){j=this.getMatterBodies(j);var Q=N.create(U,W),_=[],et=V.point(j,Q);return et.forEach(function(st){_.indexOf(st)===-1&&_.push(st)}),_},intersectRect:function(U,W,j,Q,_,et){_===void 0&&(_=!1),et=this.getMatterBodies(et);var st={min:{x:U,y:W},max:{x:U+j,y:W+Q}},ct=[],gt=V.region(et,st,_);return gt.forEach(function(Et){ct.indexOf(Et)===-1&&ct.push(Et)}),ct},intersectRay:function(U,W,j,Q,_,et){_===void 0&&(_=1),et=this.getMatterBodies(et);for(var st=[],ct=V.ray(et,N.create(U,W),N.create(j,Q),_),gt=0;gt<ct.length;gt++)st.push(ct[gt].body);return st},intersectBody:function(U,W){W=this.getMatterBodies(W);for(var j=[],Q=V.collides(U,W),_=0;_<Q.length;_++){var et=Q[_];et.bodyA===U?j.push(et.bodyB):j.push(et.bodyA)}return j},overlap:function(U,W,j,Q,_){j===void 0&&(j=null),Q===void 0&&(Q=null),_===void 0&&(_=j),Array.isArray(U)||(U=[U]),U=this.getMatterBodies(U),W=this.getMatterBodies(W);for(var et=!1,st=0;st<U.length;st++)for(var ct=U[st],gt=V.collides(ct,W),Et=0;Et<gt.length;Et++){var xt=gt[Et],Mt=xt.bodyA.id===ct.id?xt.bodyB:xt.bodyA;if(!Q||Q.call(_,ct,Mt,xt)){if(et=!0,j)j.call(_,ct,Mt,xt);else if(!Q)return!0}}return et},setCollisionCategory:function(U,W){return U=this.getMatterBodies(U),U.forEach(function(j){j.collisionFilter.category=W}),this},setCollisionGroup:function(U,W){return U=this.getMatterBodies(U),U.forEach(function(j){j.collisionFilter.group=W}),this},setCollidesWith:function(U,W){U=this.getMatterBodies(U);var j=0;if(!Array.isArray(W))j=W;else for(var Q=0;Q<W.length;Q++)j|=W[Q];return U.forEach(function(_){_.collisionFilter.mask=j}),this},getMatterBodies:function(U){if(!U)return this.world.getAllBodies();Array.isArray(U)||(U=[U]);for(var W=[],j=0;j<U.length;j++){var Q=U[j].hasOwnProperty("body")?U[j].body:U[j];W.push(Q)}return W},setVelocity:function(U,W,j){U=this.getMatterBodies(U);var Q=this._tempVec2;return Q.x=W,Q.y=j,U.forEach(function(_){r.setVelocity(_,Q)}),this},setVelocityX:function(U,W){U=this.getMatterBodies(U);var j=this._tempVec2;return j.x=W,U.forEach(function(Q){j.y=Q.velocity.y,r.setVelocity(Q,j)}),this},setVelocityY:function(U,W){U=this.getMatterBodies(U);var j=this._tempVec2;return j.y=W,U.forEach(function(Q){j.x=Q.velocity.x,r.setVelocity(Q,j)}),this},setAngularVelocity:function(U,W){return U=this.getMatterBodies(U),U.forEach(function(j){r.setAngularVelocity(j,W)}),this},applyForce:function(U,W){U=this.getMatterBodies(U);var j=this._tempVec2;return U.forEach(function(Q){j.x=Q.position.x,j.y=Q.position.y,r.applyForce(Q,j,W)}),this},applyForceFromPosition:function(U,W,j,Q){U=this.getMatterBodies(U);var _=this._tempVec2;return U.forEach(function(et){Q===void 0&&(Q=et.angle),_.x=j*Math.cos(Q),_.y=j*Math.sin(Q),r.applyForce(et,W,_)}),this},applyForceFromAngle:function(U,W,j){U=this.getMatterBodies(U);var Q=this._tempVec2;return U.forEach(function(_){j===void 0&&(j=_.angle),Q.x=W*Math.cos(j),Q.y=W*Math.sin(j),r.applyForce(_,{x:_.position.x,y:_.position.y},Q)}),this},getConstraintLength:function(U){var W=U.pointA.x,j=U.pointA.y,Q=U.pointB.x,_=U.pointB.y;return U.bodyA&&(W+=U.bodyA.position.x,j+=U.bodyA.position.y),U.bodyB&&(Q+=U.bodyB.position.x,_+=U.bodyB.position.y),c(W,j,Q,_)},alignBody:function(U,W,j,Q){U=U.hasOwnProperty("body")?U.body:U;var _;switch(Q){case l.TOP_LEFT:case l.LEFT_TOP:_=this.bodyBounds.getTopLeft(U,W,j);break;case l.TOP_CENTER:_=this.bodyBounds.getTopCenter(U,W,j);break;case l.TOP_RIGHT:case l.RIGHT_TOP:_=this.bodyBounds.getTopRight(U,W,j);break;case l.LEFT_CENTER:_=this.bodyBounds.getLeftCenter(U,W,j);break;case l.CENTER:_=this.bodyBounds.getCenter(U,W,j);break;case l.RIGHT_CENTER:_=this.bodyBounds.getRightCenter(U,W,j);break;case l.LEFT_BOTTOM:case l.BOTTOM_LEFT:_=this.bodyBounds.getBottomLeft(U,W,j);break;case l.BOTTOM_CENTER:_=this.bodyBounds.getBottomCenter(U,W,j);break;case l.BOTTOM_RIGHT:case l.RIGHT_BOTTOM:_=this.bodyBounds.getBottomRight(U,W,j);break}return _&&r.setPosition(U,_),this},shutdown:function(){var U=this.systems.events;this.world&&(U.off(z.UPDATE,this.world.update,this.world),U.off(z.POST_UPDATE,this.world.postUpdate,this.world)),U.off(z.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(z.START,this.start,this),this.scene=null,this.systems=null}});I.register("MatterPhysics",b,"matterPhysics"),p.exports=b},34803:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(9674),v=t(83419),a=t(31884),r=t(95643),s=t(95540),e=t(72699),n=t(68287),h=t(26099),i=new v({Extends:n,Mixins:[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity,e],initialize:function(f,u,d,c,m,x){r.call(this,f.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new l(this),this.setTexture(c,m),this.setSizeToFrame(),this.setOrigin(),this.world=f,this._tempVec2=new h(u,d);var g=s(x,"shape",null);g?this.setBody(g,x):this.setRectangle(this.width,this.height,x),this.setPosition(u,d),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=i},73834:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66280),v=t(22562),a=t(83419),r=t(31884),s=t(62644),e=t(50792),n=t(95540),h=t(97022),i=t(41598),o=new a({Extends:e,Mixins:[r.Bounce,r.Collision,r.Friction,r.Gravity,r.Mass,r.Sensor,r.Sleep,r.Static],initialize:function(u,d,c){e.call(this),this.tile=d,this.world=u,d.physics.matterBody&&d.physics.matterBody.destroy(),d.physics.matterBody=this;var m=n(c,"body",null),x=n(c,"addToWorld",!0);if(m)this.setBody(m,x);else{var g=d.getCollisionGroup(),T=n(g,"objects",[]);T.length>0?this.setFromTileCollision(c):this.setFromTileRectangle(c)}if(d.flipX||d.flipY){var S={x:d.getCenterX(),y:d.getCenterY()},E=d.flipX?-1:1,P=d.flipY?-1:1;v.scale(m,E,P,S)}},setFromTileRectangle:function(f){f===void 0&&(f={}),h(f,"isStatic")||(f.isStatic=!0),h(f,"addToWorld")||(f.addToWorld=!0);var u=this.tile.getBounds(),d=u.x+u.width/2,c=u.y+u.height/2,m=l.rectangle(d,c,u.width,u.height,f);return this.setBody(m,f.addToWorld),this},setFromTileCollision:function(f){f===void 0&&(f={}),h(f,"isStatic")||(f.isStatic=!0),h(f,"addToWorld")||(f.addToWorld=!0);for(var u=this.tile.tilemapLayer.scaleX,d=this.tile.tilemapLayer.scaleY,c=this.tile.getLeft(),m=this.tile.getTop(),x=this.tile.getCollisionGroup(),g=n(x,"objects",[]),T=[],S=0;S<g.length;S++){var E=g[S],P=c+E.x*u,F=m+E.y*d,R=E.width*u,M=E.height*d,O=null;if(E.rectangle)O=l.rectangle(P+R/2,F+M/2,R,M,f);else if(E.ellipse)O=l.circle(P+R/2,F+M/2,R/2,f);else if(E.polygon||E.polyline){var I=E.polygon?E.polygon:E.polyline,V=I.map(function(N){return{x:N.x*u,y:N.y*d}}),X=i.create(V),z=i.centre(X);P+=z.x,F+=z.y,O=l.fromVertices(P,F,X,f)}O&&T.push(O)}if(T.length===1)this.setBody(T[0],f.addToWorld);else if(T.length>1){var Z=s(f);Z.parts=T,this.setBody(v.create(Z),Z.addToWorld)}return this},setBody:function(f,u){return u===void 0&&(u=!0),this.body&&this.removeBody(),this.body=f,this.body.gameObject=this,u&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});p.exports=o},19496:(p,y,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66280),v=t(22562),a=t(53402),r=t(95540),s=t(41598),e={parseBody:function(n,h,i,o){o===void 0&&(o={});for(var f=r(i,"fixtures",[]),u=[],d=0;d<f.length;d++)for(var c=this.parseFixture(f[d]),m=0;m<c.length;m++)u.push(c[m]);var x=a.clone(i,!0);a.extend(x,o,!0),delete x.fixtures,delete x.type;var g=v.create(x);return v.setParts(g,u),v.setPosition(g,{x:n,y:h}),g},parseFixture:function(n){var h=a.extend({},!1,n);delete h.circle,delete h.vertices;var i;if(n.circle){var o=r(n.circle,"x"),f=r(n.circle,"y"),u=r(n.circle,"radius");i=[l.circle(o,f,u,h)]}else n.vertices&&(i=this.parseVertices(n.vertices,h));return i},parseVertices:function(n,h){h===void 0&&(h={});for(var i=[],o=0;o<n.length;o++)s.clockwiseSort(n[o]),i.push(v.create(a.extend({position:s.centre(n[o]),vertices:n[o]},h)));return l.flagCoincidentParts(i)}};p.exports=e},85791:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66280),v=t(22562),a={parseBody:function(r,s,e,n){n===void 0&&(n={});var h,i=e.vertices;if(i.length===1)n.vertices=i[0],h=v.create(n),l.flagCoincidentParts(h.parts);else{for(var o=[],f=0;f<i.length;f++){var u=v.create({vertices:i[f]});o.push(u)}l.flagCoincidentParts(o),n.parts=o,h=v.create(n)}return h.label=e.label,v.setPosition(h,{x:r,y:s}),h}};p.exports=a},98713:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15647),v=t(83419),a=t(69351),r=t(48140),s=t(81388),e=t(1121),n=t(8214),h=t(46975),i=t(53614),o=t(26099),f=t(41598),u=new v({initialize:function(c,m,x){x===void 0&&(x={});var g={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=c,this.world=m,this.camera=null,this.pointer=null,this.active=!0,this.position=new o,this.body=null,this.part=null,this.constraint=r.create(h(x,g)),this.world.on(e.BEFORE_UPDATE,this.update,this),c.sys.input.on(n.POINTER_DOWN,this.onDown,this),c.sys.input.on(n.POINTER_UP,this.onUp,this)},onDown:function(d){this.pointer||(this.pointer=d,this.camera=d.camera)},onUp:function(d){d===this.pointer&&(this.pointer=null)},getBody:function(d){var c=this.position,m=this.constraint;this.camera.getWorldPoint(d.x,d.y,c);for(var x=a.allBodies(this.world.localWorld),g=0;g<x.length;g++){var T=x[g];if(!T.ignorePointer&&l.contains(T.bounds,c)&&s.canCollide(T.collisionFilter,m.collisionFilter)&&this.hitTestBody(T,c))return this.world.emit(e.DRAG_START,T,this.part,this),!0}return!1},hitTestBody:function(d,c){for(var m=this.constraint,x=d.parts.length,g=x>1?1:0,T=g;T<x;T++){var S=d.parts[T];if(f.contains(S.vertices,c))return m.pointA=c,m.pointB={x:c.x-d.position.x,y:c.y-d.position.y},m.bodyB=d,m.angleB=d.angle,i.set(d,!1),this.part=S,this.body=d,!0}return!1},update:function(){var d=this.pointer,c=this.body;if(!this.active||!d){c&&this.stopDrag();return}if(!d.isDown&&c){this.stopDrag();return}else if(d.isDown){if(!this.camera||!c&&!this.getBody(d))return;c=this.body;var m=this.position,x=this.constraint;this.camera.getWorldPoint(d.x,d.y,m),x.pointA.x=m.x,x.pointA.y=m.y,i.set(c,!1),this.world.emit(e.DRAG,c,this)}},stopDrag:function(){var d=this.body,c=this.constraint;c.bodyB=null,c.pointB=null,this.pointer=null,this.body=null,this.part=null,d&&this.world.emit(e.DRAG_END,d,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(n.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(n.POINTER_UP,this.onUp,this)}});p.exports=u},68243:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66280),v=t(22562),a=t(83419),r=t(53402),s=t(69351),e=t(48413),n=t(50792),h=t(1121),i=t(95540),o=t(35154),f=t(22562),u=t(35810),d=t(73834),c=t(4372),m=t(31725),x=new a({Extends:n,initialize:function(T,S){n.call(this),this.scene=T,this.engine=e.create(S),this.localWorld=this.engine.world;var E=o(S,"gravity",null);E?this.setGravity(E.x,E.y,E.scale):E===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=o(S,"enabled",!0),this.getDelta=o(S,"getDelta",this.update60Hz);var P=i(S,"runner",{}),F=i(P,"fps",!1),R=i(P,"fps",60),M=i(P,"delta",1e3/R),O=i(P,"deltaMin",1e3/R),I=i(P,"deltaMax",1e3/(R*.5));F||(R=1e3/M),this.runner={fps:R,deltaSampleSize:i(P,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:i(P,"isFixed",!1),delta:M,deltaMin:O,deltaMax:I},this.autoUpdate=o(S,"autoUpdate",!0);var V=o(S,"debug",!1);if(this.drawDebug=typeof V=="object"?!0:V,this.debugGraphic,this.debugConfig={showAxes:i(V,"showAxes",!1),showAngleIndicator:i(V,"showAngleIndicator",!1),angleColor:i(V,"angleColor",15208787),showBroadphase:i(V,"showBroadphase",!1),broadphaseColor:i(V,"broadphaseColor",16757760),showBounds:i(V,"showBounds",!1),boundsColor:i(V,"boundsColor",16777215),showVelocity:i(V,"showVelocity",!1),velocityColor:i(V,"velocityColor",44783),showCollisions:i(V,"showCollisions",!1),collisionColor:i(V,"collisionColor",16094476),showSeparations:i(V,"showSeparations",!1),separationColor:i(V,"separationColor",16753920),showBody:i(V,"showBody",!0),showStaticBody:i(V,"showStaticBody",!0),showInternalEdges:i(V,"showInternalEdges",!1),renderFill:i(V,"renderFill",!1),renderLine:i(V,"renderLine",!0),fillColor:i(V,"fillColor",1075465),fillOpacity:i(V,"fillOpacity",1),lineColor:i(V,"lineColor",2678297),lineOpacity:i(V,"lineOpacity",1),lineThickness:i(V,"lineThickness",1),staticFillColor:i(V,"staticFillColor",857979),staticLineColor:i(V,"staticLineColor",1255396),showSleeping:i(V,"showSleeping",!1),staticBodySleepOpacity:i(V,"staticBodySleepOpacity",.7),sleepFillColor:i(V,"sleepFillColor",4605510),sleepLineColor:i(V,"sleepLineColor",10066585),showSensors:i(V,"showSensors",!0),sensorFillColor:i(V,"sensorFillColor",857979),sensorLineColor:i(V,"sensorLineColor",1255396),showPositions:i(V,"showPositions",!0),positionSize:i(V,"positionSize",4),positionColor:i(V,"positionColor",14697178),showJoint:i(V,"showJoint",!0),jointColor:i(V,"jointColor",14737474),jointLineOpacity:i(V,"jointLineOpacity",1),jointLineThickness:i(V,"jointLineThickness",2),pinSize:i(V,"pinSize",4),pinColor:i(V,"pinColor",4382944),springColor:i(V,"springColor",14697184),anchorColor:i(V,"anchorColor",15724527),anchorSize:i(V,"anchorSize",4),showConvexHulls:i(V,"showConvexHulls",!1),hullColor:i(V,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),i(S,"setBounds",!1)){var X=S.setBounds;if(typeof X=="boolean")this.setBounds();else{var z=i(X,"x",0),Z=i(X,"y",0),N=i(X,"width",T.sys.scale.width),Y=i(X,"height",T.sys.scale.height),L=i(X,"thickness",64),b=i(X,"left",!0),U=i(X,"right",!0),W=i(X,"top",!0),j=i(X,"bottom",!0);this.setBounds(z,Z,N,Y,L,b,U,W,j)}}},setCompositeRenderStyle:function(g){var T=g.bodies,S=g.constraints,E=g.composites,P,F,R;for(P=0;P<T.length;P++)F=T[P],R=F.render,this.setBodyRenderStyle(F,R.lineColor,R.lineOpacity,R.lineThickness,R.fillColor,R.fillOpacity);for(P=0;P<S.length;P++)F=S[P],R=F.render,this.setConstraintRenderStyle(F,R.lineColor,R.lineOpacity,R.lineThickness,R.pinSize,R.anchorColor,R.anchorSize);for(P=0;P<E.length;P++)F=E[P],this.setCompositeRenderStyle(F);return this},setBodyRenderStyle:function(g,T,S,E,P,F){var R=g.render,M=this.debugConfig;return R?(T==null&&(T=g.isStatic?M.staticLineColor:M.lineColor),S==null&&(S=M.lineOpacity),E==null&&(E=M.lineThickness),P==null&&(P=g.isStatic?M.staticFillColor:M.fillColor),F==null&&(F=M.fillOpacity),T!==!1&&(R.lineColor=T),S!==!1&&(R.lineOpacity=S),E!==!1&&(R.lineThickness=E),P!==!1&&(R.fillColor=P),F!==!1&&(R.fillOpacity=F),this):this},setConstraintRenderStyle:function(g,T,S,E,P,F,R){var M=g.render,O=this.debugConfig;if(!M)return this;if(T==null){var I=M.type;I==="line"?T=O.jointColor:I==="pin"?T=O.pinColor:I==="spring"&&(T=O.springColor)}return S==null&&(S=O.jointLineOpacity),E==null&&(E=O.jointLineThickness),P==null&&(P=O.pinSize),F==null&&(F=O.anchorColor),R==null&&(R=O.anchorSize),T!==!1&&(M.lineColor=T),S!==!1&&(M.lineOpacity=S),E!==!1&&(M.lineThickness=E),P!==!1&&(M.pinSize=P),F!==!1&&(M.anchorColor=F),R!==!1&&(M.anchorSize=R),this},setEventsProxy:function(){var g=this,T=this.engine,S=this.localWorld;this.drawDebug&&(u.on(S,"compositeModified",function(E){g.setCompositeRenderStyle(E)}),u.on(S,"beforeAdd",function(E){for(var P=[].concat(E.object),F=0;F<P.length;F++){var R=P[F],M=R.render;R.type==="body"?g.setBodyRenderStyle(R,M.lineColor,M.lineOpacity,M.lineThickness,M.fillColor,M.fillOpacity):R.type==="composite"?g.setCompositeRenderStyle(R):R.type==="constraint"&&g.setConstraintRenderStyle(R,M.lineColor,M.lineOpacity,M.lineThickness,M.pinSize,M.anchorColor,M.anchorSize)}})),u.on(S,"beforeAdd",function(E){g.emit(h.BEFORE_ADD,E)}),u.on(S,"afterAdd",function(E){g.emit(h.AFTER_ADD,E)}),u.on(S,"beforeRemove",function(E){g.emit(h.BEFORE_REMOVE,E)}),u.on(S,"afterRemove",function(E){g.emit(h.AFTER_REMOVE,E)}),u.on(T,"beforeUpdate",function(E){g.emit(h.BEFORE_UPDATE,E)}),u.on(T,"afterUpdate",function(E){g.emit(h.AFTER_UPDATE,E)}),u.on(T,"collisionStart",function(E){var P=E.pairs,F,R;P.length>0&&(F=P[0].bodyA,R=P[0].bodyB),g.emit(h.COLLISION_START,E,F,R)}),u.on(T,"collisionActive",function(E){var P=E.pairs,F,R;P.length>0&&(F=P[0].bodyA,R=P[0].bodyB),g.emit(h.COLLISION_ACTIVE,E,F,R)}),u.on(T,"collisionEnd",function(E){var P=E.pairs,F,R;P.length>0&&(F=P[0].bodyA,R=P[0].bodyB),g.emit(h.COLLISION_END,E,F,R)})},setBounds:function(g,T,S,E,P,F,R,M,O){return g===void 0&&(g=0),T===void 0&&(T=0),S===void 0&&(S=this.scene.sys.scale.width),E===void 0&&(E=this.scene.sys.scale.height),P===void 0&&(P=64),F===void 0&&(F=!0),R===void 0&&(R=!0),M===void 0&&(M=!0),O===void 0&&(O=!0),this.updateWall(F,"left",g-P,T-P,P,E+P*2),this.updateWall(R,"right",g+S,T-P,P,E+P*2),this.updateWall(M,"top",g,T-P,S,P),this.updateWall(O,"bottom",g,T+E,S,P),this},updateWall:function(g,T,S,E,P,F){var R=this.walls[T];g?(R&&c.remove(this.localWorld,R),S+=P/2,E+=F/2,this.walls[T]=this.create(S,E,P,F,{isStatic:!0,friction:0,frictionStatic:0})):(R&&c.remove(this.localWorld,R),this.walls[T]=null)},createDebugGraphic:function(){var g=this.scene.sys.add.graphics({x:0,y:0});return g.setDepth(Number.MAX_VALUE),this.debugGraphic=g,this.drawDebug=!0,g},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(g,T,S){return g===void 0&&(g=0),T===void 0&&(T=1),S===void 0&&(S=.001),this.localWorld.gravity.x=g,this.localWorld.gravity.y=T,this.localWorld.gravity.scale=S,this},create:function(g,T,S,E,P){var F=l.rectangle(g,T,S,E,P);return c.add(this.localWorld,F),F},add:function(g){return c.add(this.localWorld,g),this},remove:function(g,T){Array.isArray(g)||(g=[g]);for(var S=0;S<g.length;S++){var E=g[S],P=E.body?E.body:E;s.remove(this.localWorld,P,T)}return this},removeConstraint:function(g,T){return s.remove(this.localWorld,g,T),this},convertTilemapLayer:function(g,T){var S=g.layer,E=g.getTilesWithin(0,0,S.width,S.height,{isColliding:!0});return this.convertTiles(E,T),this},convertTiles:function(g,T){if(g.length===0)return this;for(var S=0;S<g.length;S++)new d(this,g[S],T);return this},nextGroup:function(g){return f.nextGroup(g)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(h.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(h.RESUME),this},update:function(g,T){if(!(!this.enabled||!this.autoUpdate)){var S=this.engine,E=this.runner,P=S.timing;E.isFixed?T=this.getDelta(g,T):(T=g-E.timePrev||E.delta,E.timePrev=g,E.deltaHistory.push(T),E.deltaHistory=E.deltaHistory.slice(-E.deltaSampleSize),T=Math.min.apply(null,E.deltaHistory),T=T<E.deltaMin?E.deltaMin:T,T=T>E.deltaMax?E.deltaMax:T,E.delta=T),E.timeScalePrev=P.timeScale,E.frameCounter+=1,g-E.counterTimestamp>=1e3&&(E.fps=E.frameCounter*((g-E.counterTimestamp)/1e3),E.counterTimestamp=g,E.frameCounter=0),e.update(S,T)}},step:function(g){e.update(this.engine,g)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(g){var T=g.hasOwnProperty("body")?g.body:g;return s.get(this.localWorld,T.id,T.type)!==null},getAllBodies:function(){return s.allBodies(this.localWorld)},getAllConstraints:function(){return s.allConstraints(this.localWorld)},getAllComposites:function(){return s.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var g=this.debugConfig,T=this.engine,S=this.debugGraphic,E=s.allBodies(this.localWorld);this.debugGraphic.clear(),g.showBroadphase&&T.broadphase.controller&&this.renderGrid(T.broadphase,S,g.broadphaseColor,.5),g.showBounds&&this.renderBodyBounds(E,S,g.boundsColor,.5),(g.showBody||g.showStaticBody)&&this.renderBodies(E),g.showJoint&&this.renderJoints(),(g.showAxes||g.showAngleIndicator)&&this.renderBodyAxes(E,S,g.showAxes,g.angleColor,.5),g.showVelocity&&this.renderBodyVelocity(E,S,g.velocityColor,1,2),g.showSeparations&&this.renderSeparations(T.pairs.list,S,g.separationColor),g.showCollisions&&this.renderCollisions(T.pairs.list,S,g.collisionColor)}},renderGrid:function(g,T,S,E){T.lineStyle(1,S,E);for(var P=r.keys(g.buckets),F=0;F<P.length;F++){var R=P[F];if(!(g.buckets[R].length<2)){var M=R.split(/C|R/);T.strokeRect(parseInt(M[1],10)*g.bucketWidth,parseInt(M[2],10)*g.bucketHeight,g.bucketWidth,g.bucketHeight)}}return this},renderSeparations:function(g,T,S){T.lineStyle(1,S,1);for(var E=0;E<g.length;E++){var P=g[E];if(P.isActive){var F=P.collision,R=F.bodyA,M=F.bodyB,O=R.position,I=M.position,V=F.penetration,X=!R.isStatic&&!M.isStatic?4:1;M.isStatic&&(X=0),T.lineBetween(I.x,I.y,I.x-V.x*X,I.y-V.y*X),X=!R.isStatic&&!M.isStatic?4:1,R.isStatic&&(X=0),T.lineBetween(O.x,O.y,O.x-V.x*X,O.y-V.y*X)}}return this},renderCollisions:function(g,T,S){T.lineStyle(1,S,.5),T.fillStyle(S,1);var E,P;for(E=0;E<g.length;E++)if(P=g[E],!!P.isActive)for(var F=0;F<P.activeContacts.length;F++){var R=P.activeContacts[F],M=R.vertex;T.fillRect(M.x-2,M.y-2,5,5)}for(E=0;E<g.length;E++)if(P=g[E],!!P.isActive){var O=P.collision,I=P.activeContacts;if(I.length>0){var V=I[0].vertex.x,X=I[0].vertex.y;I.length===2&&(V=(I[0].vertex.x+I[1].vertex.x)/2,X=(I[0].vertex.y+I[1].vertex.y)/2),O.bodyB===O.supports[0].body||O.bodyA.isStatic?T.lineBetween(V-O.normal.x*8,X-O.normal.y*8,V,X):T.lineBetween(V+O.normal.x*8,X+O.normal.y*8,V,X)}}return this},renderBodyBounds:function(g,T,S,E){T.lineStyle(1,S,E);for(var P=0;P<g.length;P++){var F=g[P];if(F.render.visible){var R=F.bounds;if(R)T.strokeRect(R.min.x,R.min.y,R.max.x-R.min.x,R.max.y-R.min.y);else for(var M=F.parts,O=M.length>1?1:0;O<M.length;O++){var I=M[O];T.strokeRect(I.bounds.min.x,I.bounds.min.y,I.bounds.max.x-I.bounds.min.x,I.bounds.max.y-I.bounds.min.y)}}}return this},renderBodyAxes:function(g,T,S,E,P){T.lineStyle(1,E,P);for(var F=0;F<g.length;F++){var R=g[F],M=R.parts;if(R.render.visible){var O,I,V;if(S)for(I=M.length>1?1:0;I<M.length;I++)for(O=M[I],V=0;V<O.axes.length;V++){var X=O.axes[V];T.lineBetween(O.position.x,O.position.y,O.position.x+X.x*20,O.position.y+X.y*20)}else for(I=M.length>1?1:0;I<M.length;I++)for(O=M[I],V=0;V<O.axes.length;V++)T.lineBetween(O.position.x,O.position.y,(O.vertices[0].x+O.vertices[O.vertices.length-1].x)/2,(O.vertices[0].y+O.vertices[O.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(g,T,S,E,P){T.lineStyle(P,S,E);for(var F=0;F<g.length;F++){var R=g[F];R.render.visible&&T.lineBetween(R.position.x,R.position.y,R.position.x+(R.position.x-R.positionPrev.x)*2,R.position.y+(R.position.y-R.positionPrev.y)*2)}return this},renderBodies:function(g){for(var T=this.debugGraphic,S=this.debugConfig,E=S.showBody,P=S.showStaticBody,F=S.showSleeping,R=S.showInternalEdges,M=S.showConvexHulls,O=S.renderFill,I=S.renderLine,V=S.staticBodySleepOpacity,X=S.sleepFillColor,z=S.sleepLineColor,Z=S.hullColor,N=0;N<g.length;N++){var Y=g[N];if(Y.render.visible&&!(!P&&Y.isStatic||!E&&!Y.isStatic)){var L=Y.render.lineColor,b=Y.render.lineOpacity,U=Y.render.lineThickness,W=Y.render.fillColor,j=Y.render.fillOpacity;F&&Y.isSleeping&&(Y.isStatic?(b*=V,j*=V):(L=z,W=X)),O||(W=null),I||(L=null),this.renderBody(Y,T,R,L,b,U,W,j);var Q=Y.parts.length;M&&Q>1&&this.renderConvexHull(Y,T,Z,U)}}},renderBody:function(g,T,S,E,P,F,R,M){E===void 0&&(E=null),P===void 0&&(P=null),F===void 0&&(F=1),R===void 0&&(R=null),M===void 0&&(M=null);for(var O=this.debugConfig,I=O.sensorFillColor,V=O.sensorLineColor,X=g.parts,z=X.length,Z=z>1?1:0;Z<z;Z++){var N=X[Z],Y=N.render,L=Y.opacity;if(!(!Y.visible||L===0||N.isSensor&&!O.showSensors)){var b=N.circleRadius;if(T.beginPath(),N.isSensor?(R!==null&&T.fillStyle(I,M*L),E!==null&&T.lineStyle(F,V,P*L)):(R!==null&&T.fillStyle(R,M*L),E!==null&&T.lineStyle(F,E,P*L)),b)T.arc(N.position.x,N.position.y,b,0,2*Math.PI);else{var U=N.vertices,W=U.length;T.moveTo(U[0].x,U[0].y);for(var j=1;j<W;j++){var Q=U[j];if(!U[j-1].isInternal||S?T.lineTo(Q.x,Q.y):T.moveTo(Q.x,Q.y),j<W&&Q.isInternal&&!S){var _=(j+1)%W;T.moveTo(U[_].x,U[_].y)}}T.closePath()}R!==null&&T.fillPath(),E!==null&&T.strokePath()}}if(O.showPositions&&!g.isStatic){var et=g.position.x,st=g.position.y,ct=Math.ceil(O.positionSize/2);T.fillStyle(O.positionColor,1),T.fillRect(et-ct,st-ct,O.positionSize,O.positionSize)}return this},renderConvexHull:function(g,T,S,E){E===void 0&&(E=1);var P=g.parts,F=P.length;if(F>1){var R=g.vertices;T.lineStyle(E,S),T.beginPath(),T.moveTo(R[0].x,R[0].y);for(var M=1;M<R.length;M++)T.lineTo(R[M].x,R[M].y);T.lineTo(R[0].x,R[0].y),T.strokePath()}return this},renderJoints:function(){for(var g=this.debugGraphic,T=s.allConstraints(this.localWorld),S=0;S<T.length;S++){var E=T[S].render,P=E.lineColor,F=E.lineOpacity,R=E.lineThickness,M=E.pinSize,O=E.anchorColor,I=E.anchorSize;this.renderConstraint(T[S],g,P,F,R,M,O,I)}},renderConstraint:function(g,T,S,E,P,F,R,M){var O=g.render;if(!O.visible||!g.pointA||!g.pointB)return this;T.lineStyle(P,S,E);var I=g.bodyA,V=g.bodyB,X,z;if(I?X=m.add(I.position,g.pointA):X=g.pointA,O.type==="pin")T.strokeCircle(X.x,X.y,F);else{if(V?z=m.add(V.position,g.pointB):z=g.pointB,T.beginPath(),T.moveTo(X.x,X.y),O.type==="spring")for(var Z=m.sub(z,X),N=m.perp(m.normalise(Z)),Y=Math.ceil(r.clamp(g.length/5,12,20)),L,b=1;b<Y;b+=1)L=b%2===0?1:-1,T.lineTo(X.x+Z.x*(b/Y)+N.x*L*4,X.y+Z.y*(b/Y)+N.y*L*4);T.lineTo(z.x,z.y)}return T.strokePath(),O.anchors&&M>0&&(T.fillStyle(R),T.fillCircle(X.x,X.y,M),T.fillCircle(z.x,z.y,M)),this},resetCollisionIDs:function(){return v._nextCollidingGroupId=1,v._nextNonCollidingGroupId=-1,v._nextCategory=1,this},shutdown:function(){u.off(this.engine),this.removeAllListeners(),c.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});p.exports=x},70410:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setBounce:function(t){return this.body.restitution=t,this}};p.exports=y},66968:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var l=0;if(!Array.isArray(t))l=t;else for(var v=0;v<t.length;v++)l|=t[v];return this.body.collisionFilter.mask=l,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,l){Array.isArray(t)||(t=[t]);for(var v=0;v<t.length;v++){var a=t[v].hasOwnProperty("body")?t[v].body:t[v];this.body.setOnCollideWith(a,l)}return this}};p.exports=y},51607:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22562),v={applyForce:function(a){return this._tempVec2.set(this.body.position.x,this.body.position.y),l.applyForce(this.body,this._tempVec2,a),this},applyForceFrom:function(a,r){return l.applyForce(this.body,a,r),this},thrust:function(a){var r=this.body.angle;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(a){var r=this.body.angle-Math.PI/2;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(a){var r=this.body.angle+Math.PI/2;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(a){var r=this.body.angle-Math.PI;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};p.exports=v},5436:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setFriction:function(t,l,v){return this.body.friction=t,l!==void 0&&(this.body.frictionAir=l),v!==void 0&&(this.body.frictionStatic=v),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};p.exports=y},39858:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};p.exports=y},37302:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22562),v=t(26099),a={setMass:function(r){return l.setMass(this.body,r),this},setDensity:function(r){return l.setDensity(this.body,r),this},centerOfMass:{get:function(){return new v(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};p.exports=a},39132:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};p.exports=y},57772:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66280),v=t(22562),a=t(43855),r=t(95540),s=t(19496),e=t(85791),n=t(41598),h={setRectangle:function(i,o,f){return this.setBody({type:"rectangle",width:i,height:o},f)},setCircle:function(i,o){return this.setBody({type:"circle",radius:i},o)},setPolygon:function(i,o,f){return this.setBody({type:"polygon",sides:o,radius:i},f)},setTrapezoid:function(i,o,f,u){return this.setBody({type:"trapezoid",width:i,height:o,slope:f},u)},setExistingBody:function(i,o){o===void 0&&(o=!0),this.body&&this.world.remove(this.body,!0),this.body=i;for(var f=0;f<i.parts.length;f++)i.parts[f].gameObject=this;var u=this;if(i.destroy=function(){u.world.remove(u.body,!0),u.body.gameObject=null},o&&(this.world.has(i)&&this.world.remove(i,!0),this.world.add(i)),this._originComponent){var d=i.render.sprite.xOffset,c=i.render.sprite.yOffset,m=i.centerOfMass.x,x=i.centerOfMass.y;if(a(m,.5)&&a(x,.5))this.setOrigin(d+.5,c+.5);else{var g=i.centerOffset.x,T=i.centerOffset.y;this.setOrigin(d+g/this.displayWidth,c+T/this.displayHeight)}}return this},setBody:function(i,o){if(!i)return this;var f;typeof i=="string"&&(i={type:i});var u=r(i,"type","rectangle"),d=r(i,"x",this._tempVec2.x),c=r(i,"y",this._tempVec2.y),m=r(i,"width",this.width),x=r(i,"height",this.height);switch(u){case"rectangle":f=l.rectangle(d,c,m,x,o);break;case"circle":var g=r(i,"radius",Math.max(m,x)/2),T=r(i,"maxSides",25);f=l.circle(d,c,g,o,T);break;case"trapezoid":var S=r(i,"slope",.5);f=l.trapezoid(d,c,m,x,S,o);break;case"polygon":var E=r(i,"sides",5),P=r(i,"radius",Math.max(m,x)/2);f=l.polygon(d,c,E,P,o);break;case"fromVertices":case"fromVerts":var F=r(i,"verts",null);if(F)if(typeof F=="string"&&(F=n.fromPath(F)),this.body&&!this.body.hasOwnProperty("temp"))v.setVertices(this.body,F),f=this.body;else{var R=r(i,"flagInternal",!1),M=r(i,"removeCollinear",.01),O=r(i,"minimumArea",10);f=l.fromVertices(d,c,F,o,R,M,O)}break;case"fromPhysicsEditor":f=s.parseBody(d,c,i,o);break;case"fromPhysicsTracer":f=e.parseBody(d,c,i,o);break}return f&&this.setExistingBody(f,i.addToWorld),this}};p.exports=h},38083:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1121),v=t(53614),a=t(35810),r={setToSleep:function(){return v.set(this.body,!0),this},setAwake:function(){return v.set(this.body,!1),this},setSleepThreshold:function(s){return s===void 0&&(s=60),this.body.sleepThreshold=s,this},setSleepEvents:function(s,e){return this.setSleepStartEvent(s),this.setSleepEndEvent(e),this},setSleepStartEvent:function(s){if(s){var e=this.world;a.on(this.body,"sleepStart",function(n){e.emit(l.SLEEP_START,n,this)})}else a.off(this.body,"sleepStart");return this},setSleepEndEvent:function(s){if(s){var e=this.world;a.on(this.body,"sleepEnd",function(n){e.emit(l.SLEEP_END,n,this)})}else a.off(this.body,"sleepEnd");return this}};p.exports=r},90556:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22562),v={setStatic:function(a){return l.setStatic(this.body,a),this},isStatic:function(){return this.body.isStatic}};p.exports=v},85436:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22562),v=t(36383),a=t(86554),r=t(30954),s=4,e={x:{get:function(){return this.body.position.x},set:function(n){this._tempVec2.set(n,this.y),l.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(n){this._tempVec2.set(this.x,n),l.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(n){var h=1/this._scaleX,i=1/this._scaleY;this._scaleX=n,this._scaleX===0?this.renderFlags&=~s:this.renderFlags|=s,l.scale(this.body,h,i),l.scale(this.body,n,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(n){var h=1/this._scaleX,i=1/this._scaleY;this._scaleY=n,this._scaleY===0?this.renderFlags&=~s:this.renderFlags|=s,l.scale(this.body,h,i),l.scale(this.body,this._scaleX,n)}},angle:{get:function(){return r(this.body.angle*v.RAD_TO_DEG)},set:function(n){this.rotation=r(n)*v.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(n){this._rotation=a(n),l.setAngle(this.body,this._rotation)}},setPosition:function(n,h){return n===void 0&&(n=0),h===void 0&&(h=n),this._tempVec2.set(n,h),l.setPosition(this.body,this._tempVec2),this},setRotation:function(n){return n===void 0&&(n=0),this._rotation=a(n),l.setAngle(this.body,n),this},setFixedRotation:function(){return l.setInertia(this.body,1/0),this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,l.setAngle(this.body,this.rotation),this},setScale:function(n,h,i){n===void 0&&(n=1),h===void 0&&(h=n);var o=1/this._scaleX,f=1/this._scaleY;return this._scaleX=n,this._scaleY=h,l.scale(this.body,o,f,i),l.scale(this.body,n,h,i),this}};p.exports=e},42081:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22562),v={setVelocityX:function(a){return this._tempVec2.set(a,this.body.velocity.y),l.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(a){return this._tempVec2.set(this.body.velocity.x,a),l.setVelocity(this.body,this._tempVec2),this},setVelocity:function(a,r){return this._tempVec2.set(a,r),l.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return l.getVelocity(this.body)},setAngularVelocity:function(a){return l.setAngularVelocity(this.body,a),this},getAngularVelocity:function(){return l.getAngularVelocity(this.body)},setAngularSpeed:function(a){return l.setAngularSpeed(this.body,a),this},getAngularSpeed:function(){return l.getAngularSpeed(this.body)}};p.exports=v},31884:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afteradd"},1213:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterremove"},25968:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterupdate"},67205:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeadd"},39438:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeremove"},44823:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeupdate"},92593:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionactive"},60128:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionend"},76861:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionstart"},92362:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},76408:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},93971:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},5656:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},47861:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},79099:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepend"},35906:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepstart"},1121:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(p,y,t)=>{var l={};p.exports=l;var v=t(41598),a=t(31725),r=t(53614),s=t(53402),e=t(15647),n=t(66615);(function(){l._timeCorrection=!0,l._inertiaScale=4,l._nextCollidingGroupId=1,l._nextNonCollidingGroupId=-1,l._nextCategory=1,l._baseDelta=16.666666666666668,l.create=function(i){var o={id:s.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!i.hasOwnProperty("position")&&i.hasOwnProperty("vertices")?i.position=v.centre(i.vertices):i.hasOwnProperty("vertices")||(o.vertices=v.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var f=s.extend(o,i);return h(f,i),f.setOnCollideWith=function(u,d){return d?this.onCollideWith[u.id]=d:delete this.onCollideWith[u.id],this},f},l.nextGroup=function(i){return i?l._nextNonCollidingGroupId--:l._nextCollidingGroupId++},l.nextCategory=function(){return l._nextCategory=l._nextCategory<<1,l._nextCategory};var h=function(i,o){if(o=o||{},l.set(i,{bounds:i.bounds||e.create(i.vertices),positionPrev:i.positionPrev||a.clone(i.position),anglePrev:i.anglePrev||i.angle,vertices:i.vertices,parts:i.parts||[i],isStatic:i.isStatic,isSleeping:i.isSleeping,parent:i.parent||i}),v.rotate(i.vertices,i.angle,i.position),n.rotate(i.axes,i.angle),e.update(i.bounds,i.vertices,i.velocity),l.set(i,{axes:o.axes||i.axes,area:o.area||i.area,mass:o.mass||i.mass,inertia:o.inertia||i.inertia}),i.parts.length===1){var f=i.bounds,u=i.centerOfMass,d=i.centerOffset,c=f.max.x-f.min.x,m=f.max.y-f.min.y;u.x=-(f.min.x-i.position.x)/c,u.y=-(f.min.y-i.position.y)/m,d.x=c*u.x,d.y=m*u.y}};l.set=function(i,o,f){var u;typeof o=="string"&&(u=o,o={},o[u]=f);for(u in o)if(Object.prototype.hasOwnProperty.call(o,u))switch(f=o[u],u){case"isStatic":l.setStatic(i,f);break;case"isSleeping":r.set(i,f);break;case"mass":l.setMass(i,f);break;case"density":l.setDensity(i,f);break;case"inertia":l.setInertia(i,f);break;case"vertices":l.setVertices(i,f);break;case"position":l.setPosition(i,f);break;case"angle":l.setAngle(i,f);break;case"velocity":l.setVelocity(i,f);break;case"angularVelocity":l.setAngularVelocity(i,f);break;case"speed":l.setSpeed(i,f);break;case"angularSpeed":l.setAngularSpeed(i,f);break;case"parts":l.setParts(i,f);break;case"centre":l.setCentre(i,f);break;default:i[u]=f}},l.setStatic=function(i,o){for(var f=0;f<i.parts.length;f++){var u=i.parts[f];o?(u.isStatic||(u._original={restitution:u.restitution,friction:u.friction,mass:u.mass,inertia:u.inertia,density:u.density,inverseMass:u.inverseMass,inverseInertia:u.inverseInertia}),u.restitution=0,u.friction=1,u.mass=u.inertia=u.density=1/0,u.inverseMass=u.inverseInertia=0,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.anglePrev=u.angle,u.angularVelocity=0,u.speed=0,u.angularSpeed=0,u.motion=0):u._original&&(u.restitution=u._original.restitution,u.friction=u._original.friction,u.mass=u._original.mass,u.inertia=u._original.inertia,u.density=u._original.density,u.inverseMass=u._original.inverseMass,u.inverseInertia=u._original.inverseInertia,u._original=null),u.isStatic=o}},l.setMass=function(i,o){var f=i.inertia/(i.mass/6);i.inertia=f*(o/6),i.inverseInertia=1/i.inertia,i.mass=o,i.inverseMass=1/i.mass,i.density=i.mass/i.area},l.setDensity=function(i,o){l.setMass(i,o*i.area),i.density=o},l.setInertia=function(i,o){i.inertia=o,i.inverseInertia=1/i.inertia},l.setVertices=function(i,o){o[0].body===i?i.vertices=o:i.vertices=v.create(o,i),i.axes=n.fromVertices(i.vertices),i.area=v.area(i.vertices),l.setMass(i,i.density*i.area);var f=v.centre(i.vertices);v.translate(i.vertices,f,-1),l.setInertia(i,l._inertiaScale*v.inertia(i.vertices,i.mass)),v.translate(i.vertices,i.position),e.update(i.bounds,i.vertices,i.velocity)},l.setParts=function(i,o,f){var u;for(o=o.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,u=0;u<o.length;u++){var d=o[u];d!==i&&(d.parent=i,i.parts.push(d))}if(i.parts.length!==1){if(f=typeof f<"u"?f:!0,f){var c=[];for(u=0;u<o.length;u++)c=c.concat(o[u].vertices);v.clockwiseSort(c);var m=v.hull(c),x=v.centre(m);l.setVertices(i,m),v.translate(i.vertices,x)}var g=l._totalProperties(i),T=g.centre.x,S=g.centre.y,E=i.bounds,P=i.centerOfMass,F=i.centerOffset;e.update(E,i.vertices,i.velocity),P.x=-(E.min.x-T)/(E.max.x-E.min.x),P.y=-(E.min.y-S)/(E.max.y-E.min.y),F.x=T,F.y=S,i.area=g.area,i.parent=i,i.position.x=T,i.position.y=S,i.positionPrev.x=T,i.positionPrev.y=S,l.setMass(i,g.mass),l.setInertia(i,g.inertia),l.setPosition(i,g.centre)}},l.setCentre=function(i,o,f){f?(i.positionPrev.x+=o.x,i.positionPrev.y+=o.y,i.position.x+=o.x,i.position.y+=o.y):(i.positionPrev.x=o.x-(i.position.x-i.positionPrev.x),i.positionPrev.y=o.y-(i.position.y-i.positionPrev.y),i.position.x=o.x,i.position.y=o.y)},l.setPosition=function(i,o,f){var u=a.sub(o,i.position);f?(i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.velocity.x=u.x,i.velocity.y=u.y,i.speed=a.magnitude(u)):(i.positionPrev.x+=u.x,i.positionPrev.y+=u.y);for(var d=0;d<i.parts.length;d++){var c=i.parts[d];c.position.x+=u.x,c.position.y+=u.y,v.translate(c.vertices,u),e.update(c.bounds,c.vertices,i.velocity)}},l.setAngle=function(i,o,f){var u=o-i.angle;f?(i.anglePrev=i.angle,i.angularVelocity=u,i.angularSpeed=Math.abs(u)):i.anglePrev+=u;for(var d=0;d<i.parts.length;d++){var c=i.parts[d];c.angle+=u,v.rotate(c.vertices,u,i.position),n.rotate(c.axes,u),e.update(c.bounds,c.vertices,i.velocity),d>0&&a.rotateAbout(c.position,u,i.position,c.position)}},l.setVelocity=function(i,o){var f=i.deltaTime/l._baseDelta;i.positionPrev.x=i.position.x-o.x*f,i.positionPrev.y=i.position.y-o.y*f,i.velocity.x=(i.position.x-i.positionPrev.x)/f,i.velocity.y=(i.position.y-i.positionPrev.y)/f,i.speed=a.magnitude(i.velocity)},l.getVelocity=function(i){var o=l._baseDelta/i.deltaTime;return{x:(i.position.x-i.positionPrev.x)*o,y:(i.position.y-i.positionPrev.y)*o}},l.getSpeed=function(i){return a.magnitude(l.getVelocity(i))},l.setSpeed=function(i,o){l.setVelocity(i,a.mult(a.normalise(l.getVelocity(i)),o))},l.setAngularVelocity=function(i,o){var f=i.deltaTime/l._baseDelta;i.anglePrev=i.angle-o*f,i.angularVelocity=(i.angle-i.anglePrev)/f,i.angularSpeed=Math.abs(i.angularVelocity)},l.getAngularVelocity=function(i){return(i.angle-i.anglePrev)*l._baseDelta/i.deltaTime},l.getAngularSpeed=function(i){return Math.abs(l.getAngularVelocity(i))},l.setAngularSpeed=function(i,o){l.setAngularVelocity(i,s.sign(l.getAngularVelocity(i))*o)},l.translate=function(i,o,f){l.setPosition(i,a.add(i.position,o),f)},l.rotate=function(i,o,f,u){if(!f)l.setAngle(i,i.angle+o,u);else{var d=Math.cos(o),c=Math.sin(o),m=i.position.x-f.x,x=i.position.y-f.y;l.setPosition(i,{x:f.x+(m*d-x*c),y:f.y+(m*c+x*d)},u),l.setAngle(i,i.angle+o,u)}},l.scale=function(i,o,f,u){var d=0,c=0;u=u||i.position;for(var m=i.inertia===1/0,x=0;x<i.parts.length;x++){var g=i.parts[x];g.scale.x=o,g.scale.y=f,v.scale(g.vertices,o,f,u),g.axes=n.fromVertices(g.vertices),g.area=v.area(g.vertices),l.setMass(g,i.density*g.area),v.translate(g.vertices,{x:-g.position.x,y:-g.position.y}),l.setInertia(g,l._inertiaScale*v.inertia(g.vertices,g.mass)),v.translate(g.vertices,{x:g.position.x,y:g.position.y}),x>0&&(d+=g.area,c+=g.inertia),g.position.x=u.x+(g.position.x-u.x)*o,g.position.y=u.y+(g.position.y-u.y)*f,e.update(g.bounds,g.vertices,i.velocity)}i.parts.length>1&&(i.area=d,i.isStatic||(l.setMass(i,i.density*d),l.setInertia(i,c))),i.circleRadius&&(o===f?i.circleRadius*=o:i.circleRadius=null),m&&l.setInertia(i,1/0)},l.update=function(i,o){o=(typeof o<"u"?o:16.666666666666668)*i.timeScale;var f=o*o,u=l._timeCorrection?o/(i.deltaTime||o):1,d=1-i.frictionAir*(o/s._baseDelta),c=(i.position.x-i.positionPrev.x)*u,m=(i.position.y-i.positionPrev.y)*u;i.velocity.x=c*d+i.force.x/i.mass*f,i.velocity.y=m*d+i.force.y/i.mass*f,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.deltaTime=o,i.angularVelocity=(i.angle-i.anglePrev)*d*u+i.torque/i.inertia*f,i.anglePrev=i.angle,i.angle+=i.angularVelocity,i.speed=a.magnitude(i.velocity),i.angularSpeed=Math.abs(i.angularVelocity);for(var x=0;x<i.parts.length;x++){var g=i.parts[x];v.translate(g.vertices,i.velocity),x>0&&(g.position.x+=i.velocity.x,g.position.y+=i.velocity.y),i.angularVelocity!==0&&(v.rotate(g.vertices,i.angularVelocity,i.position),n.rotate(g.axes,i.angularVelocity),x>0&&a.rotateAbout(g.position,i.angularVelocity,i.position,g.position)),e.update(g.bounds,g.vertices,i.velocity)}},l.updateVelocities=function(i){var o=l._baseDelta/i.deltaTime,f=i.velocity;f.x=(i.position.x-i.positionPrev.x)*o,f.y=(i.position.y-i.positionPrev.y)*o,i.speed=Math.sqrt(f.x*f.x+f.y*f.y),i.angularVelocity=(i.angle-i.anglePrev)*o,i.angularSpeed=Math.abs(i.angularVelocity)},l.applyForce=function(i,o,f){var u={x:o.x-i.position.x,y:o.y-i.position.y};i.force.x+=f.x,i.force.y+=f.y,i.torque+=u.x*f.y-u.y*f.x},l._totalProperties=function(i){for(var o={mass:0,area:0,inertia:0,centre:{x:0,y:0}},f=i.parts.length===1?0:1;f<i.parts.length;f++){var u=i.parts[f],d=u.mass!==1/0?u.mass:1;o.mass+=d,o.area+=u.area,o.inertia+=u.inertia,o.centre=a.add(o.centre,a.mult(u.position,d))}return o.centre=a.div(o.centre,o.mass),o}})()},69351:(p,y,t)=>{var l={};p.exports=l;var v=t(35810),a=t(53402),r=t(15647),s=t(22562);(function(){l.create=function(e){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},l.setModified=function(e,n,h,i){if(v.trigger(e,"compositeModified",e),e.isModified=n,n&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),h&&e.parent&&l.setModified(e.parent,n,h,i),i)for(var o=0;o<e.composites.length;o++){var f=e.composites[o];l.setModified(f,n,h,i)}},l.add=function(e,n){var h=[].concat(n);v.trigger(e,"beforeAdd",{object:n});for(var i=0;i<h.length;i++){var o=h[i];switch(o.type){case"body":if(o.parent!==o){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}l.addBody(e,o);break;case"constraint":l.addConstraint(e,o);break;case"composite":l.addComposite(e,o);break;case"mouseConstraint":l.addConstraint(e,o.constraint);break}}return v.trigger(e,"afterAdd",{object:n}),e},l.remove=function(e,n,h){var i=[].concat(n);v.trigger(e,"beforeRemove",{object:n});for(var o=0;o<i.length;o++){var f=i[o];switch(f.type){case"body":l.removeBody(e,f,h);break;case"constraint":l.removeConstraint(e,f,h);break;case"composite":l.removeComposite(e,f,h);break;case"mouseConstraint":l.removeConstraint(e,f.constraint);break}}return v.trigger(e,"afterRemove",{object:n}),e},l.addComposite=function(e,n){return e.composites.push(n),n.parent=e,l.setModified(e,!0,!0,!1),e},l.removeComposite=function(e,n,h){var i=a.indexOf(e.composites,n);if(i!==-1&&l.removeCompositeAt(e,i),h)for(var o=0;o<e.composites.length;o++)l.removeComposite(e.composites[o],n,!0);return e},l.removeCompositeAt=function(e,n){return e.composites.splice(n,1),l.setModified(e,!0,!0,!1),e},l.addBody=function(e,n){return e.bodies.push(n),l.setModified(e,!0,!0,!1),e},l.removeBody=function(e,n,h){var i=a.indexOf(e.bodies,n);if(i!==-1&&l.removeBodyAt(e,i),h)for(var o=0;o<e.composites.length;o++)l.removeBody(e.composites[o],n,!0);return e},l.removeBodyAt=function(e,n){return e.bodies.splice(n,1),l.setModified(e,!0,!0,!1),e},l.addConstraint=function(e,n){return e.constraints.push(n),l.setModified(e,!0,!0,!1),e},l.removeConstraint=function(e,n,h){var i=a.indexOf(e.constraints,n);if(i!==-1&&l.removeConstraintAt(e,i),h)for(var o=0;o<e.composites.length;o++)l.removeConstraint(e.composites[o],n,!0);return e},l.removeConstraintAt=function(e,n){return e.constraints.splice(n,1),l.setModified(e,!0,!0,!1),e},l.clear=function(e,n,h){if(h)for(var i=0;i<e.composites.length;i++)l.clear(e.composites[i],n,!0);return n?e.bodies=e.bodies.filter(function(o){return o.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,l.setModified(e,!0,!0,!1),e},l.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var n=[].concat(e.bodies),h=0;h<e.composites.length;h++)n=n.concat(l.allBodies(e.composites[h]));return e.cache&&(e.cache.allBodies=n),n},l.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var n=[].concat(e.constraints),h=0;h<e.composites.length;h++)n=n.concat(l.allConstraints(e.composites[h]));return e.cache&&(e.cache.allConstraints=n),n},l.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var n=[].concat(e.composites),h=0;h<e.composites.length;h++)n=n.concat(l.allComposites(e.composites[h]));return e.cache&&(e.cache.allComposites=n),n},l.get=function(e,n,h){var i,o;switch(h){case"body":i=l.allBodies(e);break;case"constraint":i=l.allConstraints(e);break;case"composite":i=l.allComposites(e).concat(e);break}return i?(o=i.filter(function(f){return f.id.toString()===n.toString()}),o.length===0?null:o[0]):null},l.move=function(e,n,h){return l.remove(e,n),l.add(h,n),e},l.rebase=function(e){for(var n=l.allBodies(e).concat(l.allConstraints(e)).concat(l.allComposites(e)),h=0;h<n.length;h++)n[h].id=a.nextId();return e},l.translate=function(e,n,h){for(var i=h?l.allBodies(e):e.bodies,o=0;o<i.length;o++)s.translate(i[o],n);return e},l.rotate=function(e,n,h,i){for(var o=Math.cos(n),f=Math.sin(n),u=i?l.allBodies(e):e.bodies,d=0;d<u.length;d++){var c=u[d],m=c.position.x-h.x,x=c.position.y-h.y;s.setPosition(c,{x:h.x+(m*o-x*f),y:h.y+(m*f+x*o)}),s.rotate(c,n)}return e},l.scale=function(e,n,h,i,o){for(var f=o?l.allBodies(e):e.bodies,u=0;u<f.length;u++){var d=f[u],c=d.position.x-i.x,m=d.position.y-i.y;s.setPosition(d,{x:i.x+c*n,y:i.y+m*h}),s.scale(d,n,h)}return e},l.bounds=function(e){for(var n=l.allBodies(e),h=[],i=0;i<n.length;i+=1){var o=n[i];h.push(o.bounds.min,o.bounds.max)}return r.create(h)}})()},4372:(p,y,t)=>{var l={};p.exports=l;var v=t(69351);(function(){l.create=v.create,l.add=v.add,l.remove=v.remove,l.clear=v.clear,l.addComposite=v.addComposite,l.addBody=v.addBody,l.addConstraint=v.addConstraint})()},52284:(p,y,t)=>{var l={};p.exports=l;var v=t(41598),a=t(4506);(function(){var r=[],s={overlap:0,axis:null},e={overlap:0,axis:null};l.create=function(n,h){return{pair:null,collided:!1,bodyA:n,bodyB:h,parentA:n.parent,parentB:h.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},l.collides=function(n,h,i){if(l._overlapAxes(s,n.vertices,h.vertices,n.axes),s.overlap<=0||(l._overlapAxes(e,h.vertices,n.vertices,h.axes),e.overlap<=0))return null;var o=i&&i.table[a.id(n,h)],f;o?f=o.collision:(f=l.create(n,h),f.collided=!0,f.bodyA=n.id<h.id?n:h,f.bodyB=n.id<h.id?h:n,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent),n=f.bodyA,h=f.bodyB;var u;s.overlap<e.overlap?u=s:u=e;var d=f.normal,c=f.supports,m=u.axis,x=m.x,g=m.y;x*(h.position.x-n.position.x)+g*(h.position.y-n.position.y)<0?(d.x=x,d.y=g):(d.x=-x,d.y=-g),f.tangent.x=-d.y,f.tangent.y=d.x,f.depth=u.overlap,f.penetration.x=d.x*f.depth,f.penetration.y=d.y*f.depth;var T=l._findSupports(n,h,d,1),S=0;if(v.contains(n.vertices,T[0])&&(c[S++]=T[0]),v.contains(n.vertices,T[1])&&(c[S++]=T[1]),S<2){var E=l._findSupports(h,n,d,-1);v.contains(h.vertices,E[0])&&(c[S++]=E[0]),S<2&&v.contains(h.vertices,E[1])&&(c[S++]=E[1])}return S===0&&(c[S++]=T[0]),c.length=S,f},l._overlapAxes=function(n,h,i,o){var f=h.length,u=i.length,d=h[0].x,c=h[0].y,m=i[0].x,x=i[0].y,g=o.length,T=Number.MAX_VALUE,S=0,E,P,F,R,M,O;for(M=0;M<g;M++){var I=o[M],V=I.x,X=I.y,z=d*V+c*X,Z=m*V+x*X,N=z,Y=Z;for(O=1;O<f;O+=1)R=h[O].x*V+h[O].y*X,R>N?N=R:R<z&&(z=R);for(O=1;O<u;O+=1)R=i[O].x*V+i[O].y*X,R>Y?Y=R:R<Z&&(Z=R);if(P=N-Z,F=Y-z,E=P<F?P:F,E<T&&(T=E,S=M,E<=0))break}n.axis=o[S],n.overlap=T},l._projectToAxis=function(n,h,i){for(var o=h[0].x*i.x+h[0].y*i.y,f=o,u=1;u<h.length;u+=1){var d=h[u].x*i.x+h[u].y*i.y;d>f?f=d:d<o&&(o=d)}n.min=o,n.max=f},l._findSupports=function(n,h,i,o){var f=h.vertices,u=f.length,d=n.position.x,c=n.position.y,m=i.x*o,x=i.y*o,g=Number.MAX_VALUE,T,S,E,P,F;for(F=0;F<u;F+=1)S=f[F],P=m*(d-S.x)+x*(c-S.y),P<g&&(g=P,T=S);return E=f[(u+T.index-1)%u],g=m*(d-E.x)+x*(c-E.y),S=f[(T.index+1)%u],m*(d-S.x)+x*(c-S.y)<g?(r[0]=T,r[1]=S,r):(r[0]=T,r[1]=E,r)}})()},43424:p=>{var y={};p.exports=y,function(){y.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(p,y,t)=>{var l={};p.exports=l;var v=t(53402),a=t(52284);(function(){l.create=function(r){var s={bodies:[],pairs:null};return v.extend(s,r)},l.setBodies=function(r,s){r.bodies=s.slice(0)},l.clear=function(r){r.bodies=[]},l.collisions=function(r){var s=[],e=r.pairs,n=r.bodies,h=n.length,i=l.canCollide,o=a.collides,f,u;for(n.sort(l._compareBoundsX),f=0;f<h;f++){var d=n[f],c=d.bounds,m=d.bounds.max.x,x=d.bounds.max.y,g=d.bounds.min.y,T=d.isStatic||d.isSleeping,S=d.parts.length,E=S===1;for(u=f+1;u<h;u++){var P=n[u],F=P.bounds;if(F.min.x>m)break;if(!(x<F.min.y||g>F.max.y)&&!(T&&(P.isStatic||P.isSleeping))&&i(d.collisionFilter,P.collisionFilter)){var R=P.parts.length;if(E&&R===1){var M=o(d,P,e);M&&s.push(M)}else for(var O=S>1?1:0,I=R>1?1:0,V=O;V<S;V++)for(var X=d.parts[V],c=X.bounds,z=I;z<R;z++){var Z=P.parts[z],F=Z.bounds;if(!(c.min.x>F.max.x||c.max.x<F.min.x||c.max.y<F.min.y||c.min.y>F.max.y)){var M=o(X,Z,e);M&&s.push(M)}}}}}return s},l.canCollide=function(r,s){return r.group===s.group&&r.group!==0?r.group>0:(r.mask&s.category)!==0&&(s.mask&r.category)!==0},l._compareBoundsX=function(r,s){return r.bounds.min.x-s.bounds.min.x}})()},4506:(p,y,t)=>{var l={};p.exports=l;var v=t(43424);(function(){l.create=function(a,r){var s=a.bodyA,e=a.bodyB,n={id:l.id(s,e),bodyA:s,bodyB:e,collision:a,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:s.isSensor||e.isSensor,timeCreated:r,timeUpdated:r,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return l.update(n,a,r),n},l.update=function(a,r,s){var e=a.contacts,n=r.supports,h=a.activeContacts,i=r.parentA,o=r.parentB,f=i.vertices.length;a.isActive=!0,a.timeUpdated=s,a.collision=r,a.separation=r.depth,a.inverseMass=i.inverseMass+o.inverseMass,a.friction=i.friction<o.friction?i.friction:o.friction,a.frictionStatic=i.frictionStatic>o.frictionStatic?i.frictionStatic:o.frictionStatic,a.restitution=i.restitution>o.restitution?i.restitution:o.restitution,a.slop=i.slop>o.slop?i.slop:o.slop,r.pair=a,h.length=0;for(var u=0;u<n.length;u++){var d=n[u],c=d.body===i?d.index:f+d.index,m=e[c];m?h.push(m):h.push(e[c]=v.create(d))}},l.setActive=function(a,r,s){r?(a.isActive=!0,a.timeUpdated=s):(a.isActive=!1,a.activeContacts.length=0)},l.id=function(a,r){return a.id<r.id?"A"+a.id+"B"+r.id:"A"+r.id+"B"+a.id}})()},99561:(p,y,t)=>{var l={};p.exports=l;var v=t(4506),a=t(53402);(function(){l.create=function(r){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},r)},l.update=function(r,s,e){var n=r.list,h=n.length,i=r.table,o=s.length,f=r.collisionStart,u=r.collisionEnd,d=r.collisionActive,c,m,x,g;for(f.length=0,u.length=0,d.length=0,g=0;g<h;g++)n[g].confirmedActive=!1;for(g=0;g<o;g++)c=s[g],x=c.pair,x?(x.isActive?d.push(x):f.push(x),v.update(x,c,e),x.confirmedActive=!0):(x=v.create(c,e),i[x.id]=x,f.push(x),n.push(x));var T=[];for(h=n.length,g=0;g<h;g++)x=n[g],x.confirmedActive||(v.setActive(x,!1,e),u.push(x),!x.collision.bodyA.isSleeping&&!x.collision.bodyB.isSleeping&&T.push(g));for(g=0;g<T.length;g++)m=T[g]-g,x=n[m],n.splice(m,1),delete i[x.id]},l.clear=function(r){return r.table={},r.list.length=0,r.collisionStart.length=0,r.collisionActive.length=0,r.collisionEnd.length=0,r}})()},73296:(p,y,t)=>{var l={};p.exports=l;var v=t(31725),a=t(52284),r=t(15647),s=t(66280),e=t(41598);(function(){l.collides=function(n,h){for(var i=[],o=h.length,f=n.bounds,u=a.collides,d=r.overlaps,c=0;c<o;c++){var m=h[c],x=m.parts.length,g=x===1?0:1;if(n!==m&&d(m.bounds,f))for(var T=g;T<x;T++){var S=m.parts[T];if(d(S.bounds,f)){var E=u(S,n);if(E){i.push(E);break}}}}return i},l.ray=function(n,h,i,o){o=o||1e-100;for(var f=v.angle(h,i),u=v.magnitude(v.sub(h,i)),d=(i.x+h.x)*.5,c=(i.y+h.y)*.5,m=s.rectangle(d,c,u,o,{angle:f}),x=l.collides(m,n),g=0;g<x.length;g+=1){var T=x[g];T.body=T.bodyB=T.bodyA}return x},l.region=function(n,h,i){for(var o=[],f=0;f<n.length;f++){var u=n[f],d=r.overlaps(u.bounds,h);(d&&!i||!d&&i)&&o.push(u)}return o},l.point=function(n,h){for(var i=[],o=0;o<n.length;o++){var f=n[o];if(r.contains(f.bounds,h))for(var u=f.parts.length===1?0:1;u<f.parts.length;u++){var d=f.parts[u];if(r.contains(d.bounds,h)&&e.contains(d.vertices,h)){i.push(f);break}}}return i}})()},66272:(p,y,t)=>{var l={};p.exports=l;var v=t(41598),a=t(53402),r=t(15647);(function(){l._restingThresh=2,l._restingThreshTangent=Math.sqrt(6),l._positionDampen=.9,l._positionWarming=.8,l._frictionNormalMultiplier=5,l._frictionMaxStatic=Number.MAX_VALUE,l.preSolvePosition=function(s){var e,n,h,i=s.length;for(e=0;e<i;e++)n=s[e],n.isActive&&(h=n.activeContacts.length,n.collision.parentA.totalContacts+=h,n.collision.parentB.totalContacts+=h)},l.solvePosition=function(s,e,n){var h,i,o,f,u,d,c,m,x=l._positionDampen*(n||1),g=a.clamp(e/a._baseDelta,0,1),T=s.length;for(h=0;h<T;h++)i=s[h],!(!i.isActive||i.isSensor)&&(o=i.collision,f=o.parentA,u=o.parentB,d=o.normal,i.separation=d.x*(u.positionImpulse.x+o.penetration.x-f.positionImpulse.x)+d.y*(u.positionImpulse.y+o.penetration.y-f.positionImpulse.y));for(h=0;h<T;h++)i=s[h],!(!i.isActive||i.isSensor)&&(o=i.collision,f=o.parentA,u=o.parentB,d=o.normal,m=i.separation-i.slop*g,(f.isStatic||u.isStatic)&&(m*=2),f.isStatic||f.isSleeping||(c=x/f.totalContacts,f.positionImpulse.x+=d.x*m*c,f.positionImpulse.y+=d.y*m*c),u.isStatic||u.isSleeping||(c=x/u.totalContacts,u.positionImpulse.x-=d.x*m*c,u.positionImpulse.y-=d.y*m*c))},l.postSolvePosition=function(s){for(var e=l._positionWarming,n=s.length,h=v.translate,i=r.update,o=0;o<n;o++){var f=s[o],u=f.positionImpulse,d=u.x,c=u.y,m=f.velocity;if(f.totalContacts=0,d!==0||c!==0){for(var x=0;x<f.parts.length;x++){var g=f.parts[x];h(g.vertices,u),i(g.bounds,g.vertices,m),g.position.x+=d,g.position.y+=c}f.positionPrev.x+=d,f.positionPrev.y+=c,d*m.x+c*m.y<0?(u.x=0,u.y=0):(u.x*=e,u.y*=e)}}},l.preSolveVelocity=function(s){var e=s.length,n,h;for(n=0;n<e;n++){var i=s[n];if(!(!i.isActive||i.isSensor)){var o=i.activeContacts,f=o.length,u=i.collision,d=u.parentA,c=u.parentB,m=u.normal,x=u.tangent;for(h=0;h<f;h++){var g=o[h],T=g.vertex,S=g.normalImpulse,E=g.tangentImpulse;if(S!==0||E!==0){var P=m.x*S+x.x*E,F=m.y*S+x.y*E;d.isStatic||d.isSleeping||(d.positionPrev.x+=P*d.inverseMass,d.positionPrev.y+=F*d.inverseMass,d.anglePrev+=d.inverseInertia*((T.x-d.position.x)*F-(T.y-d.position.y)*P)),c.isStatic||c.isSleeping||(c.positionPrev.x-=P*c.inverseMass,c.positionPrev.y-=F*c.inverseMass,c.anglePrev-=c.inverseInertia*((T.x-c.position.x)*F-(T.y-c.position.y)*P))}}}}},l.solveVelocity=function(s,e){var n=e/a._baseDelta,h=n*n,i=h*n,o=-l._restingThresh*n,f=l._restingThreshTangent,u=l._frictionNormalMultiplier*n,d=l._frictionMaxStatic,c=s.length,m,x,g,T;for(g=0;g<c;g++){var S=s[g];if(!(!S.isActive||S.isSensor)){var E=S.collision,P=E.parentA,F=E.parentB,R=P.velocity,M=F.velocity,O=E.normal.x,I=E.normal.y,V=E.tangent.x,X=E.tangent.y,z=S.activeContacts,Z=z.length,N=1/Z,Y=P.inverseMass+F.inverseMass,L=S.friction*S.frictionStatic*u;for(R.x=P.position.x-P.positionPrev.x,R.y=P.position.y-P.positionPrev.y,M.x=F.position.x-F.positionPrev.x,M.y=F.position.y-F.positionPrev.y,P.angularVelocity=P.angle-P.anglePrev,F.angularVelocity=F.angle-F.anglePrev,T=0;T<Z;T++){var b=z[T],U=b.vertex,W=U.x-P.position.x,j=U.y-P.position.y,Q=U.x-F.position.x,_=U.y-F.position.y,et=R.x-j*P.angularVelocity,st=R.y+W*P.angularVelocity,ct=M.x-_*F.angularVelocity,gt=M.y+Q*F.angularVelocity,Et=et-ct,xt=st-gt,Mt=O*Et+I*xt,Vt=V*Et+X*xt,Wt=S.separation+Mt,Nt=Math.min(Wt,1);Nt=Wt<0?0:Nt;var Pt=Nt*L;Vt<-Pt||Vt>Pt?(x=Vt>0?Vt:-Vt,m=S.friction*(Vt>0?1:-1)*i,m<-x?m=-x:m>x&&(m=x)):(m=Vt,x=d);var bt=W*I-j*O,Gt=Q*I-_*O,Zt=N/(Y+P.inverseInertia*bt*bt+F.inverseInertia*Gt*Gt),$t=(1+S.restitution)*Mt*Zt;if(m*=Zt,Mt<o)b.normalImpulse=0;else{var le=b.normalImpulse;b.normalImpulse+=$t,b.normalImpulse>0&&(b.normalImpulse=0),$t=b.normalImpulse-le}if(Vt<-f||Vt>f)b.tangentImpulse=0;else{var ve=b.tangentImpulse;b.tangentImpulse+=m,b.tangentImpulse<-x&&(b.tangentImpulse=-x),b.tangentImpulse>x&&(b.tangentImpulse=x),m=b.tangentImpulse-ve}var ie=O*$t+V*m,qt=I*$t+X*m;P.isStatic||P.isSleeping||(P.positionPrev.x+=ie*P.inverseMass,P.positionPrev.y+=qt*P.inverseMass,P.anglePrev+=(W*qt-j*ie)*P.inverseInertia),F.isStatic||F.isSleeping||(F.positionPrev.x-=ie*F.inverseMass,F.positionPrev.y-=qt*F.inverseMass,F.anglePrev-=(Q*qt-_*ie)*F.inverseInertia)}}}}})()},48140:(p,y,t)=>{var l={};p.exports=l;var v=t(41598),a=t(31725),r=t(53614),s=t(15647),e=t(66615),n=t(53402);(function(){l._warming=.4,l._torqueDampen=1,l._minLength=1e-6,l.create=function(h){var i=h;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var o=i.bodyA?a.add(i.bodyA.position,i.pointA):i.pointA,f=i.bodyB?a.add(i.bodyB.position,i.pointB):i.pointB,u=a.magnitude(a.sub(o,f));i.length=typeof i.length<"u"?i.length:u,i.id=i.id||n.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var d={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return i.length===0&&i.stiffness>.1?(d.type="pin",d.anchors=!1):i.stiffness<.9&&(d.type="spring"),i.render=n.extend(d,i.render),i},l.preSolveAll=function(h){for(var i=0;i<h.length;i+=1){var o=h[i],f=o.constraintImpulse;o.isStatic||f.x===0&&f.y===0&&f.angle===0||(o.position.x+=f.x,o.position.y+=f.y,o.angle+=f.angle)}},l.solveAll=function(h,i){for(var o=n.clamp(i/n._baseDelta,0,1),f=0;f<h.length;f+=1){var u=h[f],d=!u.bodyA||u.bodyA&&u.bodyA.isStatic,c=!u.bodyB||u.bodyB&&u.bodyB.isStatic;(d||c)&&l.solve(h[f],o)}for(f=0;f<h.length;f+=1)u=h[f],d=!u.bodyA||u.bodyA&&u.bodyA.isStatic,c=!u.bodyB||u.bodyB&&u.bodyB.isStatic,!d&&!c&&l.solve(h[f],o)},l.solve=function(h,i){var o=h.bodyA,f=h.bodyB,u=h.pointA,d=h.pointB;if(!(!o&&!f)){o&&!o.isStatic&&(a.rotate(u,o.angle-h.angleA,u),h.angleA=o.angle),f&&!f.isStatic&&(a.rotate(d,f.angle-h.angleB,d),h.angleB=f.angle);var c=u,m=d;if(o&&(c=a.add(o.position,u)),f&&(m=a.add(f.position,d)),!(!c||!m)){var x=a.sub(c,m),g=a.magnitude(x);g<l._minLength&&(g=l._minLength);var T=(g-h.length)/g,S=h.stiffness>=1||h.length===0,E=S?h.stiffness*i:h.stiffness*i*i,P=h.damping*i,F=a.mult(x,T*E),R=(o?o.inverseMass:0)+(f?f.inverseMass:0),M=(o?o.inverseInertia:0)+(f?f.inverseInertia:0),O=R+M,I,V,X,z,Z;if(P>0){var N=a.create();X=a.div(x,g),Z=a.sub(f&&a.sub(f.position,f.positionPrev)||N,o&&a.sub(o.position,o.positionPrev)||N),z=a.dot(X,Z)}o&&!o.isStatic&&(V=o.inverseMass/R,o.constraintImpulse.x-=F.x*V,o.constraintImpulse.y-=F.y*V,o.position.x-=F.x*V,o.position.y-=F.y*V,P>0&&(o.positionPrev.x-=P*X.x*z*V,o.positionPrev.y-=P*X.y*z*V),I=a.cross(u,F)/O*l._torqueDampen*o.inverseInertia*(1-h.angularStiffness),o.constraintImpulse.angle-=I,o.angle-=I),f&&!f.isStatic&&(V=f.inverseMass/R,f.constraintImpulse.x+=F.x*V,f.constraintImpulse.y+=F.y*V,f.position.x+=F.x*V,f.position.y+=F.y*V,P>0&&(f.positionPrev.x+=P*X.x*z*V,f.positionPrev.y+=P*X.y*z*V),I=a.cross(d,F)/O*l._torqueDampen*f.inverseInertia*(1-h.angularStiffness),f.constraintImpulse.angle+=I,f.angle+=I)}}},l.postSolveAll=function(h){for(var i=0;i<h.length;i++){var o=h[i],f=o.constraintImpulse;if(!(o.isStatic||f.x===0&&f.y===0&&f.angle===0)){r.set(o,!1);for(var u=0;u<o.parts.length;u++){var d=o.parts[u];v.translate(d.vertices,f),u>0&&(d.position.x+=f.x,d.position.y+=f.y),f.angle!==0&&(v.rotate(d.vertices,f.angle,o.position),e.rotate(d.axes,f.angle),u>0&&a.rotateAbout(d.position,f.angle,o.position,d.position)),s.update(d.bounds,d.vertices,o.velocity)}f.angle*=l._warming,f.x*=l._warming,f.y*=l._warming}}},l.pointAWorld=function(h){return{x:(h.bodyA?h.bodyA.position.x:0)+(h.pointA?h.pointA.x:0),y:(h.bodyA?h.bodyA.position.y:0)+(h.pointA?h.pointA.y:0)}},l.pointBWorld=function(h){return{x:(h.bodyB?h.bodyB.position.x:0)+(h.pointB?h.pointB.x:0),y:(h.bodyB?h.bodyB.position.y:0)+(h.pointB?h.pointB.y:0)}},l.currentLength=function(h){var i=(h.bodyA?h.bodyA.position.x:0)+(h.pointA?h.pointA.x:0),o=(h.bodyA?h.bodyA.position.y:0)+(h.pointA?h.pointA.y:0),f=(h.bodyB?h.bodyB.position.x:0)+(h.pointB?h.pointB.x:0),u=(h.bodyB?h.bodyB.position.y:0)+(h.pointB?h.pointB.y:0),d=i-f,c=o-u;return Math.sqrt(d*d+c*c)}})()},53402:(p,y,t)=>{var l={};p.exports=l,function(){l._baseDelta=16.666666666666668,l._nextId=0,l._seed=0,l._nowStartTime=+new Date,l._warnedOnce={},l._decomp=null,l.extend=function(a,r){var s,e;typeof r=="boolean"?(s=2,e=r):(s=1,e=!0);for(var n=s;n<arguments.length;n++){var h=arguments[n];if(h)for(var i in h)e&&h[i]&&h[i].constructor===Object&&(!a[i]||a[i].constructor===Object)?(a[i]=a[i]||{},l.extend(a[i],e,h[i])):a[i]=h[i]}return a},l.clone=function(a,r){return l.extend({},r,a)},l.keys=function(a){if(Object.keys)return Object.keys(a);var r=[];for(var s in a)r.push(s);return r},l.values=function(a){var r=[];if(Object.keys){for(var s=Object.keys(a),e=0;e<s.length;e++)r.push(a[s[e]]);return r}for(var n in a)r.push(a[n]);return r},l.get=function(a,r,s,e){r=r.split(".").slice(s,e);for(var n=0;n<r.length;n+=1)a=a[r[n]];return a},l.set=function(a,r,s,e,n){var h=r.split(".").slice(e,n);return l.get(a,r,0,-1)[h[h.length-1]]=s,s},l.shuffle=function(a){for(var r=a.length-1;r>0;r--){var s=Math.floor(l.random()*(r+1)),e=a[r];a[r]=a[s],a[s]=e}return a},l.choose=function(a){return a[Math.floor(l.random()*a.length)]},l.isElement=function(a){return typeof HTMLElement<"u"?a instanceof HTMLElement:!!(a&&a.nodeType&&a.nodeName)},l.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"},l.isFunction=function(a){return typeof a=="function"},l.isPlainObject=function(a){return typeof a=="object"&&a.constructor===Object},l.isString=function(a){return toString.call(a)==="[object String]"},l.clamp=function(a,r,s){return a<r?r:a>s?s:a},l.sign=function(a){return a<0?-1:1},l.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-l._nowStartTime},l.random=function(a,r){return a=typeof a<"u"?a:0,r=typeof r<"u"?r:1,a+v()*(r-a)};var v=function(){return l._seed=(l._seed*9301+49297)%233280,l._seed/233280};l.colorToNumber=function(a){return a=a.replace("#",""),a.length==3&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)},l.logLevel=1,l.log=function(){console&&l.logLevel>0&&l.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.info=function(){console&&l.logLevel>0&&l.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.warn=function(){console&&l.logLevel>0&&l.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.warnOnce=function(){var a=Array.prototype.slice.call(arguments).join(" ");l._warnedOnce[a]||(l.warn(a),l._warnedOnce[a]=!0)},l.deprecated=function(a,r,s){a[r]=l.chain(function(){l.warnOnce(" deprecated ",s)},a[r])},l.nextId=function(){return l._nextId++},l.indexOf=function(a,r){if(a.indexOf)return a.indexOf(r);for(var s=0;s<a.length;s++)if(a[s]===r)return s;return-1},l.map=function(a,r){if(a.map)return a.map(r);for(var s=[],e=0;e<a.length;e+=1)s.push(r(a[e]));return s},l.topologicalSort=function(a){var r=[],s=[],e=[];for(var n in a)!s[n]&&!e[n]&&l._topologicalSort(n,s,e,a,r);return r},l._topologicalSort=function(a,r,s,e,n){var h=e[a]||[];s[a]=!0;for(var i=0;i<h.length;i+=1){var o=h[i];s[o]||r[o]||l._topologicalSort(o,r,s,e,n)}s[a]=!1,r[a]=!0,n.push(a)},l.chain=function(){for(var a=[],r=0;r<arguments.length;r+=1){var s=arguments[r];s._chained?a.push.apply(a,s._chained):a.push(s)}var e=function(){for(var n,h=new Array(arguments.length),i=0,o=arguments.length;i<o;i++)h[i]=arguments[i];for(i=0;i<a.length;i+=1){var f=a[i].apply(n,h);typeof f<"u"&&(n=f)}return n};return e._chained=a,e},l.chainPathBefore=function(a,r,s){return l.set(a,r,l.chain(s,l.get(a,r)))},l.chainPathAfter=function(a,r,s){return l.set(a,r,l.chain(l.get(a,r),s))},l.setDecomp=function(a){l._decomp=a},l.getDecomp=function(){var a=l._decomp;try{!a&&typeof window<"u"&&(a=window.decomp),!a&&typeof t.g<"u"&&(a=t.g.decomp)}catch{a=null}return a}}()},48413:(p,y,t)=>{var l={};p.exports=l;var v=t(53614),a=t(66272),r=t(81388),s=t(99561),e=t(35810),n=t(69351),h=t(48140),i=t(53402),o=t(22562);(function(){l.create=function(f){f=f||{};var u={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},d=i.extend(u,f);return d.world=f.world||n.create({label:"World"}),d.pairs=f.pairs||s.create(),d.detector=f.detector||r.create(),d.grid={buckets:[]},d.world.gravity=d.gravity,d.broadphase=d.grid,d.metrics={},d},l.update=function(f,u){var d=i.now(),c=f.world,m=f.detector,x=f.pairs,g=f.timing,T=g.timestamp,S;u=typeof u<"u"?u:i._baseDelta,u*=g.timeScale,g.timestamp+=u,g.lastDelta=u;var E={timestamp:g.timestamp,delta:u};e.trigger(f,"beforeUpdate",E);var P=n.allBodies(c),F=n.allConstraints(c);for(c.isModified&&(r.setBodies(m,P),n.setModified(c,!1,!1,!0)),f.enableSleeping&&v.update(P,u),l._bodiesApplyGravity(P,f.gravity),u>0&&l._bodiesUpdate(P,u),e.trigger(f,"beforeSolve",E),h.preSolveAll(P),S=0;S<f.constraintIterations;S++)h.solveAll(F,u);h.postSolveAll(P),m.pairs=f.pairs;var R=r.collisions(m);s.update(x,R,T),f.enableSleeping&&v.afterCollisions(x.list),x.collisionStart.length>0&&e.trigger(f,"collisionStart",{pairs:x.collisionStart,timestamp:g.timestamp,delta:u});var M=i.clamp(20/f.positionIterations,0,1);for(a.preSolvePosition(x.list),S=0;S<f.positionIterations;S++)a.solvePosition(x.list,u,M);for(a.postSolvePosition(P),h.preSolveAll(P),S=0;S<f.constraintIterations;S++)h.solveAll(F,u);for(h.postSolveAll(P),a.preSolveVelocity(x.list),S=0;S<f.velocityIterations;S++)a.solveVelocity(x.list,u);return l._bodiesUpdateVelocities(P),x.collisionActive.length>0&&e.trigger(f,"collisionActive",{pairs:x.collisionActive,timestamp:g.timestamp,delta:u}),x.collisionEnd.length>0&&e.trigger(f,"collisionEnd",{pairs:x.collisionEnd,timestamp:g.timestamp,delta:u}),l._bodiesClearForces(P),e.trigger(f,"afterUpdate",E),f.timing.lastElapsed=i.now()-d,f},l.merge=function(f,u){if(i.extend(f,u),u.world){f.world=u.world,l.clear(f);for(var d=n.allBodies(f.world),c=0;c<d.length;c++){var m=d[c];v.set(m,!1),m.id=i.nextId()}}},l.clear=function(f){s.clear(f.pairs),r.clear(f.detector)},l._bodiesClearForces=function(f){for(var u=f.length,d=0;d<u;d++){var c=f[d];c.force.x=0,c.force.y=0,c.torque=0}},l._bodiesApplyGravity=function(f,u){var d=typeof u.scale<"u"?u.scale:.001,c=f.length;if(!(u.x===0&&u.y===0||d===0))for(var m=0;m<c;m++){var x=f[m];x.ignoreGravity||x.isStatic||x.isSleeping||(x.force.y+=x.mass*u.y*d,x.force.x+=x.mass*u.x*d)}},l._bodiesUpdate=function(f,u){for(var d=f.length,c=0;c<d;c++){var m=f[c];m.isStatic||m.isSleeping||o.update(m,u)}},l._bodiesUpdateVelocities=function(f){for(var u=f.length,d=0;d<u;d++)o.updateVelocities(f[d])}})()},35810:(p,y,t)=>{var l={};p.exports=l;var v=t(53402);(function(){l.on=function(a,r,s){for(var e=r.split(" "),n,h=0;h<e.length;h++)n=e[h],a.events=a.events||{},a.events[n]=a.events[n]||[],a.events[n].push(s);return s},l.off=function(a,r,s){if(!r){a.events={};return}typeof r=="function"&&(s=r,r=v.keys(a.events).join(" "));for(var e=r.split(" "),n=0;n<e.length;n++){var h=a.events[e[n]],i=[];if(s&&h)for(var o=0;o<h.length;o++)h[o]!==s&&i.push(h[o]);a.events[e[n]]=i}},l.trigger=function(a,r,s){var e,n,h,i,o=a.events;if(o&&v.keys(o).length>0){s||(s={}),e=r.split(" ");for(var f=0;f<e.length;f++)if(n=e[f],h=o[n],h){i=v.clone(s,!1),i.name=n,i.source=a;for(var u=0;u<h.length;u++)h[u].apply(a,[i])}}}})()},6790:(p,y,t)=>{var l={};p.exports=l;var v=t(73832),a=t(53402);(function(){l.name="matter-js",l.version="0.19.0",l.uses=[],l.used=[],l.use=function(){v.use(l,Array.prototype.slice.call(arguments))},l.before=function(r,s){return r=r.replace(/^Matter./,""),a.chainPathBefore(l,r,s)},l.after=function(r,s){return r=r.replace(/^Matter./,""),a.chainPathAfter(l,r,s)}})()},73832:(p,y,t)=>{var l={};p.exports=l;var v=t(53402);(function(){l._registry={},l.register=function(a){if(l.isPlugin(a)||v.warn("Plugin.register:",l.toString(a),"does not implement all required fields."),a.name in l._registry){var r=l._registry[a.name],s=l.versionParse(a.version).number,e=l.versionParse(r.version).number;s>e?(v.warn("Plugin.register:",l.toString(r),"was upgraded to",l.toString(a)),l._registry[a.name]=a):s<e?v.warn("Plugin.register:",l.toString(r),"can not be downgraded to",l.toString(a)):a!==r&&v.warn("Plugin.register:",l.toString(a),"is already registered to different plugin object")}else l._registry[a.name]=a;return a},l.resolve=function(a){return l._registry[l.dependencyParse(a).name]},l.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},l.isPlugin=function(a){return a&&a.name&&a.version&&a.install},l.isUsed=function(a,r){return a.used.indexOf(r)>-1},l.isFor=function(a,r){var s=a.for&&l.dependencyParse(a.for);return!a.for||r.name===s.name&&l.versionSatisfies(r.version,s.range)},l.use=function(a,r){if(a.uses=(a.uses||[]).concat(r||[]),a.uses.length===0){v.warn("Plugin.use:",l.toString(a),"does not specify any dependencies to install.");return}for(var s=l.dependencies(a),e=v.topologicalSort(s),n=[],h=0;h<e.length;h+=1)if(e[h]!==a.name){var i=l.resolve(e[h]);if(!i){n.push(" "+e[h]);continue}l.isUsed(a,i.name)||(l.isFor(i,a)||(v.warn("Plugin.use:",l.toString(i),"is for",i.for,"but installed on",l.toString(a)+"."),i._warned=!0),i.install?i.install(a):(v.warn("Plugin.use:",l.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(n.push(" "+l.toString(i)),delete i._warned):n.push(" "+l.toString(i)),a.used.push(i.name))}n.length>0&&!i.silent&&v.info(n.join("  "))},l.dependencies=function(a,r){var s=l.dependencyParse(a),e=s.name;if(r=r||{},!(e in r)){a=l.resolve(a)||a,r[e]=v.map(a.uses||[],function(h){l.isPlugin(h)&&l.register(h);var i=l.dependencyParse(h),o=l.resolve(h);return o&&!l.versionSatisfies(o.version,i.range)?(v.warn("Plugin.dependencies:",l.toString(o),"does not satisfy",l.toString(i),"used by",l.toString(s)+"."),o._warned=!0,a._warned=!0):o||(v.warn("Plugin.dependencies:",l.toString(h),"used by",l.toString(s),"could not be resolved."),a._warned=!0),i.name});for(var n=0;n<r[e].length;n+=1)l.dependencies(r[e][n],r);return r}},l.dependencyParse=function(a){if(v.isString(a)){var r=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return r.test(a)||v.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},l.versionParse=function(a){var r=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;r.test(a)||v.warn("Plugin.versionParse:",a,"is not a valid version or range.");var s=r.exec(a),e=Number(s[4]),n=Number(s[5]),h=Number(s[6]);return{isRange:!!(s[1]||s[2]),version:s[3],range:a,operator:s[1]||s[2]||"",major:e,minor:n,patch:h,parts:[e,n,h],prerelease:s[7],number:e*1e8+n*1e4+h}},l.versionSatisfies=function(a,r){r=r||"*";var s=l.versionParse(r),e=l.versionParse(a);if(s.isRange){if(s.operator==="*"||a==="*")return!0;if(s.operator===">")return e.number>s.number;if(s.operator===">=")return e.number>=s.number;if(s.operator==="~")return e.major===s.major&&e.minor===s.minor&&e.patch>=s.patch;if(s.operator==="^")return s.major>0?e.major===s.major&&e.number>=s.number:s.minor>0?e.minor===s.minor&&e.patch>=s.patch:e.patch===s.patch}return a===r||a==="*"}})()},53614:(p,y,t)=>{var l={};p.exports=l;var v=t(22562),a=t(35810),r=t(53402);(function(){l._motionWakeThreshold=.18,l._motionSleepThreshold=.08,l._minBias=.9,l.update=function(s,e){for(var n=e/r._baseDelta,h=l._motionSleepThreshold,i=0;i<s.length;i++){var o=s[i],f=v.getSpeed(o),u=v.getAngularSpeed(o),d=f*f+u*u;if(o.force.x!==0||o.force.y!==0){l.set(o,!1);continue}var c=Math.min(o.motion,d),m=Math.max(o.motion,d);o.motion=l._minBias*c+(1-l._minBias)*m,o.sleepThreshold>0&&o.motion<h?(o.sleepCounter+=1,o.sleepCounter>=o.sleepThreshold/n&&l.set(o,!0)):o.sleepCounter>0&&(o.sleepCounter-=1)}},l.afterCollisions=function(s){for(var e=l._motionSleepThreshold,n=0;n<s.length;n++){var h=s[n];if(h.isActive){var i=h.collision,o=i.bodyA.parent,f=i.bodyB.parent;if(!(o.isSleeping&&f.isSleeping||o.isStatic||f.isStatic)&&(o.isSleeping||f.isSleeping)){var u=o.isSleeping&&!o.isStatic?o:f,d=u===o?f:o;!u.isStatic&&d.motion>e&&l.set(u,!1)}}}},l.set=function(s,e){var n=s.isSleeping;e?(s.isSleeping=!0,s.sleepCounter=s.sleepThreshold,s.positionImpulse.x=0,s.positionImpulse.y=0,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.anglePrev=s.angle,s.speed=0,s.angularSpeed=0,s.motion=0,n||a.trigger(s,"sleepStart")):(s.isSleeping=!1,s.sleepCounter=0,n&&a.trigger(s,"sleepEnd"))}})()},66280:(p,y,t)=>{var l={};p.exports=l;var v=t(41598),a=t(53402),r=t(22562),s=t(15647),e=t(31725);(function(){l.rectangle=function(n,h,i,o,f){f=f||{};var u={label:"Rectangle Body",position:{x:n,y:h},vertices:v.fromPath("L 0 0 L "+i+" 0 L "+i+" "+o+" L 0 "+o)};if(f.chamfer){var d=f.chamfer;u.vertices=v.chamfer(u.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete f.chamfer}return r.create(a.extend({},u,f))},l.trapezoid=function(n,h,i,o,f,u){u=u||{},f*=.5;var d=(1-f*2)*i,c=i*f,m=c+d,x=m+c,g;f<.5?g="L 0 0 L "+c+" "+-o+" L "+m+" "+-o+" L "+x+" 0":g="L 0 0 L "+m+" "+-o+" L "+x+" 0";var T={label:"Trapezoid Body",position:{x:n,y:h},vertices:v.fromPath(g)};if(u.chamfer){var S=u.chamfer;T.vertices=v.chamfer(T.vertices,S.radius,S.quality,S.qualityMin,S.qualityMax),delete u.chamfer}return r.create(a.extend({},T,u))},l.circle=function(n,h,i,o,f){o=o||{};var u={label:"Circle Body",circleRadius:i};f=f||25;var d=Math.ceil(Math.max(10,Math.min(f,i)));return d%2===1&&(d+=1),l.polygon(n,h,d,i,a.extend({},u,o))},l.polygon=function(n,h,i,o,f){if(f=f||{},i<3)return l.circle(n,h,o,f);for(var u=2*Math.PI/i,d="",c=u*.5,m=0;m<i;m+=1){var x=c+m*u,g=Math.cos(x)*o,T=Math.sin(x)*o;d+="L "+g.toFixed(3)+" "+T.toFixed(3)+" "}var S={label:"Polygon Body",position:{x:n,y:h},vertices:v.fromPath(d)};if(f.chamfer){var E=f.chamfer;S.vertices=v.chamfer(S.vertices,E.radius,E.quality,E.qualityMin,E.qualityMax),delete f.chamfer}return r.create(a.extend({},S,f))},l.fromVertices=function(n,h,i,o,f,u,d,c){var m=a.getDecomp(),x,g,T,S,E,P,F,R,M,O,I;for(x=!!(m&&m.quickDecomp),o=o||{},T=[],f=typeof f<"u"?f:!1,u=typeof u<"u"?u:.01,d=typeof d<"u"?d:10,c=typeof c<"u"?c:.01,a.isArray(i[0])||(i=[i]),O=0;O<i.length;O+=1)if(P=i[O],S=v.isConvex(P),E=!S,E&&!x&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),S||!x)S?P=v.clockwiseSort(P):P=v.hull(P),T.push({position:{x:n,y:h},vertices:P});else{var V=P.map(function(Q){return[Q.x,Q.y]});m.makeCCW(V),u!==!1&&m.removeCollinearPoints(V,u),c!==!1&&m.removeDuplicatePoints&&m.removeDuplicatePoints(V,c);var X=m.quickDecomp(V);for(F=0;F<X.length;F++){var z=X[F],Z=z.map(function(Q){return{x:Q[0],y:Q[1]}});d>0&&v.area(Z)<d||T.push({position:v.centre(Z),vertices:Z})}}for(F=0;F<T.length;F++)T[F]=r.create(a.extend(T[F],o));if(f){var N=5;for(F=0;F<T.length;F++){var Y=T[F];for(R=F+1;R<T.length;R++){var L=T[R];if(s.overlaps(Y.bounds,L.bounds)){var b=Y.vertices,U=L.vertices;for(M=0;M<Y.vertices.length;M++)for(I=0;I<L.vertices.length;I++){var W=e.magnitudeSquared(e.sub(b[(M+1)%b.length],U[I])),j=e.magnitudeSquared(e.sub(b[M],U[(I+1)%U.length]));W<N&&j<N&&(b[M].isInternal=!0,U[I].isInternal=!0)}}}}}return T.length>1?(g=r.create(a.extend({parts:T.slice(0)},o)),r.setPosition(g,{x:n,y:h}),g):T[0]},l.flagCoincidentParts=function(n,h){h===void 0&&(h=5);for(var i=0;i<n.length;i++)for(var o=n[i],f=i+1;f<n.length;f++){var u=n[f];if(s.overlaps(o.bounds,u.bounds))for(var d=o.vertices,c=u.vertices,m=0;m<o.vertices.length;m++)for(var x=0;x<u.vertices.length;x++){var g=e.magnitudeSquared(e.sub(d[(m+1)%d.length],c[x])),T=e.magnitudeSquared(e.sub(d[m],c[(x+1)%c.length]));g<h&&T<h&&(d[m].isInternal=!0,c[x].isInternal=!0)}}return n}})()},74116:(p,y,t)=>{var l={};p.exports=l;var v=t(69351),a=t(48140),r=t(53402),s=t(22562),e=t(66280);(function(){l.stack=function(n,h,i,o,f,u,d){for(var c=v.create({label:"Stack"}),m=n,x=h,g,T=0,S=0;S<o;S++){for(var E=0,P=0;P<i;P++){var F=d(m,x,P,S,g,T);if(F){var R=F.bounds.max.y-F.bounds.min.y,M=F.bounds.max.x-F.bounds.min.x;R>E&&(E=R),s.translate(F,{x:M*.5,y:R*.5}),m=F.bounds.max.x+f,v.addBody(c,F),g=F,T+=1}else m+=f}x+=E+u,m=n}return c},l.chain=function(n,h,i,o,f,u){for(var d=n.bodies,c=1;c<d.length;c++){var m=d[c-1],x=d[c],g=m.bounds.max.y-m.bounds.min.y,T=m.bounds.max.x-m.bounds.min.x,S=x.bounds.max.y-x.bounds.min.y,E=x.bounds.max.x-x.bounds.min.x,P={bodyA:m,pointA:{x:T*h,y:g*i},bodyB:x,pointB:{x:E*o,y:S*f}},F=r.extend(P,u);v.addConstraint(n,a.create(F))}return n.label+=" Chain",n},l.mesh=function(n,h,i,o,f){var u=n.bodies,d,c,m,x,g;for(d=0;d<i;d++){for(c=1;c<h;c++)m=u[c-1+d*h],x=u[c+d*h],v.addConstraint(n,a.create(r.extend({bodyA:m,bodyB:x},f)));if(d>0)for(c=0;c<h;c++)m=u[c+(d-1)*h],x=u[c+d*h],v.addConstraint(n,a.create(r.extend({bodyA:m,bodyB:x},f))),o&&c>0&&(g=u[c-1+(d-1)*h],v.addConstraint(n,a.create(r.extend({bodyA:g,bodyB:x},f)))),o&&c<h-1&&(g=u[c+1+(d-1)*h],v.addConstraint(n,a.create(r.extend({bodyA:g,bodyB:x},f))))}return n.label+=" Mesh",n},l.pyramid=function(n,h,i,o,f,u,d){return l.stack(n,h,i,o,f,u,function(c,m,x,g,T,S){var E=Math.min(o,Math.ceil(i/2)),P=T?T.bounds.max.x-T.bounds.min.x:0;if(!(g>E)){g=E-g;var F=g,R=i-1-g;if(!(x<F||x>R)){S===1&&s.translate(T,{x:(x+(i%2===1?1:-1))*P,y:0});var M=T?x*P:0;return d(n+M+x*f,m,x,g,T,S)}}})},l.newtonsCradle=function(n,h,i,o,f){for(var u=v.create({label:"Newtons Cradle"}),d=0;d<i;d++){var c=1.9,m=e.circle(n+d*(o*c),h+f,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),x=a.create({pointA:{x:n+d*(o*c),y:h},bodyB:m});v.addBody(u,m),v.addConstraint(u,x)}return u},l.car=function(n,h,i,o,f){var u=s.nextGroup(!0),d=20,c=-i*.5+d,m=i*.5-d,x=0,g=v.create({label:"Car"}),T=e.rectangle(n,h,i,o,{collisionFilter:{group:u},chamfer:{radius:o*.5},density:2e-4}),S=e.circle(n+c,h+x,f,{collisionFilter:{group:u},friction:.8}),E=e.circle(n+m,h+x,f,{collisionFilter:{group:u},friction:.8}),P=a.create({bodyB:T,pointB:{x:c,y:x},bodyA:S,stiffness:1,length:0}),F=a.create({bodyB:T,pointB:{x:m,y:x},bodyA:E,stiffness:1,length:0});return v.addBody(g,T),v.addBody(g,S),v.addBody(g,E),v.addConstraint(g,P),v.addConstraint(g,F),g},l.softBody=function(n,h,i,o,f,u,d,c,m,x){m=r.extend({inertia:1/0},m),x=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},x);var g=l.stack(n,h,i,o,f,u,function(T,S){return e.circle(T,S,c,m)});return l.mesh(g,i,o,d,x),g.label="Soft Body",g}})()},66615:(p,y,t)=>{var l={};p.exports=l;var v=t(31725),a=t(53402);(function(){l.fromVertices=function(r){for(var s={},e=0;e<r.length;e++){var n=(e+1)%r.length,h=v.normalise({x:r[n].y-r[e].y,y:r[e].x-r[n].x}),i=h.y===0?1/0:h.x/h.y;i=i.toFixed(3).toString(),s[i]=h}return a.values(s)},l.rotate=function(r,s){if(s!==0)for(var e=Math.cos(s),n=Math.sin(s),h=0;h<r.length;h++){var i=r[h],o;o=i.x*e-i.y*n,i.y=i.x*n+i.y*e,i.x=o}}})()},15647:p=>{var y={};p.exports=y,function(){y.create=function(t){var l={min:{x:0,y:0},max:{x:0,y:0}};return t&&y.update(l,t),l},y.update=function(t,l,v){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var a=0;a<l.length;a++){var r=l[a];r.x>t.max.x&&(t.max.x=r.x),r.x<t.min.x&&(t.min.x=r.x),r.y>t.max.y&&(t.max.y=r.y),r.y<t.min.y&&(t.min.y=r.y)}v&&(v.x>0?t.max.x+=v.x:t.min.x+=v.x,v.y>0?t.max.y+=v.y:t.min.y+=v.y)},y.contains=function(t,l){return l.x>=t.min.x&&l.x<=t.max.x&&l.y>=t.min.y&&l.y<=t.max.y},y.overlaps=function(t,l){return t.min.x<=l.max.x&&t.max.x>=l.min.x&&t.max.y>=l.min.y&&t.min.y<=l.max.y},y.translate=function(t,l){t.min.x+=l.x,t.max.x+=l.x,t.min.y+=l.y,t.max.y+=l.y},y.shift=function(t,l){var v=t.max.x-t.min.x,a=t.max.y-t.min.y;t.min.x=l.x,t.max.x=l.x+v,t.min.y=l.y,t.max.y=l.y+a}}()},74058:(p,y,t)=>{var l={};p.exports=l,t(15647);var v=t(53402);(function(){l.pathToVertices=function(a,r){typeof window<"u"&&!("SVGPathSeg"in window)&&v.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var s,e,n,h,i,o,f,u,d,c,m=[],x,g,T=0,S=0,E=0;r=r||15;var P=function(R,M,O){var I=O%2===1&&O>1;if(!d||R!=d.x||M!=d.y){d&&I?(x=d.x,g=d.y):(x=0,g=0);var V={x:x+R,y:g+M};(I||!d)&&(d=V),m.push(V),S=x+R,E=g+M}},F=function(R){var M=R.pathSegTypeAsLetter.toUpperCase();if(M!=="Z"){switch(M){case"M":case"L":case"T":case"C":case"S":case"Q":S=R.x,E=R.y;break;case"H":S=R.x;break;case"V":E=R.y;break}P(S,E,R.pathSegType)}};for(l._svgPathToAbsolute(a),n=a.getTotalLength(),o=[],s=0;s<a.pathSegList.numberOfItems;s+=1)o.push(a.pathSegList.getItem(s));for(f=o.concat();T<n;){if(c=a.getPathSegAtLength(T),i=o[c],i!=u){for(;f.length&&f[0]!=i;)F(f.shift());u=i}switch(i.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":h=a.getPointAtLength(T),P(h.x,h.y,0);break}T+=r}for(s=0,e=f.length;s<e;++s)F(f[s]);return m},l._svgPathToAbsolute=function(a){for(var r,s,e,n,h,i,o=a.pathSegList,f=0,u=0,d=o.numberOfItems,c=0;c<d;++c){var m=o.getItem(c),x=m.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(x))"x"in m&&(f=m.x),"y"in m&&(u=m.y);else switch("x1"in m&&(e=f+m.x1),"x2"in m&&(h=f+m.x2),"y1"in m&&(n=u+m.y1),"y2"in m&&(i=u+m.y2),"x"in m&&(f+=m.x),"y"in m&&(u+=m.y),x){case"m":o.replaceItem(a.createSVGPathSegMovetoAbs(f,u),c);break;case"l":o.replaceItem(a.createSVGPathSegLinetoAbs(f,u),c);break;case"h":o.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(f),c);break;case"v":o.replaceItem(a.createSVGPathSegLinetoVerticalAbs(u),c);break;case"c":o.replaceItem(a.createSVGPathSegCurvetoCubicAbs(f,u,e,n,h,i),c);break;case"s":o.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(f,u,h,i),c);break;case"q":o.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(f,u,e,n),c);break;case"t":o.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(f,u),c);break;case"a":o.replaceItem(a.createSVGPathSegArcAbs(f,u,m.r1,m.r2,m.angle,m.largeArcFlag,m.sweepFlag),c);break;case"z":case"Z":f=r,u=s;break}(x=="M"||x=="m")&&(r=f,s=u)}}})()},31725:p=>{var y={};p.exports=y,function(){y.create=function(t,l){return{x:t||0,y:l||0}},y.clone=function(t){return{x:t.x,y:t.y}},y.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},y.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},y.rotate=function(t,l,v){var a=Math.cos(l),r=Math.sin(l);v||(v={});var s=t.x*a-t.y*r;return v.y=t.x*r+t.y*a,v.x=s,v},y.rotateAbout=function(t,l,v,a){var r=Math.cos(l),s=Math.sin(l);a||(a={});var e=v.x+((t.x-v.x)*r-(t.y-v.y)*s);return a.y=v.y+((t.x-v.x)*s+(t.y-v.y)*r),a.x=e,a},y.normalise=function(t){var l=y.magnitude(t);return l===0?{x:0,y:0}:{x:t.x/l,y:t.y/l}},y.dot=function(t,l){return t.x*l.x+t.y*l.y},y.cross=function(t,l){return t.x*l.y-t.y*l.x},y.cross3=function(t,l,v){return(l.x-t.x)*(v.y-t.y)-(l.y-t.y)*(v.x-t.x)},y.add=function(t,l,v){return v||(v={}),v.x=t.x+l.x,v.y=t.y+l.y,v},y.sub=function(t,l,v){return v||(v={}),v.x=t.x-l.x,v.y=t.y-l.y,v},y.mult=function(t,l){return{x:t.x*l,y:t.y*l}},y.div=function(t,l){return{x:t.x/l,y:t.y/l}},y.perp=function(t,l){return l=l===!0?-1:1,{x:l*-t.y,y:l*t.x}},y.neg=function(t){return{x:-t.x,y:-t.y}},y.angle=function(t,l){return Math.atan2(l.y-t.y,l.x-t.x)},y._temp=[y.create(),y.create(),y.create(),y.create(),y.create(),y.create()]}()},41598:(p,y,t)=>{var l={};p.exports=l;var v=t(31725),a=t(53402);(function(){l.create=function(r,s){for(var e=[],n=0;n<r.length;n++){var h=r[n],i={x:h.x,y:h.y,index:n,body:s,isInternal:!1};e.push(i)}return e},l.fromPath=function(r,s){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,n=[];return r.replace(e,function(h,i,o){n.push({x:parseFloat(i),y:parseFloat(o)})}),l.create(n,s)},l.centre=function(r){for(var s=l.area(r,!0),e={x:0,y:0},n,h,i,o=0;o<r.length;o++)i=(o+1)%r.length,n=v.cross(r[o],r[i]),h=v.mult(v.add(r[o],r[i]),n),e=v.add(e,h);return v.div(e,6*s)},l.mean=function(r){for(var s={x:0,y:0},e=0;e<r.length;e++)s.x+=r[e].x,s.y+=r[e].y;return v.div(s,r.length)},l.area=function(r,s){for(var e=0,n=r.length-1,h=0;h<r.length;h++)e+=(r[n].x-r[h].x)*(r[n].y+r[h].y),n=h;return s?e/2:Math.abs(e)/2},l.inertia=function(r,s){for(var e=0,n=0,h=r,i,o,f=0;f<h.length;f++)o=(f+1)%h.length,i=Math.abs(v.cross(h[o],h[f])),e+=i*(v.dot(h[o],h[o])+v.dot(h[o],h[f])+v.dot(h[f],h[f])),n+=i;return s/6*(e/n)},l.translate=function(r,s,e){e=typeof e<"u"?e:1;var n=r.length,h=s.x*e,i=s.y*e,o;for(o=0;o<n;o++)r[o].x+=h,r[o].y+=i;return r},l.rotate=function(r,s,e){if(s!==0){var n=Math.cos(s),h=Math.sin(s),i=e.x,o=e.y,f=r.length,u,d,c,m;for(m=0;m<f;m++)u=r[m],d=u.x-i,c=u.y-o,u.x=i+(d*n-c*h),u.y=o+(d*h+c*n);return r}},l.contains=function(r,s){for(var e=s.x,n=s.y,h=r.length,i=r[h-1],o,f=0;f<h;f++){if(o=r[f],(e-i.x)*(o.y-i.y)+(n-i.y)*(i.x-o.x)>0)return!1;i=o}return!0},l.scale=function(r,s,e,n){if(s===1&&e===1)return r;n=n||l.centre(r);for(var h,i,o=0;o<r.length;o++)h=r[o],i=v.sub(h,n),r[o].x=n.x+i.x*s,r[o].y=n.y+i.y*e;return r},l.chamfer=function(r,s,e,n,h){typeof s=="number"?s=[s]:s=s||[8],e=typeof e<"u"?e:-1,n=n||2,h=h||14;for(var i=[],o=0;o<r.length;o++){var f=r[o-1>=0?o-1:r.length-1],u=r[o],d=r[(o+1)%r.length],c=s[o<s.length?o:s.length-1];if(c===0){i.push(u);continue}var m=v.normalise({x:u.y-f.y,y:f.x-u.x}),x=v.normalise({x:d.y-u.y,y:u.x-d.x}),g=Math.sqrt(2*Math.pow(c,2)),T=v.mult(a.clone(m),c),S=v.normalise(v.mult(v.add(m,x),.5)),E=v.sub(u,v.mult(S,g)),P=e;e===-1&&(P=Math.pow(c,.32)*1.75),P=a.clamp(P,n,h),P%2===1&&(P+=1);for(var F=Math.acos(v.dot(m,x)),R=F/P,M=0;M<P;M++)i.push(v.add(v.rotate(T,R*M),E))}return i},l.clockwiseSort=function(r){var s=l.mean(r);return r.sort(function(e,n){return v.angle(s,e)-v.angle(s,n)}),r},l.isConvex=function(r){var s=0,e=r.length,n,h,i,o;if(e<3)return null;for(n=0;n<e;n++)if(h=(n+1)%e,i=(n+2)%e,o=(r[h].x-r[n].x)*(r[i].y-r[h].y),o-=(r[h].y-r[n].y)*(r[i].x-r[h].x),o<0?s|=1:o>0&&(s|=2),s===3)return!1;return s!==0?!0:null},l.hull=function(r){var s=[],e=[],n,h;for(r=r.slice(0),r.sort(function(i,o){var f=i.x-o.x;return f!==0?f:i.y-o.y}),h=0;h<r.length;h+=1){for(n=r[h];e.length>=2&&v.cross3(e[e.length-2],e[e.length-1],n)<=0;)e.pop();e.push(n)}for(h=r.length-1;h>=0;h-=1){for(n=r[h];s.length>=2&&v.cross3(s[s.length-2],s[s.length-1],n)<=0;)s.pop();s.push(n)}return s.pop(),e.pop(),s.concat(e)}})()},18210:(p,y,t)=>{var l=t(19933),v={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(a){a.after("Body.create",function(){v.Body.init(this)}),a.before("Engine.update",function(r){v.Engine.update(r)})},Body:{init:function(a){a.plugin.attractors=a.plugin.attractors||[]}},Engine:{update:function(a){for(var r=l.Composite.allBodies(a.world),s=0;s<r.length;s++){var e=r[s],n=e.plugin.attractors;if(n&&n.length>0)for(var h=0;h<r.length;h++){var i=r[h];if(s!==h)for(var o=0;o<n.length;o++){var f=n[o],u=f;l.Common.isFunction(f)&&(u=f(e,i)),u&&l.Body.applyForce(i,i.position,u)}}}}},Attractors:{gravityConstant:.001,gravity:function(a,r){var s=l.Vector.sub(r.position,a.position),e=l.Vector.magnitudeSquared(s)||1e-4,n=l.Vector.normalise(s),h=-v.Attractors.gravityConstant*(a.mass*r.mass/e),i=l.Vector.mult(n,h);l.Body.applyForce(a,a.position,l.Vector.neg(i)),l.Body.applyForce(r,r.position,i)}}};p.exports=v},40178:p=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@phaser.io>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(t){t.after("Engine.create",function(){t.Events.on(this,"collisionStart",function(l){l.pairs.map(function(v){var a=v.bodyA,r=v.bodyB;a.gameObject&&a.gameObject.emit("collide",a,r,v),r.gameObject&&r.gameObject.emit("collide",r,a,v),t.Events.trigger(a,"onCollide",{pair:v}),t.Events.trigger(r,"onCollide",{pair:v}),a.onCollideCallback&&a.onCollideCallback(v),r.onCollideCallback&&r.onCollideCallback(v),a.onCollideWith[r.id]&&a.onCollideWith[r.id](r,v),r.onCollideWith[a.id]&&r.onCollideWith[a.id](a,v)})}),t.Events.on(this,"collisionActive",function(l){l.pairs.map(function(v){var a=v.bodyA,r=v.bodyB;a.gameObject&&a.gameObject.emit("collideActive",a,r,v),r.gameObject&&r.gameObject.emit("collideActive",r,a,v),t.Events.trigger(a,"onCollideActive",{pair:v}),t.Events.trigger(r,"onCollideActive",{pair:v}),a.onCollideActiveCallback&&a.onCollideActiveCallback(v),r.onCollideActiveCallback&&r.onCollideActiveCallback(v)})}),t.Events.on(this,"collisionEnd",function(l){l.pairs.map(function(v){var a=v.bodyA,r=v.bodyB;a.gameObject&&a.gameObject.emit("collideEnd",a,r,v),r.gameObject&&r.gameObject.emit("collideEnd",r,a,v),t.Events.trigger(a,"onCollideEnd",{pair:v}),t.Events.trigger(r,"onCollideEnd",{pair:v}),a.onCollideEndCallback&&a.onCollideEndCallback(v),r.onCollideEndCallback&&r.onCollideEndCallback(v)})})})}};p.exports=y},74507:(p,y,t)=>{var l=t(19933),v={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(a){a.after("Engine.update",function(){v.Engine.update(this)})},Engine:{update:function(a){for(var r=a.world,s=l.Composite.allBodies(r),e=l.Composite.allComposites(r),n=0;n<s.length;n+=1){var h=s[n];h.plugin.wrap&&v.Body.wrap(h,h.plugin.wrap)}for(n=0;n<e.length;n+=1){var i=e[n];i.plugin.wrap&&v.Composite.wrap(i,i.plugin.wrap)}}},Bounds:{wrap:function(a,r){var s=null,e=null;if(typeof r.min.x<"u"&&typeof r.max.x<"u"&&(a.min.x>r.max.x?s=r.min.x-a.max.x:a.max.x<r.min.x&&(s=r.max.x-a.min.x)),typeof r.min.y<"u"&&typeof r.max.y<"u"&&(a.min.y>r.max.y?e=r.min.y-a.max.y:a.max.y<r.min.y&&(e=r.max.y-a.min.y)),s!==null||e!==null)return{x:s||0,y:e||0}}},Body:{wrap:function(a,r){var s=v.Bounds.wrap(a.bounds,r);return s&&l.Body.translate(a,s),s}},Composite:{bounds:function(a){for(var r=l.Composite.allBodies(a),s=[],e=0;e<r.length;e+=1){var n=r[e];s.push(n.bounds.min,n.bounds.max)}return l.Bounds.create(s)},wrap:function(a,r){var s=v.Bounds.wrap(v.Composite.bounds(a),r);return s&&l.Composite.translate(a,s),s}}};p.exports=v},55973:p=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={decomp:F,quickDecomp:I,isSimple:M,removeCollinearPoints:V,removeDuplicatePoints:X,makeCCW:d};function y(N,Y,L){L=L||0;var b=[0,0],U,W,j,Q,_,et,st;return U=N[1][1]-N[0][1],W=N[0][0]-N[1][0],j=U*N[0][0]+W*N[0][1],Q=Y[1][1]-Y[0][1],_=Y[0][0]-Y[1][0],et=Q*Y[0][0]+_*Y[0][1],st=U*_-Q*W,z(st,0,L)||(b[0]=(_*j-W*et)/st,b[1]=(U*et-Q*j)/st),b}function t(N,Y,L,b){var U=Y[0]-N[0],W=Y[1]-N[1],j=b[0]-L[0],Q=b[1]-L[1];if(j*W-Q*U===0)return!1;var _=(U*(L[1]-N[1])+W*(N[0]-L[0]))/(j*W-Q*U),et=(j*(N[1]-L[1])+Q*(L[0]-N[0]))/(Q*U-j*W);return _>=0&&_<=1&&et>=0&&et<=1}function l(N,Y,L){return(Y[0]-N[0])*(L[1]-N[1])-(L[0]-N[0])*(Y[1]-N[1])}function v(N,Y,L){return l(N,Y,L)>0}function a(N,Y,L){return l(N,Y,L)>=0}function r(N,Y,L){return l(N,Y,L)<0}function s(N,Y,L){return l(N,Y,L)<=0}var e=[],n=[];function h(N,Y,L,b){if(b){var U=e,W=n;U[0]=Y[0]-N[0],U[1]=Y[1]-N[1],W[0]=L[0]-Y[0],W[1]=L[1]-Y[1];var j=U[0]*W[0]+U[1]*W[1],Q=Math.sqrt(U[0]*U[0]+U[1]*U[1]),_=Math.sqrt(W[0]*W[0]+W[1]*W[1]),et=Math.acos(j/(Q*_));return et<b}else return l(N,Y,L)===0}function i(N,Y){var L=Y[0]-N[0],b=Y[1]-N[1];return L*L+b*b}function o(N,Y){var L=N.length;return N[Y<0?Y%L+L:Y%L]}function f(N){N.length=0}function u(N,Y,L,b){for(var U=L;U<b;U++)N.push(Y[U])}function d(N){for(var Y=0,L=N,b=1;b<N.length;++b)(L[b][1]<L[Y][1]||L[b][1]===L[Y][1]&&L[b][0]>L[Y][0])&&(Y=b);return v(o(N,Y-1),o(N,Y),o(N,Y+1))?!1:(c(N),!0)}function c(N){for(var Y=[],L=N.length,b=0;b!==L;b++)Y.push(N.pop());for(var b=0;b!==L;b++)N[b]=Y[b]}function m(N,Y){return r(o(N,Y-1),o(N,Y),o(N,Y+1))}var x=[],g=[];function T(N,Y,L){var b,U,W=x,j=g;if(a(o(N,Y+1),o(N,Y),o(N,L))&&s(o(N,Y-1),o(N,Y),o(N,L)))return!1;U=i(o(N,Y),o(N,L));for(var Q=0;Q!==N.length;++Q)if(!((Q+1)%N.length===Y||Q===Y)&&a(o(N,Y),o(N,L),o(N,Q+1))&&s(o(N,Y),o(N,L),o(N,Q))&&(W[0]=o(N,Y),W[1]=o(N,L),j[0]=o(N,Q),j[1]=o(N,Q+1),b=y(W,j),i(o(N,Y),b)<U))return!1;return!0}function S(N,Y,L){for(var b=0;b!==N.length;++b)if(!(b===Y||b===L||(b+1)%N.length===Y||(b+1)%N.length===L)&&t(o(N,Y),o(N,L),o(N,b),o(N,b+1)))return!1;return!0}function E(N,Y,L,b){var U=b||[];if(f(U),Y<L)for(var W=Y;W<=L;W++)U.push(N[W]);else{for(var W=0;W<=L;W++)U.push(N[W]);for(var W=Y;W<N.length;W++)U.push(N[W])}return U}function P(N){for(var Y=[],L=[],b=[],U=[],W=Number.MAX_VALUE,j=0;j<N.length;++j)if(m(N,j)){for(var Q=0;Q<N.length;++Q)if(T(N,j,Q)){L=P(E(N,j,Q,U)),b=P(E(N,Q,j,U));for(var _=0;_<b.length;_++)L.push(b[_]);L.length<W&&(Y=L,W=L.length,Y.push([o(N,j),o(N,Q)]))}}return Y}function F(N){var Y=P(N);return Y.length>0?R(N,Y):[N]}function R(N,Y){if(Y.length===0)return[N];if(Y instanceof Array&&Y.length&&Y[0]instanceof Array&&Y[0].length===2&&Y[0][0]instanceof Array){for(var L=[N],b=0;b<Y.length;b++)for(var U=Y[b],W=0;W<L.length;W++){var j=L[W],Q=R(j,U);if(Q){L.splice(W,1),L.push(Q[0],Q[1]);break}}return L}else{var U=Y,b=N.indexOf(U[0]),W=N.indexOf(U[1]);return b!==-1&&W!==-1?[E(N,b,W),E(N,W,b)]:!1}}function M(N){var Y=N,L;for(L=0;L<Y.length-1;L++)for(var b=0;b<L-1;b++)if(t(Y[L],Y[L+1],Y[b],Y[b+1]))return!1;for(L=1;L<Y.length-2;L++)if(t(Y[0],Y[Y.length-1],Y[L],Y[L+1]))return!1;return!0}function O(N,Y,L,b,U){U=U||0;var W=Y[1]-N[1],j=N[0]-Y[0],Q=W*N[0]+j*N[1],_=b[1]-L[1],et=L[0]-b[0],st=_*L[0]+et*L[1],ct=W*et-_*j;return z(ct,0,U)?[0,0]:[(et*Q-j*st)/ct,(W*st-_*Q)/ct]}function I(N,Y,L,b,U,W,j){W=W||100,j=j||0,U=U||25,Y=typeof Y<"u"?Y:[],L=L||[],b=b||[];var Q=[0,0],_=[0,0],et=[0,0],st=0,ct=0,gt=0,Et=0,xt=0,Mt=0,Vt=0,Wt=[],Nt=[],Pt=N,bt=N;if(bt.length<3)return Y;if(j++,j>W)return console.warn("quickDecomp: max level ("+W+") reached."),Y;for(var Gt=0;Gt<N.length;++Gt)if(m(Pt,Gt)){L.push(Pt[Gt]),st=ct=Number.MAX_VALUE;for(var Zt=0;Zt<N.length;++Zt)v(o(Pt,Gt-1),o(Pt,Gt),o(Pt,Zt))&&s(o(Pt,Gt-1),o(Pt,Gt),o(Pt,Zt-1))&&(et=O(o(Pt,Gt-1),o(Pt,Gt),o(Pt,Zt),o(Pt,Zt-1)),r(o(Pt,Gt+1),o(Pt,Gt),et)&&(gt=i(Pt[Gt],et),gt<ct&&(ct=gt,_=et,Mt=Zt))),v(o(Pt,Gt+1),o(Pt,Gt),o(Pt,Zt+1))&&s(o(Pt,Gt+1),o(Pt,Gt),o(Pt,Zt))&&(et=O(o(Pt,Gt+1),o(Pt,Gt),o(Pt,Zt),o(Pt,Zt+1)),v(o(Pt,Gt-1),o(Pt,Gt),et)&&(gt=i(Pt[Gt],et),gt<st&&(st=gt,Q=et,xt=Zt)));if(Mt===(xt+1)%N.length)et[0]=(_[0]+Q[0])/2,et[1]=(_[1]+Q[1])/2,b.push(et),Gt<xt?(u(Wt,Pt,Gt,xt+1),Wt.push(et),Nt.push(et),Mt!==0&&u(Nt,Pt,Mt,Pt.length),u(Nt,Pt,0,Gt+1)):(Gt!==0&&u(Wt,Pt,Gt,Pt.length),u(Wt,Pt,0,xt+1),Wt.push(et),Nt.push(et),u(Nt,Pt,Mt,Gt+1));else{if(Mt>xt&&(xt+=N.length),Et=Number.MAX_VALUE,xt<Mt)return Y;for(var Zt=Mt;Zt<=xt;++Zt)a(o(Pt,Gt-1),o(Pt,Gt),o(Pt,Zt))&&s(o(Pt,Gt+1),o(Pt,Gt),o(Pt,Zt))&&(gt=i(o(Pt,Gt),o(Pt,Zt)),gt<Et&&S(Pt,Gt,Zt)&&(Et=gt,Vt=Zt%N.length));Gt<Vt?(u(Wt,Pt,Gt,Vt+1),Vt!==0&&u(Nt,Pt,Vt,bt.length),u(Nt,Pt,0,Gt+1)):(Gt!==0&&u(Wt,Pt,Gt,bt.length),u(Wt,Pt,0,Vt+1),u(Nt,Pt,Vt,Gt+1))}return Wt.length<Nt.length?(I(Wt,Y,L,b,U,W,j),I(Nt,Y,L,b,U,W,j)):(I(Nt,Y,L,b,U,W,j),I(Wt,Y,L,b,U,W,j)),Y}return Y.push(N),Y}function V(N,Y){for(var L=0,b=N.length-1;N.length>3&&b>=0;--b)h(o(N,b-1),o(N,b),o(N,b+1),Y)&&(N.splice(b%N.length,1),L++);return L}function X(N,Y){for(var L=N.length-1;L>=1;--L)for(var b=N[L],U=L-1;U>=0;--U)if(Z(b,N[U],Y)){N.splice(L,1);continue}}function z(N,Y,L){return L=L||0,Math.abs(N-Y)<=L}function Z(N,Y,L){return z(N[0],Y[0],L)&&z(N[1],Y[1],L)}},52018:(p,y,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var l=t(83419),v=new l({initialize:function(r){this.pluginManager=r,this.game=r.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=v},42363:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};p.exports=y},37277:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={},t={},l={};l.register=function(v,a,r,s){s===void 0&&(s=!1),y[v]={plugin:a,mapping:r,custom:s}},l.registerCustom=function(v,a,r,s){t[v]={plugin:a,mapping:r,data:s}},l.hasCore=function(v){return y.hasOwnProperty(v)},l.hasCustom=function(v){return t.hasOwnProperty(v)},l.getCore=function(v){return y[v]},l.getCustom=function(v){return t[v]},l.getCustomClass=function(v){return t.hasOwnProperty(v)?t[v].plugin:null},l.remove=function(v){y.hasOwnProperty(v)&&delete y[v]},l.removeCustom=function(v){t.hasOwnProperty(v)&&delete t[v]},l.destroyCorePlugins=function(){for(var v in y)y.hasOwnProperty(v)&&delete y[v]},l.destroyCustomPlugins=function(){for(var v in t)t.hasOwnProperty(v)&&delete t[v]},p.exports=l},77332:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(8443),a=t(50792),r=t(74099),s=t(44603),e=t(39429),n=t(95540),h=t(37277),i=t(72905),o=new l({Extends:a,initialize:function(u){a.call(this),this.game=u,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],u.isBooted?this.boot():u.events.once(v.BOOT,this.boot,this)},boot:function(){var f,u,d,c,m,x,g,T=this.game.config,S=T.installGlobalPlugins;for(S=S.concat(this._pendingGlobal),f=0;f<S.length;f++)u=S[f],d=n(u,"key",null),c=n(u,"plugin",null),m=n(u,"start",!1),x=n(u,"mapping",null),g=n(u,"data",null),d&&(c?this.install(d,c,m,x,g):console.warn("Missing `plugin` for key: "+d));for(S=T.installScenePlugins,S=S.concat(this._pendingScene),f=0;f<S.length;f++)u=S[f],d=n(u,"key",null),c=n(u,"plugin",null),x=n(u,"mapping",null),d&&(c?this.installScenePlugin(d,c,x):console.warn("Missing `plugin` for key: "+d));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(v.DESTROY,this.destroy,this)},addToScene:function(f,u,d){var c,m,x,g=this.game,T=f.scene,S=f.settings.map,E=f.settings.isBooted;for(c=0;c<u.length;c++)m=u[c],g[m]?(f[m]=g[m],S.hasOwnProperty(m)&&(T[S[m]]=f[m])):m==="game"&&S.hasOwnProperty(m)&&(T[S[m]]=g);for(var P=0;P<d.length;P++)for(x=d[P],c=0;c<x.length;c++)if(m=x[c],!!h.hasCore(m)){var F=h.getCore(m),R=F.mapping,M=new F.plugin(T,this,R);f[R]=M,F.custom?T[R]=M:S.hasOwnProperty(R)&&(T[S[R]]=M),E&&M.boot()}for(x=this.plugins,c=0;c<x.length;c++){var O=x[c];O.mapping&&(T[O.mapping]=O.plugin)}},getDefaultScenePlugins:function(){var f=this.game.config.defaultPlugins;return f=f.concat(this.scenePlugins),f},installScenePlugin:function(f,u,d,c,m){if(m===void 0&&(m=!1),typeof u!="function"){console.warn("Invalid Scene Plugin: "+f);return}if(h.hasCore(f)||h.register(f,u,d,!0),this.scenePlugins.indexOf(f)===-1)this.scenePlugins.push(f);else if(!m&&h.hasCore(f)){console.warn("Scene Plugin key in use: "+f);return}if(c){var x=new u(c,this,f);c.sys[f]=x,d&&d!==""&&(c[d]=x),x.boot()}},install:function(f,u,d,c,m){if(d===void 0&&(d=!1),c===void 0&&(c=null),m===void 0&&(m=null),typeof u!="function")return console.warn("Invalid Plugin: "+f),null;if(h.hasCustom(f))return console.warn("Plugin key in use: "+f),null;if(c!==null&&(d=!0),!this.game.isBooted)this._pendingGlobal.push({key:f,plugin:u,start:d,mapping:c,data:m});else if(h.registerCustom(f,u,c,m),d)return this.start(f);return null},getIndex:function(f){for(var u=this.plugins,d=0;d<u.length;d++){var c=u[d];if(c.key===f)return d}return-1},getEntry:function(f){var u=this.getIndex(f);if(u!==-1)return this.plugins[u]},isActive:function(f){var u=this.getEntry(f);return u&&u.active},start:function(f,u){u===void 0&&(u=f);var d=this.getEntry(u);return d&&!d.active?(d.active=!0,d.plugin.start()):d||(d=this.createEntry(f,u)),d?d.plugin:null},createEntry:function(f,u){var d=h.getCustom(f);if(d){var c=new d.plugin(this);d={key:u,plugin:c,active:!0,mapping:d.mapping,data:d.data},this.plugins.push(d),c.init(d.data),c.start()}return d},stop:function(f){var u=this.getEntry(f);return u&&u.active&&(u.active=!1,u.plugin.stop()),this},get:function(f,u){u===void 0&&(u=!0);var d=this.getEntry(f);if(d)return d.plugin;var c=this.getClass(f);return c&&u?(d=this.createEntry(f,f),d?d.plugin:null):c||null},getClass:function(f){return h.getCustomClass(f)},removeGlobalPlugin:function(f){var u=this.getEntry(f);u&&i(this.plugins,u),h.removeCustom(f)},removeScenePlugin:function(f){i(this.scenePlugins,f),h.remove(f)},registerGameObject:function(f,u,d){return u&&e.register(f,u),d&&s.register(f,d),this},removeGameObject:function(f,u,d){return u===void 0&&(u=!0),d===void 0&&(d=!0),u&&e.remove(f),d&&s.remove(f),this},registerFileType:function(f,u,d){r.register(f,u),d&&d.sys.load&&(d.sys.load[f]=u)},destroy:function(){for(var f=0;f<this.plugins.length;f++)this.plugins[f].plugin.destroy();h.destroyCustomPlugins(),this.game.noReturn&&h.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});p.exports=o},45145:(p,y,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var l=t(52018),v=t(83419),a=t(44594),r=new v({Extends:l,initialize:function(e,n,h){l.call(this,n),this.scene=e,this.systems=e.sys,this.pluginKey=h,e.sys.events.once(a.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=r},18922:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(p){const y=performance.now(),t=this.getVideoPlaybackQuality(),l=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,v=(a,r)=>{const s=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||s.totalVideoFrames-s.droppedVideoFrames;if(e>l){const n=this.mozFrameDelay||s.totalFrameDelay-t.totalFrameDelay||0,h=r-a;p(r,{presentationTime:r+n*1e3,expectedDisplayTime:r+h,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+h/1e3,presentedFrames:e,processingDuration:n}),delete this._rvfcpolyfillmap[y]}else this._rvfcpolyfillmap[y]=requestAnimationFrame(n=>v(r,n))};return this._rvfcpolyfillmap[y]=requestAnimationFrame(a=>v(y,a)),y},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(p){cancelAnimationFrame(this._rvfcpolyfillmap[p]),delete this._rvfcpolyfillmap[p]})},10312:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={DEFAULT:0,LINEAR:0,NEAREST:1};p.exports=y},68627:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19715),v=t(32880),a=t(83419),r=t(8054),s=t(50792),e=t(92503),n=t(56373),h=t(97480),i=t(69442),o=t(61340),f=new a({Extends:s,initialize:function(d){s.call(this);var c=d.config;this.config={clearBeforeRender:c.clearBeforeRender,backgroundColor:c.backgroundColor,antialias:c.antialias,roundPixels:c.roundPixels},this.game=d,this.type=r.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=d.canvas;var m={alpha:d.config.transparent,desynchronized:d.config.desynchronized,willReadFrequently:!1};this.gameContext=c.context?c.context:this.gameCanvas.getContext("2d",m),this.currentContext=this.gameContext,this.antialias=d.config.antialias,this.blendModes=n(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(i.READY,this.boot,this)},boot:function(){var u=this.game,d=u.scale.baseSize;this.width=d.width,this.height=d.height,this.isBooted=!0,u.scale.on(h.RESIZE,this.onResize,this),this.resize(d.width,d.height)},onResize:function(u,d){(d.width!==this.width||d.height!==this.height)&&this.resize(d.width,d.height)},resize:function(u,d){this.width=u,this.height=d,this.emit(e.RESIZE,u,d)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(u){return this.currentContext.globalCompositeOperation=u,this},setContext:function(u){return this.currentContext=u||this.gameContext,this},setAlpha:function(u){return this.currentContext.globalAlpha=u,this},preRender:function(){var u=this.gameContext,d=this.config,c=this.width,m=this.height;u.globalAlpha=1,u.globalCompositeOperation="source-over",u.setTransform(1,0,0,1,0,0),d.clearBeforeRender&&(u.clearRect(0,0,c,m),d.transparent||(u.fillStyle=d.backgroundColor.rgba,u.fillRect(0,0,c,m))),u.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(u,d,c){var m=d.length;this.emit(e.RENDER,u,c);var x=c.x,g=c.y,T=c.width,S=c.height,E=c.renderToTexture?c.context:u.sys.context;E.save(),this.game.scene.customViewports&&(E.beginPath(),E.rect(x,g,T,S),E.clip()),c.emit(l.PRE_RENDER,c),this.currentContext=E;var P=c.mask;P&&P.preRenderCanvas(this,null,c._maskCamera),c.transparent||(E.fillStyle=c.backgroundColor.rgba,E.fillRect(x,g,T,S)),E.globalAlpha=c.alpha,E.globalCompositeOperation="source-over",this.drawCount+=m,c.renderToTexture&&c.emit(l.PRE_RENDER,c),c.matrix.copyToContext(E);for(var F=0;F<m;F++){var R=d[F];R.mask&&R.mask.preRenderCanvas(this,R,c),R.renderCanvas(this,R,c),R.mask&&R.mask.postRenderCanvas(this,R,c)}E.setTransform(1,0,0,1,0,0),E.globalCompositeOperation="source-over",E.globalAlpha=1,c.flashEffect.postRenderCanvas(E),c.fadeEffect.postRenderCanvas(E),c.dirty=!1,P&&P.postRenderCanvas(this),E.restore(),c.renderToTexture&&(c.emit(l.POST_RENDER,c),c.renderToGame&&u.sys.context.drawImage(c.canvas,x,g)),c.emit(l.POST_RENDER,c)},postRender:function(){var u=this.gameContext;u.restore(),this.emit(e.POST_RENDER);var d=this.snapshotState;d.callback&&(v(this.gameCanvas,d),d.callback=null)},snapshotCanvas:function(u,d,c,m,x,g,T,S,E){c===void 0&&(c=!1),this.snapshotArea(m,x,g,T,d,S,E);var P=this.snapshotState;return P.getPixel=c,v(u,P),P.callback=null,this},snapshot:function(u,d,c){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,u,d,c)},snapshotArea:function(u,d,c,m,x,g,T){var S=this.snapshotState;return S.callback=x,S.type=g,S.encoder=T,S.getPixel=!1,S.x=u,S.y=d,S.width=Math.min(c,this.gameCanvas.width),S.height=Math.min(m,this.gameCanvas.height),this},snapshotPixel:function(u,d,c){return this.snapshotArea(u,d,1,1,c),this.snapshotState.getPixel=!0,this},batchSprite:function(u,d,c,m){var x=c.alpha*u.alpha;if(x!==0){var g=this.currentContext,T=this._tempMatrix1,S=this._tempMatrix2,E=d.canvasData,P=E.x,F=E.y,R=d.cutWidth,M=d.cutHeight,O=d.customPivot,I=d.source.resolution,V=u.displayOriginX,X=u.displayOriginY,z=-V+d.x,Z=-X+d.y;if(u.isCropped){var N=u._crop;(N.flipX!==u.flipX||N.flipY!==u.flipY)&&d.updateCropUVs(N,u.flipX,u.flipY),R=N.cw,M=N.ch,P=N.cx,F=N.cy,z=-V+N.x,Z=-X+N.y,u.flipX&&(z>=0?z=-(z+R):z<0&&(z=Math.abs(z)-R)),u.flipY&&(Z>=0?Z=-(Z+M):Z<0&&(Z=Math.abs(Z)-M))}var Y=1,L=1;u.flipX&&(O||(z+=-d.realWidth+V*2),Y=-1),u.flipY&&(O||(Z+=-d.realHeight+X*2),L=-1);var b=u.x,U=u.y;S.applyITRS(b,U,u.rotation,u.scaleX*Y,u.scaleY*L),T.copyFrom(c.matrix),m?(T.multiplyWithOffset(m,-c.scrollX*u.scrollFactorX,-c.scrollY*u.scrollFactorY),S.e=b,S.f=U):(S.e-=c.scrollX*u.scrollFactorX,S.f-=c.scrollY*u.scrollFactorY),T.multiply(S),c.roundPixels&&(T.e=Math.round(T.e),T.f=Math.round(T.f)),g.save(),T.setToContext(g),g.globalCompositeOperation=this.blendModes[u.blendMode],g.globalAlpha=x,g.imageSmoothingEnabled=!d.source.scaleMode,u.mask&&u.mask.preRenderCanvas(this,u,c),R>0&&M>0&&(c.roundPixels?g.drawImage(d.source.image,P,F,R,M,Math.round(z),Math.round(Z),Math.round(R/I),Math.round(M/I)):g.drawImage(d.source.image,P,F,R,M,z,Z,R/I,M/I)),u.mask&&u.mask.postRenderCanvas(this,u,c),g.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});p.exports=f},55830:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),v=t(89289),a=function(){var r=[],s=v.supportNewBlendModes,e="source-over";return r[l.NORMAL]=e,r[l.ADD]="lighter",r[l.MULTIPLY]=s?"multiply":e,r[l.SCREEN]=s?"screen":e,r[l.OVERLAY]=s?"overlay":e,r[l.DARKEN]=s?"darken":e,r[l.LIGHTEN]=s?"lighten":e,r[l.COLOR_DODGE]=s?"color-dodge":e,r[l.COLOR_BURN]=s?"color-burn":e,r[l.HARD_LIGHT]=s?"hard-light":e,r[l.SOFT_LIGHT]=s?"soft-light":e,r[l.DIFFERENCE]=s?"difference":e,r[l.EXCLUSION]=s?"exclusion":e,r[l.HUE]=s?"hue":e,r[l.SATURATION]=s?"saturation":e,r[l.COLOR]=s?"color":e,r[l.LUMINOSITY]=s?"luminosity":e,r[l.ERASE]="destination-out",r[l.SOURCE_IN]="source-in",r[l.SOURCE_OUT]="source-out",r[l.SOURCE_ATOP]="source-atop",r[l.DESTINATION_OVER]="destination-over",r[l.DESTINATION_IN]="destination-in",r[l.DESTINATION_OUT]="destination-out",r[l.DESTINATION_ATOP]="destination-atop",r[l.LIGHTER]="lighter",r[l.COPY]="copy",r[l.XOR]="xor",r};p.exports=a},20926:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=function(a,r,s,e,n){var h=e.alpha*s.alpha;if(h<=0)return!1;var i=l(s,e,n).calc;return r.globalCompositeOperation=a.blendModes[s.blendMode],r.globalAlpha=h,r.save(),i.setToContext(r),r.imageSmoothingEnabled=s.frame?!s.frame.source.scaleMode:a.antialias,!0};p.exports=v},63899:p=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="losewebgl"},6119:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},48070:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},15640:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},8912:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},87124:p=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="restorewebgl"},92503:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(92503),Snapshot:t(89966)},p.exports.Canvas=t(55830),p.exports.WebGL=t(4159)},32880:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),v=t(40987),a=t(95540),r=function(s,e){var n=a(e,"callback"),h=a(e,"type","image/png"),i=a(e,"encoder",.92),o=Math.abs(Math.round(a(e,"x",0))),f=Math.abs(Math.round(a(e,"y",0))),u=Math.floor(a(e,"width",s.width)),d=Math.floor(a(e,"height",s.height)),c=a(e,"getPixel",!1);if(c){var m=s.getContext("2d",{willReadFrequently:!1}),x=m.getImageData(o,f,1,1),g=x.data;n.call(null,new v(g[0],g[1],g[2],g[3]))}else if(o!==0||f!==0||u!==s.width||d!==s.height){var T=l.createWebGL(this,u,d),S=T.getContext("2d",{willReadFrequently:!0});u>0&&d>0&&S.drawImage(s,o,f,u,d,0,0,u,d);var E=new Image;E.onerror=function(){n.call(null),l.remove(T)},E.onload=function(){n.call(null,E),l.remove(T)},E.src=T.toDataURL(h,i)}else{var P=new Image;P.onerror=function(){n.call(null)},P.onload=function(){n.call(null,P)},P.src=s.toDataURL(h,i)}};p.exports=r},88815:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),v=t(40987),a=t(95540),r=function(s,e){var n=s,h=a(e,"callback"),i=a(e,"type","image/png"),o=a(e,"encoder",.92),f=Math.abs(Math.round(a(e,"x",0))),u=Math.abs(Math.round(a(e,"y",0))),d=a(e,"getPixel",!1),c=a(e,"isFramebuffer",!1),m=c?a(e,"bufferWidth",1):n.drawingBufferWidth,x=c?a(e,"bufferHeight",1):n.drawingBufferHeight;if(d){var g=new Uint8Array(4),T=c?u:x-u;n.readPixels(f,T,1,1,n.RGBA,n.UNSIGNED_BYTE,g),h.call(null,new v(g[0],g[1],g[2],g[3]))}else{var S=Math.floor(a(e,"width",m)),E=Math.floor(a(e,"height",x)),P=S*E*4,F=new Uint8Array(P);n.readPixels(f,x-u-E,S,E,n.RGBA,n.UNSIGNED_BYTE,F);for(var R=l.createWebGL(this,S,E),M=R.getContext("2d",{willReadFrequently:!0}),O=M.getImageData(0,0,S,E),I=O.data,V=0;V<E;V++)for(var X=0;X<S;X++){var z=((E-V-1)*S+X)*4,Z=c?P-(V*S+(S-X))*4:(V*S+X)*4;I[Z+0]=F[z+0],I[Z+1]=F[z+1],I[Z+2]=F[z+2],I[Z+3]=F[z+3]}M.putImageData(O,0,0);var N=new Image;N.onerror=function(){h.call(null),l.remove(R)},N.onload=function(){h.call(null,N),l.remove(R)},N.src=R.toDataURL(i,o)}};p.exports=r},89966:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(36060),a=t(90330),r=t(82264),s=t(95540),e=t(32302),n=t(63448),h=t(31302),i=t(58918),o=t(14811),f=t(92651),u=t(96569),d=t(56527),c=t(57516),m=t(43439),x=t(81041),g=t(12385),T=t(7589),S=t(95428),E=t(72905),P=new l({initialize:function(R){this.game=R.game,this.renderer=R,this.classes=new a([[v.UTILITY_PIPELINE,T],[v.MULTI_PIPELINE,c],[v.BITMAPMASK_PIPELINE,h],[v.SINGLE_PIPELINE,g],[v.ROPE_PIPELINE,x],[v.LIGHT_PIPELINE,u],[v.POINTLIGHT_PIPELINE,m],[v.MOBILE_PIPELINE,d]]),this.postPipelineClasses=new a,this.pipelines=new a,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(F,R,M){var O=this.renderer,I=this.renderTargets;this.frameInc=Math.floor(s(F,"frameInc",32));var V=O.width,X=O.height,z=this.game.config.disablePreFX,Z=this.game.config.disablePostFX;if(Z||this.postPipelineClasses.setAll([[String(o.BARREL),i.Barrel],[String(o.BLOOM),i.Bloom],[String(o.BLUR),i.Blur],[String(o.BOKEH),i.Bokeh],[String(o.CIRCLE),i.Circle],[String(o.COLOR_MATRIX),i.ColorMatrix],[String(o.DISPLACEMENT),i.Displacement],[String(o.GLOW),i.Glow],[String(o.GRADIENT),i.Gradient],[String(o.PIXELATE),i.Pixelate],[String(o.SHADOW),i.Shadow],[String(o.SHINE),i.Shine],[String(o.VIGNETTE),i.Vignette],[String(o.WIPE),i.Wipe]]),!z){this.classes.set(v.FX_PIPELINE,f);for(var N=Math.min(V,X),Y=Math.ceil(N/this.frameInc),L=1;L<Y;L++){var b=L*this.frameInc;I.push(new e(O,b,b)),I.push(new e(O,b,b)),I.push(new e(O,b,b)),this.maxDimension=b}I.push(new e(O,V,X,1,0,!0,!0)),I.push(new e(O,V,X,1,0,!0,!0)),I.push(new e(O,V,X,1,0,!0,!0))}var U,W,j=this,Q=this.game;if(this.classes.each(function(et,st){U=j.add(et,new st({game:Q})),et===v.UTILITY_PIPELINE&&(j.UTILITY_PIPELINE=U,j.fullFrame1=U.fullFrame1,j.fullFrame2=U.fullFrame2,j.halfFrame1=U.halfFrame1,j.halfFrame2=U.halfFrame2)}),this.MULTI_PIPELINE=this.get(v.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(v.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(v.MOBILE_PIPELINE),z||(this.FX_PIPELINE=this.get(v.FX_PIPELINE)),F)for(W in F){var _=F[W];U=new _(Q),U.name=W,U.isPostFX?this.postPipelineClasses.set(W,_):this.has(W)||(this.classes.set(W,_),this.add(W,U))}this.default=this.get(R),M&&!r.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(F){var R=this.get(F);return R&&(this.default=R),R},add:function(F,R){if(R.isPostFX){console.warn(F+" is a Post Pipeline. Use `addPostPipeline` instead");return}var M=this.pipelines,O=this.renderer;return M.has(F)?console.warn("Pipeline exists: "+F):(R.name=F,R.manager=this,M.set(F,R)),R.hasBooted||R.boot(),O.width!==0&&O.height!==0&&!R.isPreFX&&R.resize(O.width,O.height),R},addPostPipeline:function(F,R){this.postPipelineClasses.has(F)||this.postPipelineClasses.set(F,R)},flush:function(){this.current&&this.current.flush()},has:function(F){var R=this.pipelines;return typeof F=="string"?R.has(F):!!R.contains(F)},get:function(F){var R=this.pipelines;if(typeof F=="string")return R.get(F);if(R.contains(F))return F},getPostPipeline:function(F,R,M){var O=this.postPipelineClasses,I,V="",X=typeof F;if(X==="string"||X==="number"?(I=O.get(F),V=F):X==="function"?(O.contains(F)&&(I=F),V=F.name):X==="object"&&(I=O.get(F.name),V=F.name),I){var z=new I(this.game,M);return z.name=V,R&&(z.gameObject=R),this.postPipelineInstances.push(z),z}},removePostPipeline:function(F){E(this.postPipelineInstances,F)},remove:function(F,R,M){R===void 0&&(R=!0),M===void 0&&(M=!0),this.pipelines.delete(F),R&&this.classes.delete(F),M&&this.postPipelineClasses.delete(F)},set:function(F,R,M){if(!F.isPostFX)return this.isCurrent(F,M)||(this.flush(),this.current&&this.current.unbind(),this.current=F,F.bind(M)),F.updateProjectionMatrix(),F.onBind(R),F},preBatch:function(F){if(F.hasPostPipeline){this.flush();for(var R=F.postPipelines,M=R.length-1;M>=0;M--){var O=R[M];O.active&&O.preBatch(F)}}},postBatch:function(F){if(F.hasPostPipeline){this.flush();for(var R=F.postPipelines,M=0;M<R.length;M++){var O=R[M];O.active&&O.postBatch(F)}}},preBatchCamera:function(F){if(F.hasPostPipeline){this.flush();for(var R=F.postPipelines,M=R.length-1;M>=0;M--){var O=R[M];O.active&&O.preBatch(F)}}},postBatchCamera:function(F){if(F.hasPostPipeline){this.flush();for(var R=F.postPipelines,M=0;M<R.length;M++){var O=R[M];O.active&&O.postBatch(F)}}},isCurrent:function(F,R){var M=this.renderer,O=this.current;return O&&!R&&(R=O.currentShader),!(O!==F||R.program!==M.currentProgram)},copyFrame:function(F,R,M,O,I){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(F,R,M,O,I),this},copyToGame:function(F){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(F),this},drawFrame:function(F,R,M,O){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(F,R,M,O),this},blendFrames:function(F,R,M,O,I){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(F,R,M,O,I),this},blendFramesAdditive:function(F,R,M,O,I){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(F,R,M,O,I),this},clearFrame:function(F,R){return this.UTILITY_PIPELINE.clearFrame(F,R),this},blitFrame:function(F,R,M,O,I,V){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(F,R,M,O,I,V),this},copyFrameRect:function(F,R,M,O,I,V,X,z){return this.UTILITY_PIPELINE.copyFrameRect(F,R,M,O,I,V,X,z),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(F){return this.UTILITY_PIPELINE.bind(F)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(F,R){R.restoreContext()}),S(this.postPipelineInstances,function(F){F.restoreContext()})},rebind:function(F){F===void 0&&this.previous&&(F=this.previous);var R=this.renderer,M=R.gl;M.disable(M.DEPTH_TEST),M.disable(M.CULL_FACE),R.hasActiveStencilMask()?M.clear(M.DEPTH_BUFFER_BIT):(M.disable(M.STENCIL_TEST),M.clear(M.DEPTH_BUFFER_BIT|M.STENCIL_BUFFER_BIT)),M.viewport(0,0,R.width,R.height),R.currentProgram=null,R.setBlendMode(0,!0);var O=R.vaoExtension;O&&O.bindVertexArrayOES(null);var I=this.pipelines.entries;for(var V in I)I[V].glReset=!0;F&&(this.current=F,F.rebind())},clear:function(){var F=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,F.currentProgram=null,F.setBlendMode(0,!0);var R=F.vaoExtension;R&&R.bindVertexArrayOES(null)},getRenderTarget:function(F){var R=this.renderTargets,M=3;if(F>this.maxDimension)return this.targetIndex=R.length-M,R[this.targetIndex];var O=(n(F,this.frameInc,0,!0)-1)*M;return this.targetIndex=O,R[O]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});p.exports=P},32302:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(92503),a=new l({initialize:function(s,e,n,h,i,o,f,u,d){h===void 0&&(h=1),i===void 0&&(i=0),o===void 0&&(o=!0),f===void 0&&(f=!1),u===void 0&&(u=!0),d===void 0&&(d=!0),this.renderer=s,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=h,this.minFilter=i,this.autoClear=o,this.autoResize=!0,this.hasDepthBuffer=u,this.forceClamp=d,this.resize(e,n),f?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(r){return r&&!this.autoResize?(this.renderer.on(v.RESIZE,this.resize,this),this.autoResize=!0):!r&&this.autoResize&&(this.renderer.off(v.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(r,s){if(r=Math.round(r*this.scale),s=Math.round(s*this.scale),r<=0&&(r=1),s<=0&&(s=1),this.autoResize&&(r!==this.width||s!==this.height)){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.texture=e.createTextureFromSource(null,r,s,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(r,s,this.texture,this.hasDepthBuffer),this.width=r,this.height=s}return this},willResize:function(r,s){return r=Math.round(r*this.scale),s=Math.round(s*this.scale),r<=0&&(r=1),s<=0&&(s=1),r!==this.width||s!==this.height},bind:function(r,s,e){r===void 0&&(r=!1);var n=this.renderer;if(r&&n.flush(),s&&e&&this.resize(s,e),n.pushFramebuffer(this.framebuffer,!1,!1),r&&this.adjustViewport(),this.autoClear){var h=this.renderer.gl;h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT)}n.clearStencilMask()},adjustViewport:function(){var r=this.renderer.gl;r.viewport(0,0,this.width,this.height),r.disable(r.SCISSOR_TEST)},clear:function(){var r=this.renderer,s=r.gl;r.pushFramebuffer(this.framebuffer),s.disable(s.SCISSOR_TEST),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),r.popFramebuffer(),r.resetScissor()},unbind:function(r){r===void 0&&(r=!1);var s=this.renderer;return r&&s.flush(),s.popFramebuffer()},destroy:function(){var r=this.renderer;r.off(v.RESIZE,this.resize,this),r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});p.exports=a},70554:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={getTintFromFloats:function(y,t,l,v){var a=(y*255|0)&255,r=(t*255|0)&255,s=(l*255|0)&255,e=(v*255|0)&255;return(e<<24|a<<16|r<<8|s)>>>0},getTintAppendFloatAlpha:function(y,t){var l=(t*255|0)&255;return(l<<24|y)>>>0},getTintAppendFloatAlphaAndSwap:function(y,t){var l=(y>>16|0)&255,v=(y>>8|0)&255,a=(y|0)&255,r=(t*255|0)&255;return(r<<24|a<<16|v<<8|l)>>>0},getFloatsFromUintRGB:function(y){var t=(y>>16|0)&255,l=(y>>8|0)&255,v=(y|0)&255;return[t/255,l/255,v/255]},checkShaderMax:function(y,t){var l=Math.min(16,y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?l:Math.min(l,t)},parseFragmentShaderMaxTextures:function(y,t){if(!y)return"";for(var l="",v=0;v<t;v++)v>0&&(l+=`
	else `),v<t-1&&(l+="if (outTexId < "+v+".5)"),l+=`
	{`,l+=`
		texture = texture2D(uMainSampler[`+v+"], outTexCoord);",l+=`
	}`;return y=y.replace(/%count%/gi,t.toString()),y.replace(/%forloop%/gi,l)},setGlowQuality:function(y,t,l,v){return l===void 0&&(l=t.config.glowFXQuality),v===void 0&&(v=t.config.glowFXDistance),y=y.replace(/__SIZE__/gi,(1/l/v).toFixed(7)),y=y.replace(/__DIST__/gi,v.toFixed(0)+".0"),y}}},29100:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(62644),a=t(50792),r=t(77085),s=t(95540),e=t(37867),n=t(92503),h=t(32302),i=t(70554),o=t(38683),f=new l({Extends:a,initialize:function(d){a.call(this);var c=d.game,m=c.renderer,x=m.gl;this.name=s(d,"name","WebGLPipeline"),this.game=c,this.renderer=m,this.manager,this.gl=x,this.view=c.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=s(d,"topology",x.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=s(d,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=d,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=s(d,"resizeUniform","")},boot:function(){var u,d=this.gl,c=this.config,m=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var x=this.renderTargets,g=s(c,"renderTarget",!1);typeof g=="boolean"&&g&&(g=1);var T=m.width,S=m.height;if(typeof g=="number")for(u=0;u<g;u++)x.push(new h(m,T,S,1,0,!0));else if(Array.isArray(g))for(u=0;u<g.length;u++){var E=s(g[u],"scale",1),P=s(g[u],"minFilter",0),F=s(g[u],"autoClear",1),R=s(g[u],"autoResize",!1),M=s(g[u],"width",null),O=s(g[u],"height",M);M?x.push(new h(m,M,O,1,P,F,R)):x.push(new h(m,T,S,E,P,F,R))}x.length&&(this.currentRenderTarget=x[0]),this.setShadersFromConfig(c);var I=this.shaders,V=0;for(u=0;u<I.length;u++)I[u].vertexSize>V&&(V=I[u].vertexSize);var X=s(c,"batchSize",m.config.batchSize);this.vertexCapacity=X*6;var z=new ArrayBuffer(this.vertexCapacity*V);this.vertexData=z,this.bytes=new Uint8Array(z),this.vertexViewF32=new Float32Array(z),this.vertexViewU32=new Uint32Array(z);var Z=s(c,"vertices",null);for(Z?(this.vertexViewF32.set(Z),this.vertexBuffer=m.createVertexBuffer(z,d.STATIC_DRAW)):this.vertexBuffer=m.createVertexBuffer(z.byteLength,d.DYNAMIC_DRAW),this.setVertexBuffer(),u=I.length-1;u>=0;u--)I[u].rebind();this.hasBooted=!0,m.on(n.RESIZE,this.resize,this),m.on(n.PRE_RENDER,this.onPreRender,this),m.on(n.RENDER,this.onRender,this),m.on(n.POST_RENDER,this.onPostRender,this),this.emit(r.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(u,d,c){var m=this.renderer;if(u!==this.currentShader||m.currentProgram!==this.currentShader.program){this.flush();var x=this.setVertexBuffer(c);x&&!d&&(d=!0),u.bind(d,!1),this.currentShader=u}return this},getShaderByName:function(u){for(var d=this.shaders,c=0;c<d.length;c++)if(d[c].name===u)return d[c]},setShadersFromConfig:function(u){var d,c=this.shaders,m=this.renderer;for(d=0;d<c.length;d++)c[d].destroy();var x="vertShader",g="fragShader",T="attributes",S=s(u,x,null),E=i.parseFragmentShaderMaxTextures(s(u,g,null),m.maxTextures),P=s(u,T,null),F=s(u,"shaders",[]),R=F.length;if(R===0)S&&E&&(this.shaders=[new o(this,"default",S,E,v(P))]);else{var M=[];for(d=0;d<R;d++){var O=F[d],I,V,X,z;if(typeof O=="string"?(I="default",V=S,X=i.parseFragmentShaderMaxTextures(O,m.maxTextures),z=P):(I=s(O,"name","default"),V=s(O,x,S),X=i.parseFragmentShaderMaxTextures(s(O,g,E),m.maxTextures),z=s(O,T,P)),I==="default"){var Z=X.split(`
`),N=Z[0].trim();N.indexOf("#define SHADER_NAME")>-1&&(I=N.substring(20))}V&&X&&M.push(new o(this,I,V,X,v(z)))}this.shaders=M}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(u){return this.currentBatch={start:this.vertexCount,count:0,texture:[u],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=u,this.batch.push(this.currentBatch),0},addTextureToBatch:function(u){var d=this.currentBatch;d&&(d.texture.push(u),d.unit++,d.maxUnit++)},pushBatch:function(u){if(!this.currentBatch||this.forceZero&&u!==this.currentTexture)return this.createBatch(u);if(u===this.currentTexture)return this.currentUnit;var d=this.currentBatch,c=d.texture.indexOf(u);return c===-1?d.texture.length===this.renderer.maxTextures?this.createBatch(u):(d.unit++,d.maxUnit++,d.texture.push(u),this.currentUnit=d.unit,this.currentTexture=u,d.unit):(this.currentUnit=c,this.currentTexture=u,c)},setGameObject:function(u,d){return d===void 0&&(d=u.frame),this.pushBatch(d.source.glTexture)},shouldFlush:function(u){return u===void 0&&(u=0),this.vertexCount+u>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(u,d){(u!==this.width||d!==this.height)&&this.flush(),this.width=u,this.height=d;for(var c=this.renderTargets,m=0;m<c.length;m++)c[m].resize(u,d);return this.setProjectionMatrix(u,d),this.resizeUniform&&this.set2f(this.resizeUniform,u,d),this.emit(r.RESIZE,u,d,this),this.onResize(u,d),this},setProjectionMatrix:function(u,d){var c=this.projectionMatrix;if(!c)return this;this.projectionWidth=u,this.projectionHeight=d,c.ortho(0,u,d,0,-1e3,1e3);for(var m=this.shaders,x="uProjectionMatrix",g=0;g<m.length;g++){var T=m[g];T.hasUniform(x)&&(T.resetUniform(x),T.setMatrix4fv(x,!1,c.val,T))}return this},flipProjectionMatrix:function(u){u===void 0&&(u=!0);var d=this.projectionMatrix;if(!d)return this;var c=this.projectionWidth,m=this.projectionHeight;u?d.ortho(0,c,0,m,-1e3,1e3):d.ortho(0,c,m,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,d.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var u=this.renderer.projectionWidth,d=this.renderer.projectionHeight;(this.projectionWidth!==u||this.projectionHeight!==d)&&this.setProjectionMatrix(u,d)}},bind:function(u){if(u===void 0&&(u=this.currentShader),this.glReset)return this.rebind(u);var d=!1,c=this.gl;return c.getParameter(c.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(c.bindBuffer(c.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,d=!0),u.bind(d),this.currentShader=u,this.activeTextures.length=0,this.emit(r.BIND,this,u),this.onActive(u),this},rebind:function(u){this.activeBuffer=null,this.setVertexBuffer();for(var d=this.shaders,c=d.length-1;c>=0;c--){var m=d[c].rebind();(!u||m===u)&&(this.currentShader=m)}return this.activeTextures.length=0,this.emit(r.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var u=this.shaders,d=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,d&&this.setVertexBuffer();for(var c=0;c<u.length;c++){var m=u[c];m.syncUniforms(),d&&m.rebind()}},setVertexBuffer:function(u){if(u===void 0&&(u=this.vertexBuffer),u!==this.activeBuffer){var d=this.gl;return this.gl.bindBuffer(d.ARRAY_BUFFER,u.webGLBuffer),this.activeBuffer=u,!0}return!1},preBatch:function(u){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(u),this},postBatch:function(u){return this.onDraw(this.currentRenderTarget),this.onPostBatch(u),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(u){if(u===void 0&&(u=!1),this.vertexCount>0){this.emit(r.BEFORE_FLUSH,this,u),this.onBeforeFlush(u);var d=this.gl,c=this.vertexCount,m=this.currentShader.vertexSize,x=this.topology;if(this.active){this.setVertexBuffer(),c===this.vertexCapacity?d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.DYNAMIC_DRAW):d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,c*m));var g,T,S,E=this.batch,P=this.activeTextures;if(this.forceZero)for(P[0]||d.activeTexture(d.TEXTURE0),g=0;g<E.length;g++)T=E[g],S=T.texture[0],P[0]!==S&&(d.bindTexture(d.TEXTURE_2D,S.webGLTexture),P[0]=S),d.drawArrays(x,T.start,T.count);else for(g=0;g<E.length;g++){T=E[g];for(var F=0;F<=T.maxUnit;F++)S=T.texture[F],P[F]!==S&&(d.activeTexture(d.TEXTURE0+F),d.bindTexture(d.TEXTURE_2D,S.webGLTexture),P[F]=S);d.drawArrays(x,T.start,T.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(r.AFTER_FLUSH,this,u),this.onAfterFlush(u)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(u,d,c,m,x,g,T){var S=this.vertexViewF32,E=this.vertexViewU32,P=this.vertexCount*this.currentShader.vertexComponentCount-1;S[++P]=u,S[++P]=d,S[++P]=c,S[++P]=m,S[++P]=x,S[++P]=g,E[++P]=T,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(u,d,c,m,x,g,T,S,E,P,F,R,M,O,I,V,X,z,Z,N){N===void 0&&(N=this.currentUnit);var Y=!1;this.shouldFlush(6)&&(this.flush(),Y=!0),this.currentBatch||(N=this.setTexture2D(Z));var L=this.vertexViewF32,b=this.vertexViewU32,U=this.vertexCount*this.currentShader.vertexComponentCount-1;return L[++U]=d,L[++U]=c,L[++U]=P,L[++U]=F,L[++U]=N,L[++U]=z,b[++U]=O,L[++U]=m,L[++U]=x,L[++U]=P,L[++U]=M,L[++U]=N,L[++U]=z,b[++U]=V,L[++U]=g,L[++U]=T,L[++U]=R,L[++U]=M,L[++U]=N,L[++U]=z,b[++U]=X,L[++U]=d,L[++U]=c,L[++U]=P,L[++U]=F,L[++U]=N,L[++U]=z,b[++U]=O,L[++U]=g,L[++U]=T,L[++U]=R,L[++U]=M,L[++U]=N,L[++U]=z,b[++U]=X,L[++U]=S,L[++U]=E,L[++U]=R,L[++U]=F,L[++U]=N,L[++U]=z,b[++U]=I,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(u),Y},batchTri:function(u,d,c,m,x,g,T,S,E,P,F,R,M,O,I,V,X){X===void 0&&(X=this.currentUnit);var z=!1;this.shouldFlush(3)&&(this.flush(),z=!0),this.currentBatch||(X=this.setTexture2D(V));var Z=this.vertexViewF32,N=this.vertexViewU32,Y=this.vertexCount*this.currentShader.vertexComponentCount-1;return Z[++Y]=d,Z[++Y]=c,Z[++Y]=S,Z[++Y]=E,Z[++Y]=X,Z[++Y]=I,N[++Y]=R,Z[++Y]=m,Z[++Y]=x,Z[++Y]=S,Z[++Y]=F,Z[++Y]=X,Z[++Y]=I,N[++Y]=M,Z[++Y]=g,Z[++Y]=T,Z[++Y]=P,Z[++Y]=F,Z[++Y]=X,Z[++Y]=I,N[++Y]=O,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(u),z},drawFillRect:function(u,d,c,m,x,g,T,S){T===void 0&&(T=this.renderer.whiteTexture),S===void 0&&(S=!0),u=Math.floor(u),d=Math.floor(d);var E=Math.floor(u+c),P=Math.floor(d+m),F=this.setTexture2D(T),R=i.getTintAppendFloatAlphaAndSwap(x,g),M=0,O=0,I=1,V=1;S&&(O=1,V=0),this.batchQuad(null,u,d,u,P,E,P,E,d,M,O,I,V,R,R,R,R,0,T,F)},setTexture2D:function(u){return u===void 0&&(u=this.renderer.whiteTexture),this.pushBatch(u)},bindTexture:function(u,d){d===void 0&&(d=0);var c=this.gl;return c.activeTexture(c.TEXTURE0+d),c.bindTexture(c.TEXTURE_2D,u.webGLTexture),this},bindRenderTarget:function(u,d){return this.bindTexture(u.texture,d)},setTime:function(u,d){return this.set1f(u,this.game.loop.getDuration(),d),this},setBoolean:function(u,d,c){return c===void 0&&(c=this.currentShader),c.setBoolean(u,d),this},set1f:function(u,d,c){return c===void 0&&(c=this.currentShader),c.set1f(u,d),this},set2f:function(u,d,c,m){return m===void 0&&(m=this.currentShader),m.set2f(u,d,c),this},set3f:function(u,d,c,m,x){return x===void 0&&(x=this.currentShader),x.set3f(u,d,c,m),this},set4f:function(u,d,c,m,x,g){return g===void 0&&(g=this.currentShader),g.set4f(u,d,c,m,x),this},set1fv:function(u,d,c){return c===void 0&&(c=this.currentShader),c.set1fv(u,d),this},set2fv:function(u,d,c){return c===void 0&&(c=this.currentShader),c.set2fv(u,d),this},set3fv:function(u,d,c){return c===void 0&&(c=this.currentShader),c.set3fv(u,d),this},set4fv:function(u,d,c){return c===void 0&&(c=this.currentShader),c.set4fv(u,d),this},set1iv:function(u,d,c){return c===void 0&&(c=this.currentShader),c.set1iv(u,d),this},set2iv:function(u,d,c){return c===void 0&&(c=this.currentShader),c.set2iv(u,d),this},set3iv:function(u,d,c){return c===void 0&&(c=this.currentShader),c.set3iv(u,d),this},set4iv:function(u,d,c){return c===void 0&&(c=this.currentShader),c.set4iv(u,d),this},set1i:function(u,d,c){return c===void 0&&(c=this.currentShader),c.set1i(u,d),this},set2i:function(u,d,c,m){return m===void 0&&(m=this.currentShader),m.set2i(u,d,c),this},set3i:function(u,d,c,m,x){return x===void 0&&(x=this.currentShader),x.set3i(u,d,c,m),this},set4i:function(u,d,c,m,x,g){return g===void 0&&(g=this.currentShader),g.set4i(u,d,c,m,x),this},setMatrix2fv:function(u,d,c,m){return m===void 0&&(m=this.currentShader),m.setMatrix2fv(u,d,c),this},setMatrix3fv:function(u,d,c,m){return m===void 0&&(m=this.currentShader),m.setMatrix3fv(u,d,c),this},setMatrix4fv:function(u,d,c,m){return m===void 0&&(m=this.currentShader),m.setMatrix4fv(u,d,c),this},destroy:function(){this.emit(r.DESTROY,this);var u,d=this.shaders;for(u=0;u<d.length;u++)d[u].destroy();var c=this.renderTargets;for(u=0;u<c.length;u++)c[u].destroy();var m=this.renderer;return m.deleteBuffer(this.vertexBuffer),m.off(n.RESIZE,this.resize,this),m.off(n.PRE_RENDER,this.onPreRender,this),m.off(n.RENDER,this.onRender,this),m.off(n.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});p.exports=f},74797:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95428),v=t(72905),a=t(19715),r=t(83419),s=t(8054),e=t(50792),n=t(92503),h=t(50030),i=t(37867),o=t(29747),f=t(7530),u=t(32302),d=t(97480),c=t(69442),m=t(70554),x=t(88815),g=t(26128),T=t(1482),S=t(82751),E=t(84387),P=t(93567),F=t(57183),R=new r({Extends:e,initialize:function(O){e.call(this);var I=O.config,V={alpha:I.transparent,desynchronized:I.desynchronized,depth:!0,antialias:I.antialiasGL,premultipliedAlpha:I.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:I.failIfMajorPerformanceCaveat,powerPreference:I.powerPreference,preserveDrawingBuffer:I.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:I.clearBeforeRender,antialias:I.antialias,backgroundColor:I.backgroundColor,contextCreation:V,roundPixels:I.roundPixels,maxTextures:I.maxTextures,maxTextureSize:I.maxTextureSize,batchSize:I.batchSize,maxLights:I.maxLights,mipmapFilter:I.mipmapFilter},this.game=O,this.type=s.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=O.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=o,this.contextRestoredHandler=o,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(M){var O,I=this.game,V=this.canvas,X=M.backgroundColor;if(I.config.context?O=I.config.context:O=V.getContext("webgl",M.contextCreation)||V.getContext("experimental-webgl",M.contextCreation),!O||O.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=O;var z=this,Z=function(){var L=O.getSupportedExtensions();z.supportedExtensions=L;var b="ANGLE_instanced_arrays";z.instancedArraysExtension=L.indexOf(b)>-1?O.getExtension(b):null;var U="OES_vertex_array_object";z.vaoExtension=L.indexOf(U)>-1?O.getExtension(U):null};Z(),this.contextLostHandler=function(L){z.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),z.emit(n.LOSE_WEBGL,z),L.preventDefault()},V.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.contextRestoredHandler=function(L){if(O.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}z.currentProgram=null,z.currentFramebuffer=null,z.setBlendMode(s.BlendModes.NORMAL),O.disable(O.BLEND),O.disable(O.DEPTH_TEST),O.enable(O.CULL_FACE),z.compression=z.getCompressedTextures();var b=function(U){U.createResource()};l(z.glTextureWrappers,b),l(z.glBufferWrappers,b),l(z.glFramebufferWrappers,b),l(z.glProgramWrappers,b),l(z.glAttribLocationWrappers,b),l(z.glUniformLocationWrappers,b),z.createTemporaryTextures(),z.pipelines.restoreContext(),z.resize(z.game.scale.baseSize.width,z.game.scale.baseSize.height),Z(),z.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),z.emit(n.RESTORE_WEBGL,z),L.preventDefault()},V.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),I.context=O;for(var N=0;N<=27;N++)this.blendModes.push({func:[O.ONE,O.ONE_MINUS_SRC_ALPHA],equation:O.FUNC_ADD});this.blendModes[1].func=[O.ONE,O.DST_ALPHA],this.blendModes[2].func=[O.DST_COLOR,O.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[O.ONE,O.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[O.ZERO,O.ONE_MINUS_SRC_ALPHA],equation:O.FUNC_REVERSE_SUBTRACT},this.glFormats=[O.BYTE,O.SHORT,O.UNSIGNED_BYTE,O.UNSIGNED_SHORT,O.FLOAT],this.glFuncMap={mat2:{func:O.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:O.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:O.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:O.uniform1f,length:1},"1fv":{func:O.uniform1fv,length:1},"1i":{func:O.uniform1i,length:1},"1iv":{func:O.uniform1iv,length:1},"2f":{func:O.uniform2f,length:2},"2fv":{func:O.uniform2fv,length:1},"2i":{func:O.uniform2i,length:2},"2iv":{func:O.uniform2iv,length:1},"3f":{func:O.uniform3f,length:3},"3fv":{func:O.uniform3fv,length:1},"3i":{func:O.uniform3i,length:3},"3iv":{func:O.uniform3iv,length:1},"4f":{func:O.uniform4f,length:4},"4fv":{func:O.uniform4fv,length:1},"4i":{func:O.uniform4i,length:4},"4iv":{func:O.uniform4iv,length:1}},(!M.maxTextures||M.maxTextures===-1)&&(M.maxTextures=O.getParameter(O.MAX_TEXTURE_IMAGE_UNITS)),M.maxTextureSize||(M.maxTextureSize=O.getParameter(O.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),O.disable(O.DEPTH_TEST),O.disable(O.CULL_FACE),O.enable(O.BLEND),O.clearColor(X.redGL,X.greenGL,X.blueGL,X.alphaGL);var Y=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return Y.indexOf(M.mipmapFilter)!==-1&&(this.mipmapFilter=O[M.mipmapFilter]),this.maxTextures=m.checkShaderMax(O,M.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new f(this),this.setBlendMode(s.BlendModes.NORMAL),this.projectionMatrix=new i().identity(),I.textures.once(c.READY,this.boot,this),this},boot:function(){var M=this.game,O=this.pipelines,I=M.scale.baseSize,V=I.width,X=I.height;this.width=V,this.height=X,this.isBooted=!0,this.renderTarget=new u(this,V,X,1,0,!0,!0),this.maskTarget=new u(this,V,X,1,0,!0,!0),this.maskSource=new u(this,V,X,1,0,!0,!0);var z=M.config;O.boot(z.pipeline,z.defaultPipeline,z.autoMobilePipeline),this.blankTexture=M.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=M.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=M.textures.getFrame("__WHITE").glTexture;var Z=this.gl;Z.bindFramebuffer(Z.FRAMEBUFFER,null),Z.enable(Z.SCISSOR_TEST),M.scale.on(d.RESIZE,this.onResize,this),this.resize(V,X)},createTemporaryTextures:function(){for(var M=this.gl,O=0;O<this.maxTextures;O++){var I=M.createTexture();M.activeTexture(M.TEXTURE0+O),M.bindTexture(M.TEXTURE_2D,I),M.texImage2D(M.TEXTURE_2D,0,M.RGBA,1,1,0,M.RGBA,M.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(O)}},captureFrame:function(M,O){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(M,O,I){},stopCapture:function(){},onCapture:function(M){},onResize:function(M,O){(O.width!==this.width||O.height!==this.height)&&this.resize(O.width,O.height)},beginCapture:function(M,O){M===void 0&&(M=this.width),O===void 0&&(O=this.height),this.renderTarget.bind(!0,M,O),this.setProjectionMatrix(M,O)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(M,O){var I=this.gl;return this.width=M,this.height=O,this.setProjectionMatrix(M,O),I.viewport(0,0,M,O),this.drawingBufferHeight=I.drawingBufferHeight,I.scissor(0,I.drawingBufferHeight-O,M,O),this.defaultScissor[2]=M,this.defaultScissor[3]=O,this.emit(n.RESIZE,M,O),this},getCompressedTextures:function(){var M="WEBGL_compressed_texture_",O="WEBKIT_"+M,I="EXT_texture_compression_",V=function(z,Z){var N=z.getExtension(M+Z)||z.getExtension(O+Z)||z.getExtension(I+Z);if(N){var Y={};for(var L in N)Y[N[L]]=L;return Y}},X=this.gl;return{ETC:V(X,"etc"),ETC1:V(X,"etc1"),ATC:V(X,"atc"),ASTC:V(X,"astc"),BPTC:V(X,"bptc"),RGTC:V(X,"rgtc"),PVRTC:V(X,"pvrtc"),S3TC:V(X,"s3tc"),S3TCSRGB:V(X,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(M,O){var I=this.compression[M.toUpperCase()];if(O in I)return I[O]},supportsCompressedTexture:function(M,O){var I=this.compression[M.toUpperCase()];return I?O?O in I:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(M,O){return(M!==this.projectionWidth||O!==this.projectionHeight)&&(this.projectionWidth=M,this.projectionHeight=O,this.projectionMatrix.ortho(0,M,O,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(M){return this.supportedExtensions?this.supportedExtensions.indexOf(M):!1},getExtension:function(M){return this.hasExtension(M)?(M in this.extensions||(this.extensions[M]=this.gl.getExtension(M)),this.extensions[M]):null},flush:function(){this.pipelines.flush()},pushScissor:function(M,O,I,V,X){X===void 0&&(X=this.drawingBufferHeight);var z=this.scissorStack,Z=[M,O,I,V];return z.push(Z),this.setScissor(M,O,I,V,X),this.currentScissor=Z,Z},setScissor:function(M,O,I,V,X){X===void 0&&(X=this.drawingBufferHeight);var z=this.gl,Z=this.currentScissor,N=I>0&&V>0;if(Z&&N){var Y=Z[0],L=Z[1],b=Z[2],U=Z[3];N=Y!==M||L!==O||b!==I||U!==V}N&&(this.flush(),z.scissor(M,X-O-V,I,V))},resetScissor:function(){var M=this.gl;M.enable(M.SCISSOR_TEST);var O=this.currentScissor;if(O){var I=O[0],V=O[1],X=O[2],z=O[3];X>0&&z>0&&M.scissor(I,this.drawingBufferHeight-V-z,X,z)}},popScissor:function(){var M=this.scissorStack;M.pop();var O=M[M.length-1];O&&this.setScissor(O[0],O[1],O[2],O[3]),this.currentScissor=O},hasActiveStencilMask:function(){var M=this.currentMask.mask,O=this.currentCameraMask.mask;return M&&M.isStencil||O&&O.isStencil},resetViewport:function(){var M=this.gl;M.viewport(0,0,this.width,this.height),this.drawingBufferHeight=M.drawingBufferHeight},setBlendMode:function(M,O){O===void 0&&(O=!1);var I=this.gl,V=this.blendModes[M];return O||M!==s.BlendModes.SKIP_CHECK&&this.currentBlendMode!==M?(this.flush(),I.enable(I.BLEND),I.blendEquation(V.equation),V.func.length>2?I.blendFuncSeparate(V.func[0],V.func[1],V.func[2],V.func[3]):I.blendFunc(V.func[0],V.func[1]),this.currentBlendMode=M,!0):!1},addBlendMode:function(M,O){var I=this.blendModes.push({func:M,equation:O});return I-1},updateBlendMode:function(M,O,I){return this.blendModes[M]&&(this.blendModes[M].func=O,I&&(this.blendModes[M].equation=I)),this},removeBlendMode:function(M){return M>17&&this.blendModes[M]&&this.blendModes.splice(M,1),this},pushFramebuffer:function(M,O,I,V,X){return M===this.currentFramebuffer?this:(this.fboStack.push(M),this.setFramebuffer(M,O,I,V,X))},setFramebuffer:function(M,O,I,V,X){if(O===void 0&&(O=!1),I===void 0&&(I=!0),V===void 0&&(V=null),X===void 0&&(X=!1),M===this.currentFramebuffer)return this;var z=this.gl,Z=this.width,N=this.height;return M&&M.renderTexture&&I?(Z=M.renderTexture.width,N=M.renderTexture.height):this.flush(),M?z.bindFramebuffer(z.FRAMEBUFFER,M.webGLFramebuffer):z.bindFramebuffer(z.FRAMEBUFFER,null),I&&z.viewport(0,0,Z,N),V&&z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,V.webGLTexture,0),X&&(z.clearColor(0,0,0,0),z.clear(z.COLOR_BUFFER_BIT)),O&&(M?(this.drawingBufferHeight=N,this.pushScissor(0,0,Z,N)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=M,this},popFramebuffer:function(M,O){M===void 0&&(M=!1),O===void 0&&(O=!0);var I=this.fboStack;I.pop();var V=I[I.length-1];return V||(V=null),this.setFramebuffer(V,M,O),V},restoreFramebuffer:function(M,O){M===void 0&&(M=!1),O===void 0&&(O=!0);var I=this.fboStack,V=I[I.length-1];V||(V=null),this.currentFramebuffer=null,this.setFramebuffer(V,M,O)},setProgram:function(M){return M!==this.currentProgram?(this.flush(),this.gl.useProgram(M.webGLProgram),this.currentProgram=M,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(M,O,I,V,X){X===void 0&&(X=!1);var z=this.gl,Z=z.NEAREST,N=z.NEAREST,Y=z.CLAMP_TO_EDGE,L=null;O=M?M.width:O,I=M?M.height:I;var b=h(O,I);if(b&&!X&&(Y=z.REPEAT),V===s.ScaleModes.LINEAR&&this.config.antialias){var U=M&&M.compressed,W=!U&&b||U&&M.mipmaps.length>1;Z=this.mipmapFilter&&W?this.mipmapFilter:z.LINEAR,N=z.LINEAR}return!M&&typeof O=="number"&&typeof I=="number"?L=this.createTexture2D(0,Z,N,Y,Y,z.RGBA,null,O,I):L=this.createTexture2D(0,Z,N,Y,Y,z.RGBA,M),L},createTexture2D:function(M,O,I,V,X,z,Z,N,Y,L,b,U){typeof N!="number"&&(N=Z?Z.width:1),typeof Y!="number"&&(Y=Z?Z.height:1);var W=new S(this.gl,M,O,I,V,X,z,Z,N,Y,L,b,U);return this.glTextureWrappers.push(W),W},createFramebuffer:function(M,O,I,V){this.currentFramebuffer=null;var X=new E(this.gl,M,O,I,V);return this.glFramebufferWrappers.push(X),X},beginBitmapMask:function(M,O){var I=this.gl;I&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==M&&(this.currentMask.mask=M,this.currentMask.camera=O))},drawBitmapMask:function(M,O,I){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),M.renderWebGL(this,M,O),this.maskSource.unbind(!0),this.maskTarget.unbind();var V=this.gl,X=this.getCurrentStencilMask();X?(V.enable(V.STENCIL_TEST),X.mask.applyStencil(this,X.camera,!0)):this.currentMask.mask=null,this.pipelines.set(I),V.activeTexture(V.TEXTURE0),V.bindTexture(V.TEXTURE_2D,this.maskTarget.texture.webGLTexture),V.activeTexture(V.TEXTURE1),V.bindTexture(V.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(M,O){var I=new T(this.gl,M,O);return this.glProgramWrappers.push(I),I},createVertexBuffer:function(M,O){var I=this.gl,V=new g(I,M,I.ARRAY_BUFFER,O);return this.glBufferWrappers.push(V),V},createAttribLocation:function(M,O){var I=new P(this.gl,M,O);return this.glAttribLocationWrappers.push(I),I},createUniformLocation:function(M,O){var I=new F(this.gl,M,O);return this.glUniformLocationWrappers.push(I),I},createIndexBuffer:function(M,O){var I=this.gl,V=new g(I,M,I.ELEMENT_ARRAY_BUFFER,O);return this.glBufferWrappers.push(V),V},deleteTexture:function(M){if(M)return v(this.glTextureWrappers,M),M.destroy(),this},deleteFramebuffer:function(M){return M?(v(this.fboStack,M),v(this.glFramebufferWrappers,M),M.destroy(),this):this},deleteProgram:function(M){return M&&(v(this.glProgramWrappers,M),M.destroy()),this},deleteAttribLocation:function(M){return M&&(v(this.glAttribLocationWrappers,M),M.destroy()),this},deleteUniformLocation:function(M){return M&&(v(this.glUniformLocationWrappers,M),M.destroy()),this},deleteBuffer:function(M){return M?(v(this.glBufferWrappers,M),M.destroy(),this):this},preRenderCamera:function(M){var O=M.x,I=M.y,V=M.width,X=M.height,z=M.backgroundColor;if(M.emit(a.PRE_RENDER,M),this.pipelines.preBatchCamera(M),this.pushScissor(O,I,V,X),M.mask&&(this.currentCameraMask.mask=M.mask,this.currentCameraMask.camera=M._maskCamera,M.mask.preRenderWebGL(this,M,M._maskCamera)),z.alphaGL>0){var Z=this.pipelines.setMulti();Z.drawFillRect(O,I,V,X,m.getTintFromFloats(z.blueGL,z.greenGL,z.redGL,1),z.alphaGL)}},getCurrentStencilMask:function(){var M=null,O=this.maskStack,I=this.currentCameraMask;return O.length>0?M=O[O.length-1]:I.mask&&I.mask.isStencil&&(M=I),M},postRenderCamera:function(M){var O=M.flashEffect,I=M.fadeEffect;if(O.isRunning||I.isRunning||I.isComplete){var V=this.pipelines.setMulti();O.postRenderWebGL(V,m.getTintFromFloats),I.postRenderWebGL(V,m.getTintFromFloats)}M.dirty=!1,this.popScissor(),M.mask&&(this.currentCameraMask.mask=null,M.mask.postRenderWebGL(this,M._maskCamera)),this.pipelines.postBatchCamera(M),M.emit(a.POST_RENDER,M)},preRender:function(){if(!this.contextLost){var M=this.gl;if(M.bindFramebuffer(M.FRAMEBUFFER,null),this.config.clearBeforeRender){var O=this.config.backgroundColor;M.clearColor(O.redGL,O.greenGL,O.blueGL,O.alphaGL),M.clear(M.COLOR_BUFFER_BIT|M.DEPTH_BUFFER_BIT|M.STENCIL_BUFFER_BIT)}M.enable(M.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&M.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(n.PRE_RENDER)}},render:function(M,O,I){if(!this.contextLost){var V=O.length;if(this.emit(n.RENDER,M,I),this.preRenderCamera(I),V===0){this.setBlendMode(s.BlendModes.NORMAL),this.postRenderCamera(I);return}this.currentType="";for(var X=this.currentMask,z=0;z<V;z++){this.finalType=z===V-1;var Z=O[z],N=Z.mask;X=this.currentMask,X.mask&&X.mask!==N&&X.mask.postRenderWebGL(this,X.camera),N&&X.mask!==N&&N.preRenderWebGL(this,Z,I),Z.blendMode!==this.currentBlendMode&&this.setBlendMode(Z.blendMode);var Y=Z.type;Y!==this.currentType&&(this.newType=!0,this.currentType=Y),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=O[z+1].type===this.currentType,Z.renderWebGL(this,Z,I),this.newType=!1}X=this.currentMask,X.mask&&X.mask.postRenderWebGL(this,X.camera),this.setBlendMode(s.BlendModes.NORMAL),this.postRenderCamera(I)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(n.POST_RENDER);var M=this.snapshotState;M.callback&&(x(this.gl,M),M.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var M=this.gl,O=this.getCurrentStencilMask();if(O){var I=O.mask;M.enable(M.STENCIL_TEST),I.invertAlpha?M.stencilFunc(M.NOTEQUAL,I.level,255):M.stencilFunc(M.EQUAL,I.level,255)}},snapshot:function(M,O,I){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,M,O,I)},snapshotArea:function(M,O,I,V,X,z,Z){var N=this.snapshotState;return N.callback=X,N.type=z,N.encoder=Z,N.getPixel=!1,N.x=M,N.y=O,N.width=I,N.height=V,this},snapshotPixel:function(M,O,I){return this.snapshotArea(M,O,1,1,I),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(M,O,I,V,X,z,Z,N,Y,L,b){X===void 0&&(X=!1),z===void 0&&(z=0),Z===void 0&&(Z=0),N===void 0&&(N=O),Y===void 0&&(Y=I),L==="pixel"&&(X=!0,L="image/png");var U=this.currentFramebuffer;this.snapshotArea(z,Z,N,Y,V,L,b);var W=this.snapshotState;return W.getPixel=X,W.isFramebuffer=!0,W.bufferWidth=O,W.bufferHeight=I,W.width=Math.min(W.width,O),W.height=Math.min(W.height,I),this.setFramebuffer(M),x(this.gl,W),this.setFramebuffer(U),W.callback=null,W.isFramebuffer=!1,this},canvasToTexture:function(M,O,I,V){I===void 0&&(I=!1),V===void 0&&(V=!1);var X=this.gl,z=X.NEAREST,Z=X.NEAREST,N=M.width,Y=M.height,L=X.CLAMP_TO_EDGE,b=h(N,Y);return!I&&b&&(L=X.REPEAT),this.config.antialias&&(z=b&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,Z=X.LINEAR),O?(O.update(M,N,Y,V,L,L,z,Z,O.format),O):this.createTexture2D(0,z,Z,L,L,X.RGBA,M,N,Y,!0,!1,V)},createCanvasTexture:function(M,O,I){return O===void 0&&(O=!1),I===void 0&&(I=!1),this.canvasToTexture(M,null,O,I)},updateCanvasTexture:function(M,O,I,V){return I===void 0&&(I=!1),V===void 0&&(V=!1),this.canvasToTexture(M,O,V,I)},videoToTexture:function(M,O,I,V){I===void 0&&(I=!1),V===void 0&&(V=!1);var X=this.gl,z=X.NEAREST,Z=X.NEAREST,N=M.videoWidth,Y=M.videoHeight,L=X.CLAMP_TO_EDGE,b=h(N,Y);return!I&&b&&(L=X.REPEAT),this.config.antialias&&(z=b&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,Z=X.LINEAR),O?(O.update(M,N,Y,V,L,L,z,Z,O.format),O):this.createTexture2D(0,z,Z,L,L,X.RGBA,M,N,Y,!0,!0,V)},createVideoTexture:function(M,O,I){return O===void 0&&(O=!1),I===void 0&&(I=!1),this.videoToTexture(M,null,O,I)},updateVideoTexture:function(M,O,I,V){return I===void 0&&(I=!1),V===void 0&&(V=!1),this.videoToTexture(M,O,V,I)},createUint8ArrayTexture:function(M,O,I){var V=this.gl,X=V.NEAREST,z=V.NEAREST,Z=V.CLAMP_TO_EDGE,N=h(O,I);return N&&(Z=V.REPEAT),this.createTexture2D(0,X,z,Z,Z,V.RGBA,M,O,I)},setTextureFilter:function(M,O){var I=this.gl,V=O===0?I.LINEAR:I.NEAREST;I.activeTexture(I.TEXTURE0);var X=I.getParameter(I.TEXTURE_BINDING_2D);return I.bindTexture(I.TEXTURE_2D,M.webGLTexture),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MIN_FILTER,V),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MAG_FILTER,V),M.minFilter=V,M.magFilter=V,X&&I.bindTexture(I.TEXTURE_2D,X),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var M=function(O){O.destroy()};l(this.glAttribLocationWrappers,M),l(this.glBufferWrappers,M),l(this.glFramebufferWrappers,M),l(this.glProgramWrappers,M),l(this.glTextureWrappers,M),l(this.glUniformLocationWrappers,M),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});p.exports=R},38683:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95428),a=t(95540),r=t(14500),s=new l({initialize:function(n,h,i,o,f){this.pipeline=n,this.name=h,this.renderer=n.renderer,this.gl=this.renderer.gl,this.fragSrc=o,this.vertSrc=i,this.program=this.renderer.createProgram(i,o),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(f),this.createUniforms()},createAttributes:function(e){var n=0,h=0,i=[];this.vertexComponentCount=0;for(var o=0;o<e.length;o++){var f=e[o],u=f.name,d=a(f,"size",1),c=a(f,"type",r.FLOAT),m=c.enum,x=c.size,g=!!f.normalized;i.push({name:u,size:d,type:m,normalized:g,offset:h,enabled:!1,location:-1}),x===4?n+=d:n++,h+=d*x}this.vertexSize=h,this.vertexComponentCount=n,this.attributes=i},bind:function(e,n){return e===void 0&&(e=!1),n===void 0&&(n=!1),n&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){e===void 0&&(e=!1);for(var n=this.gl,h=this.renderer,i=this.vertexSize,o=this.attributes,f=this.program,u=0;u<o.length;u++){var d=o[u],c=d.size,m=d.type,x=d.offset,g=d.enabled,T=d.location,S=!!d.normalized;if(e){T!==-1&&h.deleteAttribLocation(T);var E=this.renderer.createAttribLocation(f,d.name);E.webGLAttribLocation>=0?(n.enableVertexAttribArray(E.webGLAttribLocation),n.vertexAttribPointer(E.webGLAttribLocation,c,m,S,i,x),d.enabled=!0,d.location=E):E.webGLAttribLocation!==-1&&n.disableVertexAttribArray(E.webGLAttribLocation)}else g?n.vertexAttribPointer(T.webGLAttribLocation,c,m,S,i,x):!g&&T!==-1&&T.webGLAttribLocation>-1&&(n.disableVertexAttribArray(T.webGLAttribLocation),d.location=-1)}return this},createUniforms:function(){var e=this.gl,n=this.program,h=this.uniforms,i,o,f,u=e.getProgramParameter(n.webGLProgram,e.ACTIVE_UNIFORMS);for(i=0;i<u;i++){var d=e.getActiveUniform(n.webGLProgram,i);if(d){o=d.name,f=this.renderer.createUniformLocation(n,o),f!==null&&(h[o]={name:o,location:f,setter:null,value1:null,value2:null,value3:null,value4:null});var c=o.indexOf("[");c>0&&(o=o.substr(0,c),h.hasOwnProperty(o)||(f=this.renderer.createUniformLocation(n,o),f!==null&&(h[o]={name:o,location:f,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var e=this.gl;this.renderer.setProgram(this.program);for(var n in this.uniforms){var h=this.uniforms[n];h.setter&&h.setter.call(e,h.location.webGLUniformLocation,h.value1,h.value2,h.value3,h.value4)}},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var n=this.uniforms[e];return n&&(n.value1=null,n.value2=null,n.value3=null,n.value4=null),this},setUniform1:function(e,n,h,i){var o=this.uniforms[n];return o?((i||o.value1!==h)&&(o.setter||(o.setter=e),o.value1=h,this.renderer.setProgram(this.program),e.call(this.gl,o.location.webGLUniformLocation,h),this.pipeline.currentShader=this),this):this},setUniform2:function(e,n,h,i,o){var f=this.uniforms[n];return f?((o||f.value1!==h||f.value2!==i)&&(f.setter||(f.setter=e),f.value1=h,f.value2=i,this.renderer.setProgram(this.program),e.call(this.gl,f.location.webGLUniformLocation,h,i),this.pipeline.currentShader=this),this):this},setUniform3:function(e,n,h,i,o,f){var u=this.uniforms[n];return u?((f||u.value1!==h||u.value2!==i||u.value3!==o)&&(u.setter||(u.setter=e),u.value1=h,u.value2=i,u.value3=o,this.renderer.setProgram(this.program),e.call(this.gl,u.location.webGLUniformLocation,h,i,o),this.pipeline.currentShader=this),this):this},setUniform4:function(e,n,h,i,o,f,u){var d=this.uniforms[n];return d?((u||d.value1!==h||d.value2!==i||d.value3!==o||d.value4!==f)&&(d.setter||(d.setter=e),d.value1=h,d.value2=i,d.value3=o,d.value4=f,this.renderer.setProgram(this.program),e.call(this.gl,d.location.webGLUniformLocation,h,i,o,f),this.pipeline.currentShader=this),this):this},setBoolean:function(e,n){return this.setUniform1(this.gl.uniform1i,e,Number(n))},set1f:function(e,n){return this.setUniform1(this.gl.uniform1f,e,n)},set2f:function(e,n,h){return this.setUniform2(this.gl.uniform2f,e,n,h)},set3f:function(e,n,h,i){return this.setUniform3(this.gl.uniform3f,e,n,h,i)},set4f:function(e,n,h,i,o){return this.setUniform4(this.gl.uniform4f,e,n,h,i,o)},set1fv:function(e,n){return this.setUniform1(this.gl.uniform1fv,e,n,!0)},set2fv:function(e,n){return this.setUniform1(this.gl.uniform2fv,e,n,!0)},set3fv:function(e,n){return this.setUniform1(this.gl.uniform3fv,e,n,!0)},set4fv:function(e,n){return this.setUniform1(this.gl.uniform4fv,e,n,!0)},set1iv:function(e,n){return this.setUniform1(this.gl.uniform1iv,e,n,!0)},set2iv:function(e,n){return this.setUniform1(this.gl.uniform2iv,e,n,!0)},set3iv:function(e,n){return this.setUniform1(this.gl.uniform3iv,e,n,!0)},set4iv:function(e,n){return this.setUniform1(this.gl.uniform4iv,e,n,!0)},set1i:function(e,n){return this.setUniform1(this.gl.uniform1i,e,n)},set2i:function(e,n,h){return this.setUniform2(this.gl.uniform2i,e,n,h)},set3i:function(e,n,h,i){return this.setUniform3(this.gl.uniform3i,e,n,h,i)},set4i:function(e,n,h,i,o){return this.setUniform4(this.gl.uniform4i,e,n,h,i,o)},setMatrix2fv:function(e,n,h){return this.setUniform2(this.gl.uniformMatrix2fv,e,n,h,!0)},setMatrix3fv:function(e,n,h){return this.setUniform2(this.gl.uniformMatrix3fv,e,n,h,!0)},setMatrix4fv:function(e,n,h){return this.setUniform2(this.gl.uniformMatrix4fv,e,n,h,!0)},createProgram:function(e,n){return e===void 0&&(e=this.vertSrc),n===void 0&&(n=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=e,this.fragSrc=n,this.program=this.renderer.createProgram(e,n),this.createUniforms(),this.rebind()},destroy:function(){var e=this.renderer;v(this.uniforms,function(n){e.deleteUniformLocation(n.location)}),this.uniforms=null,v(this.attributes,function(n){e.deleteAttribLocation(n.location)}),this.attributes=null,e.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});p.exports=s},14500:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};p.exports=y},4159:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(14500),v=t(79291),a={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};a=v(!1,a,l),p.exports=a},31302:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95540),a=t(78908),r=t(85191),s=t(14500),e=t(29100),n=new l({Extends:e,initialize:function(i){i.fragShader=v(i,"fragShader",a),i.vertShader=v(i,"vertShader",r),i.batchSize=v(i,"batchSize",1),i.vertices=v(i,"vertices",[-1,1,-1,-7,7,1]),i.attributes=v(i,"attributes",[{name:"inPosition",size:2,type:s.FLOAT}]),e.call(this,i)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(h,i){e.prototype.resize.call(this,h,i),this.set2f("uResolution",h,i)},beginMask:function(h,i,o){this.renderer.beginBitmapMask(h,o)},endMask:function(h,i,o){var f=this.gl,u=this.renderer,d=h.bitmapMask;d&&f&&(u.drawBitmapMask(d,i,this),o&&this.set2f("uResolution",o.width,o.height),this.set1i("uInvertMaskAlpha",h.invertAlpha),f.drawArrays(this.topology,0,3),o&&this.set2f("uResolution",this.width,this.height),f.bindTexture(f.TEXTURE_2D,null))}});p.exports=n},92651:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(58918),a=t(14811),r=t(95540),s=t(43558),e=t(89350),n=t(70554),h=new l({Extends:s,initialize:function(o){o.shaders=[n.setGlowQuality(e.FXGlowFrag,o.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],s.call(this,o);var f=this.game;this.glow=new v.Glow(f),this.shadow=new v.Shadow(f),this.pixelate=new v.Pixelate(f),this.vignette=new v.Vignette(f),this.shine=new v.Shine(f),this.gradient=new v.Gradient(f),this.circle=new v.Circle(f),this.barrel=new v.Barrel(f),this.wipe=new v.Wipe(f),this.bokeh=new v.Bokeh(f);var u=[];u[a.GLOW]=this.onGlow,u[a.SHADOW]=this.onShadow,u[a.PIXELATE]=this.onPixelate,u[a.VIGNETTE]=this.onVignette,u[a.SHINE]=this.onShine,u[a.BLUR]=this.onBlur,u[a.GRADIENT]=this.onGradient,u[a.BLOOM]=this.onBloom,u[a.COLOR_MATRIX]=this.onColorMatrix,u[a.CIRCLE]=this.onCircle,u[a.BARREL]=this.onBarrel,u[a.DISPLACEMENT]=this.onDisplacement,u[a.WIPE]=this.onWipe,u[a.BOKEH]=this.onBokeh,this.fxHandlers=u,this.source,this.target,this.swap},onDraw:function(i,o,f){this.source=i,this.target=o,this.swap=f;var u=i.width,d=i.height,c=this.tempSprite,m=this.fxHandlers;if(c&&c.preFX)for(var x=c.preFX.list,g=0;g<x.length;g++){var T=x[g];T.active&&m[T.type].call(this,T,u,d)}this.drawToGame(this.source)},runDraw:function(){var i=this.source,o=this.target;this.copy(i,o),this.source=o,this.target=i},onGlow:function(i,o,f){var u=this.shaders[a.GLOW];this.setShader(u),this.glow.onPreRender(i,u,o,f),this.runDraw()},onShadow:function(i){var o=this.shaders[a.SHADOW];this.setShader(o),this.shadow.onPreRender(i,o),this.runDraw()},onPixelate:function(i,o,f){var u=this.shaders[a.PIXELATE];this.setShader(u),this.pixelate.onPreRender(i,u,o,f),this.runDraw()},onVignette:function(i){var o=this.shaders[a.VIGNETTE];this.setShader(o),this.vignette.onPreRender(i,o),this.runDraw()},onShine:function(i,o,f){var u=this.shaders[a.SHINE];this.setShader(u),this.shine.onPreRender(i,u,o,f),this.runDraw()},onBlur:function(i,o,f){var u=r(i,"quality"),d=this.shaders[a.BLUR+u];this.setShader(d),this.set1i("uMainSampler",0),this.set2f("resolution",o,f),this.set1f("strength",r(i,"strength")),this.set3fv("color",r(i,"glcolor"));for(var c=r(i,"x"),m=r(i,"y"),x=r(i,"steps"),g=0;g<x;g++)this.set2f("offset",c,0),this.runDraw(),this.set2f("offset",0,m),this.runDraw()},onGradient:function(i){var o=this.shaders[a.GRADIENT];this.setShader(o),this.gradient.onPreRender(i,o),this.runDraw()},onBloom:function(i,o,f){var u=this.shaders[a.BLOOM];this.copySprite(this.source,this.swap),this.setShader(u),this.set1i("uMainSampler",0),this.set1f("strength",r(i,"blurStrength")),this.set3fv("color",r(i,"glcolor"));for(var d=2/o*r(i,"offsetX"),c=2/f*r(i,"offsetY"),m=r(i,"steps"),x=0;x<m;x++)this.set2f("offset",d,0),this.runDraw(),this.set2f("offset",0,c),this.runDraw();this.blendFrames(this.swap,this.source,this.target,r(i,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(i){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",i.getData()),this.set1f("uAlpha",i.alpha),this.runDraw()},onCircle:function(i,o,f){var u=this.shaders[a.CIRCLE];this.setShader(u),this.circle.onPreRender(i,u,o,f),this.runDraw()},onBarrel:function(i){var o=this.shaders[a.BARREL];this.setShader(o),this.barrel.onPreRender(i,o),this.runDraw()},onDisplacement:function(i){this.setShader(this.shaders[a.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.runDraw()},onWipe:function(i){var o=this.shaders[a.WIPE];this.setShader(o),this.wipe.onPreRender(i,o),this.runDraw()},onBokeh:function(i,o,f){var u=this.shaders[a.BOKEH];this.setShader(u),this.bokeh.onPreRender(i,u,o,f),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,s.prototype.destroy.call(this),this}});p.exports=h},96569:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95540),a=t(31063),r=t(57516),s=t(61340),e=t(26099),n=t(29100),h=new l({Extends:r,initialize:function(o){var f=v(o,"fragShader",a);o.fragShader=f.replace("%LIGHT_COUNT%",o.game.renderer.config.maxLights),r.call(this,o),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new s,this._tempMatrix2=new s},boot:function(){n.prototype.boot.call(this)},onRender:function(i,o){var f=i.sys.lights;if(this.lightsActive=!1,!(!f||!f.active)){var u=f.getLights(o),d=u.length;this.lightsActive=!0;var c,m=this.renderer,x=m.height,g=o.matrix,T=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",o.x,o.y,o.rotation,o.zoom),this.set3f("uAmbientLightColor",f.ambientColor.r,f.ambientColor.g,f.ambientColor.b),this.set1i("uLightCount",d),c=0;c<d;c++){var S=u[c].light,E=S.color,P="uLights["+c+"].";g.transformPoint(S.x,S.y,T),this.set2f(P+"position",T.x-o.scrollX*S.scrollFactorX*o.zoom,x-(T.y-o.scrollY*S.scrollFactorY*o.zoom)),this.set3f(P+"color",E.r,E.g,E.b),this.set1f(P+"intensity",S.intensity),this.set1f(P+"radius",S.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(i){if(i!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var o=this.inverseRotationMatrix;if(i){var f=-i,u=Math.cos(f),d=Math.sin(f);o[1]=d,o[3]=-d,o[0]=o[4]=u}else o[0]=o[4]=1,o[1]=o[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,o),this.currentNormalMapRotation=i}},setTexture2D:function(i,o){var f=this.renderer;i===void 0&&(i=f.whiteTexture);var u=this.getNormalMap(o);this.isNewNormalMap(i,u)&&(this.flush(),this.createBatch(i),this.addTextureToBatch(u),this.currentNormalMap=u);var d=0;if(o&&o.parentContainer){var c=o.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);d=c.rotationNormalized}else o&&(d=o.rotation);return this.setNormalMapRotation(d),0},setGameObject:function(i,o){o===void 0&&(o=i.frame);var f=o.glTexture,u=this.getNormalMap(i);if(this.isNewNormalMap(f,u)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(u),this.currentNormalMap=u),i.parentContainer){var d=i.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(d.rotationNormalized)}else this.setNormalMapRotation(i.rotation);return 0},isNewNormalMap:function(i,o){return this.currentTexture!==i||this.currentNormalMap!==o},getNormalMap:function(i){var o;if(i)i.displayTexture?o=i.displayTexture.dataSource[i.displayFrame.sourceIndex]:i.texture?o=i.texture.dataSource[i.frame.sourceIndex]:i.tileset&&(Array.isArray(i.tileset)?o=i.tileset[0].image.dataSource[0]:o=i.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return o?o.glTexture:this.renderer.normalTexture},batchSprite:function(i,o,f){this.lightsActive&&r.prototype.batchSprite.call(this,i,o,f)},batchTexture:function(i,o,f,u,d,c,m,x,g,T,S,E,P,F,R,M,O,I,V,X,z,Z,N,Y,L,b,U,W,j,Q,_,et){this.lightsActive&&r.prototype.batchTexture.call(this,i,o,f,u,d,c,m,x,g,T,S,E,P,F,R,M,O,I,V,X,z,Z,N,Y,L,b,U,W,j,Q,_,et)},batchTextureFrame:function(i,o,f,u,d,c,m){this.lightsActive&&r.prototype.batchTextureFrame.call(this,i,o,f,u,d,c,m)}});p.exports=h},56527:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95540),a=t(57516),r=t(45561),s=t(60722),e=t(14500),n=t(29100),h=new l({Extends:a,initialize:function(o){o.fragShader=v(o,"fragShader",r),o.vertShader=v(o,"vertShader",s),o.attributes=v(o,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),o.forceZero=!0,o.resizeUniform="uResolution",a.call(this,o)},boot:function(){n.prototype.boot.call(this);var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height),this.set1i("uRoundPixels",i.config.roundPixels)}});p.exports=h},57516:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(94811),a=t(95540),r=t(98840),s=t(44667),e=t(61340),n=t(70554),h=t(14500),i=t(29100),o=new l({Extends:i,initialize:function(u){var d=u.game.renderer,c=a(u,"fragShader",r);u.fragShader=n.parseFragmentShaderMaxTextures(c,d.maxTextures),u.vertShader=a(u,"vertShader",s),u.attributes=a(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:h.UNSIGNED_BYTE,normalized:!0}]),u.resizeUniform="uResolution",i.call(this,u),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){i.prototype.boot.call(this);var f=this.renderer;this.set1iv("uMainSampler",f.textureIndexes),this.set2f("uResolution",f.width,f.height),this.set1i("uRoundPixels",f.config.roundPixels)},batchSprite:function(f,u,d){this.manager.set(this,f);var c=this._tempMatrix1,m=this._tempMatrix2,x=this._tempMatrix3,g=f.frame,T=g.glTexture,S=g.u0,E=g.v0,P=g.u1,F=g.v1,R=g.x,M=g.y,O=g.cutWidth,I=g.cutHeight,V=g.customPivot,X=f.displayOriginX,z=f.displayOriginY,Z=-X+R,N=-z+M;if(f.isCropped){var Y=f._crop;(Y.flipX!==f.flipX||Y.flipY!==f.flipY)&&g.updateCropUVs(Y,f.flipX,f.flipY),S=Y.u0,E=Y.v0,P=Y.u1,F=Y.v1,O=Y.width,I=Y.height,R=Y.x,M=Y.y,Z=-X+R,N=-z+M}var L=1,b=1;f.flipX&&(V||(Z+=-g.realWidth+X*2),L=-1),f.flipY&&(V||(N+=-g.realHeight+z*2),b=-1);var U=f.x,W=f.y;m.applyITRS(U,W,f.rotation,f.scaleX*L,f.scaleY*b),c.copyFrom(u.matrix),d?(c.multiplyWithOffset(d,-u.scrollX*f.scrollFactorX,-u.scrollY*f.scrollFactorY),m.e=U,m.f=W):(m.e-=u.scrollX*f.scrollFactorX,m.f-=u.scrollY*f.scrollFactorY),c.multiply(m,x);var j=x.setQuad(Z,N,Z+O,N+I),Q=n.getTintAppendFloatAlpha,_=u.alpha,et=Q(f.tintTopLeft,_*f._alphaTL),st=Q(f.tintTopRight,_*f._alphaTR),ct=Q(f.tintBottomLeft,_*f._alphaBL),gt=Q(f.tintBottomRight,_*f._alphaBR);this.shouldFlush(6)&&this.flush();var Et=this.setGameObject(f,g);this.manager.preBatch(f),this.currentShader.set1i("uRoundPixels",u.roundPixels),this.batchQuad(f,j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],S,E,P,F,et,st,ct,gt,f.tintFill,T,Et),this.manager.postBatch(f)},batchTexture:function(f,u,d,c,m,x,g,T,S,E,P,F,R,M,O,I,V,X,z,Z,N,Y,L,b,U,W,j,Q,_,et,st,ct,gt){gt===void 0&&(gt=!1),this.manager.set(this,f);var Et=this._tempMatrix1,xt=this._tempMatrix2,Mt=this._tempMatrix3,Vt=X/d+j,Wt=z/c+Q,Nt=(X+Z)/d+j,Pt=(z+N)/c+Q,bt=g,Gt=T,Zt=-I,$t=-V;if(f.isCropped){var le=f._crop,ve=le.width,ie=le.height;bt=ve,Gt=ie,g=ve,T=ie,X=le.x,z=le.y;var qt=X,de=z;F&&(qt=Z-le.x-ve),R&&(de=N-le.y-ie),Vt=qt/d+j,Wt=de/c+Q,Nt=(qt+ve)/d+j,Pt=(de+ie)/c+Q,Zt=-I+X,$t=-V+z}R=R^(!st&&u.isRenderTexture?1:0),F&&(bt*=-1,Zt+=g),R&&(Gt*=-1,$t+=T),xt.applyITRS(m,x,P,S,E),Et.copyFrom(_.matrix),et?(Et.multiplyWithOffset(et,-_.scrollX*M,-_.scrollY*O),xt.e=m,xt.f=x):(xt.e-=_.scrollX*M,xt.f-=_.scrollY*O),Et.multiply(xt,Mt);var ce=Mt.setQuad(Zt,$t,Zt+bt,$t+Gt);ct==null&&(ct=this.setTexture2D(u)),f&&!gt&&this.manager.preBatch(f),this.currentShader.set1i("uRoundPixels",_.roundPixels),this.batchQuad(f,ce[0],ce[1],ce[2],ce[3],ce[4],ce[5],ce[6],ce[7],Vt,Wt,Nt,Pt,Y,L,b,U,W,u,ct),f&&!gt&&this.manager.postBatch(f)},batchTextureFrame:function(f,u,d,c,m,x,g){this.manager.set(this);var T=this._tempMatrix1.copyFrom(x),S=this._tempMatrix2;g?T.multiply(g,S):S=T;var E=S.setQuad(u,d,u+f.width,d+f.height),P=this.setTexture2D(f.source.glTexture);c=n.getTintAppendFloatAlpha(c,m),this.batchQuad(null,E[0],E[1],E[2],E[3],E[4],E[5],E[6],E[7],f.u0,f.v0,f.u1,f.v1,c,c,c,c,0,f.glTexture,P)},batchFillRect:function(f,u,d,c,m,x){this.renderer.pipelines.set(this);var g=this.calcMatrix;x&&x.multiply(m,g);var T=g.setQuad(f,u,f+d,u+c),S=this.fillTint;this.batchQuad(null,T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],0,0,1,1,S.TL,S.TR,S.BL,S.BR,2)},batchFillTriangle:function(f,u,d,c,m,x,g,T){this.renderer.pipelines.set(this);var S=this.calcMatrix;T&&T.multiply(g,S);var E=S.getX(f,u),P=S.getY(f,u),F=S.getX(d,c),R=S.getY(d,c),M=S.getX(m,x),O=S.getY(m,x),I=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,E,P,F,R,M,O,0,0,1,1,I.TL,I.TR,I.BL,2)},batchStrokeTriangle:function(f,u,d,c,m,x,g,T,S){var E=this.tempTriangle;E[0].x=f,E[0].y=u,E[0].width=g,E[1].x=d,E[1].y=c,E[1].width=g,E[2].x=m,E[2].y=x,E[2].width=g,E[3].x=f,E[3].y=u,E[3].width=g,this.batchStrokePath(E,g,!1,T,S)},batchFillPath:function(f,u,d){this.renderer.pipelines.set(this);var c=this.calcMatrix;d&&d.multiply(u,c);for(var m=f.length,x=this.polygonCache,g,T,S=this.fillTint.TL,E=this.fillTint.TR,P=this.fillTint.BL,F=0;F<m;++F)T=f[F],x.push(T.x,T.y);g=v(x),m=g.length,this.currentShader.set1i("uRoundPixels",!1);for(var R=0;R<m;R+=3){var M=g[R+0]*2,O=g[R+1]*2,I=g[R+2]*2,V=x[M+0],X=x[M+1],z=x[O+0],Z=x[O+1],N=x[I+0],Y=x[I+1],L=c.getX(V,X),b=c.getY(V,X),U=c.getX(z,Z),W=c.getY(z,Z),j=c.getX(N,Y),Q=c.getY(N,Y);this.batchTri(null,L,b,U,W,j,Q,0,0,1,1,S,E,P,2)}x.length=0},batchStrokePath:function(f,u,d,c,m){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var x=f.length-1,g=0;g<x;g++){var T=f[g],S=f[g+1];this.batchLine(T.x,T.y,S.x,S.y,T.width/2,S.width/2,u,g,!d&&g===x-1,c,m)}},batchLine:function(f,u,d,c,m,x,g,T,S,E,P){this.renderer.pipelines.set(this);var F=this.calcMatrix;P&&P.multiply(E,F);var R=d-f,M=c-u,O=Math.sqrt(R*R+M*M);if(O!==0){var I=m*(c-u)/O,V=m*(f-d)/O,X=x*(c-u)/O,z=x*(f-d)/O,Z=d-X,N=c-z,Y=f-I,L=u-V,b=d+X,U=c+z,W=f+I,j=u+V,Q=F.getX(Z,N),_=F.getY(Z,N),et=F.getX(Y,L),st=F.getY(Y,L),ct=F.getX(b,U),gt=F.getY(b,U),Et=F.getX(W,j),xt=F.getY(W,j),Mt=this.strokeTint,Vt=Mt.TL,Wt=Mt.TR,Nt=Mt.BL,Pt=Mt.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,Et,xt,et,st,Q,_,ct,gt,0,0,1,1,Vt,Wt,Nt,Pt,2),!(g<=2)){var bt=this.prevQuad,Gt=this.firstQuad;T>0&&bt[4]?this.batchQuad(null,Et,xt,et,st,bt[0],bt[1],bt[2],bt[3],0,0,1,1,Vt,Wt,Nt,Pt,2):(Gt[0]=Et,Gt[1]=xt,Gt[2]=et,Gt[3]=st,Gt[4]=1),S&&Gt[4]?this.batchQuad(null,Q,_,ct,gt,Gt[0],Gt[1],Gt[2],Gt[3],0,0,1,1,Vt,Wt,Nt,Pt,2):(bt[0]=Q,bt[1]=_,bt[2]=ct,bt[3]=gt,bt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,i.prototype.destroy.call(this),this}});p.exports=o},43439:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95540),a=t(4127),r=t(89924),s=t(29100),e=new l({Extends:s,initialize:function(h){h.vertShader=v(h,"vertShader",r),h.fragShader=v(h,"fragShader",a),h.attributes=v(h,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),s.call(this,h)},onRender:function(n,h){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",h.zoom)},batchPointLight:function(n,h,i,o,f,u,d,c,m,x,g,T){var S=n.color,E=n.intensity,P=n.radius,F=n.attenuation,R=S.r*E,M=S.g*E,O=S.b*E,I=h.alpha*n.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(i,o,g,T,P,F,R,M,O,I),this.batchLightVert(f,u,g,T,P,F,R,M,O,I),this.batchLightVert(d,c,g,T,P,F,R,M,O,I),this.batchLightVert(i,o,g,T,P,F,R,M,O,I),this.batchLightVert(d,c,g,T,P,F,R,M,O,I),this.batchLightVert(m,x,g,T,P,F,R,M,O,I),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(n,h,i,o,f,u,d,c,m,x){var g=this.vertexViewF32,T=this.vertexCount*this.currentShader.vertexComponentCount-1;g[++T]=n,g[++T]=h,g[++T]=i,g[++T]=o,g[++T]=f,g[++T]=u,g[++T]=d,g[++T]=c,g[++T]=m,g[++T]=x,this.vertexCount++}});p.exports=e},84057:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(89422),a=t(95540),r=t(27681),s=t(49627),e=t(29100),n=new l({Extends:e,initialize:function(i){i.renderTarget=a(i,"renderTarget",1),i.fragShader=a(i,"fragShader",r),i.vertShader=a(i,"vertShader",s),i.attributes=a(i,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),i.batchSize=1,i.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,i),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new v,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var h=this.manager.UTILITY_PIPELINE;this.fullFrame1=h.fullFrame1,this.fullFrame2=h.fullFrame2,this.halfFrame1=h.halfFrame1,this.halfFrame2=h.halfFrame2;var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height),this.set1i("uRoundPixels",i.config.roundPixels);for(var o=this.renderTargets,f=0;f<o.length;f++)o[f].autoResize=!0},postBatch:function(h){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(h),this},onDraw:function(h){this.bindAndDraw(h)},getController:function(h){return h!==void 0?h:this.controller?this.controller:this},copySprite:function(h,i,o){o===void 0&&(o=!1);var f=this.gl;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,h.texture.webGLTexture);var u=f.getParameter(f.FRAMEBUFFER_BINDING);f.bindFramebuffer(f.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,i.texture.webGLTexture,0),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),o&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,u))},copyFrame:function(h,i,o,f,u){this.manager.copyFrame(h,i,o,f,u)},copyToGame:function(h){this.manager.copyToGame(h)},drawFrame:function(h,i,o){this.manager.drawFrame(h,i,o,this.colorMatrix)},blendFrames:function(h,i,o,f,u){this.manager.blendFrames(h,i,o,f,u)},blendFramesAdditive:function(h,i,o,f,u){this.manager.blendFramesAdditive(h,i,o,f,u)},clearFrame:function(h,i){this.manager.clearFrame(h,i)},blitFrame:function(h,i,o,f,u,d){this.manager.blitFrame(h,i,o,f,u,d)},copyFrameRect:function(h,i,o,f,u,d,c,m){this.manager.copyFrameRect(h,i,o,f,u,d,c,m)},bindAndDraw:function(h,i,o,f,u){o===void 0&&(o=!0),f===void 0&&(f=!0);var d=this.gl,c=this.renderer;this.bind(u),this.set1i("uMainSampler",0),i?(d.viewport(0,0,i.width,i.height),d.bindFramebuffer(d.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,i.texture.webGLTexture,0),o&&(f?d.clearColor(0,0,0,0):d.clearColor(0,0,0,1),d.clear(d.COLOR_BUFFER_BIT))):(c.popFramebuffer(!1,!1),c.currentFramebuffer||d.viewport(0,0,c.width,c.height)),c.restoreStencilMask(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,h.texture.webGLTexture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),i&&(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,c.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),e.prototype.destroy.call(this),this}});p.exports=n},43558:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),v=t(67502),a=t(83419),r=t(96293),s=t(95540),e=t(57516),n=t(27681),h=t(87841),i=t(32302),o=t(45561),f=t(60722),u=t(29100),d=new a({Extends:e,initialize:function(m){var x=s(m,"fragShader",n),g=s(m,"vertShader",f),T=s(m,"drawShader",n),S=[{name:"DrawSprite",fragShader:o,vertShader:f},{name:"CopySprite",fragShader:x,vertShader:g},{name:"DrawGame",fragShader:T,vertShader:f},{name:"ColorMatrix",fragShader:r}],E=s(m,"shaders",[]);m.shaders=S.concat(E),m.vertShader||(m.vertShader=g),m.batchSize=1,e.call(this,m),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new h,this.targetBounds=new h,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){u.prototype.boot.call(this);var c=this.shaders,m=this.renderer;this.drawSpriteShader=c[0],this.copyShader=c[1],this.gameShader=c[2],this.colorMatrixShader=c[3],this.fsTarget=new i(m,m.width,m.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var x=new ArrayBuffer(168);this.quadVertexData=x,this.quadVertexViewF32=new Float32Array(x),this.quadVertexBuffer=m.createVertexBuffer(x,this.gl.STATIC_DRAW),this.onResize(m.width,m.height),this.currentShader=this.copyShader,this.set2f("uResolution",m.width,m.height),this.set1i("uRoundPixels",m.config.roundPixels)},onResize:function(c,m){var x=this.quadVertexViewF32;x[1]=m,x[22]=m,x[14]=c,x[28]=c,x[35]=c,x[36]=m},batchQuad:function(c,m,x,g,T,S,E,P,F,R,M,O,I,V,X,z,Z,N,Y){var L=Math.min(m,g,S,P),b=Math.min(x,T,E,F),U=Math.max(m,g,S,P),W=Math.max(x,T,E,F),j=U-L,Q=W-b,_=this.spriteBounds.setTo(L,b,j,Q),et=c?c.preFX.padding:0,st=j+et*2,ct=Q+et*2,gt=Math.abs(Math.max(st,ct)),Et=this.manager.getRenderTarget(gt),xt=this.targetBounds.setTo(0,0,Et.width,Et.height);v(xt,_.centerX,_.centerY),this.tempSprite=c;var Mt=this.gl,Vt=this.renderer;Vt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Vt.width,Vt.height),this.set1i("uRoundPixels",Vt.config.roundPixels),this.flipProjectionMatrix(!0),c&&(this.onDrawSprite(c,Et),c.preFX.onFX(this));var Wt=this.fsTarget;return this.flush(),Mt.viewport(0,0,Vt.width,Vt.height),Mt.bindFramebuffer(Mt.FRAMEBUFFER,Wt.framebuffer.webGLFramebuffer),Mt.framebufferTexture2D(Mt.FRAMEBUFFER,Mt.COLOR_ATTACHMENT0,Mt.TEXTURE_2D,Wt.texture.webGLTexture,0),Mt.clearColor(0,0,0,0),Mt.clear(Mt.COLOR_BUFFER_BIT),this.setTexture2D(Y),this.batchVert(m,x,R,M,0,N,V),this.batchVert(g,T,R,I,0,N,z),this.batchVert(S,E,O,I,0,N,Z),this.batchVert(m,x,R,M,0,N,V),this.batchVert(S,E,O,I,0,N,Z),this.batchVert(P,F,O,M,0,N,X),this.flush(),this.flipProjectionMatrix(!1),Mt.activeTexture(Mt.TEXTURE0),Mt.bindTexture(Mt.TEXTURE_2D,Et.texture.webGLTexture),Mt.copyTexSubImage2D(Mt.TEXTURE_2D,0,0,0,xt.x,xt.y,xt.width,xt.height),Mt.bindFramebuffer(Mt.FRAMEBUFFER,null),Mt.bindTexture(Mt.TEXTURE_2D,null),this.onBatch(c),this.currentShader=this.copyShader,this.onDraw(Et,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(c,m,x,g,T,S,E){x===void 0&&(x=!0),g===void 0&&(g=!0),T===void 0&&(T=!1),E===void 0&&(E=this.copyShader);var P=this.gl,F=this.tempSprite;S&&(E=this.colorMatrixShader),this.currentShader=E;var R=this.setVertexBuffer(this.quadVertexBuffer);E.bind(R,!1);var M=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",M.width,M.height),this.set1i("uRoundPixels",M.config.roundPixels),F.preFX.onFXCopy(this),this.onCopySprite(c,m,F),S&&(this.set1fv("uColorMatrix",S.getData()),this.set1f("uAlpha",S.alpha)),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,c.texture.webGLTexture),c.height>m.height)P.viewport(0,0,c.width,c.height),this.setTargetUVs(c,m);else{var O=m.height-c.height;P.viewport(0,O,c.width,c.height),this.resetUVs()}if(P.bindFramebuffer(P.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,m.texture.webGLTexture,0),x&&(P.clearColor(0,0,0,+!g),P.clear(P.COLOR_BUFFER_BIT)),T){var I=this.renderer.currentBlendMode;this.renderer.setBlendMode(l.ERASE)}P.bufferData(P.ARRAY_BUFFER,this.quadVertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),T&&this.renderer.setBlendMode(I),P.bindFramebuffer(P.FRAMEBUFFER,null)},copy:function(c,m){var x=this.gl;this.set1i("uMainSampler",0),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,c.texture.webGLTexture),x.viewport(0,0,c.width,c.height),this.setUVs(0,0,0,1,1,1,1,0),x.bindFramebuffer(x.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,m.texture.webGLTexture,0),x.clearColor(0,0,0,0),x.clear(x.COLOR_BUFFER_BIT),x.bufferData(x.ARRAY_BUFFER,this.quadVertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),x.bindFramebuffer(x.FRAMEBUFFER,null)},blendFrames:function(c,m,x,g,T){this.manager.blendFrames(c,m,x,g,T)},blendFramesAdditive:function(c,m,x,g,T){this.manager.blendFramesAdditive(c,m,x,g,T)},drawToGame:function(c){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(c)},copyToGame:function(c){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(c)},bindAndDraw:function(c){var m=this.gl,x=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(c.texture);var g=this._tempMatrix1.loadIdentity(),T=this.targetBounds.x,S=this.targetBounds.y,E=T+c.width,P=S+c.height,F=g.getX(T,S),R=g.getX(T,P),M=g.getX(E,P),O=g.getX(E,S),I=g.getY(T,S),V=g.getY(T,P),X=g.getY(E,P),z=g.getY(E,S),Z=16777215;this.batchVert(F,I,0,0,0,0,Z),this.batchVert(R,V,0,1,0,0,Z),this.batchVert(M,X,1,1,0,0,Z),this.batchVert(F,I,0,0,0,0,Z),this.batchVert(M,X,1,1,0,0,Z),this.batchVert(O,z,1,0,0,0,Z),x.restoreFramebuffer(!1,!0),x.currentFramebuffer||m.viewport(0,0,x.width,x.height),x.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(c){this.drawToGame(c)},setUVs:function(c,m,x,g,T,S,E,P){var F=this.quadVertexViewF32;F[2]=c,F[3]=m,F[9]=x,F[10]=g,F[16]=T,F[17]=S,F[23]=c,F[24]=m,F[30]=T,F[31]=S,F[37]=E,F[38]=P},setTargetUVs:function(c,m){var x=m.height/c.height;x>.5?x=.5-(x-.5):x=.5+(.5-x),this.setUVs(0,x,0,1+x,1,1+x,1,x)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});p.exports=d},81041:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95540),a=t(57516),r=new l({Extends:a,initialize:function(e){e.topology=5,e.batchSize=v(e,"batchSize",256),a.call(this,e)}});p.exports=r},12385:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95540),a=t(57516),r=t(45561),s=t(60722),e=t(29100),n=new l({Extends:a,initialize:function(i){i.fragShader=v(i,"fragShader",r),i.vertShader=v(i,"vertShader",s),i.forceZero=!0,a.call(this,i)},boot:function(){e.prototype.boot.call(this);var h=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",h.width,h.height),this.set1i("uRoundPixels",h.config.roundPixels)}});p.exports=n},7589:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35407),v=t(10312),a=t(83419),r=t(89422),s=t(96293),e=t(36682),n=t(95540),h=t(48247),i=t(49627),o=t(29100),f=new a({Extends:o,initialize:function(d){d.renderTarget=n(d,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),d.vertShader=n(d,"vertShader",i),d.shaders=n(d,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:l},{name:"LinearBlend",fragShader:h},{name:"ColorMatrix",fragShader:s}]),d.attributes=n(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],d.batchSize=1,o.call(this,d),this.colorMatrix=new r,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){o.prototype.boot.call(this);var u=this.shaders,d=this.renderTargets;this.copyShader=u[0],this.addShader=u[1],this.linearShader=u[2],this.colorMatrixShader=u[3],this.fullFrame1=d[0],this.fullFrame2=d[1],this.halfFrame1=d[2],this.halfFrame2=d[3]},copyFrame:function(u,d,c,m,x){c===void 0&&(c=1),m===void 0&&(m=!0),x===void 0&&(x=!0);var g=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",c),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,u.texture.webGLTexture),d?(g.viewport(0,0,d.width,d.height),g.bindFramebuffer(g.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,d.texture.webGLTexture,0)):g.viewport(0,0,u.width,u.height),m&&(x?g.clearColor(0,0,0,0):g.clearColor(0,0,0,1),g.clear(g.COLOR_BUFFER_BIT)),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),g.bindFramebuffer(g.FRAMEBUFFER,null),g.bindTexture(g.TEXTURE_2D,null)},blitFrame:function(u,d,c,m,x,g,T){c===void 0&&(c=1),m===void 0&&(m=!0),x===void 0&&(x=!0),g===void 0&&(g=!1),T===void 0&&(T=!1);var S=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",c),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,u.texture.webGLTexture),u.height>d.height)S.viewport(0,0,u.width,u.height),this.setTargetUVs(u,d);else{var E=d.height-u.height;S.viewport(0,E,u.width,u.height)}if(S.bindFramebuffer(S.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,d.texture.webGLTexture,0),m&&(x?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT)),g){var P=this.renderer.currentBlendMode;this.renderer.setBlendMode(v.ERASE)}T&&this.flipY(),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),g&&this.renderer.setBlendMode(P),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(u,d,c,m,x,g,T,S){T===void 0&&(T=!0),S===void 0&&(S=!0);var E=this.gl;E.bindFramebuffer(E.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,u.texture.webGLTexture,0),T&&(S?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,d.texture.webGLTexture),E.copyTexSubImage2D(E.TEXTURE_2D,0,0,0,c,m,x,g),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},copyToGame:function(u){var d=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,u.texture.webGLTexture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6)},drawFrame:function(u,d,c,m){c===void 0&&(c=!0),m===void 0&&(m=this.colorMatrix);var x=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",m.getData()),this.set1f("uAlpha",m.alpha),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,u.texture.webGLTexture),d?(x.viewport(0,0,d.width,d.height),x.bindFramebuffer(x.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,d.texture.webGLTexture,0)):x.viewport(0,0,u.width,u.height),c?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),x.bindFramebuffer(x.FRAMEBUFFER,null),x.bindTexture(x.TEXTURE_2D,null)},blendFrames:function(u,d,c,m,x,g){m===void 0&&(m=1),x===void 0&&(x=!0),g===void 0&&(g=this.linearShader);var T=this.gl;this.setShader(g),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",m),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,u.texture.webGLTexture),T.activeTexture(T.TEXTURE1),T.bindTexture(T.TEXTURE_2D,d.texture.webGLTexture),c?(T.bindFramebuffer(T.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,c.texture.webGLTexture,0),T.viewport(0,0,c.width,c.height)):T.viewport(0,0,u.width,u.height),x?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blendFramesAdditive:function(u,d,c,m,x){this.blendFrames(u,d,c,m,x,this.addShader)},clearFrame:function(u,d){d===void 0&&(d=!0);var c=this.gl;c.viewport(0,0,u.width,u.height),c.bindFramebuffer(c.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),d?c.clearColor(0,0,0,0):c.clearColor(0,0,0,1),c.clear(c.COLOR_BUFFER_BIT);var m=this.renderer.currentFramebuffer;c.bindFramebuffer(c.FRAMEBUFFER,m.webGLFramebuffer)},setUVs:function(u,d,c,m,x,g,T,S){var E=this.vertexViewF32;E[2]=u,E[3]=d,E[6]=c,E[7]=m,E[10]=x,E[11]=g,E[14]=u,E[15]=d,E[18]=x,E[19]=g,E[22]=T,E[23]=S},setTargetUVs:function(u,d){var c=d.height/u.height;c>.5?c=.5-(c-.5):c=.5+(.5-c),this.setUVs(0,c,0,1+c,1,1+c,1,c)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});p.exports=f},36060:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};p.exports=y},84817:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineafterflush"},36712:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebeforeflush"},40285:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebind"},65918:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineboot"},92852:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinedestroy"},56072:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinerebind"},57566:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineresize"},77085:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(99155),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.amount=1},onPreRender:function(s,e){s=this.getController(s),this.set1f("amount",s.amount,e)}});p.exports=r},67329:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(24400),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(s){s=this.getController(s),this.set1f("strength",s.blurStrength),this.set3fv("color",s.glcolor)},onDraw:function(s){var e=this.getController(),n=this.fullFrame1,h=this.fullFrame2;this.copyFrame(s,h);for(var i=2/s.width*e.offsetX,o=2/s.height*e.offsetY,f=0;f<e.steps;f++)this.set2f("offset",i,0),this.copySprite(s,n),this.set2f("offset",0,o),this.copySprite(n,s);this.blendFrames(h,s,n,e.strength),this.copyToGame(n)}});p.exports=r},8861:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(41514),a=t(51078),r=t(94328),s=t(84057),e=new l({Extends:s,initialize:function(h){s.call(this,{game:h,shaders:[{name:"Gaussian5",fragShader:v},{name:"Gaussian9",fragShader:a},{name:"Gaussian13",fragShader:r}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(n){var h=this.getController(),i=this.gl,o=this.fullFrame1,f=i.getParameter(i.FRAMEBUFFER_BINDING);this.bind(this.shaders[h.quality]),i.activeTexture(i.TEXTURE0),i.viewport(0,0,n.width,n.height),this.set1i("uMainSampler",0),this.set2f("resolution",n.width,n.height),this.set1f("strength",h.strength),this.set3fv("color",h.glcolor);for(var u=0;u<h.steps;u++)this.set2f("offset",h.x,0),this.copySprite(n,o),this.set2f("offset",0,h.y),this.copySprite(o,n);i.bindFramebuffer(i.FRAMEBUFFER,f),i.bindTexture(i.TEXTURE_2D,null),this.copyToGame(n)}});p.exports=e},51051:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(90610),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(s,e,n,h){s=this.getController(s),this.set1f("radius",s.radius,e),this.set1f("amount",s.amount,e),this.set1f("contrast",s.contrast,e),this.set1f("strength",s.strength,e),this.set2f("blur",s.blurX,s.blurY,e),this.setBoolean("isTiltShift",s.isTiltShift,e),n&&h&&this.set2f("resolution",n,h,e)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=r},89428:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(91899),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(s,e,n,h){s=this.getController(s),this.set1f("scale",s.scale,e),this.set1f("feather",s.feather,e),this.set1f("thickness",s.thickness,e),this.set3fv("color",s.glcolor,e),this.set4fv("backgroundColor",s.glcolor2,e),n&&h&&this.set2f("resolution",n,h,e)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=r},88904:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(84057),a=new l({Extends:v,initialize:function(s){v.call(this,{game:s})},onDraw:function(r){var s=this.fullFrame1;this.controller?this.manager.drawFrame(r,s,!0,this.controller):this.drawFrame(r,s),this.copyToGame(s)}});p.exports=a},63563:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(47838),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(s){var e=this.game.textures.getFrame(s);e&&(this.glTexture=e.glTexture)},onDraw:function(s){var e=this.getController(),n=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(s,n),this.copyToGame(n)}});p.exports=r},94045:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95540),a=t(98656),r=t(84057),s=t(70554),e=new l({Extends:r,initialize:function(h,i){var o=v(i,"quality",.1),f=v(i,"distance",10);r.call(this,{game:h,fragShader:s.setGlowQuality(a,h,o,f)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(n,h,i,o){n=this.getController(n),this.set1f("outerStrength",n.outerStrength,h),this.set1f("innerStrength",n.innerStrength,h),this.set4fv("glowColor",n.glcolor,h),this.setBoolean("knockout",n.knockout,h),i&&o&&this.set2f("resolution",i,o,h)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=e},74088:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(70463),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(s,e){s=this.getController(s),this.set1f("alpha",s.alpha,e),this.set1i("size",s.size,e),this.set3fv("color1",s.glcolor1,e),this.set3fv("color2",s.glcolor2,e),this.set2f("positionFrom",s.fromX,s.fromY,e),this.set2f("positionTo",s.toX,s.toY,e)}});p.exports=r},99636:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(50831),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.amount=1},onPreRender:function(s,e,n,h){s=this.getController(s),this.set1f("amount",s.amount,e),n&&h&&this.set2f("resolution",n,h,e)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=r},34700:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(92595),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(s,e){s=this.getController(s);var n=s.samples;this.set1i("samples",n,e),this.set1f("intensity",s.intensity,e),this.set1f("decay",s.decay,e),this.set1f("power",s.power/n,e),this.set2f("lightPosition",s.x,s.y,e),this.set4fv("color",s.glcolor,e)}});p.exports=r},91157:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72464),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(s,e,n,h){s=this.getController(s),this.setTime("time",e),this.set1f("speed",s.speed,e),this.set1f("lineWidth",s.lineWidth,e),this.set1f("gradient",s.gradient,e),this.setBoolean("reveal",s.reveal,e),n&&h&&this.set2f("resolution",n,h,e)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=r},27797:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(39249),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(s,e){s=this.getController(s),this.set1f("radius",s.radius,e),this.set1f("strength",s.strength,e),this.set2f("position",s.x,s.y,e)}});p.exports=r},67603:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(2878),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(s,e){s=this.getController(s);var n=s.progress,h=s.wipeWidth,i=s.direction,o=s.axis;this.set4f("config",n,h,i,o,e),this.setBoolean("reveal",s.reveal,e)}});p.exports=r},58918:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};p.exports=l},96615:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36060),v=t(79291),a={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};a=v(!1,a,l),p.exports=a},35407:p=>{p.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:p=>{p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:p=>{p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:p=>{p.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:p=>{p.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:p=>{p.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:p=>{p.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:p=>{p.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:p=>{p.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:p=>{p.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:p=>{p.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:p=>{p.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:p=>{p.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:p=>{p.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:p=>{p.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:p=>{p.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:p=>{p.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:p=>{p.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:p=>{p.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:p=>{p.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:p=>{p.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:p=>{p.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:p=>{p.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:p=>{p.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:p=>{p.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:p=>{p.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:p=>{p.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:p=>{p.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:p=>{p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:p=>{p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:p=>{p.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:p=>{p.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:p=>{p.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:p=>{p.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(p,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,s,e){this.webGLAttribLocation=-1,this.gl=r,this.program=s,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var a=this.gl;a.isContextLost()||(this.webGLAttribLocation=a.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});p.exports=v},26128:(p,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,s,e,n){this.webGLBuffer=null,this.gl=r,this.initialDataOrSize=s,this.bufferType=e,this.bufferUsage=n,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var a=this.gl;if(!a.isContextLost()){var r=this.bufferType,s=a.createBuffer();this.webGLBuffer=s,a.bindBuffer(r,this.webGLBuffer),a.bufferData(r,this.initialDataOrSize,this.bufferUsage),a.bindBuffer(r,null)}}},destroy:function(){var a=this.gl;a.isContextLost()||a.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});p.exports=v},84387:(p,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},a=new l({initialize:function(s,e,n,h,i){this.webGLFramebuffer=null,this.gl=s,this.width=e,this.height=n,this.renderTexture=h,this.addDepthStencilBuffer=!!i,this.createResource()},createResource:function(){var r=this.gl;if(!r.isContextLost()){var s=this.renderTexture,e=0,n=r.createFramebuffer();if(this.webGLFramebuffer=n,r.bindFramebuffer(r.FRAMEBUFFER,n),s.isRenderTexture=!0,s.isAlphaPremultiplied=!1,r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,s.webGLTexture,0),e=r.checkFramebufferStatus(r.FRAMEBUFFER),e!==r.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(v[e]||e));if(this.addDepthStencilBuffer){var h=r.createRenderbuffer();r.bindRenderbuffer(r.RENDERBUFFER,h),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,this.width,this.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,h)}r.bindFramebuffer(r.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var r=this.gl;if(!r.isContextLost()){r.bindFramebuffer(r.FRAMEBUFFER,this.webGLFramebuffer);var s=r.getFramebufferAttachmentParameter(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);s!==null&&(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,null,0),r.deleteTexture(s));var e=r.getFramebufferAttachmentParameter(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);e!==null&&r.deleteRenderbuffer(e),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});p.exports=a},1482:(p,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,s,e){this.webGLProgram=null,this.gl=r,this.vertexSource=s,this.fragmentSource=e,this.createResource()},createResource:function(){var a=this.gl;if(!a.isContextLost()){var r=a.createProgram(),s=a.createShader(a.VERTEX_SHADER),e=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(s,this.vertexSource),a.shaderSource(e,this.fragmentSource),a.compileShader(s),a.compileShader(e);var n=`Shader failed:
`;if(!a.getShaderParameter(s,a.COMPILE_STATUS))throw new Error("Vertex "+n+a.getShaderInfoLog(s));if(!a.getShaderParameter(e,a.COMPILE_STATUS))throw new Error("Fragment "+n+a.getShaderInfoLog(e));if(a.attachShader(r,s),a.attachShader(r,e),a.linkProgram(r),!a.getProgramParameter(r,a.LINK_STATUS))throw new Error("Link "+n+a.getProgramInfoLog(r));a.useProgram(r),this.webGLProgram=r}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});p.exports=v},82751:(p,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(50030),a=new l({initialize:function(s,e,n,h,i,o,f,u,d,c,m,x,g){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=s,this.mipLevel=e,this.minFilter=n,this.magFilter=h,this.wrapT=i,this.wrapS=o,this.format=f,this.pixels=u,this.width=d,this.height=c,this.pma=m??!0,this.forceSize=!!x,this.flipY=!!g,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var r=this.gl;if(!r.isContextLost()){if(this.pixels instanceof a){this.webGLTexture=this.pixels.webGLTexture;return}var s=r.createTexture();s.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=s,this._processTexture()}},update:function(r,s,e,n,h,i,o,f,u){if(!(s===0||e===0)){this.pixels=r,this.width=s,this.height=e,this.flipY=n,this.wrapS=h,this.wrapT=i,this.minFilter=o,this.magFilter=f,this.format=u;var d=this.gl;d.isContextLost()||this._processTexture()}},_processTexture:function(){var r=this.gl;r.activeTexture(r.TEXTURE0);var s=r.getParameter(r.TEXTURE_BINDING_2D);r.bindTexture(r.TEXTURE_2D,this.webGLTexture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.minFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.magFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this.wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this.wrapT),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,this.flipY);var e=this.pixels,n=this.mipLevel,h=this.width,i=this.height,o=this.format,f=!1;if(e==null)r.texImage2D(r.TEXTURE_2D,n,o,h,i,0,o,r.UNSIGNED_BYTE,null),f=v(h,i);else if(e.compressed){h=e.width,i=e.height,f=e.generateMipmap;for(var u=0;u<e.mipmaps.length;u++)r.compressedTexImage2D(r.TEXTURE_2D,u,e.internalFormat,e.mipmaps[u].width,e.mipmaps[u].height,0,e.mipmaps[u].data)}else e instanceof Uint8Array?(r.texImage2D(r.TEXTURE_2D,n,o,h,i,0,o,r.UNSIGNED_BYTE,e),f=v(h,i)):(this.forceSize||(h=e.width,i=e.height),r.texImage2D(r.TEXTURE_2D,n,o,o,r.UNSIGNED_BYTE,e),f=v(h,i));f&&r.generateMipmap(r.TEXTURE_2D),s?r.bindTexture(r.TEXTURE_2D,s):r.bindTexture(r.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(r){this.__SPECTOR_Metadata=r,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=r)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof a||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});p.exports=a},57183:(p,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,s,e){this.webGLUniformLocation=null,this.gl=r,this.program=s,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var a=this.gl;a.isContextLost()||(this.webGLUniformLocation=a.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});p.exports=v},9503:(p,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};p.exports=l},76531:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13560),v=t(83419),a=t(50792),r=t(97480),s=t(8443),e=t(57811),n=t(74403),h=t(45818),i=t(29747),o=t(87841),f=t(86555),u=t(56583),d=t(26099),c=t(38058),m=new v({Extends:a,initialize:function(g){a.call(this),this.game=g,this.canvas,this.canvasBounds=new o,this.parent=null,this.parentIsWindow=!1,this.parentSize=new f,this.gameSize=new f,this.baseSize=new f,this.displaySize=new f,this.scaleMode=l.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new d(1,1),this.autoRound=!1,this.autoCenter=l.CENTER.NO_CENTER,this.orientation=l.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:i,windowResize:i,fullScreenChange:i,fullScreenError:i}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(s.BOOT,this.boot,this)},boot:function(){var x=this.game;this.canvas=x.canvas,this.fullscreen=x.device.fullscreen,this.scaleMode!==l.SCALE_MODE.RESIZE&&this.scaleMode!==l.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===l.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),x.events.on(s.PRE_STEP,this.step,this),x.events.once(s.READY,this.refresh,this),x.events.once(s.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(x){this.getParent(x),this.getParentBounds();var g=x.width,T=x.height,S=x.scaleMode,E=x.zoom,P=x.autoRound;if(typeof g=="string")if(g.substr(-1)!=="%")g=parseInt(g,10);else{var F=this.parentSize.width;F===0&&(F=window.innerWidth);var R=parseInt(g,10)/100;g=Math.floor(F*R)}if(typeof T=="string")if(T.substr(-1)!=="%")T=parseInt(T,10);else{var M=this.parentSize.height;M===0&&(M=window.innerHeight);var O=parseInt(T,10)/100;T=Math.floor(M*O)}this.scaleMode=S,this.autoRound=P,this.autoCenter=x.autoCenter,this.resizeInterval=x.resizeInterval,P&&(g=Math.floor(g),T=Math.floor(T)),this.gameSize.setSize(g,T),E===l.ZOOM.MAX_ZOOM&&(E=this.getMaxZoom()),this.zoom=E,E!==1&&(this._resetZoom=!0),this.baseSize.setSize(g,T),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),x.minWidth>0&&this.displaySize.setMin(x.minWidth*E,x.minHeight*E),x.maxWidth>0&&this.displaySize.setMax(x.maxWidth*E,x.maxHeight*E),this.displaySize.setSize(g,T),(x.snapWidth>0||x.snapHeight>0)&&this.displaySize.setSnap(x.snapWidth,x.snapHeight),this.orientation=h(g,T)},getParent:function(x){var g=x.parent;if(g!==null){if(this.parent=n(g),this.parentIsWindow=this.parent===document.body,x.expandParent&&x.scaleMode!==l.SCALE_MODE.NONE){var T=this.parent.getBoundingClientRect();(this.parentIsWindow||T.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",T=this.parent.getBoundingClientRect(),!this.parentIsWindow&&T.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}x.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=n(x.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var x=this.parentSize,g=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(g.height=e(!0));var T=g.width,S=g.height;if(x.width!==T||x.height!==S)return x.setSize(T,S),!0;if(this.canvas){var E=this.canvasBounds,P=this.canvas.getBoundingClientRect();if(P.x!==E.x||P.y!==E.y)return!0}return!1},lockOrientation:function(x){var g=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return g?g.call(screen,x):!1},setParentSize:function(x,g){return this.parentSize.setSize(x,g),this.refresh()},setGameSize:function(x,g){var T=this.autoRound;T&&(x=Math.floor(x),g=Math.floor(g));var S=this.width,E=this.height;return this.gameSize.resize(x,g),this.baseSize.resize(x,g),T&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(x/g),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(S,E)},resize:function(x,g){var T=this.zoom,S=this.autoRound;S&&(x=Math.floor(x),g=Math.floor(g));var E=this.width,P=this.height;this.gameSize.resize(x,g),this.baseSize.resize(x,g),S&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(x*T,g*T),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var F=this.canvas.style,R=x*T,M=g*T;return S&&(R=Math.floor(R),M=Math.floor(M)),(R!==x||M!==g)&&(F.width=R+"px",F.height=M+"px"),this.refresh(E,P)},setZoom:function(x){return this.zoom=x,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(x,g){return x===void 0&&(x=0),g===void 0&&(g=x),this.displaySize.setSnap(x,g),this.refresh()},refresh:function(x,g){x===void 0&&(x=this.width),g===void 0&&(g=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var T=this.game.domContainer;if(T){this.baseSize.setCSS(T);var S=this.canvas.style,E=T.style;E.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",E.marginLeft=S.marginLeft,E.marginTop=S.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,x,g),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var x=h(this.width,this.height);x!==this.orientation&&(this.orientation=x,this.emit(r.ORIENTATION_CHANGE,x))}},updateScale:function(){var x=this.canvas.style,g=this.gameSize.width,T=this.gameSize.height,S,E,P=this.zoom,F=this.autoRound;if(this.scaleMode===l.SCALE_MODE.NONE)this.displaySize.setSize(g*P,T*P),S=this.displaySize.width,E=this.displaySize.height,F&&(S=Math.floor(S),E=Math.floor(E)),this._resetZoom&&(x.width=S+"px",x.height=E+"px",this._resetZoom=!1);else if(this.scaleMode===l.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),S=this.displaySize.width,E=this.displaySize.height,F&&(S=Math.floor(S),E=Math.floor(E)),this.canvas.width=S,this.canvas.height=E;else if(this.scaleMode===l.SCALE_MODE.EXPAND){this.displaySize.setSize(this.parentSize.width,this.parentSize.height),S=this.displaySize.width,E=this.displaySize.height,F&&(S=Math.floor(S),E=Math.floor(E)),x.width=S+"px",x.height=E+"px";var R=this.parentSize.width/this.gameSize.width,M=this.parentSize.height/this.gameSize.height;R<M?this.baseSize.setSize(this.gameSize.width,this.parentSize.height/R):this.baseSize.setSize(this.displaySize.width/M,this.gameSize.height),S=this.baseSize.width,E=this.baseSize.height,F&&(S=Math.floor(S),E=Math.floor(E)),this.canvas.width=S,this.canvas.height=E}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),S=this.displaySize.width,E=this.displaySize.height,F&&(S=Math.floor(S),E=Math.floor(E)),x.width=S+"px",x.height=E+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var x=u(this.parentSize.width,this.gameSize.width,0,!0),g=u(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(x,g),1)},updateCenter:function(){var x=this.autoCenter;if(x!==l.CENTER.NO_CENTER){var g=this.canvas,T=g.style,S=g.getBoundingClientRect(),E=S.width,P=S.height,F=Math.floor((this.parentSize.width-E)/2),R=Math.floor((this.parentSize.height-P)/2);x===l.CENTER.CENTER_HORIZONTALLY?R=0:x===l.CENTER.CENTER_VERTICALLY&&(F=0),T.marginLeft=F+"px",T.marginTop=R+"px"}},updateBounds:function(){var x=this.canvasBounds,g=this.canvas.getBoundingClientRect();x.x=g.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),x.y=g.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),x.width=g.width,x.height=g.height},transformX:function(x){return(x-this.canvasBounds.left)*this.displayScale.x},transformY:function(x){return(x-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(x){x===void 0&&(x={navigationUI:"hide"});var g=this.fullscreen;if(!g.available){this.emit(r.FULLSCREEN_UNSUPPORTED);return}if(!g.active){var T=this.getFullscreenTarget();g.keyboard?T[g.request](Element.ALLOW_KEYBOARD_INPUT):T[g.request](x)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(x){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,x)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var x=document.createElement("div");x.style.margin="0",x.style.padding="0",x.style.width="100%",x.style.height="100%",this.fullscreenTarget=x,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var g=this.canvas.parentNode;g.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var x=this.fullscreenTarget;if(x&&x.parentNode){var g=x.parentNode;g.insertBefore(this.canvas,x),g.removeChild(x)}}},stopFullscreen:function(){var x=this.fullscreen;if(!x.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;x.active&&document[x.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(x){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(x)},startListeners:function(){var x=this,g=this.domlisteners;if(g.orientationChange=function(){x.updateBounds(),x._checkOrientation=!0,x.dirty=!0,x.refresh()},g.windowResize=function(){x.updateBounds(),x.dirty=!0},window.addEventListener("orientationchange",g.orientationChange,!1),window.addEventListener("resize",g.windowResize,!1),this.fullscreen.available){g.fullScreenChange=function(S){return x.onFullScreenChange(S)},g.fullScreenError=function(S){return x.onFullScreenError(S)};var T=["webkit","moz",""];T.forEach(function(S){document.addEventListener(S+"fullscreenchange",g.fullScreenChange,!1),document.addEventListener(S+"fullscreenerror",g.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",g.fullScreenChange,!1),document.addEventListener("MSFullscreenError",g.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(x,g){x instanceof c||(g=x,x=void 0),g===void 0&&(g=new o);var T=this.baseSize,S=this.parentSize,E=this.canvasBounds,P=this.displayScale,F=E.x>=0?0:-(E.x*P.x),R=E.y>=0?0:-(E.y*P.y),M;S.width>=E.width?M=T.width:M=T.width-(E.width-S.width)*P.x;var O;return S.height>=E.height?O=T.height:O=T.height-(E.height-S.height)*P.y,g.setTo(F,R,M,O),x&&(g.width/=x.zoomX,g.height/=x.zoomY,g.centerX=x.centerX+x.scrollX,g.centerY=x.centerY+x.scrollY),g},step:function(x,g){this.parent&&(this._lastCheck+=g,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var x=this.domlisteners;window.removeEventListener("orientationchange",x.orientationChange,!1),window.removeEventListener("resize",x.windowResize,!1);var g=["webkit","moz",""];g.forEach(function(T){document.removeEventListener(T+"fullscreenchange",x.fullScreenChange,!1),document.removeEventListener(T+"fullscreenerror",x.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",x.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",x.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===l.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===l.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});p.exports=m},64743:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},81050:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};p.exports=l},56139:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="enterfullscreen"},2336:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenfailed"},47412:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenunsupported"},51452:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="leavefullscreen"},20666:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="orientationchange"},47945:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},97480:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79291),v=t(13560),a={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};a=l(!1,a,v.CENTER),a=l(!1,a,v.ORIENTATION),a=l(!1,a,v.SCALE_MODE),a=l(!1,a,v.ZOOM),p.exports=a},27397:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),v=t(35355),a=function(r){var s=r.game.config.defaultPhysicsSystem,e=l(r.settings,"physics",!1);if(!(!s&&!e)){var n=[];if(s&&n.push(v(s+"Physics")),e)for(var h in e)h=v(h.concat("Physics")),n.indexOf(h)===-1&&n.push(h);return n}};p.exports=a},52106:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),v=function(a){var r=a.plugins.getDefaultScenePlugins(),s=l(a.settings,"plugins",!1);return Array.isArray(s)?s:r||[]};p.exports=v},87033:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};p.exports=y},97482:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(2368),a=new l({initialize:function(s){this.sys=new v(this,s),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});p.exports=a},60903:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(89993),a=t(44594),r=t(8443),s=t(35154),e=t(54899),n=t(29747),h=t(97482),i=t(2368),o=new l({initialize:function(u,d){if(this.game=u,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,d){Array.isArray(d)||(d=[d]);for(var c=0;c<d.length;c++)this._pending.push({key:"default",scene:d[c],autoStart:c===0,data:{}})}u.events.once(r.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new h),this.game.events.emit(r.SYSTEM_READY,this.systemScene,this);var f,u,d,c;for(f=0;f<this._pending.length;f++){u=this._pending[f],d=u.key,c=u.scene;var m;c instanceof h?m=this.createSceneFromInstance(d,c):typeof c=="object"?m=this.createSceneFromObject(d,c):typeof c=="function"&&(m=this.createSceneFromFunction(d,c)),d=m.sys.settings.key,this.keys[d]=m,this.scenes.push(m),this._data[d]&&(m.sys.settings.data=this._data[d].data,this._data[d].autoStart&&(u.autoStart=!0)),(u.autoStart||m.sys.settings.active)&&this._start.push(d)}for(this._pending.length=0,this._data={},this.isBooted=!0,f=0;f<this._start.length;f++)u=this._start[f],this.start(u);this._start.length=0}},processQueue:function(){var f=this._pending.length,u=this._queue.length;if(!(f===0&&u===0)){var d,c;if(f){for(d=0;d<f;d++)c=this._pending[d],this.add(c.key,c.scene,c.autoStart,c.data);for(d=0;d<this._start.length;d++)c=this._start[d],this.start(c);this._start.length=0,this._pending.length=0}for(d=0;d<this._queue.length;d++)c=this._queue[d],this[c.op](c.keyA,c.keyB);this._queue.length=0}},add:function(f,u,d,c){if(d===void 0&&(d=!1),c===void 0&&(c={}),this.isProcessing||!this.isBooted)return this._pending.push({key:f,scene:u,autoStart:d,data:c}),this.isBooted||(this._data[f]={data:c}),null;f=this.getKey(f,u);var m;return u instanceof h?m=this.createSceneFromInstance(f,u):typeof u=="object"?(u.key=f,m=this.createSceneFromObject(f,u)):typeof u=="function"&&(m=this.createSceneFromFunction(f,u)),m.sys.settings.data=c,f=m.sys.settings.key,this.keys[f]=m,this.scenes.push(m),(d||m.sys.settings.active)&&(this._pending.length?this._start.push(f):this.start(f)),m},remove:function(f){if(this.isProcessing)this._queue.push({op:"remove",keyA:f,keyB:null});else{var u=this.getScene(f);if(!u||u.sys.isTransitioning())return this;var d=this.scenes.indexOf(u),c=u.sys.settings.key;d>-1&&(delete this.keys[c],this.scenes.splice(d,1),this._start.indexOf(c)>-1&&(d=this._start.indexOf(c),this._start.splice(d,1)),u.sys.destroy())}return this},bootScene:function(f){var u=f.sys,d=u.settings;u.sceneUpdate=n,f.init&&(f.init.call(f,d.data),d.status=v.INIT,d.isTransition&&u.events.emit(a.TRANSITION_INIT,d.transitionFrom,d.transitionDuration));var c;u.load&&(c=u.load,c.reset()),c&&f.preload?(f.preload.call(f),d.status=v.LOADING,c.once(e.COMPLETE,this.loadComplete,this),c.start()):this.create(f)},loadComplete:function(f){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(f.scene)},payloadComplete:function(f){this.bootScene(f.scene)},update:function(f,u){this.processQueue(),this.isProcessing=!0;for(var d=this.scenes.length-1;d>=0;d--){var c=this.scenes[d].sys;c.settings.status>v.START&&c.settings.status<=v.RUNNING&&c.step(f,u),c.scenePlugin&&c.scenePlugin._target&&c.scenePlugin.step(f,u)}},render:function(f){for(var u=0;u<this.scenes.length;u++){var d=this.scenes[u].sys;d.settings.visible&&d.settings.status>=v.LOADING&&d.settings.status<v.SLEEPING&&d.render(f)}this.isProcessing=!1},create:function(f){var u=f.sys,d=u.settings;f.create&&(d.status=v.CREATING,f.create.call(f,d.data),d.status===v.DESTROYED)||(d.isTransition&&u.events.emit(a.TRANSITION_START,d.transitionFrom,d.transitionDuration),f.update&&(u.sceneUpdate=f.update),d.status=v.RUNNING,u.events.emit(a.CREATE,f))},createSceneFromFunction:function(f,u){var d=new u;if(d instanceof h){var c=d.sys.settings.key;if(c!==""&&(f=c),this.keys.hasOwnProperty(f))throw new Error("Cannot add a Scene with duplicate key: "+f);return this.createSceneFromInstance(f,d)}else return d.sys=new i(d),d.sys.settings.key=f,d.sys.init(this.game),d},createSceneFromInstance:function(f,u){var d=u.sys.settings.key;return d===""&&(u.sys.settings.key=f),u.sys.init(this.game),u},createSceneFromObject:function(f,u){var d=new h(u),c=d.sys.settings.key;c!==""?f=c:d.sys.settings.key=f,d.sys.init(this.game);for(var m=["init","preload","create","update","render"],x=0;x<m.length;x++){var g=s(u,m[x],null);g&&(d[m[x]]=g)}if(u.hasOwnProperty("extend")){for(var T in u.extend)if(u.extend.hasOwnProperty(T)){var S=u.extend[T];T==="data"&&d.hasOwnProperty("data")&&typeof S=="object"?d.data.merge(S):T!=="sys"&&(d[T]=S)}}return d},getKey:function(f,u){if(f||(f="default"),typeof u=="function")return f;if(u instanceof h?f=u.sys.settings.key:typeof u=="object"&&u.hasOwnProperty("key")&&(f=u.key),this.keys.hasOwnProperty(f))throw new Error("Cannot add a Scene with duplicate key: "+f);return f},getScenes:function(f,u){f===void 0&&(f=!0),u===void 0&&(u=!1);for(var d=[],c=this.scenes,m=0;m<c.length;m++){var x=c[m];x&&(!f||f&&x.sys.isActive())&&d.push(x)}return u?d.reverse():d},getScene:function(f){if(typeof f=="string"){if(this.keys[f])return this.keys[f]}else for(var u=0;u<this.scenes.length;u++)if(f===this.scenes[u])return f;return null},isActive:function(f){var u=this.getScene(f);return u?u.sys.isActive():null},isPaused:function(f){var u=this.getScene(f);return u?u.sys.isPaused():null},isVisible:function(f){var u=this.getScene(f);return u?u.sys.isVisible():null},isSleeping:function(f){var u=this.getScene(f);return u?u.sys.isSleeping():null},pause:function(f,u){var d=this.getScene(f);return d&&d.sys.pause(u),this},resume:function(f,u){var d=this.getScene(f);return d&&d.sys.resume(u),this},sleep:function(f,u){var d=this.getScene(f);return d&&!d.sys.isTransitioning()&&d.sys.sleep(u),this},wake:function(f,u){var d=this.getScene(f);return d&&d.sys.wake(u),this},run:function(f,u){var d=this.getScene(f);if(!d){for(var c=0;c<this._pending.length;c++)if(this._pending[c].key===f){this.queueOp("start",f,u);break}return this}d.sys.isSleeping()?d.sys.wake(u):d.sys.isPaused()?d.sys.resume(u):this.start(f,u)},start:function(f,u){if(!this.isBooted)return this._data[f]={autoStart:!0,data:u},this;var d=this.getScene(f);if(!d)return console.warn("Scene not found for key: "+f),this;var c=d.sys,m=c.settings.status;if(m>=v.START&&m<=v.CREATING)return this;if(m>=v.RUNNING&&m<=v.SLEEPING)c.shutdown(),c.sceneUpdate=n,c.start(u);else{c.sceneUpdate=n,c.start(u);var x;if(c.load&&(x=c.load),x&&c.settings.hasOwnProperty("pack")&&(x.reset(),x.addPack({payload:c.settings.pack})))return c.settings.status=v.LOADING,x.once(e.COMPLETE,this.payloadComplete,this),x.start(),this}return this.bootScene(d),this},stop:function(f,u){var d=this.getScene(f);if(d&&!d.sys.isTransitioning()&&d.sys.settings.status!==v.SHUTDOWN){var c=d.sys.load;c&&(c.off(e.COMPLETE,this.loadComplete,this),c.off(e.COMPLETE,this.payloadComplete,this)),d.sys.shutdown(u)}return this},switch:function(f,u){var d=this.getScene(f),c=this.getScene(u);return d&&c&&d!==c&&(this.sleep(f),this.isSleeping(u)?this.wake(u):this.start(u)),this},getAt:function(f){return this.scenes[f]},getIndex:function(f){var u=this.getScene(f);return this.scenes.indexOf(u)},bringToTop:function(f){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u!==-1&&u<this.scenes.length){var d=this.getScene(f);this.scenes.splice(u,1),this.scenes.push(d)}}return this},sendToBack:function(f){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u!==-1&&u>0){var d=this.getScene(f);this.scenes.splice(u,1),this.scenes.unshift(d)}}return this},moveDown:function(f){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u>0){var d=u-1,c=this.getScene(f),m=this.getAt(d);this.scenes[u]=m,this.scenes[d]=c}}return this},moveUp:function(f){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u<this.scenes.length-1){var d=u+1,c=this.getScene(f),m=this.getAt(d);this.scenes[u]=m,this.scenes[d]=c}}return this},moveAbove:function(f,u){if(f===u)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:f,keyB:u});else{var d=this.getIndex(f),c=this.getIndex(u);if(d!==-1&&c!==-1&&c<d){var m=this.getAt(c);this.scenes.splice(c,1),this.scenes.splice(d+(c>d),0,m)}}return this},moveBelow:function(f,u){if(f===u)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:f,keyB:u});else{var d=this.getIndex(f),c=this.getIndex(u);if(d!==-1&&c!==-1&&c>d){var m=this.getAt(c);this.scenes.splice(c,1),d===0?this.scenes.unshift(m):this.scenes.splice(d-(c<d),0,m)}}return this},queueOp:function(f,u,d){return this._queue.push({op:f,keyA:u,keyB:d}),this},swapPosition:function(f,u){if(f===u)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:f,keyB:u});else{var d=this.getIndex(f),c=this.getIndex(u);if(d!==c&&d!==-1&&c!==-1){var m=this.getAt(d);this.scenes[d]=this.scenes[c],this.scenes[c]=m}}return this},dump:function(){for(var f=[],u=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],d=0;d<this.scenes.length;d++){var c=this.scenes[d].sys,m=c.settings.visible&&(c.settings.status===v.RUNNING||c.settings.status===v.PAUSED)?"[*] ":"[-] ";m+=c.settings.key+" ("+u[c.settings.status]+")",f.push(m)}console.log(f.join(`
`))},destroy:function(){for(var f=0;f<this.scenes.length;f++){var u=this.scenes[f].sys;u.destroy()}this.systemScene.sys.destroy(),this.update=n,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});p.exports=o},52209:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=t(83419),a=t(44594),r=t(95540),s=t(37277),e=new v({initialize:function(h){this.scene=h,this.systems=h.sys,this.settings=h.sys.settings,this.key=h.sys.settings.key,this.manager=h.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,h.sys.events.once(a.BOOT,this.boot,this),h.sys.events.on(a.START,this.pluginStart,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},start:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",n,h),this},restart:function(n){var h=this.key;return this.manager.queueOp("stop",h),this.manager.queueOp("start",h,n),this},transition:function(n){n===void 0&&(n={});var h=r(n,"target",!1),i=this.manager.getScene(h);if(!h||!this.checkValidTransition(i))return!1;var o=r(n,"duration",1e3);this._elapsed=0,this._target=i,this._duration=o,this._willSleep=r(n,"sleep",!1),this._willRemove=r(n,"remove",!1);var f=r(n,"onUpdate",null);f&&(this._onUpdate=f,this._onUpdateScope=r(n,"onUpdateScope",this.scene));var u=r(n,"allowInput",!1);this.settings.transitionAllowInput=u;var d=i.sys.settings;d.isTransition=!0,d.transitionFrom=this.scene,d.transitionDuration=o,d.transitionAllowInput=u,r(n,"moveAbove",!1)?this.manager.moveAbove(this.key,h):r(n,"moveBelow",!1)&&this.manager.moveBelow(this.key,h),i.sys.isSleeping()?i.sys.wake(r(n,"data")):this.manager.start(h,r(n,"data"));var c=r(n,"onStart",null),m=r(n,"onStartScope",this.scene);return c&&c.call(m,this.scene,i,o),this.systems.events.emit(a.TRANSITION_OUT,i,o),!0},checkValidTransition:function(n){return!(!n||n.sys.isActive()||n.sys.isTransitioning()||n===this.scene||this.systems.isTransitioning())},step:function(n,h){this._elapsed+=h,this.transitionProgress=l(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var n=this._target.sys,h=this._target.sys.settings;n.events.emit(a.TRANSITION_COMPLETE,this.scene),h.isTransition=!1,h.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(n,h,i,o){return this.manager.add(n,h,i,o)},launch:function(n,h){return n&&n!==this.key&&this.manager.queueOp("start",n,h),this},run:function(n,h){return n&&n!==this.key&&this.manager.queueOp("run",n,h),this},pause:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("pause",n,h),this},resume:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("resume",n,h),this},sleep:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("sleep",n,h),this},wake:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("wake",n,h),this},switch:function(n){return n!==this.key&&this.manager.queueOp("switch",this.key,n),this},stop:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("stop",n,h),this},setActive:function(n,h,i){h===void 0&&(h=this.key);var o=this.manager.getScene(h);return o&&o.sys.setActive(n,i),this},setVisible:function(n,h){h===void 0&&(h=this.key);var i=this.manager.getScene(h);return i&&i.sys.setVisible(n),this},isSleeping:function(n){return n===void 0&&(n=this.key),this.manager.isSleeping(n)},isActive:function(n){return n===void 0&&(n=this.key),this.manager.isActive(n)},isPaused:function(n){return n===void 0&&(n=this.key),this.manager.isPaused(n)},isVisible:function(n){return n===void 0&&(n=this.key),this.manager.isVisible(n)},swapPosition:function(n,h){return h===void 0&&(h=this.key),n!==h&&this.manager.swapPosition(n,h),this},moveAbove:function(n,h){return h===void 0&&(h=this.key),n!==h&&this.manager.moveAbove(n,h),this},moveBelow:function(n,h){return h===void 0&&(h=this.key),n!==h&&this.manager.moveBelow(n,h),this},remove:function(n){return n===void 0&&(n=this.key),this.manager.remove(n),this},moveUp:function(n){return n===void 0&&(n=this.key),this.manager.moveUp(n),this},moveDown:function(n){return n===void 0&&(n=this.key),this.manager.moveDown(n),this},bringToTop:function(n){return n===void 0&&(n=this.key),this.manager.bringToTop(n),this},sendToBack:function(n){return n===void 0&&(n=this.key),this.manager.sendToBack(n),this},get:function(n){return this.manager.getScene(n)},getStatus:function(n){var h=this.manager.getScene(n);if(h)return h.sys.getStatus()},getIndex:function(n){return n===void 0&&(n=this.key),this.manager.getIndex(n)},shutdown:function(){var n=this.systems.events;n.off(a.SHUTDOWN,this.shutdown,this),n.off(a.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});s.register("ScenePlugin",e,"scenePlugin"),p.exports=e},55681:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(89993),v=t(35154),a=t(46975),r=t(87033),s={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:l.PENDING,key:v(e,"key",""),active:v(e,"active",!1),visible:v(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:v(e,"pack",!1),cameras:v(e,"cameras",null),map:v(e,"map",a(r,v(e,"mapAdd",{}))),physics:v(e,"physics",{}),loader:v(e,"loader",{}),plugins:v(e,"plugins",!1),input:v(e,"input",{})}}};p.exports=s},2368:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(89993),a=t(42363),r=t(44594),s=t(27397),e=t(52106),n=t(29747),h=t(55681),i=new l({initialize:function(f,u){this.scene=f,this.game,this.renderer,this.config=u,this.settings=h.create(u),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=n},init:function(o){this.settings.status=v.INIT,this.sceneUpdate=n,this.game=o,this.renderer=o.renderer,this.canvas=o.canvas,this.context=o.context;var f=o.plugins;this.plugins=f,f.addToScene(this,a.Global,[a.CoreScene,e(this),s(this)]),this.events.emit(r.BOOT,this),this.settings.isBooted=!0},step:function(o,f){var u=this.events;u.emit(r.PRE_UPDATE,o,f),u.emit(r.UPDATE,o,f),this.sceneUpdate.call(this.scene,o,f),u.emit(r.POST_UPDATE,o,f)},render:function(o){var f=this.displayList;f.depthSort(),this.events.emit(r.PRE_RENDER,o),this.cameras.render(o,f),this.events.emit(r.RENDER,o)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(o){var f=this.settings,u=this.getStatus();return u!==v.CREATING&&u!==v.RUNNING?console.warn("Cannot pause non-running Scene",f.key):this.settings.active&&(f.status=v.PAUSED,f.active=!1,this.events.emit(r.PAUSE,this,o)),this},resume:function(o){var f=this.events,u=this.settings;return this.settings.active||(u.status=v.RUNNING,u.active=!0,f.emit(r.RESUME,this,o)),this},sleep:function(o){var f=this.settings,u=this.getStatus();return u!==v.CREATING&&u!==v.RUNNING?console.warn("Cannot sleep non-running Scene",f.key):(f.status=v.SLEEPING,f.active=!1,f.visible=!1,this.events.emit(r.SLEEP,this,o)),this},wake:function(o){var f=this.events,u=this.settings;return u.status=v.RUNNING,u.active=!0,u.visible=!0,f.emit(r.WAKE,this,o),u.isTransition&&f.emit(r.TRANSITION_WAKE,u.transitionFrom,u.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var o=this.settings.status;return o>v.PENDING&&o<=v.RUNNING},isSleeping:function(){return this.settings.status===v.SLEEPING},isActive:function(){return this.settings.status===v.RUNNING},isPaused:function(){return this.settings.status===v.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(o){return this.settings.visible=o,this},setActive:function(o,f){return o?this.resume(f):this.pause(f)},start:function(o){var f=this.events,u=this.settings;o&&(u.data=o),u.status=v.START,u.active=!0,u.visible=!0,f.emit(r.START,this),f.emit(r.READY,this,o)},shutdown:function(o){var f=this.events,u=this.settings;f.off(r.TRANSITION_INIT),f.off(r.TRANSITION_START),f.off(r.TRANSITION_COMPLETE),f.off(r.TRANSITION_OUT),u.status=v.SHUTDOWN,u.active=!1,u.visible=!1,f.emit(r.SHUTDOWN,this,o)},destroy:function(){var o=this.events,f=this.settings;f.status=v.DESTROYED,f.active=!1,f.visible=!1,o.emit(r.DESTROY,this),o.removeAllListeners();for(var u=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],d=0;d<u.length;d++)this[u[d]]=null}});p.exports=i},89993:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};p.exports=y},69830:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},7919:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},46763:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="create"},11763:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},71555:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},36735:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postupdate"},3809:p=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},90716:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},58262:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},91633:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},10319:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},87132:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},81961:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},90194:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleep"},6265:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},33178:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioncomplete"},43063:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioninit"},11259:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionout"},61611:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionstart"},45209:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionwake"},22966:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},21747:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wake"},44594:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(89993),v=t(79291),a={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};a=v(!1,a,l),p.exports=a},30341:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(50792),a=t(14463),r=t(79291),s=t(29747),e=new l({Extends:v,initialize:function(h,i,o){v.call(this),this.manager=h,this.key=i,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=r(this.config,o),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(console.error("addMarker "+n.name+" already exists in Sound"),!1):(n=r(!0,{name:"",start:0,duration:this.totalDuration-(n.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},n),this.markers[n.name]=n,!0)},updateMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(this.markers[n.name]=r(!0,this.markers[n.name],n),!0):(console.warn("Audio Marker: "+n.name+" missing in Sound: "+this.key),!1)},removeMarker:function(n){var h=this.markers[n];return h?(this.markers[n]=null,h):null},play:function(n,h){if(n===void 0&&(n=""),typeof n=="object"&&(h=n,n=""),typeof n!="string")return!1;if(!n)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[n])return console.warn("Marker: "+n+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[n],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=r(this.currentConfig,h),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:s,calculateRate:function(){var n=1.0005777895065548,h=this.currentConfig.detune+this.manager.detune,i=Math.pow(n,h);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){this.pendingRemove||(this.stop(),this.emit(a.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});p.exports=e},85034:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(41786),a=t(50792),r=t(14463),s=t(8443),e=t(46710),n=t(58731),h=t(29747),i=t(26099),o=new l({Extends:a,initialize:function(u){a.call(this),this.game=u,this.jsonCache=u.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new i,u.events.on(s.BLUR,this.onGameBlur,this),u.events.on(s.FOCUS,this.onGameFocus,this),u.events.on(s.PRE_STEP,this.update,this),u.events.once(s.DESTROY,this.destroy,this)},add:h,addAudioSprite:function(f,u){u===void 0&&(u={});var d=this.add(f,u);d.spritemap=this.jsonCache.get(f).spritemap;for(var c in d.spritemap)if(d.spritemap.hasOwnProperty(c)){var m=v(u),x=d.spritemap[c];m.loop=x.hasOwnProperty("loop")?x.loop:!1,d.addMarker({name:c,start:x.start,duration:x.end-x.start,config:m})}return d},get:function(f){return n(this.sounds,"key",f)},getAll:function(f){return f?e(this.sounds,"key",f):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(f,u){var d=this.add(f);return d.once(r.COMPLETE,d.destroy,d),u?u.name?(d.addMarker(u),d.play(u.name)):d.play(u):d.play()},playAudioSprite:function(f,u,d){var c=this.addAudioSprite(f);return c.once(r.COMPLETE,c.destroy,c),c.play(u,d)},remove:function(f){var u=this.sounds.indexOf(f);return u!==-1?(f.destroy(),this.sounds.splice(u,1),!0):!1},removeAll:function(){this.sounds.forEach(function(f){f.destroy()}),this.sounds.length=0},removeByKey:function(f){for(var u=0,d=this.sounds.length-1;d>=0;d--){var c=this.sounds[d];c.key===f&&(c.destroy(),this.sounds.splice(d,1),u++)}return u},pauseAll:function(){this.forEachActiveSound(function(f){f.pause()}),this.emit(r.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(f){f.resume()}),this.emit(r.RESUME_ALL,this)},setListenerPosition:h,stopAll:function(){this.forEachActiveSound(function(f){f.stop()}),this.emit(r.STOP_ALL,this)},stopByKey:function(f){var u=0;return this.getAll(f).forEach(function(d){d.stop()&&u++}),u},unlock:h,onBlur:h,onFocus:h,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(f,u){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(r.UNLOCKED,this));for(var d=this.sounds.length-1;d>=0;d--)this.sounds[d].pendingRemove&&this.sounds.splice(d,1);this.sounds.forEach(function(c){c.update(f,u)})},destroy:function(){this.game.events.off(s.BLUR,this.onGameBlur,this),this.game.events.off(s.FOCUS,this.onGameFocus,this),this.game.events.off(s.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(f,u){var d=this;this.sounds.forEach(function(c,m){c&&!c.pendingRemove&&f.call(u||d,c,m,d.sounds)})},setRate:function(f){return this.rate=f,this},rate:{get:function(){return this._rate},set:function(f){this._rate=f,this.forEachActiveSound(function(u){u.calculateRate()}),this.emit(r.GLOBAL_RATE,this,f)}},setDetune:function(f){return this.detune=f,this},detune:{get:function(){return this._detune},set:function(f){this._detune=f,this.forEachActiveSound(function(u){u.calculateRate()}),this.emit(r.GLOBAL_DETUNE,this,f)}}});p.exports=o},14747:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33684),v=t(25960),a=t(57490),r={create:function(s){var e=s.config.audio,n=s.device.audio;return e.noAudio||!n.webAudio&&!n.audioData?new v(s):n.webAudio&&!e.disableWebAudio?new a(s):new l(s)}};p.exports=r},19723:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},98882:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decodedall"},57506:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decoded"},73146:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},11305:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},40577:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},30333:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},20394:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},21802:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},1299:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="looped"},99190:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},97125:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},89259:p=>{/**
 * @author       pi-kei
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pan"},79986:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},17586:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},19618:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},42306:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},10387:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},48959:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},9960:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seek"},19180:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stopall"},98328:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},50401:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},52498:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},14463:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30341),v=t(83419),a=t(14463),r=t(45319),s=new v({Extends:l,initialize:function(n,h,i){if(i===void 0&&(i={}),this.tags=n.game.cache.audio.get(h),!this.tags)throw new Error('No cached audio asset with key "'+h);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,l.call(this,n,h,i)},play:function(e,n){return this.manager.isLocked(this,"play",[e,n])||!l.prototype.play.call(this,e,n)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!l.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!l.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!l.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(a.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,n=this.currentConfig.delay,h=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=h,this.audio.currentTime=h,this.applyConfig(),n===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+n*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var n=this.tags[e];if(n.dataset.used==="false")return n.dataset.used="true",this.audio=n,!0}if(!this.manager.override)return!1;var h=[];this.manager.forEachActiveSound(function(o){o.key===this.key&&o.audio&&h.push(o)},this),h.sort(function(o,f){return o.loop===f.loop?f.seek/f.duration-o.seek/o.duration:o.loop?1:-1});var i=h[0];return this.audio=i.audio,i.reset(),i.audio=null,i.startTime=0,i.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(n){console.warn(n)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){l.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var n=this.currentMarker?this.currentMarker.start:0,h=n+this.duration,i=this.audio.currentTime;if(this.currentConfig.loop)i>=h-this.manager.loopEndOffset?(this.audio.currentTime=n+Math.max(0,i-h),i=this.audio.currentTime):i<n&&(this.audio.currentTime+=n,i=this.audio.currentTime),i<this.previousTime&&this.emit(a.LOOPED,this);else if(i>=h){this.reset(),this.stopAndReleaseAudioTag(),this.emit(a.COMPLETE,this);return}this.previousTime=i}},destroy:function(){l.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=r(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){l.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(a.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(a.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,a.RATE,e)&&(this.calculateRate(),this.emit(a.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,a.DETUNE,e)&&(this.calculateRate(),this.emit(a.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(a.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});p.exports=s},33684:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85034),v=t(83419),a=t(14463),r=t(64895),s=new v({Extends:l,initialize:function(n){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,l.call(this,n)},add:function(e,n){var h=new r(this,e,n);return this.sounds.push(h),h},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(o,f){for(var u=0;u<f.length;u++)if(f[u].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var n=!1,h=function(){n=!0},i=function(){if(n){n=!1;return}document.body.removeEventListener("touchmove",h),document.body.removeEventListener("touchend",i);var o=[];if(e.game.cache.audio.entries.each(function(u,d){for(var c=0;c<d.length;c++){var m=d[c];m.dataset.locked==="true"&&o.push(m)}return!0}),o.length!==0){var f=o[o.length-1];f.oncanplaythrough=function(){f.oncanplaythrough=null,o.forEach(function(u){u.dataset.locked="false"}),e.unlocked=!0},o.forEach(function(u){u.load()})}};this.once(a.UNLOCKED,function(){for(this.forEachActiveSound(function(f){f.currentMarker===null&&f.duration===0&&(f.duration=f.tags[0].duration),f.totalDuration=f.tags[0].duration});this.lockedActionsQueue.length;){var o=this.lockedActionsQueue.shift();o.sound[o.prop].apply?o.sound[o.prop].apply(o.sound,o.value||[]):o.sound[o.prop]=o.value}},this),document.body.addEventListener("touchmove",h,!1),document.body.addEventListener("touchend",i,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){l.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,n,h){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:n,value:h}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(n){n.updateMute()}),this.emit(a.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(n){n.updateVolume()}),this.emit(a.GLOBAL_VOLUME,this,e)}}});p.exports=s},23717:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30341),v=t(83419),a=t(50792),r=t(79291),s=t(29747),e=function(){return!1},n=function(){return null},h=function(){return this},i=new v({Extends:a,initialize:function(f,u,d){d===void 0&&(d={}),a.call(this),this.manager=f,this.key=u,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},d),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:n,play:e,pause:e,resume:e,stop:e,setMute:h,setVolume:h,setRate:h,setDetune:h,setSeek:h,setLoop:h,setPan:h,applyConfig:n,resetConfig:n,update:s,calculateRate:n,destroy:function(){l.prototype.destroy.call(this)}});p.exports=i},25960:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85034),v=t(83419),a=t(50792),r=t(4603),s=t(29747),e=new v({Extends:a,initialize:function(h){a.call(this),this.game=h,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(n,h){var i=new r(this,n,h);return this.sounds.push(i),i},addAudioSprite:function(n,h){var i=this.add(n,h);return i.spritemap={},i},get:function(n){return l.prototype.get.call(this,n)},getAll:function(n){return l.prototype.getAll.call(this,n)},play:function(n,h){return!1},playAudioSprite:function(n,h,i){return!1},remove:function(n){return l.prototype.remove.call(this,n)},removeAll:function(){return l.prototype.removeAll.call(this)},removeByKey:function(n){return l.prototype.removeByKey.call(this,n)},stopByKey:function(n){return l.prototype.stopByKey.call(this,n)},onBlur:s,onFocus:s,onGameBlur:s,onGameFocus:s,pauseAll:s,resumeAll:s,stopAll:s,update:s,setRate:s,setDetune:s,setMute:s,setVolume:s,unlock:s,forEachActiveSound:function(n,h){l.prototype.forEachActiveSound.call(this,n,h)},destroy:function(){l.prototype.destroy.call(this)}});p.exports=e},71741:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30341),v=t(83419),a=t(14463),r=t(95540),s=new v({Extends:l,initialize:function(n,h,i){if(i===void 0&&(i={}),this.audioBuffer=n.game.cache.audio.get(h),!this.audioBuffer)throw new Error('Audio key "'+h+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=n.context.createGain(),this.volumeNode=n.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),n.context.createPanner&&(this.spatialNode=n.context.createPanner(),this.volumeNode.connect(this.spatialNode)),n.context.createStereoPanner?(this.pannerNode=n.context.createStereoPanner(),n.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(n.destination)):n.context.createPanner?this.spatialNode.connect(n.destination):this.volumeNode.connect(n.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,l.call(this,n,h,i)},play:function(e,n){return l.prototype.play.call(this,e,n)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(a.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!l.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!l.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(a.RESUME,this),!0)},stop:function(){return l.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(a.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,n=this.currentConfig.delay,h=this.manager.context.currentTime+n,i=(this.currentMarker?this.currentMarker.start:0)+e,o=this.duration-e;this.playTime=h-e,this.startTime=h,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,h),Math.max(0,i),Math.max(0,o)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),n=this.currentMarker?this.currentMarker.start:0,h=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,n),Math.max(0,h))},createBufferSource:function(){var e=this,n=this.manager.context.createBufferSource();return n.buffer=this.audioBuffer,n.connect(this.muteNode),n.onended=function(h){h.target===e.source&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},n},stopAndRemoveBufferSource:function(){if(this.source){var e=this.source;this.source=null,e.stop(),e.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var n=this.spatialNode;n.panningModel=r(e,"panningModel","equalpower"),n.distanceModel=r(e,"distanceModel","inverse"),n.orientationX.value=r(e,"orientationX",0),n.orientationY.value=r(e,"orientationY",0),n.orientationZ.value=r(e,"orientationZ",-1),n.refDistance=r(e,"refDistance",1),n.maxDistance=r(e,"maxDistance",1e4),n.rolloffFactor=r(e,"rolloffFactor",1),n.coneInnerAngle=r(e,"coneInnerAngle",360),n.coneOuterAngle=r(e,"coneOuterAngle",0),n.coneOuterGain=r(e,"coneOuterGain",0),this.spatialSource=r(e,"follow",null),this.spatialSource||(n.positionX.value=r(e,"x",0),n.positionY.value=r(e,"y",0),n.positionZ.value=r(e,"z",0))}l.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=r(this.spatialSource,"x",null),n=r(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),n&&n!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=n)}this.hasEnded?(l.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(a.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(a.LOOPED,this))},destroy:function(){this.pendingRemove||(l.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){l.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,n=0;n<this.rateUpdates.length;n++){var h=0;n<this.rateUpdates.length-1?h=this.rateUpdates[n+1].time:h=this.manager.context.currentTime-this.playTime,e+=(h-this.rateUpdates[n].time)*this.rateUpdates[n].rate}return e},getLoopTime:function(){for(var e=0,n=0;n<this.rateUpdates.length-1;n++)e+=(this.rateUpdates[n+1].time-this.rateUpdates[n].time)*this.rateUpdates[n].rate;var h=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+h.time+(this.duration-e)/h.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(a.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(a.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(a.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(a.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(a.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});p.exports=s},57490:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(53134),v=t(85034),a=t(83419),r=t(14463),s=t(8443),e=t(71741),n=t(95540),h=new a({Extends:v,initialize:function(o){this.context=this.createAudioContext(o),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),v.call(this,o),this.locked&&o.isBooted?this.unlock():o.events.once(s.BOOT,this.unlock,this)},createAudioContext:function(i){var o=i.config.audio;if(o.context)return o.context.resume(),o.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(i){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=i,this.masterMuteNode=i.createGain(),this.masterVolumeNode=i.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(i.destination),this.destination=this.masterMuteNode,this},add:function(i,o){var f=new e(this,i,o);return this.sounds.push(f),f},decodeAudio:function(i,o){var f;Array.isArray(i)?f=i:f=[{key:i,data:o}];for(var u=this.game.cache.audio,d=f.length,c=0;c<f.length;c++){var m=f[c],x=m.key,g=m.data;typeof g=="string"&&(g=l(g));var T=(function(E,P){u.add(E,P),this.emit(r.DECODED,E),d--,d===0&&this.emit(r.DECODED_ALL)}).bind(this,x),S=(function(E,P){console.error("Error decoding audio: "+E+" - ",P?P.message:""),d--,d===0&&this.emit(r.DECODED_ALL)}).bind(this,x);this.context.decodeAudioData(g,T,S)}},setListenerPosition:function(i,o){return i===void 0&&(i=this.game.scale.width/2),o===void 0&&(o=this.game.scale.height/2),this.listenerPosition.set(i,o),this},unlock:function(){var i=this,o=document.body,f=function u(){if(i.context&&o){var d=o.removeEventListener.bind(o);i.context.resume().then(function(){d("touchstart",u),d("touchend",u),d("click",u),d("keydown",u),i.unlocked=!0},function(){d("touchstart",u),d("touchend",u),d("click",u),d("keydown",u)})}};o&&(o.addEventListener("touchstart",f,!1),o.addEventListener("touchend",f,!1),o.addEventListener("click",f,!1),o.addEventListener("keydown",f,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var i=this.context;i&&!this.locked&&(i.state==="suspended"||i.state==="interrupted")&&i.resume()},update:function(i,o){var f=this.context.listener;if(f&&f.positionX!==void 0){var u=n(this.listenerPosition,"x",null),d=n(this.listenerPosition,"y",null);u&&u!==this._spatialx&&(this._spatialx=f.positionX.value=u),d&&d!==this._spatialy&&(this._spatialy=f.positionY.value=d)}v.prototype.update.call(this,i,o),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var i=this;this.context.close().then(function(){i.context=null})}v.prototype.destroy.call(this)},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(i){this.masterMuteNode.gain.setValueAtTime(i?0:1,0),this.emit(r.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(i){this.masterVolumeNode.gain.setValueAtTime(i,0),this.emit(r.GLOBAL_VOLUME,this,i)}}});p.exports=h},73162:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37105),v=t(83419),a=t(29747),r=t(19186),s=new v({initialize:function(n){this.parent=n,this.list=[],this.position=0,this.addCallback=a,this.removeCallback=a,this._sortKey=""},add:function(e,n){return n?l.Add(this.list,e):l.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,n,h){return h?l.AddAt(this.list,e,n):l.AddAt(this.list,e,n,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,n){return e?(n===void 0&&(n=function(h,i){return h[e]-i[e]}),r(this.list,n),this):this},getByName:function(e){return l.GetFirst(this.list,"name",e)},getRandom:function(e,n){return l.GetRandom(this.list,e,n)},getFirst:function(e,n,h,i){return l.GetFirst(this.list,e,n,h,i)},getAll:function(e,n,h,i){return l.GetAll(this.list,e,n,h,i)},count:function(e,n){return l.CountAllMatching(this.list,e,n)},swap:function(e,n){l.Swap(this.list,e,n)},moveTo:function(e,n){return l.MoveTo(this.list,e,n)},moveAbove:function(e,n){return l.MoveAbove(this.list,e,n)},moveBelow:function(e,n){return l.MoveBelow(this.list,e,n)},remove:function(e,n){return n?l.Remove(this.list,e):l.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,n){return n?l.RemoveAt(this.list,e):l.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,n,h){return h?l.RemoveBetween(this.list,e,n):l.RemoveBetween(this.list,e,n,this.removeCallback,this)},removeAll:function(e){for(var n=this.list.length;n--;)this.remove(this.list[n],e);return this},bringToTop:function(e){return l.BringToTop(this.list,e)},sendToBack:function(e){return l.SendToBack(this.list,e)},moveUp:function(e){return l.MoveUp(this.list,e),e},moveDown:function(e){return l.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return l.Shuffle(this.list),this},replace:function(e,n){return l.Replace(this.list,e,n)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,n,h,i){return l.SetAll(this.list,e,n,h,i),this},each:function(e,n){for(var h=[null],i=2;i<arguments.length;i++)h.push(arguments[i]);for(i=0;i<this.list.length;i++)h[0]=this.list[i],e.apply(n,h)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});p.exports=s},90330:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r){this.entries={},this.size=0,this.setAll(r)},setAll:function(a){if(Array.isArray(a))for(var r=0;r<a.length;r++)this.set(a[r][0],a[r][1]);return this},set:function(a,r){return this.has(a)||this.size++,this.entries[a]=r,this},get:function(a){if(this.has(a))return this.entries[a]},getArray:function(){var a=[],r=this.entries;for(var s in r)a.push(r[s]);return a},has:function(a){return this.entries.hasOwnProperty(a)},delete:function(a){return this.has(a)&&(delete this.entries[a],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(a){delete this.entries[a]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var a=[],r=this.entries;for(var s in r)a.push(r[s]);return a},dump:function(){var a=this.entries;console.group("Map");for(var r in a)console.log(r,a[r]);console.groupEnd()},each:function(a){var r=this.entries;for(var s in r)if(a(s,r[s])===!1)break;return this},contains:function(a){var r=this.entries;for(var s in r)if(r[s]===a)return!0;return!1},merge:function(a,r){r===void 0&&(r=!1);var s=this.entries,e=a.entries;for(var n in e)s.hasOwnProperty(n)&&r?s[n]=e[n]:this.set(n,e[n]);return this}});p.exports=v},25774:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(50792),a=t(82348),r=new l({Extends:v,initialize:function(){v.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(s){return this._active.indexOf(s)>-1},isPending:function(s){return this._toProcess>0&&this._pending.indexOf(s)>-1},isDestroying:function(s){return this._destroy.indexOf(s)>-1},add:function(s){return this.checkQueue&&this.isActive(s)&&!this.isDestroying(s)||this.isPending(s)||(this._pending.push(s),this._toProcess++),s},remove:function(s){if(this.isPending(s)){var e=this._pending,n=e.indexOf(s);n!==-1&&e.splice(n,1)}else this.isActive(s)&&(this._destroy.push(s),this._toProcess++);return s},removeAll:function(){for(var s=this._active,e=this._destroy,n=s.length;n--;)e.push(s[n]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var s=this._destroy,e=this._active,n,h;for(n=0;n<s.length;n++){h=s[n];var i=e.indexOf(h);i!==-1&&(e.splice(i,1),this.emit(a.PROCESS_QUEUE_REMOVE,h))}for(s.length=0,s=this._pending,n=0;n<s.length;n++)h=s[n],(!this.checkQueue||this.checkQueue&&e.indexOf(h)===-1)&&(e.push(h),this.emit(a.PROCESS_QUEUE_ADD,h));return s.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});p.exports=r},59542:(p,y,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43886);function v(g){if(!(this instanceof v))return new v(g);this._maxEntries=Math.max(4,g||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}v.prototype={all:function(){return this._all(this.data,[])},search:function(g){var T=this.data,S=[],E=this.toBBox;if(!c(g,T))return S;for(var P=[],F,R,M,O;T;){for(F=0,R=T.children.length;F<R;F++)M=T.children[F],O=T.leaf?E(M):M,c(g,O)&&(T.leaf?S.push(M):d(g,O)?this._all(M,S):P.push(M));T=P.pop()}return S},collides:function(g){var T=this.data,S=this.toBBox;if(!c(g,T))return!1;for(var E=[],P,F,R,M;T;){for(P=0,F=T.children.length;P<F;P++)if(R=T.children[P],M=T.leaf?S(R):R,c(g,M)){if(T.leaf||d(g,M))return!0;E.push(R)}T=E.pop()}return!1},load:function(g){if(!(g&&g.length))return this;if(g.length<this._minEntries){for(var T=0,S=g.length;T<S;T++)this.insert(g[T]);return this}var E=this._build(g.slice(),0,g.length-1,0);if(!this.data.children.length)this.data=E;else if(this.data.height===E.height)this._splitRoot(this.data,E);else{if(this.data.height<E.height){var P=this.data;this.data=E,E=P}this._insert(E,this.data.height-E.height-1,!0)}return this},insert:function(g){return g&&this._insert(g,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(g,T){if(!g)return this;for(var S=this.data,E=this.toBBox(g),P=[],F=[],R,M,O,I;S||P.length;){if(S||(S=P.pop(),M=P[P.length-1],R=F.pop(),I=!0),S.leaf&&(O=a(g,S.children,T),O!==-1))return S.children.splice(O,1),P.push(S),this._condense(P),this;!I&&!S.leaf&&d(S,E)?(P.push(S),F.push(R),R=0,M=S,S=S.children[0]):M?(R++,S=M.children[R],I=!1):S=null}return this},toBBox:function(g){return g},compareMinX:n,compareMinY:h,toJSON:function(){return this.data},fromJSON:function(g){return this.data=g,this},_all:function(g,T){for(var S=[];g;)g.leaf?T.push.apply(T,g.children):S.push.apply(S,g.children),g=S.pop();return T},_build:function(g,T,S,E){var P=S-T+1,F=this._maxEntries,R;if(P<=F)return R=m(g.slice(T,S+1)),r(R,this.toBBox),R;E||(E=Math.ceil(Math.log(P)/Math.log(F)),F=Math.ceil(P/Math.pow(F,E-1))),R=m([]),R.leaf=!1,R.height=E;var M=Math.ceil(P/F),O=M*Math.ceil(Math.sqrt(F)),I,V,X,z;for(x(g,T,S,O,this.compareMinX),I=T;I<=S;I+=O)for(X=Math.min(I+O-1,S),x(g,I,X,M,this.compareMinY),V=I;V<=X;V+=M)z=Math.min(V+M-1,X),R.children.push(this._build(g,V,z,E-1));return r(R,this.toBBox),R},_chooseSubtree:function(g,T,S,E){for(var P,F,R,M,O,I,V,X;E.push(T),!(T.leaf||E.length-1===S);){for(V=X=1/0,P=0,F=T.children.length;P<F;P++)R=T.children[P],O=i(R),I=f(g,R)-O,I<X?(X=I,V=O<V?O:V,M=R):I===X&&O<V&&(V=O,M=R);T=M||T.children[0]}return T},_insert:function(g,T,S){var E=this.toBBox,P=S?g:E(g),F=[],R=this._chooseSubtree(P,this.data,T,F);for(R.children.push(g),e(R,P);T>=0&&F[T].children.length>this._maxEntries;)this._split(F,T),T--;this._adjustParentBBoxes(P,F,T)},_split:function(g,T){var S=g[T],E=S.children.length,P=this._minEntries;this._chooseSplitAxis(S,P,E);var F=this._chooseSplitIndex(S,P,E),R=m(S.children.splice(F,S.children.length-F));R.height=S.height,R.leaf=S.leaf,r(S,this.toBBox),r(R,this.toBBox),T?g[T-1].children.push(R):this._splitRoot(S,R)},_splitRoot:function(g,T){this.data=m([g,T]),this.data.height=g.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(g,T,S){var E,P,F,R,M,O,I,V;for(O=I=1/0,E=T;E<=S-T;E++)P=s(g,0,E,this.toBBox),F=s(g,E,S,this.toBBox),R=u(P,F),M=i(P)+i(F),R<O?(O=R,V=E,I=M<I?M:I):R===O&&M<I&&(I=M,V=E);return V},_chooseSplitAxis:function(g,T,S){var E=g.leaf?this.compareMinX:n,P=g.leaf?this.compareMinY:h,F=this._allDistMargin(g,T,S,E),R=this._allDistMargin(g,T,S,P);F<R&&g.children.sort(E)},_allDistMargin:function(g,T,S,E){g.children.sort(E);var P=this.toBBox,F=s(g,0,T,P),R=s(g,S-T,S,P),M=o(F)+o(R),O,I;for(O=T;O<S-T;O++)I=g.children[O],e(F,g.leaf?P(I):I),M+=o(F);for(O=S-T-1;O>=T;O--)I=g.children[O],e(R,g.leaf?P(I):I),M+=o(R);return M},_adjustParentBBoxes:function(g,T,S){for(var E=S;E>=0;E--)e(T[E],g)},_condense:function(g){for(var T=g.length-1,S;T>=0;T--)g[T].children.length===0?T>0?(S=g[T-1].children,S.splice(S.indexOf(g[T]),1)):this.clear():r(g[T],this.toBBox)},compareMinX:function(g,T){return g.left-T.left},compareMinY:function(g,T){return g.top-T.top},toBBox:function(g){return{minX:g.left,minY:g.top,maxX:g.right,maxY:g.bottom}}};function a(g,T,S){if(!S)return T.indexOf(g);for(var E=0;E<T.length;E++)if(S(g,T[E]))return E;return-1}function r(g,T){s(g,0,g.children.length,T,g)}function s(g,T,S,E,P){P||(P=m(null)),P.minX=1/0,P.minY=1/0,P.maxX=-1/0,P.maxY=-1/0;for(var F=T,R;F<S;F++)R=g.children[F],e(P,g.leaf?E(R):R);return P}function e(g,T){return g.minX=Math.min(g.minX,T.minX),g.minY=Math.min(g.minY,T.minY),g.maxX=Math.max(g.maxX,T.maxX),g.maxY=Math.max(g.maxY,T.maxY),g}function n(g,T){return g.minX-T.minX}function h(g,T){return g.minY-T.minY}function i(g){return(g.maxX-g.minX)*(g.maxY-g.minY)}function o(g){return g.maxX-g.minX+(g.maxY-g.minY)}function f(g,T){return(Math.max(T.maxX,g.maxX)-Math.min(T.minX,g.minX))*(Math.max(T.maxY,g.maxY)-Math.min(T.minY,g.minY))}function u(g,T){var S=Math.max(g.minX,T.minX),E=Math.max(g.minY,T.minY),P=Math.min(g.maxX,T.maxX),F=Math.min(g.maxY,T.maxY);return Math.max(0,P-S)*Math.max(0,F-E)}function d(g,T){return g.minX<=T.minX&&g.minY<=T.minY&&T.maxX<=g.maxX&&T.maxY<=g.maxY}function c(g,T){return T.minX<=g.maxX&&T.minY<=g.maxY&&T.maxX>=g.minX&&T.maxY>=g.minY}function m(g){return{children:g,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function x(g,T,S,E,P){for(var F=[T,S],R;F.length;)S=F.pop(),T=F.pop(),!(S-T<=E)&&(R=T+Math.ceil((S-T)/E/2)*E,l(g,R,T,S,P),F.push(T,R,R,S))}p.exports=v},35072:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r){if(this.entries=[],Array.isArray(r))for(var s=0;s<r.length;s++)this.set(r[s])},set:function(a){return this.entries.indexOf(a)===-1&&this.entries.push(a),this},get:function(a,r){for(var s=0;s<this.entries.length;s++){var e=this.entries[s];if(e[a]===r)return e}},getArray:function(){return this.entries.slice(0)},delete:function(a){var r=this.entries.indexOf(a);return r>-1&&this.entries.splice(r,1),this},dump:function(){console.group("Set");for(var a=0;a<this.entries.length;a++){var r=this.entries[a];console.log(r)}console.groupEnd()},each:function(a,r){var s,e=this.entries.slice(),n=e.length;if(r)for(s=0;s<n&&a.call(r,e[s],s)!==!1;s++);else for(s=0;s<n&&a(e[s],s)!==!1;s++);return this},iterate:function(a,r){var s,e=this.entries.length;if(r)for(s=0;s<e&&a.call(r,this.entries[s],s)!==!1;s++);else for(s=0;s<e&&a(this.entries[s],s)!==!1;s++);return this},iterateLocal:function(a){var r,s=[];for(r=1;r<arguments.length;r++)s.push(arguments[r]);var e=this.entries.length;for(r=0;r<e;r++){var n=this.entries[r];n[a].apply(n,s)}return this},clear:function(){return this.entries.length=0,this},contains:function(a){return this.entries.indexOf(a)>-1},union:function(a){var r=new v;return a.entries.forEach(function(s){r.set(s)}),this.entries.forEach(function(s){r.set(s)}),r},intersect:function(a){var r=new v;return this.entries.forEach(function(s){a.contains(s)&&r.set(s)}),r},difference:function(a){var r=new v;return this.entries.forEach(function(s){a.contains(s)||r.set(s)}),r},size:{get:function(){return this.entries.length},set:function(a){return a<this.entries.length?this.entries.length=a:this.entries.length}}});p.exports=v},86555:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=t(83419),a=t(56583),r=t(26099),s=new v({initialize:function(n,h,i,o){n===void 0&&(n=0),h===void 0&&(h=n),i===void 0&&(i=0),o===void 0&&(o=null),this._width=n,this._height=h,this._parent=o,this.aspectMode=i,this.aspectRatio=h===0?1:n/h,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new r},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,n){return e===void 0&&(e=0),n===void 0&&(n=e),this.snapTo.set(e,n),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,n){return e===void 0&&(e=0),n===void 0&&(n=e),this.minWidth=l(e,0,this.maxWidth),this.minHeight=l(n,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,n){return e===void 0&&(e=Number.MAX_VALUE),n===void 0&&(n=e),this.maxWidth=l(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=l(n,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,n){switch(e===void 0&&(e=0),n===void 0&&(n=e),this.aspectMode){case s.NONE:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case s.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case s.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(a(n,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case s.FIT:this.constrain(e,n,!0);break;case s.ENVELOP:this.constrain(e,n,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,n){return this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,n){return n===void 0&&(n=!0),e=l(e,this.minWidth,this.maxWidth),n&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,n){return n===void 0&&(n=!0),e=l(e,this.minHeight,this.maxHeight),n&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,n,h){e===void 0&&(e=0),n===void 0&&(n=e),h===void 0&&(h=!0),e=this.getNewWidth(e),n=this.getNewHeight(n);var i=this.snapTo,o=n===0?1:e/n;return h&&this.aspectRatio>o||!h&&this.aspectRatio<o?(e=a(e,i.x),n=e/this.aspectRatio,i.y>0&&(n=a(n,i.y),e=n*this.aspectRatio)):(h&&this.aspectRatio<o||!h&&this.aspectRatio>o)&&(n=a(n,i.y),e=n*this.aspectRatio,i.x>0&&(e=a(e,i.x),n=e*(1/this.aspectRatio))),this._width=e,this._height=n,this},fitTo:function(e,n){return this.constrain(e,n,!0)},envelop:function(e,n){return this.constrain(e,n,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});s.NONE=0,s.WIDTH_CONTROLS_HEIGHT=1,s.HEIGHT_CONTROLS_WIDTH=2,s.FIT=3,s.ENVELOP=4,p.exports=s},15238:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},56187:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},82348:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(45319),a=t(40987),r=t(8054),s=t(50030),e=t(79237),n=new l({Extends:e,initialize:function(i,o,f,u,d){e.call(this,i,o,f,u,d),this.add("__BASE",0,0,0,u,d),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=u,this.height=d,this.imageData=this.context.getImageData(0,0,u,d),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===r.WEBGL&&this.refresh(),this},draw:function(h,i,o,f){return f===void 0&&(f=!0),this.context.drawImage(o,h,i),f&&this.update(),this},drawFrame:function(h,i,o,f,u){o===void 0&&(o=0),f===void 0&&(f=0),u===void 0&&(u=!0);var d=this.manager.getFrame(h,i);if(d){var c=d.canvasData,m=d.cutWidth,x=d.cutHeight,g=d.source.resolution;this.context.drawImage(d.source.image,c.x,c.y,m,x,o,f,m/g,x/g),u&&this.update()}return this},setPixel:function(h,i,o,f,u,d){d===void 0&&(d=255),h=Math.abs(Math.floor(h)),i=Math.abs(Math.floor(i));var c=this.getIndex(h,i);if(c>-1){var m=this.context.getImageData(h,i,1,1);m.data[0]=o,m.data[1]=f,m.data[2]=u,m.data[3]=d,this.context.putImageData(m,h,i)}return this},putData:function(h,i,o,f,u,d,c){return f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=h.width),c===void 0&&(c=h.height),this.context.putImageData(h,i,o,f,u,d,c),this},getData:function(h,i,o,f){h=v(Math.floor(h),0,this.width-1),i=v(Math.floor(i),0,this.height-1),o=v(o,1,this.width-h),f=v(f,1,this.height-i);var u=this.context.getImageData(h,i,o,f);return u},getPixel:function(h,i,o){o||(o=new a);var f=this.getIndex(h,i);if(f>-1){var u=this.data,d=u[f+0],c=u[f+1],m=u[f+2],x=u[f+3];o.setTo(d,c,m,x)}return o},getPixels:function(h,i,o,f){h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=this.width),f===void 0&&(f=o),h=Math.abs(Math.round(h)),i=Math.abs(Math.round(i));for(var u=v(h,0,this.width),d=v(h+o,0,this.width),c=v(i,0,this.height),m=v(i+f,0,this.height),x=new a,g=[],T=c;T<m;T++){for(var S=[],E=u;E<d;E++)x=this.getPixel(E,T,x),S.push({x:E,y:T,color:x.color,alpha:x.alphaGL});g.push(S)}return g},getIndex:function(h,i){return h=Math.abs(Math.round(h)),i=Math.abs(Math.round(i)),h<this.width&&i<this.height?(h+i*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(h,i,o,f,u){return h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=this.width),f===void 0&&(f=this.height),u===void 0&&(u=!0),this.context.clearRect(h,i,o,f),u&&this.update(),this},setSize:function(h,i){return i===void 0&&(i=h),(h!==this.width||i!==this.height)&&(this.canvas.width=h,this.canvas.height=i,this._source.width=h,this._source.height=i,this._source.isPowerOf2=s(h,i),this.frames.__BASE.setSize(h,i,0,0),this.width=h,this.height=i,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});p.exports=n},81320:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),v=t(71911),a=t(27919),r=t(83419),s=t(8054),e=t(4327),n=t(95540),h=t(36060),i=t(32302),o=t(79237),f=t(70554),u=new r({Extends:o,initialize:function(c,m,x,g){x===void 0&&(x=256),g===void 0&&(g=256),this.type="DynamicTexture";var T=c.game.renderer,S=T&&T.type===s.CANVAS,E=S?a.create2D(this,x,g):[this];o.call(this,c,m,E,x,g),this.add("__BASE",0,0,0,x,g),this.renderer=T,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=S?E:null,this.context=S?E.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new v(0,0,x,g).setScene(c.game.scene.systemScene,!1),this.renderTarget=S?null:new i(T,x,g,1,0,!1,!0,!0,!1),this.pipeline=S?null:T.pipelines.get(h.SINGLE_PIPELINE),this.setSize(x,g)},setSize:function(d,c){c===void 0&&(c=d);var m=this.get(),x=m.source;if(d!==this.width||c!==this.height){this.canvas&&(this.canvas.width=d,this.canvas.height=c);var g=this.renderTarget;g&&(g.willResize(d,c)&&g.resize(d,c),g.texture!==x.glTexture&&this.renderer.deleteTexture(x.glTexture),this.setFromRenderTarget()),this.camera.setSize(d,c),x.width=d,x.height=c,m.setSize(d,c),this.width=d,this.height=c}else{var T=this.getSourceImage();m.cutX+d>T.width&&(d=T.width-m.cutX),m.cutY+c>T.height&&(c=T.height-m.cutY),m.setSize(d,c,m.cutX,m.cutY)}return this},setFromRenderTarget:function(){var d=this.get(),c=d.source,m=this.renderTarget;return c.isRenderTexture=!0,c.isGLTexture=!0,c.glTexture=m.texture,this},setIsSpriteTexture:function(d){return this.isSpriteTexture=d,this},fill:function(d,c,m,x,g,T){var S=this.camera,E=this.renderer;c===void 0&&(c=1),m===void 0&&(m=0),x===void 0&&(x=0),g===void 0&&(g=this.width),T===void 0&&(T=this.height);var P=d>>16&255,F=d>>8&255,R=d&255,M=this.renderTarget;if(S.preRender(),M){M.bind(!0);var O=this.pipeline.manager.set(this.pipeline),I=E.width/M.width,V=E.height/M.height,X=M.height-(x+T);O.drawFillRect(m*I,X*V,g*I,T*V,f.getTintFromFloats(R/255,F/255,P/255,1),c),M.unbind(!0)}else{var z=this.context;E.setContext(z),z.globalCompositeOperation="source-over",z.fillStyle="rgba("+P+","+F+","+R+","+c+")",z.fillRect(m,x,g,T),E.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var d=this.context,c=this.renderTarget;c?c.clear():d&&(d.save(),d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,this.width,this.height),d.restore()),this.dirty=!1}return this},stamp:function(d,c,m,x,g){m===void 0&&(m=0),x===void 0&&(x=0);var T=n(g,"alpha",1),S=n(g,"tint",16777215),E=n(g,"angle",0),P=n(g,"rotation",0),F=n(g,"scale",1),R=n(g,"scaleX",F),M=n(g,"scaleY",F),O=n(g,"originX",.5),I=n(g,"originY",.5),V=n(g,"blendMode",0),X=n(g,"erase",!1),z=n(g,"skipBatch",!1),Z=this.manager.resetStamp(T,S);return Z.setAngle(0),E!==0?Z.setAngle(E):P!==0&&Z.setRotation(P),Z.setScale(R,M),Z.setTexture(d,c),Z.setOrigin(O,I),Z.setBlendMode(V),X&&(this._eraseMode=!0),z?this.batchGameObject(Z,m,x):this.draw(Z,m,x),X&&(this._eraseMode=!1),this},erase:function(d,c,m){return this._eraseMode=!0,this.draw(d,c,m),this._eraseMode=!1,this},draw:function(d,c,m,x,g){return this.beginDraw(),this.batchDraw(d,c,m,x,g),this.endDraw(),this},drawFrame:function(d,c,m,x,g,T){return this.beginDraw(),this.batchDrawFrame(d,c,m,x,g,T),this.endDraw(),this},repeat:function(d,c,m,x,g,T,S,E,P){if(m===void 0&&(m=0),x===void 0&&(x=0),g===void 0&&(g=this.width),T===void 0&&(T=this.height),S===void 0&&(S=1),E===void 0&&(E=16777215),P===void 0&&(P=!1),d instanceof e?c=d:c=this.manager.getFrame(d,c),!c)return this;var F=this.manager.resetStamp(S,E);F.setFrame(c),F.setOrigin(0);var R=c.width,M=c.height;g=Math.floor(g),T=Math.floor(T);var O=Math.ceil(g/R),I=Math.ceil(T/M),V=O*R-g,X=I*M-T;V>0&&(V=R-V),X>0&&(X=M-X),m<0&&(O+=Math.ceil(Math.abs(m)/R)),x<0&&(I+=Math.ceil(Math.abs(x)/M));var z=m,Z=x,N=!1,Y=this.manager.stampCrop.setTo(0,0,R,M);P||this.beginDraw();for(var L=0;L<I;L++){if(Z+M<0){Z+=M;continue}for(var b=0;b<O;b++){if(N=!1,z+R<0){z+=R;continue}else z<0&&(N=!0,Y.width=R+z,Y.x=R-Y.width);Z<0&&(N=!0,Y.height=M+Z,Y.y=M-Y.height),V>0&&b===O-1&&(N=!0,Y.width=V),X>0&&L===I-1&&(N=!0,Y.height=X),N&&F.setCrop(Y),this.batchGameObject(F,z,Z),F.isCropped=!1,Y.setTo(0,0,R,M),z+=R}z=m,Z+=M}return P||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var d=this.camera,c=this.renderer,m=this.renderTarget;d.preRender(),m?c.beginCapture(m.width,m.height):c.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(d,c,m,x,g){return Array.isArray(d)||(d=[d]),this.batchList(d,c,m,x,g),this},batchDrawFrame:function(d,c,m,x,g,T){m===void 0&&(m=0),x===void 0&&(x=0),g===void 0&&(g=1),T===void 0&&(T=16777215);var S=this.manager.getFrame(d,c);return S&&(this.renderTarget?this.pipeline.batchTextureFrame(S,m,x,T,g,this.camera.matrix,null):this.batchTextureFrame(S,m,x,g,T)),this},endDraw:function(d){if(d===void 0&&(d=this._eraseMode),this.isDrawing){var c=this.renderer,m=this.renderTarget;if(m){var x=c.endCapture(),g=c.pipelines.setUtility();g.blitFrame(x,m,1,!1,!1,d,this.isSpriteTexture),c.resetScissor(),c.resetViewport()}else c.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(d,c,m,x,g){var T=d.length;if(T!==0)for(var S=0;S<T;S++){var E=d[S];!E||E===this||(E.renderWebGL||E.renderCanvas?this.batchGameObject(E,c,m):E.isParent||E.list?this.batchGroup(E.getChildren(),c,m):typeof E=="string"?this.batchTextureFrameKey(E,null,c,m,x,g):E instanceof e?this.batchTextureFrame(E,c,m,x,g):Array.isArray(E)&&this.batchList(E,c,m,x,g))}},batchGroup:function(d,c,m){c===void 0&&(c=0),m===void 0&&(m=0);for(var x=0;x<d.length;x++){var g=d[x];g.willRender(this.camera)&&this.batchGameObject(g,g.x+c,g.y+m)}},batchGameObject:function(d,c,m){c===void 0&&(c=d.x),m===void 0&&(m=d.y);var x=d.x,g=d.y,T=this.camera,S=this.renderer,E=this._eraseMode,P=d.mask;if(d.setPosition(c,m),this.canvas){if(E){var F=d.blendMode;d.blendMode=l.ERASE}P&&P.preRenderCanvas(S,d,T),d.renderCanvas(S,d,T,null),P&&P.postRenderCanvas(S,d,T),E&&(d.blendMode=F)}else S&&(P&&P.preRenderWebGL(S,d,T),E||S.setBlendMode(d.blendMode),d.renderWebGL(S,d,T),P&&P.postRenderWebGL(S,T,this.renderTarget));d.setPosition(x,g)},batchTextureFrameKey:function(d,c,m,x,g,T){var S=this.manager.getFrame(d,c);S&&this.batchTextureFrame(S,m,x,g,T)},batchTextureFrame:function(d,c,m,x,g){c===void 0&&(c=0),m===void 0&&(m=0),x===void 0&&(x=1),g===void 0&&(g=16777215);var T=this.camera.matrix,S=this.renderTarget;if(S)this.pipeline.batchTextureFrame(d,c,m,g,x,T,null);else{var E=this.context,P=d.canvasData,F=d.source.image;E.save(),E.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",E.globalAlpha=x,T.setToContext(E),P.width>0&&P.height>0&&E.drawImage(F,P.x,P.y,P.width,P.height,c,m,P.width,P.height),E.restore()}},snapshotArea:function(d,c,m,x,g,T,S){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,g,!1,d,c,m,x,T,S):this.renderer.snapshotCanvas(this.canvas,g,!1,d,c,m,x,T,S),this},snapshot:function(d,c,m){return this.snapshotArea(0,0,this.width,this.height,d,c,m)},snapshotPixel:function(d,c,m){return this.snapshotArea(d,c,1,1,m,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(d,c,m,x){var g=this.manager.resetStamp();g.setTexture(this),g.setOrigin(0),g.renderWebGL(d,g,m,x)},renderCanvas:function(){},destroy:function(){var d=this.manager.stamp;d&&d.texture===this&&this.manager.resetStamp(),o.prototype.destroy.call(this),a.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});p.exports=u},4327:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(45319),a=t(79291),r=new l({initialize:function(e,n,h,i,o,f,u){this.texture=e,this.name=n,this.source=e.source[h],this.sourceIndex=h,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(f,u,i,o)},setSize:function(s,e,n,h){n===void 0&&(n=0),h===void 0&&(h=0),this.cutX=n,this.cutY=h,this.cutWidth=s,this.cutHeight=e,this.width=s,this.height=e,this.halfWidth=Math.floor(s*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(s/2),this.centerY=Math.floor(e/2);var i=this.data,o=i.cut;o.x=n,o.y=h,o.w=s,o.h=e,o.r=n+s,o.b=h+e,i.sourceSize.w=s,i.sourceSize.h=e,i.spriteSourceSize.w=s,i.spriteSourceSize.h=e,i.radius=.5*Math.sqrt(s*s+e*e);var f=i.drawImage;return f.x=n,f.y=h,f.width=s,f.height=e,this.updateUVs()},setTrim:function(s,e,n,h,i,o){var f=this.data,u=f.spriteSourceSize;return f.trim=!0,f.sourceSize.w=s,f.sourceSize.h=e,u.x=n,u.y=h,u.w=i,u.h=o,u.r=n+i,u.b=h+o,this.x=n,this.y=h,this.width=i,this.height=o,this.halfWidth=i*.5,this.halfHeight=o*.5,this.centerX=Math.floor(i/2),this.centerY=Math.floor(o/2),this.updateUVs()},setScale9:function(s,e,n,h){var i=this.data;return i.scale9=!0,i.is3Slice=e===0&&h===this.height,i.scale9Borders.x=s,i.scale9Borders.y=e,i.scale9Borders.w=n,i.scale9Borders.h=h,this},setCropUVs:function(s,e,n,h,i,o,f){var u=this.cutX,d=this.cutY,c=this.cutWidth,m=this.cutHeight,x=this.realWidth,g=this.realHeight;e=v(e,0,x),n=v(n,0,g),h=v(h,0,x-e),i=v(i,0,g-n);var T=u+e,S=d+n,E=h,P=i,F=this.data;if(F.trim){var R=F.spriteSourceSize;h=v(h,0,c-e),i=v(i,0,m-n);var M=e+h,O=n+i,I=!(R.r<e||R.b<n||R.x>M||R.y>O);if(I){var V=Math.max(R.x,e),X=Math.max(R.y,n),z=Math.min(R.r,M)-V,Z=Math.min(R.b,O)-X;E=z,P=Z,o?T=u+(c-(V-R.x)-z):T=u+(V-R.x),f?S=d+(m-(X-R.y)-Z):S=d+(X-R.y),e=V,n=X,h=z,i=Z}else T=0,S=0,E=0,P=0}else o&&(T=u+(c-e-h)),f&&(S=d+(m-n-i));var N=this.source.width,Y=this.source.height;return s.u0=Math.max(0,T/N),s.v0=Math.max(0,S/Y),s.u1=Math.min(1,(T+E)/N),s.v1=Math.min(1,(S+P)/Y),s.x=e,s.y=n,s.cx=T,s.cy=S,s.cw=E,s.ch=P,s.width=h,s.height=i,s.flipX=o,s.flipY=f,s},updateCropUVs:function(s,e,n){return this.setCropUVs(s,s.x,s.y,s.width,s.height,e,n)},setUVs:function(s,e,n,h,i,o){var f=this.data.drawImage;return f.width=s,f.height=e,this.u0=n,this.v0=h,this.u1=i,this.v1=o,this},updateUVs:function(){var s=this.cutX,e=this.cutY,n=this.cutWidth,h=this.cutHeight,i=this.data.drawImage;i.width=n,i.height=h;var o=this.source.width,f=this.source.height;return this.u0=s/o,this.v0=e/f,this.u1=(s+n)/o,this.v1=(e+h)/f,this},updateUVsInverted:function(){var s=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/s,this.v0=this.cutY/e,this.u1=this.cutX/s,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var s=new r(this.texture,this.name,this.sourceIndex);return s.cutX=this.cutX,s.cutY=this.cutY,s.cutWidth=this.cutWidth,s.cutHeight=this.cutHeight,s.x=this.x,s.y=this.y,s.width=this.width,s.height=this.height,s.halfWidth=this.halfWidth,s.halfHeight=this.halfHeight,s.centerX=this.centerX,s.centerY=this.centerY,s.rotated=this.rotated,s.data=a(!0,s.data,this.data),s.updateUVs(),s},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});p.exports=r},79237:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(4327),a=t(11876),r='Texture "%s" has no frame "%s"',s=new l({initialize:function(n,h,i,o,f){Array.isArray(i)||(i=[i]),this.manager=n,this.key=h,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var u=0;u<i.length;u++)this.source.push(new a(this,i[u],o,f))},add:function(e,n,h,i,o,f){if(this.has(e))return null;var u=new v(this,e,n,h,i,o,f);return this.frames[e]=u,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,u},remove:function(e){if(this.has(e)){var n=this.get(e);return n.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var n=this.frames[e];return n||(console.warn(r,this.key,e),n=this.frames[this.firstFrame]),n},getTextureSourceIndex:function(e){for(var n=0;n<this.source.length;n++)if(this.source[n]===e)return n;return-1},getFramesFromTextureSource:function(e,n){n===void 0&&(n=!1);var h=[];for(var i in this.frames)if(!(i==="__BASE"&&!n)){var o=this.frames[i];o.sourceIndex===e&&h.push(o)}return h},getFrameBounds:function(e){e===void 0&&(e=0);for(var n=this.getFramesFromTextureSource(e),h=1/0,i=1/0,o=0,f=0,u=0;u<n.length;u++){var d=n[u];d.cutX<h&&(h=d.cutX),d.cutY<i&&(i=d.cutY),d.cutX+d.cutWidth>o&&(o=d.cutX+d.cutWidth),d.cutY+d.cutHeight>f&&(f=d.cutY+d.cutHeight)}return{x:h,y:i,width:o-h,height:f-i}},getFrameNames:function(e){e===void 0&&(e=!1);var n=Object.keys(this.frames);if(!e){var h=n.indexOf("__BASE");h!==-1&&n.splice(h,1)}return n},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var n=this.frames[e];return n?n.source.image:(console.warn(r,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var n=this.frames[e],h;return n?h=n.sourceIndex:(console.warn(r,this.key,e),h=this.frames.__BASE.sourceIndex),this.dataSource[h].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var h=this.source[n];this.dataSource.push(new a(this,e[n],h.width,h.height))}},setFilter:function(e){var n;for(n=0;n<this.source.length;n++)this.source[n].setFilter(e);for(n=0;n<this.dataSource.length;n++)this.dataSource[n].setFilter(e)},destroy:function(){var e,n=this.source,h=this.dataSource;for(e=0;e<n.length;e++)n[e]&&n[e].destroy();for(e=0;e<h.length;e++)h[e]&&h[e].destroy();for(var i in this.frames){var o=this.frames[i];o&&o.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});p.exports=s},17130:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),v=t(57382),a=t(83419),r=t(40987),s=t(8054),e=t(81320),n=t(50792),h=t(69442),i=t(4327),o=t(8443),f=t(99584),u=t(35154),d=t(88571),c=t(41212),m=t(61309),x=t(87841),g=t(79237),T=new a({Extends:n,initialize:function(E){n.call(this),this.game=E,this.name="TextureManager",this.list={},this._tempCanvas=l.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new x,this.silentWarnings=!1,E.events.once(o.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(h.LOAD,this.updatePending,this),this.on(h.ERROR,this.updatePending,this);var S=this.game.config;this.addBase64("__DEFAULT",S.defaultImage),this.addBase64("__MISSING",S.missingImage),this.addBase64("__WHITE",S.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(o.DESTROY,this.destroy,this),this.game.events.once(o.SYSTEM_READY,function(E){this.stamp=new d(E).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(h.LOAD),this.off(h.ERROR),this.emit(h.READY))},checkKey:function(S){return this.exists(S)?(this.silentWarnings||console.error("Texture key already in use: "+S),!1):!0},remove:function(S){if(typeof S=="string")if(this.exists(S))S=this.get(S);else return this.silentWarnings||console.warn("No texture found matching key: "+S),this;var E=S.key;return this.list.hasOwnProperty(E)&&(S.destroy(),this.emit(h.REMOVE,E),this.emit(h.REMOVE_KEY+E)),this},removeKey:function(S){return this.list.hasOwnProperty(S)&&delete this.list[S],this},addBase64:function(S,E){if(this.checkKey(S)){var P=this,F=new Image;F.onerror=function(){P.emit(h.ERROR,S)},F.onload=function(){var R=P.create(S,F);m.Image(R,0),P.emit(h.ADD,S,R),P.emit(h.ADD_KEY+S,R),P.emit(h.LOAD,S,R)},F.src=E}return this},getBase64:function(S,E,P,F){P===void 0&&(P="image/png"),F===void 0&&(F=.92);var R="",M=this.getFrame(S,E);if(M&&(M.source.isRenderTexture||M.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(M){var O=M.canvasData,I=l.create2D(this,O.width,O.height),V=I.getContext("2d",{willReadFrequently:!0});O.width>0&&O.height>0&&V.drawImage(M.source.image,O.x,O.y,O.width,O.height,0,0,O.width,O.height),R=I.toDataURL(P,F),l.remove(I)}return R},addImage:function(S,E,P){var F=null;return this.checkKey(S)&&(F=this.create(S,E),m.Image(F,0),P&&F.setDataSource(P),this.emit(h.ADD,S,F),this.emit(h.ADD_KEY+S,F)),F},addGLTexture:function(S,E){var P=null;if(this.checkKey(S)){var F=E.width,R=E.height;P=this.create(S,E,F,R),P.add("__BASE",0,0,0,F,R),this.emit(h.ADD,S,P),this.emit(h.ADD_KEY+S,P)}return P},addCompressedTexture:function(S,E,P){var F=null;if(this.checkKey(S)){if(F=this.create(S,E),F.add("__BASE",0,0,0,E.width,E.height),P){var R=function(O,I,V){Array.isArray(V.textures)||Array.isArray(V.frames)?m.JSONArray(O,I,V):m.JSONHash(O,I,V)};if(Array.isArray(P))for(var M=0;M<P.length;M++)R(F,M,P[M]);else R(F,0,P)}this.emit(h.ADD,S,F),this.emit(h.ADD_KEY+S,F)}return F},addRenderTexture:function(S,E){var P=null;return this.checkKey(S)&&(P=this.create(S,E),P.add("__BASE",0,0,0,E.width,E.height),this.emit(h.ADD,S,P),this.emit(h.ADD_KEY+S,P)),P},generate:function(S,E){if(this.checkKey(S)){var P=l.create(this,1,1);return E.canvas=P,f(E),this.addCanvas(S,P)}else return null},createCanvas:function(S,E,P){if(E===void 0&&(E=256),P===void 0&&(P=256),this.checkKey(S)){var F=l.create(this,E,P,s.CANVAS,!0);return this.addCanvas(S,F)}return null},addCanvas:function(S,E,P){P===void 0&&(P=!1);var F=null;return P?F=new v(this,S,E,E.width,E.height):this.checkKey(S)&&(F=new v(this,S,E,E.width,E.height),this.list[S]=F,this.emit(h.ADD,S,F),this.emit(h.ADD_KEY+S,F)),F},addDynamicTexture:function(S,E,P){var F=null;return typeof S=="string"&&!this.exists(S)?F=new e(this,S,E,P):(F=S,S=F.key),this.checkKey(S)?(this.list[S]=F,this.emit(h.ADD,S,F),this.emit(h.ADD_KEY+S,F)):F=null,F},addAtlas:function(S,E,P,F){return Array.isArray(P.textures)||Array.isArray(P.frames)?this.addAtlasJSONArray(S,E,P,F):this.addAtlasJSONHash(S,E,P,F)},addAtlasJSONArray:function(S,E,P,F){var R=null;if(E instanceof g?(S=E.key,R=E):this.checkKey(S)&&(R=this.create(S,E)),R){if(Array.isArray(P))for(var M=P.length===1,O=0;O<R.source.length;O++){var I=M?P[0]:P[O];m.JSONArray(R,O,I)}else m.JSONArray(R,0,P);F&&R.setDataSource(F),this.emit(h.ADD,S,R),this.emit(h.ADD_KEY+S,R)}return R},addAtlasJSONHash:function(S,E,P,F){var R=null;if(E instanceof g?(S=E.key,R=E):this.checkKey(S)&&(R=this.create(S,E)),R){if(Array.isArray(P))for(var M=0;M<P.length;M++)m.JSONHash(R,M,P[M]);else m.JSONHash(R,0,P);F&&R.setDataSource(F),this.emit(h.ADD,S,R),this.emit(h.ADD_KEY+S,R)}return R},addAtlasXML:function(S,E,P,F){var R=null;return E instanceof g?(S=E.key,R=E):this.checkKey(S)&&(R=this.create(S,E)),R&&(m.AtlasXML(R,0,P),F&&R.setDataSource(F),this.emit(h.ADD,S,R),this.emit(h.ADD_KEY+S,R)),R},addUnityAtlas:function(S,E,P,F){var R=null;return E instanceof g?(S=E.key,R=E):this.checkKey(S)&&(R=this.create(S,E)),R&&(m.UnityYAML(R,0,P),F&&R.setDataSource(F),this.emit(h.ADD,S,R),this.emit(h.ADD_KEY+S,R)),R},addSpriteSheet:function(S,E,P,F){var R=null;if(E instanceof g?(S=E.key,R=E):this.checkKey(S)&&(R=this.create(S,E)),R){var M=R.source[0].width,O=R.source[0].height;m.SpriteSheet(R,0,0,0,M,O,P),F&&R.setDataSource(F),this.emit(h.ADD,S,R),this.emit(h.ADD_KEY+S,R)}return R},addSpriteSheetFromAtlas:function(S,E){if(!this.checkKey(S))return null;var P=u(E,"atlas",null),F=u(E,"frame",null);if(!(!P||!F)){var R=this.get(P),M=R.get(F);if(M){var O=M.source.image;O||(O=M.source.glTexture);var I=this.create(S,O);return M.trimmed?m.SpriteSheetFromAtlas(I,M,E):m.SpriteSheet(I,0,M.cutX,M.cutY,M.cutWidth,M.cutHeight,E),this.emit(h.ADD,S,I),this.emit(h.ADD_KEY+S,I),I}}},addUint8Array:function(S,E,P,F){if(!this.checkKey(S)||E.length/4!==P*F)return null;var R=this.create(S,E,P,F);return R.add("__BASE",0,0,0,P,F),this.emit(h.ADD,S,R),this.emit(h.ADD_KEY+S,R),R},create:function(S,E,P,F){var R=null;return this.checkKey(S)&&(R=new g(this,S,E,P,F),this.list[S]=R),R},exists:function(S){return this.list.hasOwnProperty(S)},get:function(S){return S===void 0&&(S="__DEFAULT"),this.list[S]?this.list[S]:S instanceof g?S:S instanceof i?S.texture:this.list.__MISSING},cloneFrame:function(S,E){if(this.list[S])return this.list[S].get(E).clone()},getFrame:function(S,E){if(this.list[S])return this.list[S].get(E)},parseFrame:function(S){if(S){if(typeof S=="string")return this.getFrame(S);if(Array.isArray(S)&&S.length===2)return this.getFrame(S[0],S[1]);if(c(S))return this.getFrame(S.key,S.frame);if(S instanceof g)return S.get();if(S instanceof i)return S}else return},getTextureKeys:function(){var S=[];for(var E in this.list)E!=="__DEFAULT"&&E!=="__MISSING"&&E!=="__WHITE"&&E!=="__NORMAL"&&S.push(E);return S},getPixel:function(S,E,P,F){var R=this.getFrame(P,F);if(R){S-=R.x,E-=R.y;var M=R.data.cut;if(S+=M.x,E+=M.y,S>=M.x&&S<M.r&&E>=M.y&&E<M.b){var O=this._tempContext;O.clearRect(0,0,1,1),O.drawImage(R.source.image,S,E,1,1,0,0,1,1);var I=O.getImageData(0,0,1,1);return new r(I.data[0],I.data[1],I.data[2],I.data[3])}}return null},getPixelAlpha:function(S,E,P,F){var R=this.getFrame(P,F);if(R){S-=R.x,E-=R.y;var M=R.data.cut;if(S+=M.x,E+=M.y,S>=M.x&&S<M.r&&E>=M.y&&E<M.b){var O=this._tempContext;O.clearRect(0,0,1,1),O.drawImage(R.source.image,S,E,1,1,0,0,1,1);var I=O.getImageData(0,0,1,1);return I.data[3]}}return null},setTexture:function(S,E,P){return this.list[E]&&(S.texture=this.list[E],S.frame=S.texture.get(P)),S},renameTexture:function(S,E){var P=this.get(S);return P&&S!==E?(P.key=E,this.list[E]=P,delete this.list[S],!0):!1},each:function(S,E){for(var P=[null],F=1;F<arguments.length;F++)P.push(arguments[F]);for(var R in this.list)P[0]=this.list[R],S.apply(E,P)},resetStamp:function(S,E){S===void 0&&(S=1),E===void 0&&(E=16777215);var P=this.stamp;return P.setCrop(),P.setPosition(0),P.setAngle(0),P.setScale(1),P.setAlpha(S),P.setTint(E),P.setTexture("__WHITE"),P},destroy:function(){for(var S in this.list)this.list[S].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,l.remove(this._tempCanvas)}});p.exports=T},11876:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),v=t(83419),a=t(50030),r=t(29795),s=t(82751),e=new v({initialize:function(h,i,o,f,u){u===void 0&&(u=!1);var d=h.manager.game;this.renderer=d.renderer,this.texture=h,this.source=i,this.image=i.compressed?null:i,this.compressionAlgorithm=i.compressed?i.format:null,this.resolution=1,this.width=o||i.naturalWidth||i.videoWidth||i.width||0,this.height=f||i.naturalHeight||i.videoHeight||i.height||0,this.scaleMode=r.DEFAULT,this.isCanvas=i instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&i instanceof HTMLVideoElement,this.isRenderTexture=i.type==="RenderTexture"||i.type==="DynamicTexture",this.isGLTexture=i instanceof s,this.isPowerOf2=a(this.width,this.height),this.glTexture=null,this.flipY=u,this.init(d)},init:function(n){var h=this.renderer;if(h){var i=this.source;if(h.gl){var o=this.image,f=this.flipY,u=this.width,d=this.height,c=this.scaleMode;this.isCanvas?this.glTexture=h.createCanvasTexture(o,!1,f):this.isVideo?this.glTexture=h.createVideoTexture(o,!1,f):this.isRenderTexture?this.glTexture=h.createTextureFromSource(null,u,d,c):this.isGLTexture?this.glTexture=i:this.compressionAlgorithm?this.glTexture=h.createTextureFromSource(i,void 0,void 0,c):i instanceof Uint8Array?this.glTexture=h.createUint8ArrayTexture(i,u,d,c):this.glTexture=h.createTextureFromSource(o,u,d,c)}else this.isRenderTexture&&(this.image=i.canvas)}n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),n===this.flipY?this:(this.flipY=n,this.update(),this)},update:function(){var n=this.renderer,h=this.image,i=this.flipY,o=n.gl;o&&this.isCanvas?n.updateCanvasTexture(h,this.glTexture,i):o&&this.isVideo&&n.updateVideoTexture(h,this.glTexture,i)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&l.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});p.exports=e},19673:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={LINEAR:0,NEAREST:1};p.exports=y},44538:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture"},63486:p=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture-"},94851:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onerror"},29099:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onload"},8678:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},86415:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture"},30879:p=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture-"},69442:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79291),v=t(19673),a={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:v,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};a=l(!1,a,v),p.exports=a},89905:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){if(!v.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var a=t.source[l];t.add("__BASE",l,0,0,a.width,a.height);for(var r=v.getElementsByTagName("SubTexture"),s,e=0;e<r.length;e++){var n=r[e].attributes,h=n.name.value,i=parseInt(n.x.value,10),o=parseInt(n.y.value,10),f=parseInt(n.width.value,10),u=parseInt(n.height.value,10);if(s=t.add(h,l,i,o,f,u),n.frameX){var d=Math.abs(parseInt(n.frameX.value,10)),c=Math.abs(parseInt(n.frameY.value,10)),m=parseInt(n.frameWidth.value,10),x=parseInt(n.frameHeight.value,10);s.setTrim(f,u,d,c,m,x)}}return t};p.exports=y},72893:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){var v=t.source[l];return t.add("__BASE",l,0,0,v.width,v.height),t};p.exports=y},4832:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){var v=t.source[l];return t.add("__BASE",l,0,0,v.width,v.height),t};p.exports=y},78566:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41786),v=function(a,r,s){if(!s.frames&&!s.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=a.source[r];a.add("__BASE",r,0,0,e.width,e.height);for(var n=Array.isArray(s.textures)?s.textures[r].frames:s.frames,h,i=0;i<n.length;i++){var o=n[i];if(h=a.add(o.filename,r,o.frame.x,o.frame.y,o.frame.w,o.frame.h),!h){console.warn("Invalid atlas json, frame already exists: "+o.filename);continue}o.trimmed&&h.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(h.rotated=!0,h.updateUVsInverted());var f=o.anchor||o.pivot;f&&(h.customPivot=!0,h.pivotX=f.x,h.pivotY=f.y),o.scale9Borders&&h.setScale9(o.scale9Borders.x,o.scale9Borders.y,o.scale9Borders.w,o.scale9Borders.h),h.customData=l(o)}for(var u in s)u!=="frames"&&(Array.isArray(s[u])?a.customData[u]=s[u].slice(0):a.customData[u]=s[u]);return a};p.exports=v},39711:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41786),v=function(a,r,s){if(!s.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=a.source[r];a.add("__BASE",r,0,0,e.width,e.height);var n=s.frames,h;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];if(h=a.add(i,r,o.frame.x,o.frame.y,o.frame.w,o.frame.h),!h){console.warn("Invalid atlas json, frame already exists: "+i);continue}o.trimmed&&h.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(h.rotated=!0,h.updateUVsInverted());var f=o.anchor||o.pivot;f&&(h.customPivot=!0,h.pivotX=f.x,h.pivotY=f.y),o.scale9Borders&&h.setScale9(o.scale9Borders.x,o.scale9Borders.y,o.scale9Borders.w,o.scale9Borders.h),h.customData=l(o)}for(var u in s)u!=="frames"&&(Array.isArray(s[u])?a.customData[u]=s[u].slice(0):a.customData[u]=s[u]);return a};p.exports=v},31403:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var l=[171,75,84,88,32,49,49,187,13,10,26,10],v,a=new Uint8Array(t,0,12);for(v=0;v<a.length;v++)if(a[v]!==l[v]){console.warn("KTXParser - Invalid file format");return}var r=Uint32Array.BYTES_PER_ELEMENT,s=new DataView(t,12,13*r),e=s.getUint32(0,!0)===67305985,n=s.getUint32(1*r,e);if(n!==0){console.warn("KTXParser - Only compressed formats supported");return}var h=s.getUint32(4*r,e),i=s.getUint32(6*r,e),o=s.getUint32(7*r,e),f=Math.max(1,s.getUint32(11*r,e)),u=s.getUint32(12*r,e),d=new Array(f),c=12+13*4+u,m=i,x=o;for(v=0;v<f;v++){var g=new Int32Array(t,c,1)[0];c+=4,d[v]={data:new Uint8Array(t,c,g),width:m,height:x},m=Math.max(1,m>>1),x=Math.max(1,x>>1),c+=g}return{mipmaps:d,width:i,height:o,internalFormat:h,compressed:!0,generateMipmap:!1}};p.exports=y},82038:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(E,P,F,R,M,O,I){return I===void 0&&(I=16),Math.floor((E+F)/M)*Math.floor((P+R)/O)*I}function t(E,P){return E=Math.max(E,16),P=Math.max(P,8),E*P/4}function l(E,P){return E=Math.max(E,8),P=Math.max(P,8),E*P/2}function v(E,P){return Math.ceil(E/4)*Math.ceil(P/4)*16}function a(E,P){return y(E,P,3,3,4,4,8)}function r(E,P){return y(E,P,3,3,4,4)}function s(E,P){return y(E,P,4,3,5,4)}function e(E,P){return y(E,P,4,4,5,5)}function n(E,P){return y(E,P,5,4,6,5)}function h(E,P){return y(E,P,5,5,6,6)}function i(E,P){return y(E,P,7,4,8,5)}function o(E,P){return y(E,P,7,5,8,6)}function f(E,P){return y(E,P,7,7,8,8)}function u(E,P){return y(E,P,9,4,10,5)}function d(E,P){return y(E,P,9,5,10,6)}function c(E,P){return y(E,P,9,7,10,8)}function m(E,P){return y(E,P,9,9,10,10)}function x(E,P){return y(E,P,11,9,12,10)}function g(E,P){return y(E,P,11,11,12,12)}var T={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:l,glFormat:[35840]},3:{sizeFunc:l,glFormat:[35842]},6:{sizeFunc:a,glFormat:[36196]},7:{sizeFunc:a,glFormat:[33776,35916]},8:{sizeFunc:r,glFormat:[33777,35917]},9:{sizeFunc:r,glFormat:[33778,35918]},11:{sizeFunc:r,glFormat:[33779,35919]},14:{sizeFunc:v,glFormat:[36494,36495]},15:{sizeFunc:v,glFormat:[36492,36493]},22:{sizeFunc:a,glFormat:[37492,37493]},23:{sizeFunc:r,glFormat:[37496,37497]},24:{sizeFunc:a,glFormat:[37494,37495]},25:{sizeFunc:a,glFormat:[37488]},26:{sizeFunc:r,glFormat:[37490]},27:{sizeFunc:r,glFormat:[37808,37840]},28:{sizeFunc:s,glFormat:[37809,37841]},29:{sizeFunc:e,glFormat:[37810,37842]},30:{sizeFunc:n,glFormat:[37811,37843]},31:{sizeFunc:h,glFormat:[37812,37844]},32:{sizeFunc:i,glFormat:[37813,37845]},33:{sizeFunc:o,glFormat:[37814,37846]},34:{sizeFunc:f,glFormat:[37815,37847]},35:{sizeFunc:u,glFormat:[37816,37848]},36:{sizeFunc:d,glFormat:[37817,37849]},37:{sizeFunc:c,glFormat:[37818,37850]},38:{sizeFunc:m,glFormat:[37819,37851]},39:{sizeFunc:x,glFormat:[37820,37852]},40:{sizeFunc:g,glFormat:[37821,37853]}},S=function(E){for(var P=new Uint32Array(E,0,13),F=P[0],R=F===55727696,M=R?P[2]:P[3],O=P[4],I=T[M].glFormat[O],V=T[M].sizeFunc,X=P[11],z=P[7],Z=P[6],N=52+P[12],Y=new Uint8Array(E,N),L=new Array(X),b=0,U=z,W=Z,j=0;j<X;j++){var Q=V(U,W);L[j]={data:new Uint8Array(Y.buffer,Y.byteOffset+b,Q),width:U,height:W},U=Math.max(1,U>>1),W=Math.max(1,W>>1),b+=Q}return{mipmaps:L,width:z,height:Z,internalFormat:I,compressed:!0,generateMipmap:!1}};p.exports=S},75549:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),v=function(a,r,s,e,n,h,i){var o=l(i,"frameWidth",null),f=l(i,"frameHeight",o);if(o===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var u=a.source[r];a.add("__BASE",r,0,0,u.width,u.height);var d=l(i,"startFrame",0),c=l(i,"endFrame",-1),m=l(i,"margin",0),x=l(i,"spacing",0),g=Math.floor((n-m+x)/(o+x)),T=Math.floor((h-m+x)/(f+x)),S=g*T;S===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",a.key),(d>S||d<-S)&&(d=0),d<0&&(d=S+d),(c===-1||c>S||c<d)&&(c=S);for(var E=m,P=m,F=0,R=0,M=0,O=0;O<S;O++){F=0,R=0;var I=E+o,V=P+f;I>n&&(F=I-n),V>h&&(R=V-h),O>=d&&O<=c&&(a.add(M,r,s+E,e+P,o-F,f-R),M++),E+=o+x,E+o>n&&(E=m,P+=f+x)}return a};p.exports=v},47534:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),v=function(a,r,s){var e=l(s,"frameWidth",null),n=l(s,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var h=a.source[0];a.add("__BASE",0,0,0,h.width,h.height),l(s,"startFrame",0),l(s,"endFrame",-1);for(var i=l(s,"margin",0),o=l(s,"spacing",0),f=r.cutX,u=r.cutY,d=r.cutWidth,c=r.cutHeight,m=r.realWidth,x=r.realHeight,g=Math.floor((m-i+o)/(e+o)),T=Math.floor((x-i+o)/(n+o)),S=r.x,E=e-S,P=e-(m-d-S),F=r.y,R=n-F,M=n-(x-c-F),O,I=i,V=i,X=0,z=0,Z=0;Z<T;Z++){for(var N=Z===0,Y=Z===T-1,L=0;L<g;L++){var b=L===0,U=L===g-1;if(O=a.add(X,z,f+I,u+V,e,n),b||N||U||Y){var W=b?S:0,j=N?F:0,Q=0,_=0;b&&(Q+=e-E),U&&(Q+=e-P),N&&(_+=n-R),Y&&(_+=n-M);var et=e-Q,st=n-_;O.cutWidth=et,O.cutHeight=st,O.setTrim(e,n,W,j,et,st)}I+=o,b?I+=E:U?I+=P:I+=e,X++}I=i,V+=o,N?V+=R:Y?V+=M:V+=n}return a};p.exports=v},86147:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=0,t=function(v,a,r,s){var e=y-s.y-s.height;v.add(r,a,s.x,e,s.width,s.height)},l=function(v,a,r){var s=v.source[a];v.add("__BASE",a,0,0,s.width,s.height),y=s.height;for(var e=r.split(`
`),n=/^[ ]*(- )*(\w+)+[: ]+(.*)/,h="",i="",o={x:0,y:0,width:0,height:0},f=0;f<e.length;f++){var u=e[f].match(n);if(u){var d=u[1]==="- ",c=u[2],m=u[3];if(d&&(i!==h&&(t(v,a,i,o),h=i),o={x:0,y:0,width:0,height:0}),c==="name"){i=m;continue}switch(c){case"x":case"y":case"width":case"height":o[c]=parseInt(m,10);break}}}return i!==h&&t(v,a,i,o),v};p.exports=l},55222:(p,y,t)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50030),v=function(h){for(var i=h.mipmaps,o=1;o<i.length;o++){var f=i[o].width,u=i[o].height;if(!l(f,u))return console.warn("Mip level "+o+" is not a power-of-two size: "+f+"x"+u),!1}var d=n[h.internalFormat];return d?d(h):(console.warn("No format checker found for internal format "+h.internalFormat+". Assuming valid."),!0)};function a(h){for(var i=h.mipmaps,o=0;o<i.length;o++){var f=i[o].width,u=i[o].height;if((f<<o)%4!==0||(u<<o)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+o+" is "+f+"x"+u),!1}return!0}function r(){return!0}function s(h){var i=h.mipmaps,o=i[0];return l(o.width,o.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+o.width+"x"+o.height),!1)}function e(h){var i=h.mipmaps,o=i[0];return o.width%4!==0||o.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+o.width+"x"+o.height+" pixels"),!1):!0}var n={37488:r,37489:r,37490:r,37491:r,37492:r,37493:r,37494:r,37495:r,37496:r,37497:r,36196:r,37808:r,37809:r,37810:r,37811:r,37812:r,37813:r,37814:r,37815:r,37816:r,37817:r,37818:r,37819:r,37820:r,37821:r,37840:r,37841:r,37842:r,37843:r,37844:r,37845:r,37846:r,37847:r,37848:r,37849:r,37850:r,37851:r,37852:r,37853:r,36492:a,36493:a,36494:a,36495:a,36283:a,36284:a,36285:a,36286:a,35840:s,35841:s,35842:s,35843:s,33776:a,33777:a,33778:a,33779:a,35916:e,35917:e,35918:e,35919:e};p.exports=v},61309:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,s,e,n,h,i,o){(e===void 0||e<=0)&&(e=32),(n===void 0||n<=0)&&(n=32),h===void 0&&(h=0),i===void 0&&(i=0),this.name=r,this.firstgid=s|0,this.imageWidth=e|0,this.imageHeight=n|0,this.imageMargin=h|0,this.imageSpacing=i|0,this.properties=o||{},this.images=[],this.total=0},containsImageIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},addImage:function(a,r){return this.images.push({gid:a,image:r}),this.total++,this}});p.exports=v},27462:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r){if(this.gids=[],r!==void 0)for(var s=0;s<r.length;++s)for(var e=r[s],n=0;n<e.total;++n)this.gids[e.firstgid+n]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(a){this.gids=a?this._gids:void 0}},getTypeIncludingTile:function(a){if(a.type!==void 0&&a.type!=="")return a.type;if(!(!this.gids||a.gid===void 0)){var r=this.gids[a.gid];if(r){var s=r.getTileData(a.gid);if(s)return s.type}}},setTextureAndFrame:function(a,r,s,e){if(r===null&&this.gids&&e.gid!==void 0){var n=this.gids[e.gid];n&&(r===null&&n.image!==void 0&&(r=n.image.key),s===null&&(s=e.gid-n.firstgid),a.scene.textures.getFrame(r,s)||(r=null,s=null))}a.setTexture(r,s)},setPropertiesFromTiledObject:function(a,r){if(this.gids!==void 0&&r.gid!==void 0){var s=this.gids[r.gid];s!==void 0&&this.setFromJSON(a,s.getTileProperties(r.gid))}this.setFromJSON(a,r.properties)},setFromJSON:function(a,r){if(r){if(Array.isArray(r)){for(var s=0;s<r.length;s++){var e=r[s];a[e.name]!==void 0?a[e.name]=e.value:a.setData(e.name,e.value)}return}for(var n in r)a[n]!==void 0?a[n]=r[n]:a.setData(n,r[n])}}});p.exports=v},31989:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(80341),v=t(87010),a=t(46177),r=t(49075),s=function(e,n,h,i,o,f,u,d){h===void 0&&(h=32),i===void 0&&(i=32),o===void 0&&(o=10),f===void 0&&(f=10),d===void 0&&(d=!1);var c=null;if(Array.isArray(u)){var m=n!==void 0?n:"map";c=a(m,l.ARRAY_2D,u,h,i,d)}else if(n!==void 0){var x=e.cache.tilemap.get(n);x?c=a(n,x.format,x.data,h,i,d):console.warn("No map data found for key "+n)}return c===null&&(c=new v({tileWidth:h,tileHeight:i,width:o,height:f})),new r(e,c)};p.exports=s},23029:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(91907),r=t(62644),s=t(93232),e=new l({Mixins:[v.AlphaSingle,v.Flip,v.Visible],initialize:function(h,i,o,f,u,d,c,m){this.layer=h,this.index=i,this.x=o,this.y=f,this.width=u,this.height=d,this.right,this.bottom,this.baseWidth=c!==void 0?c:u,this.baseHeight=m!==void 0?m:d,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(n,h){return!(n<this.pixelX||h<this.pixelY||n>this.right||h>this.bottom)},copy:function(n){return this.index=n.index,this.alpha=n.alpha,this.properties=r(n.properties),this.visible=n.visible,this.setFlip(n.flipX,n.flipY),this.tint=n.tint,this.rotation=n.rotation,this.collideUp=n.collideUp,this.collideDown=n.collideDown,this.collideLeft=n.collideLeft,this.collideRight=n.collideRight,this.collisionCallback=n.collisionCallback,this.collisionCallbackContext=n.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(n){var h=this.tilemapLayer;if(h){var i=h.tileToWorldXY(this.x,this.y,void 0,n);return i.x}return this.x*this.baseWidth},getRight:function(n){var h=this.tilemapLayer;return h?this.getLeft(n)+this.width*h.scaleX:this.getLeft(n)+this.width},getTop:function(n){var h=this.tilemapLayer;if(h){var i=h.tileToWorldXY(this.x,this.y,void 0,n);return i.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(n){var h=this.tilemapLayer;return h?this.getTop(n)+this.height*h.scaleY:this.getTop(n)+this.height},getBounds:function(n,h){return h===void 0&&(h=new s),h.x=this.getLeft(n),h.y=this.getTop(n),h.width=this.getRight(n)-h.x,h.height=this.getBottom(n)-h.y,h},getCenterX:function(n){return(this.getLeft(n)+this.getRight(n))/2},getCenterY:function(n){return(this.getTop(n)+this.getBottom(n))/2},intersects:function(n,h,i,o){return!(i<=this.pixelX||o<=this.pixelY||n>=this.right||h>=this.bottom)},isInteresting:function(n,h){return n&&h?this.canCollide||this.hasInterestingFace:n?this.collides:h?this.hasInterestingFace:!1},resetCollision:function(n){if(n===void 0&&(n=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,n){var h=this.tilemapLayer;h&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(n,h,i,o,f){if(h===void 0&&(h=n),i===void 0&&(i=n),o===void 0&&(o=n),f===void 0&&(f=!0),this.collideLeft=n,this.collideRight=h,this.collideUp=i,this.collideDown=o,this.faceLeft=n,this.faceRight=h,this.faceTop=i,this.faceBottom=o,f){var u=this.tilemapLayer;u&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(n,h){return n===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=n,this.collisionCallbackContext=h),this},setSize:function(n,h,i,o){return n!==void 0&&(this.width=n),h!==void 0&&(this.height=h),i!==void 0&&(this.baseWidth=i),o!==void 0&&(this.baseHeight=o),this.updatePixelXY(),this},updatePixelXY:function(){var n=this.layer.orientation;if(n===a.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(n===a.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(n===a.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(n===a.HEXAGONAL){var h=this.layer.staggerAxis,i=this.layer.staggerIndex,o=this.layer.hexSideLength,f,u;h==="y"?(u=(this.baseHeight-o)/2+o,i==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*u):h==="x"&&(f=(this.baseWidth-o)/2+o,this.pixelX=this.x*f,i==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var n=this.layer.tilemapLayer;if(n){var h=n.gidMap[this.index];if(h)return h}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var n=this.tilemapLayer;return n?n.tilemap:null}}});p.exports=e},49075:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84101),v=t(83419),a=t(39506),r=t(80341),s=t(95540),e=t(14977),n=t(27462),h=t(91907),i=t(36305),o=t(19133),f=t(68287),u=t(23029),d=t(81086),c=t(20442),m=t(33629),x=new v({initialize:function(T,S){this.scene=T,this.tileWidth=S.tileWidth,this.tileHeight=S.tileHeight,this.width=S.width,this.height=S.height,this.orientation=S.orientation,this.renderOrder=S.renderOrder,this.format=S.format,this.version=S.version,this.properties=S.properties,this.widthInPixels=S.widthInPixels,this.heightInPixels=S.heightInPixels,this.imageCollections=S.imageCollections,this.images=S.images,this.layers=S.layers,this.tiles=S.tiles,this.tilesets=S.tilesets,this.objects=S.objects,this.currentLayerIndex=0,this.hexSideLength=S.hexSideLength;var E=this.orientation;this._convert={WorldToTileXY:d.GetWorldToTileXYFunction(E),WorldToTileX:d.GetWorldToTileXFunction(E),WorldToTileY:d.GetWorldToTileYFunction(E),TileToWorldXY:d.GetTileToWorldXYFunction(E),TileToWorldX:d.GetTileToWorldXFunction(E),TileToWorldY:d.GetTileToWorldYFunction(E),GetTileCorners:d.GetTileCornersFunction(E)}},setRenderOrder:function(g){var T=["right-down","left-down","right-up","left-up"];return typeof g=="number"&&(g=T[g]),T.indexOf(g)>-1&&(this.renderOrder=g),this},addTilesetImage:function(g,T,S,E,P,F,R,M){if(g===void 0)return null;T==null&&(T=g);var O=this.scene.sys.textures;if(!O.exists(T))return console.warn('Texture key "%s" not found',T),null;var I=O.get(T),V=this.getTilesetIndex(g);if(V===null&&this.format===r.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',g,this.tilesets),null;var X=this.tilesets[V];return X?(X.setTileSize(S,E),X.setSpacing(P,F),X.setImage(I),X):(S===void 0&&(S=this.tileWidth),E===void 0&&(E=this.tileHeight),P===void 0&&(P=0),F===void 0&&(F=0),R===void 0&&(R=0),M===void 0&&(M={x:0,y:0}),X=new m(g,R,S,E,P,F,void 0,void 0,M),X.setImage(I),this.tilesets.push(X),this.tiles=l(this),X)},copy:function(g,T,S,E,P,F,R,M){return M=this.getLayer(M),M!==null?(d.Copy(g,T,S,E,P,F,R,M),this):null},createBlankLayer:function(g,T,S,E,P,F,R,M){S===void 0&&(S=0),E===void 0&&(E=0),P===void 0&&(P=this.width),F===void 0&&(F=this.height),R===void 0&&(R=this.tileWidth),M===void 0&&(M=this.tileHeight);var O=this.getLayerIndex(g);if(O!==null)return console.warn("Invalid Tilemap Layer ID: "+g),null;for(var I=new e({name:g,tileWidth:R,tileHeight:M,width:P,height:F,orientation:this.orientation}),V,X=0;X<F;X++){V=[];for(var z=0;z<P;z++)V.push(new u(I,-1,z,X,R,M,this.tileWidth,this.tileHeight));I.data.push(V)}this.layers.push(I),this.currentLayerIndex=this.layers.length-1;var Z=new c(this.scene,this,this.currentLayerIndex,T,S,E);return Z.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(Z),Z},createLayer:function(g,T,S,E){var P=this.getLayerIndex(g);if(P===null)return console.warn("Invalid Tilemap Layer ID: "+g),typeof g=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var F=this.layers[P];if(F.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+g),null;this.currentLayerIndex=P,S===void 0&&(S=F.x),E===void 0&&(E=F.y);var R=new c(this.scene,this,P,T,S,E);return R.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(R),R},createFromObjects:function(g,T,S){S===void 0&&(S=!0);var E=[],P=this.getObjectLayer(g);if(!P)return console.warn("createFromObjects: Invalid objectLayerName given: "+g),E;var F=new n(S?this.tilesets:void 0);Array.isArray(T)||(T=[T]);for(var R=P.objects,M=0;M<T.length;M++){var O=T[M],I=s(O,"id",null),V=s(O,"gid",null),X=s(O,"name",null),z=s(O,"type",null);F.enabled=!s(O,"ignoreTileset",null);for(var Z,N=[],Y=0;Y<R.length;Y++)Z=R[Y],(I===null&&V===null&&X===null&&z===null||I!==null&&Z.id===I||V!==null&&Z.gid===V||X!==null&&Z.name===X||z!==null&&F.getTypeIncludingTile(Z)===z)&&N.push(Z);for(var L=s(O,"classType",f),b=s(O,"scene",this.scene),U=s(O,"container",null),W=s(O,"key",null),j=s(O,"frame",null),Q=0;Q<N.length;Q++){Z=N[Q];var _=new L(b);if(_.setName(Z.name),_.setPosition(Z.x,Z.y),F.setTextureAndFrame(_,W,j,Z),Z.width&&(_.displayWidth=Z.width),Z.height&&(_.displayHeight=Z.height),this.orientation===h.ISOMETRIC){var et=this.tileWidth/this.tileHeight,st={x:_.x-_.y,y:(_.x+_.y)/et};_.x=st.x,_.y=st.y}var ct={x:_.originX*Z.width,y:(_.originY-(Z.gid?1:0))*Z.height};if(Z.rotation){var gt=a(Z.rotation);i(ct,gt),_.rotation=gt}_.x+=ct.x,_.y+=ct.y,(Z.flippedHorizontal!==void 0||Z.flippedVertical!==void 0)&&_.setFlip(Z.flippedHorizontal,Z.flippedVertical),Z.visible||(_.visible=!1),F.setPropertiesFromTiledObject(_,Z),U?U.add(_):b.add.existing(_),E.push(_)}}return E},createFromTiles:function(g,T,S,E,P,F){return F=this.getLayer(F),F===null?null:d.CreateFromTiles(g,T,S,E,P,F)},fill:function(g,T,S,E,P,F,R){return F===void 0&&(F=!0),R=this.getLayer(R),R===null?null:(d.Fill(g,T,S,E,P,F,R),this)},filterObjects:function(g,T,S){if(typeof g=="string"){var E=g;if(g=this.getObjectLayer(g),!g)return console.warn("No object layer found with the name: "+E),null}return g.objects.filter(T,S)},filterTiles:function(g,T,S,E,P,F,R,M){return M=this.getLayer(M),M===null?null:d.FilterTiles(g,T,S,E,P,F,R,M)},findByIndex:function(g,T,S,E){return E=this.getLayer(E),E===null?null:d.FindByIndex(g,T,S,E)},findObject:function(g,T,S){if(typeof g=="string"){var E=g;if(g=this.getObjectLayer(g),!g)return console.warn("No object layer found with the name: "+E),null}return g.objects.find(T,S)||null},findTile:function(g,T,S,E,P,F,R,M){return M=this.getLayer(M),M===null?null:d.FindTile(g,T,S,E,P,F,R,M)},forEachTile:function(g,T,S,E,P,F,R,M){return M=this.getLayer(M),M===null?null:(d.ForEachTile(g,T,S,E,P,F,R,M),this)},getImageIndex:function(g){return this.getIndex(this.images,g)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(g){return g.name})},getIndex:function(g,T){for(var S=0;S<g.length;S++)if(g[S].name===T)return S;return null},getLayer:function(g){var T=this.getLayerIndex(g);return T!==null?this.layers[T]:null},getObjectLayer:function(g){var T=this.getIndex(this.objects,g);return T!==null?this.objects[T]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(g){return g.name})},getLayerIndex:function(g){return g===void 0?this.currentLayerIndex:typeof g=="string"?this.getLayerIndexByName(g):typeof g=="number"&&g<this.layers.length?g:g instanceof c&&g.tilemap===this?g.layerIndex:null},getLayerIndexByName:function(g){return this.getIndex(this.layers,g)},getTileAt:function(g,T,S,E){return E=this.getLayer(E),E===null?null:d.GetTileAt(g,T,S,E)},getTileAtWorldXY:function(g,T,S,E,P){return P=this.getLayer(P),P===null?null:d.GetTileAtWorldXY(g,T,S,E,P)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(g){return g.name})},getTilesWithin:function(g,T,S,E,P,F){return F=this.getLayer(F),F===null?null:d.GetTilesWithin(g,T,S,E,P,F)},getTilesWithinShape:function(g,T,S,E){return E=this.getLayer(E),E===null?null:d.GetTilesWithinShape(g,T,S,E)},getTilesWithinWorldXY:function(g,T,S,E,P,F,R){return R=this.getLayer(R),R===null?null:d.GetTilesWithinWorldXY(g,T,S,E,P,F,R)},getTileset:function(g){var T=this.getIndex(this.tilesets,g);return T!==null?this.tilesets[T]:null},getTilesetIndex:function(g){return this.getIndex(this.tilesets,g)},hasTileAt:function(g,T,S){return S=this.getLayer(S),S===null?null:d.HasTileAt(g,T,S)},hasTileAtWorldXY:function(g,T,S,E){return E=this.getLayer(E),E===null?null:d.HasTileAtWorldXY(g,T,S,E)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(g){this.setLayer(g)}},putTileAt:function(g,T,S,E,P){return E===void 0&&(E=!0),P=this.getLayer(P),P===null?null:d.PutTileAt(g,T,S,E,P)},putTileAtWorldXY:function(g,T,S,E,P,F){return E===void 0&&(E=!0),F=this.getLayer(F),F===null?null:d.PutTileAtWorldXY(g,T,S,E,P,F)},putTilesAt:function(g,T,S,E,P){return E===void 0&&(E=!0),P=this.getLayer(P),P===null?null:(d.PutTilesAt(g,T,S,E,P),this)},randomize:function(g,T,S,E,P,F){return F=this.getLayer(F),F===null?null:(d.Randomize(g,T,S,E,P,F),this)},calculateFacesAt:function(g,T,S){return S=this.getLayer(S),S===null?null:(d.CalculateFacesAt(g,T,S),this)},calculateFacesWithin:function(g,T,S,E,P){return P=this.getLayer(P),P===null?null:(d.CalculateFacesWithin(g,T,S,E,P),this)},removeLayer:function(g){var T=this.getLayerIndex(g);if(T!==null){o(this.layers,T);for(var S=T;S<this.layers.length;S++)this.layers[S].tilemapLayer&&this.layers[S].tilemapLayer.layerIndex--;return this.currentLayerIndex===T&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(g){var T=this.getLayerIndex(g);return T!==null?(g=this.layers[T],g.tilemapLayer.destroy(),o(this.layers,T),this.currentLayerIndex===T&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var g=this.layers,T=0;T<g.length;T++)g[T].tilemapLayer&&g[T].tilemapLayer.destroy(!1);return g.length=0,this.currentLayerIndex=0,this},removeTile:function(g,T,S){T===void 0&&(T=-1),S===void 0&&(S=!0);var E=[];Array.isArray(g)||(g=[g]);for(var P=0;P<g.length;P++){var F=g[P];E.push(this.removeTileAt(F.x,F.y,!0,S,F.tilemapLayer)),T>-1&&this.putTileAt(T,F.x,F.y,S,F.tilemapLayer)}return E},removeTileAt:function(g,T,S,E,P){return S===void 0&&(S=!0),E===void 0&&(E=!0),P=this.getLayer(P),P===null?null:d.RemoveTileAt(g,T,S,E,P)},removeTileAtWorldXY:function(g,T,S,E,P,F){return S===void 0&&(S=!0),E===void 0&&(E=!0),F=this.getLayer(F),F===null?null:d.RemoveTileAtWorldXY(g,T,S,E,P,F)},renderDebug:function(g,T,S){return S=this.getLayer(S),S===null?null:(this.orientation===h.ORTHOGONAL&&d.RenderDebug(g,T,S),this)},renderDebugFull:function(g,T){for(var S=this.layers,E=0;E<S.length;E++)d.RenderDebug(g,T,S[E]);return this},replaceByIndex:function(g,T,S,E,P,F,R){return R=this.getLayer(R),R===null?null:(d.ReplaceByIndex(g,T,S,E,P,F,R),this)},setCollision:function(g,T,S,E,P){return T===void 0&&(T=!0),S===void 0&&(S=!0),P===void 0&&(P=!0),E=this.getLayer(E),E===null?null:(d.SetCollision(g,T,S,E,P),this)},setCollisionBetween:function(g,T,S,E,P){return S===void 0&&(S=!0),E===void 0&&(E=!0),P=this.getLayer(P),P===null?null:(d.SetCollisionBetween(g,T,S,E,P),this)},setCollisionByProperty:function(g,T,S,E){return T===void 0&&(T=!0),S===void 0&&(S=!0),E=this.getLayer(E),E===null?null:(d.SetCollisionByProperty(g,T,S,E),this)},setCollisionByExclusion:function(g,T,S,E){return T===void 0&&(T=!0),S===void 0&&(S=!0),E=this.getLayer(E),E===null?null:(d.SetCollisionByExclusion(g,T,S,E),this)},setCollisionFromCollisionGroup:function(g,T,S){return g===void 0&&(g=!0),T===void 0&&(T=!0),S=this.getLayer(S),S===null?null:(d.SetCollisionFromCollisionGroup(g,T,S),this)},setTileIndexCallback:function(g,T,S,E){return E=this.getLayer(E),E===null?null:(d.SetTileIndexCallback(g,T,S,E),this)},setTileLocationCallback:function(g,T,S,E,P,F,R){return R=this.getLayer(R),R===null?null:(d.SetTileLocationCallback(g,T,S,E,P,F,R),this)},setLayer:function(g){var T=this.getLayerIndex(g);return T!==null&&(this.currentLayerIndex=T),this},setBaseTileSize:function(g,T){this.tileWidth=g,this.tileHeight=T,this.widthInPixels=this.width*g,this.heightInPixels=this.height*T;for(var S=0;S<this.layers.length;S++){this.layers[S].baseTileWidth=g,this.layers[S].baseTileHeight=T;for(var E=this.layers[S].data,P=this.layers[S].width,F=this.layers[S].height,R=0;R<F;R++)for(var M=0;M<P;M++){var O=E[R][M];O!==null&&O.setSize(void 0,void 0,g,T)}}return this},setLayerTileSize:function(g,T,S){if(S=this.getLayer(S),S===null)return this;S.tileWidth=g,S.tileHeight=T;for(var E=S.data,P=S.width,F=S.height,R=0;R<F;R++)for(var M=0;M<P;M++){var O=E[R][M];O!==null&&O.setSize(g,T)}return this},shuffle:function(g,T,S,E,P){return P=this.getLayer(P),P===null?null:(d.Shuffle(g,T,S,E,P),this)},swapByIndex:function(g,T,S,E,P,F,R){return R=this.getLayer(R),R===null?null:(d.SwapByIndex(g,T,S,E,P,F,R),this)},tileToWorldX:function(g,T,S){return S=this.getLayer(S),S===null?null:this._convert.TileToWorldX(g,T,S)},tileToWorldY:function(g,T,S){return S=this.getLayer(S),S===null?null:this._convert.TileToWorldY(g,T,S)},tileToWorldXY:function(g,T,S,E,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldXY(g,T,S,E,P)},getTileCorners:function(g,T,S,E){return E=this.getLayer(E),E===null?null:this._convert.GetTileCorners(g,T,S,E)},weightedRandomize:function(g,T,S,E,P,F){return F=this.getLayer(F),F===null?null:(d.WeightedRandomize(T,S,E,P,g,F),this)},worldToTileX:function(g,T,S,E){return E=this.getLayer(E),E===null?null:this._convert.WorldToTileX(g,T,S,E)},worldToTileY:function(g,T,S,E){return E=this.getLayer(E),E===null?null:this._convert.WorldToTileY(g,T,S,E)},worldToTileXY:function(g,T,S,E,P,F){return F=this.getLayer(F),F===null?null:this._convert.WorldToTileXY(g,T,S,E,P,F)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});p.exports=x},45939:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44603),v=t(31989);l.register("tilemap",function(a){var r=a!==void 0?a:{};return v(this.scene,r.key,r.tileWidth,r.tileHeight,r.width,r.height,r.data,r.insertNull)})},46029:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(31989);l.register("tilemap",function(a,r,s,e,n,h,i){return a===null&&(a=void 0),r===null&&(r=void 0),s===null&&(s=void 0),e===null&&(e=void 0),n===null&&(n=void 0),v(this.scene,a,r,s,e,n,h,i)})},20442:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(78389),a=t(31401),r=t(95643),s=t(81086),e=t(19218),n=t(26099),h=new l({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,v,e],initialize:function(o,f,u,d,c,m){r.call(this,o,"TilemapLayer"),this.isTilemap=!0,this.tilemap=f,this.layerIndex=u,this.layer=f.layers[u],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=s.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new n,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(d),this.setAlpha(this.layer.alpha),this.setPosition(c,m),this.setOrigin(0,0),this.setSize(f.tileWidth*this.layer.width,f.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(i){var o=[],f=[],u=this.tilemap;Array.isArray(i)||(i=[i]);for(var d=0;d<i.length;d++){var c=i[d];if(typeof c=="string"&&(c=u.getTileset(c)),c){f.push(c);for(var m=c.firstgid,x=0;x<c.total;x++)o[m+x]=c}}this.gidMap=o,this.tileset=f},setRenderOrder:function(i){var o=["right-down","left-down","right-up","left-up"];return typeof i=="string"&&(i=o.indexOf(i)),i>=0&&i<4&&(this._renderOrder=i),this},calculateFacesAt:function(i,o){return s.CalculateFacesAt(i,o,this.layer),this},calculateFacesWithin:function(i,o,f,u){return s.CalculateFacesWithin(i,o,f,u,this.layer),this},createFromTiles:function(i,o,f,u,d){return s.CreateFromTiles(i,o,f,u,d,this.layer)},cull:function(i){return this.cullCallback(this.layer,i,this.culledTiles,this._renderOrder)},copy:function(i,o,f,u,d,c,m){return s.Copy(i,o,f,u,d,c,m,this.layer),this},fill:function(i,o,f,u,d,c){return s.Fill(i,o,f,u,d,c,this.layer),this},filterTiles:function(i,o,f,u,d,c,m){return s.FilterTiles(i,o,f,u,d,c,m,this.layer)},findByIndex:function(i,o,f){return s.FindByIndex(i,o,f,this.layer)},findTile:function(i,o,f,u,d,c,m){return s.FindTile(i,o,f,u,d,c,m,this.layer)},forEachTile:function(i,o,f,u,d,c,m){return s.ForEachTile(i,o,f,u,d,c,m,this.layer),this},setTint:function(i,o,f,u,d,c){i===void 0&&(i=16777215);var m=function(x){x.tint=i,x.tintFill=!1};return this.forEachTile(m,this,o,f,u,d,c)},setTintFill:function(i,o,f,u,d,c){i===void 0&&(i=16777215);var m=function(x){x.tint=i,x.tintFill=!0};return this.forEachTile(m,this,o,f,u,d,c)},getTileAt:function(i,o,f){return s.GetTileAt(i,o,f,this.layer)},getTileAtWorldXY:function(i,o,f,u){return s.GetTileAtWorldXY(i,o,f,u,this.layer)},getIsoTileAtWorldXY:function(i,o,f,u,d){f===void 0&&(f=!0);var c=this.tempVec;return s.IsometricWorldToTileXY(i,o,!0,c,d,this.layer,f),this.getTileAt(c.x,c.y,u)},getTilesWithin:function(i,o,f,u,d){return s.GetTilesWithin(i,o,f,u,d,this.layer)},getTilesWithinShape:function(i,o,f){return s.GetTilesWithinShape(i,o,f,this.layer)},getTilesWithinWorldXY:function(i,o,f,u,d,c){return s.GetTilesWithinWorldXY(i,o,f,u,d,c,this.layer)},hasTileAt:function(i,o){return s.HasTileAt(i,o,this.layer)},hasTileAtWorldXY:function(i,o,f){return s.HasTileAtWorldXY(i,o,f,this.layer)},putTileAt:function(i,o,f,u){return s.PutTileAt(i,o,f,u,this.layer)},putTileAtWorldXY:function(i,o,f,u,d){return s.PutTileAtWorldXY(i,o,f,u,d,this.layer)},putTilesAt:function(i,o,f,u){return s.PutTilesAt(i,o,f,u,this.layer),this},randomize:function(i,o,f,u,d){return s.Randomize(i,o,f,u,d,this.layer),this},removeTileAt:function(i,o,f,u){return s.RemoveTileAt(i,o,f,u,this.layer)},removeTileAtWorldXY:function(i,o,f,u,d){return s.RemoveTileAtWorldXY(i,o,f,u,d,this.layer)},renderDebug:function(i,o){return s.RenderDebug(i,o,this.layer),this},replaceByIndex:function(i,o,f,u,d,c){return s.ReplaceByIndex(i,o,f,u,d,c,this.layer),this},setSkipCull:function(i){return i===void 0&&(i=!0),this.skipCull=i,this},setCullPadding:function(i,o){return i===void 0&&(i=1),o===void 0&&(o=1),this.cullPaddingX=i,this.cullPaddingY=o,this},setCollision:function(i,o,f,u){return s.SetCollision(i,o,f,this.layer,u),this},setCollisionBetween:function(i,o,f,u){return s.SetCollisionBetween(i,o,f,u,this.layer),this},setCollisionByProperty:function(i,o,f){return s.SetCollisionByProperty(i,o,f,this.layer),this},setCollisionByExclusion:function(i,o,f){return s.SetCollisionByExclusion(i,o,f,this.layer),this},setCollisionFromCollisionGroup:function(i,o){return s.SetCollisionFromCollisionGroup(i,o,this.layer),this},setTileIndexCallback:function(i,o,f){return s.SetTileIndexCallback(i,o,f,this.layer),this},setTileLocationCallback:function(i,o,f,u,d,c){return s.SetTileLocationCallback(i,o,f,u,d,c,this.layer),this},shuffle:function(i,o,f,u){return s.Shuffle(i,o,f,u,this.layer),this},swapByIndex:function(i,o,f,u,d,c){return s.SwapByIndex(i,o,f,u,d,c,this.layer),this},tileToWorldX:function(i,o){return this.tilemap.tileToWorldX(i,o,this)},tileToWorldY:function(i,o){return this.tilemap.tileToWorldY(i,o,this)},tileToWorldXY:function(i,o,f,u){return this.tilemap.tileToWorldXY(i,o,f,u,this)},getTileCorners:function(i,o,f){return this.tilemap.getTileCorners(i,o,f,this)},weightedRandomize:function(i,o,f,u,d){return s.WeightedRandomize(o,f,u,d,i,this.layer),this},worldToTileX:function(i,o,f){return this.tilemap.worldToTileX(i,o,f,this)},worldToTileY:function(i,o,f){return this.tilemap.worldToTileY(i,o,f,this)},worldToTileXY:function(i,o,f,u,d){return this.tilemap.worldToTileXY(i,o,f,u,d,this)},destroy:function(i){i===void 0&&(i=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),i&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],r.prototype.destroy.call(this))}});p.exports=h},16153:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61340),v=new l,a=new l,r=new l,s=function(e,n,h,i){var o=n.cull(h),f=o.length,u=h.alpha*n.alpha;if(!(f===0||u<=0)){var d=v,c=a,m=r;c.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),d.copyFrom(h.matrix);var x=e.currentContext,g=n.gidMap;x.save(),i?(d.multiplyWithOffset(i,-h.scrollX*n.scrollFactorX,-h.scrollY*n.scrollFactorY),c.e=n.x,c.f=n.y,d.multiply(c,m),m.copyToContext(x)):(c.e-=h.scrollX*n.scrollFactorX,c.f-=h.scrollY*n.scrollFactorY,c.copyToContext(x)),(!e.antialias||n.scaleX>1||n.scaleY>1)&&(x.imageSmoothingEnabled=!1);for(var T=0;T<f;T++){var S=o[T],E=g[S.index];if(E){var P=E.image.getSourceImage(),F=E.getTileTextureCoordinates(S.index),R=E.tileWidth,M=E.tileHeight;if(!(F===null||R===0||M===0)){var O=R*.5,I=M*.5;F.x+=E.tileOffset.x,F.y+=E.tileOffset.y,x.save(),x.translate(S.pixelX+O,S.pixelY+I),S.rotation!==0&&x.rotate(S.rotation),(S.flipX||S.flipY)&&x.scale(S.flipX?-1:1,S.flipY?-1:1),x.globalAlpha=u*S.alpha,x.drawImage(P,F.x,F.y,R,M,-O,-I,R,M),x.restore()}}}x.restore()}};p.exports=s},19218:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(99558),a=t(16153),p.exports={renderWebGL:v,renderCanvas:a}},99558:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70554),v=function(a,r,s){var e=r.cull(s),n=e.length,h=s.alpha*r.alpha;if(!(n===0||h<=0)){var i=r.gidMap,o=a.pipelines.set(r.pipeline,r),f=l.getTintAppendFloatAlpha,u=r.scrollFactorX,d=r.scrollFactorY,c=r.x,m=r.y,x=r.scaleX,g=r.scaleY;a.pipelines.preBatch(r);for(var T=0;T<n;T++){var S=e[T],E=i[S.index];if(E){var P=E.getTileTextureCoordinates(S.index),F=E.tileWidth,R=E.tileHeight;if(!(!P||F===0||R===0)){var M=F*.5,O=R*.5,I=E.glTexture,V=o.setTexture2D(I,r),X=F,z=R,Z=P.x,N=P.y,Y=E.tileOffset.x,L=E.tileOffset.y,b=f(S.tint,h*S.alpha);o.batchTexture(r,I,I.width,I.height,c+S.pixelX*x+(M*x-Y),m+S.pixelY*g+(O*g-L),F,R,x,g,S.rotation,S.flipX,S.flipY,u,d,M,O,Z,N,X,z,b,b,b,b,S.tintFill,0,0,s,null,!0,V,!0)}}}a.pipelines.postBatch(r)}};p.exports=v},33629:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(26099),a=new l({initialize:function(s,e,n,h,i,o,f,u,d){(n===void 0||n<=0)&&(n=32),(h===void 0||h<=0)&&(h=32),i===void 0&&(i=0),o===void 0&&(o=0),f===void 0&&(f={}),u===void 0&&(u={}),this.name=s,this.firstgid=e,this.tileWidth=n,this.tileHeight=h,this.tileMargin=i,this.tileSpacing=o,this.tileProperties=f,this.tileData=u,this.tileOffset=new v,d!==void 0&&this.tileOffset.set(d.x,d.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(r){return this.containsTileIndex(r)?this.tileProperties[r-this.firstgid]:null},getTileData:function(r){return this.containsTileIndex(r)?this.tileData[r-this.firstgid]:null},getTileCollisionGroup:function(r){var s=this.getTileData(r);return s&&s.objectgroup?s.objectgroup:null},containsTileIndex:function(r){return r>=this.firstgid&&r<this.firstgid+this.total},getTileTextureCoordinates:function(r){return this.containsTileIndex(r)?this.texCoordinates[r-this.firstgid]:null},setImage:function(r){this.image=r;var s=r.get(),e=r.getFrameBounds();return this.glTexture=s.source.glTexture,s.width>e.width||s.height>e.height?this.updateTileData(s.width,s.height):this.updateTileData(e.width,e.height,e.x,e.y),this},setTileSize:function(r,s){return r!==void 0&&(this.tileWidth=r),s!==void 0&&(this.tileHeight=s),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(r,s){return r!==void 0&&(this.tileMargin=r),s!==void 0&&(this.tileSpacing=s),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(r,s,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var h=(s-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),i=(r-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(h%1!==0||i%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),h=Math.floor(h),i=Math.floor(i),this.rows=h,this.columns=i,this.total=h*i,this.texCoordinates.length=0;for(var o=this.tileMargin+e,f=this.tileMargin+n,u=0;u<this.rows;u++){for(var d=0;d<this.columns;d++)this.texCoordinates.push({x:o,y:f}),o+=this.tileWidth+this.tileSpacing;o=this.tileMargin+e,f+=this.tileHeight+this.tileSpacing}return this}});p.exports=a},72023:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7423),v=function(a,r,s){var e=l(a,r,!0,s),n=l(a,r-1,!0,s),h=l(a,r+1,!0,s),i=l(a-1,r,!0,s),o=l(a+1,r,!0,s),f=e&&e.collides;return f&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),n&&n.collides&&(f&&(e.faceTop=!1),n.faceBottom=!f),h&&h.collides&&(f&&(e.faceBottom=!1),h.faceTop=!f),i&&i.collides&&(f&&(e.faceLeft=!1),i.faceRight=!f),o&&o.collides&&(f&&(e.faceRight=!1),o.faceLeft=!f),e&&!e.collides&&e.resetFaces(),e};p.exports=v},42573:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7423),v=t(7386),a=function(r,s,e,n,h){for(var i=null,o=null,f=null,u=null,d=v(r,s,e,n,null,h),c=0;c<d.length;c++){var m=d[c];m&&(m.collides?(i=l(m.x,m.y-1,!0,h),o=l(m.x,m.y+1,!0,h),f=l(m.x-1,m.y,!0,h),u=l(m.x+1,m.y,!0,h),m.faceTop=!(i&&i.collides),m.faceBottom=!(o&&o.collides),m.faceLeft=!(f&&f.collides),m.faceRight=!(u&&u.collides)):m.resetFaces())}};p.exports=a},33528:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=new l,a=function(r,s,e,n){var h=e.tilemapLayer,i=h.cullPaddingX,o=h.cullPaddingY,f=h.tilemap.tileToWorldXY(r,s,v,n,h);return f.x>n.worldView.x+h.scaleX*e.tileWidth*(-i-.5)&&f.x<n.worldView.right+h.scaleX*e.tileWidth*(i-.5)&&f.y>n.worldView.y+h.scaleY*e.tileHeight*(-o-1)&&f.y<n.worldView.bottom+h.scaleY*e.tileHeight*(o-.5)};p.exports=a},1785:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42573),v=t(7386),a=t(62991),r=t(23029),s=function(e,n,h,i,o,f,u,d){u===void 0&&(u=!0);var c=v(e,n,h,i,null,d),m=[];c.forEach(function(F){var R=new r(F.layer,F.index,F.x,F.y,F.width,F.height,F.baseWidth,F.baseHeight);R.copy(F),m.push(R)});for(var x=o-e,g=f-n,T=0;T<m.length;T++){var S=m[T],E=S.x+x,P=S.y+g;a(E,P,d)&&d.data[P][E]&&(S.x=E,S.y=P,S.updatePixelXY(),d.data[P][E]=S)}u&&l(o-1,f-1,h+2,i+2,d),c.length=0,m.length=0};p.exports=s},78419:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62644),v=t(7386),a=t(27987),r=function(s,e,n,h,i,o){n||(n={}),Array.isArray(s)||(s=[s]);var f=o.tilemapLayer;h||(h=f.scene),i||(i=h.cameras.main);var u=o.width,d=o.height,c=v(0,0,u,d,null,o),m=[],x,g=function(P,F,R){for(var M=0;M<R.length;M++){var O=R[M];P.hasOwnProperty(O)||(P[O]=F[O])}};for(x=0;x<c.length;x++){var T=c[x],S=l(n);if(s.indexOf(T.index)!==-1){var E=f.tileToWorldXY(T.x,T.y,void 0,i,o);S.x=E.x,S.y=E.y,g(S,T,["rotation","flipX","flipY","alpha","visible","tint"]),S.hasOwnProperty("origin")||(S.x+=T.width*.5,S.y+=T.height*.5),S.hasOwnProperty("useSpriteSheet")&&(S.key=T.tileset.image,S.frame=T.index-1),m.push(h.make.sprite(S))}}if(Array.isArray(e))for(x=0;x<s.length;x++)a(s[x],e[x],0,0,u,d,o);else if(e!==null)for(x=0;x<s.length;x++)a(s[x],e,0,0,u,d,o);return m};p.exports=r},19545:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=t(63448),a=t(56583),r=new l,s=function(e,n){var h=e.tilemapLayer.tilemap,i=e.tilemapLayer,o=Math.floor(h.tileWidth*i.scaleX),f=Math.floor(h.tileHeight*i.scaleY),u=a(n.worldView.x-i.x,o,0,!0)-i.cullPaddingX,d=v(n.worldView.right-i.x,o,0,!0)+i.cullPaddingX,c=a(n.worldView.y-i.y,f,0,!0)-i.cullPaddingY,m=v(n.worldView.bottom-i.y,f,0,!0)+i.cullPaddingY;return r.setTo(u,c,d-u,m-c)};p.exports=s},30003:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19545),v=t(32483),a=function(r,s,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var h=r.tilemapLayer,i=l(r,s);return(h.skipCull||h.scrollFactorX!==1||h.scrollFactorY!==1)&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),v(r,i,n,e),e};p.exports=a},35137:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=t(42573),a=t(20576),r=function(s,e,n,h,i,o,f){for(var u=f.collideIndexes.indexOf(s)!==-1,d=l(e,n,h,i,null,f),c=0;c<d.length;c++)d[c].index=s,a(d[c],u);o&&v(e-1,n-1,h+2,i+2,f)};p.exports=r},40253:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=function(a,r,s,e,n,h,i,o){var f=l(s,e,n,h,i,o);return f.filter(a,r)};p.exports=v},52692:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){l===void 0&&(l=0),v===void 0&&(v=!1);var r=0,s,e,n;if(v){for(e=a.height-1;e>=0;e--)for(s=a.width-1;s>=0;s--)if(n=a.data[e][s],n&&n.index===t){if(r===l)return n;r+=1}}else for(e=0;e<a.height;e++)for(s=0;s<a.width;s++)if(n=a.data[e][s],n&&n.index===t){if(r===l)return n;r+=1}return null};p.exports=y},66151:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=function(a,r,s,e,n,h,i,o){var f=l(s,e,n,h,i,o);return f.find(a,r)||null};p.exports=v},97560:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=function(a,r,s,e,n,h,i,o){var f=l(s,e,n,h,i,o);f.forEach(a,r)};p.exports=v},43305:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),v=t(30003),a=t(9474),r=t(14018),s=t(29747),e=t(54503),n=function(h){return h===l.ORTHOGONAL?v:h===l.HEXAGONAL?a:h===l.STAGGERED?e:h===l.ISOMETRIC?r:s};p.exports=n},7423:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62991),v=function(a,r,s,e){if(s===void 0&&(s=!1),l(a,r,e)){var n=e.data[r][a]||null;return n?n.index===-1?s?n:null:n:null}else return null};p.exports=v},60540:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7423),v=t(26099),a=new v,r=function(s,e,n,h,i){return i.tilemapLayer.worldToTileXY(s,e,!0,a,h),l(a.x,a.y,n,i)};p.exports=r},55826:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,s,e){var n=e.baseTileWidth,h=e.baseTileHeight,i=e.tilemapLayer,o=0,f=0;i&&(s||(s=i.scene.cameras.main),o=i.x+s.scrollX*(1-i.scrollFactorX),f=i.y+s.scrollY*(1-i.scrollFactorY),n*=i.scaleX,h*=i.scaleY);var u=o+a*n,d=f+r*h;return[new l(u,d),new l(u+n,d),new l(u+n,d+h),new l(u,d+h)]};p.exports=v},11758:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),v=t(27229),a=t(29747),r=t(55826),s=function(e){return e===l.ORTHOGONAL?r:e===l.ISOMETRIC?a:e===l.HEXAGONAL?v:(e===l.STAGGERED,a)};p.exports=s},39167:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),v=t(29747),a=t(97281),r=function(s){return s===l.ORTHOGONAL?a:v};p.exports=r},62e3:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),v=t(19951),a=t(14127),r=t(29747),s=t(97202),e=t(70326),n=function(h){return h===l.ORTHOGONAL?e:h===l.ISOMETRIC?a:h===l.HEXAGONAL?v:h===l.STAGGERED?s:r};p.exports=n},5984:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),v=t(29747),a=t(28054),r=t(29650),s=function(e){return e===l.ORTHOGONAL?r:e===l.STAGGERED?a:v};p.exports=s},7386:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),v=function(a,r,s,e,n,h){a===void 0&&(a=0),r===void 0&&(r=0),s===void 0&&(s=h.width),e===void 0&&(e=h.height),n||(n={});var i=l(n,"isNotEmpty",!1),o=l(n,"isColliding",!1),f=l(n,"hasInterestingFace",!1);a<0&&(s+=a,a=0),r<0&&(e+=r,r=0),a+s>h.width&&(s=Math.max(h.width-a,0)),r+e>h.height&&(e=Math.max(h.height-r,0));for(var u=[],d=r;d<r+e;d++)for(var c=a;c<a+s;c++){var m=h.data[d][c];if(m!==null){if(i&&m.index===-1||o&&!m.collides||f&&!m.hasInterestingFace)continue;u.push(m)}}return u};p.exports=v},91141:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(55738),v=t(7386),a=t(91865),r=t(29747),s=t(26099),e=function(f,u){return a.RectangleToTriangle(u,f)},n=new s,h=new s,i=new s,o=function(f,u,d,c){if(f===void 0)return[];var m=r;f instanceof l.Circle?m=a.CircleToRectangle:f instanceof l.Rectangle?m=a.RectangleToRectangle:f instanceof l.Triangle?m=e:f instanceof l.Line&&(m=a.LineToRectangle),c.tilemapLayer.worldToTileXY(f.left,f.top,!0,h,d);var x=h.x,g=h.y;c.tilemapLayer.worldToTileXY(f.right,f.bottom,!1,i,d);var T=Math.ceil(i.x),S=Math.ceil(i.y),E=Math.max(T-x,1),P=Math.max(S-g,1),F=v(x,g,E,P,u,c),R=c.tileWidth,M=c.tileHeight;c.tilemapLayer&&(R*=c.tilemapLayer.scaleX,M*=c.tilemapLayer.scaleY);for(var O=[],I=new l.Rectangle(0,0,R,M),V=0;V<F.length;V++){var X=F[V];c.tilemapLayer.tileToWorldXY(X.x,X.y,n,d),I.x=n.x,I.y=n.y,m(f,I)&&O.push(X)}return O};p.exports=o},96523:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=t(26099),a=new v,r=new v,s=function(e,n,h,i,o,f,u){var d=u.tilemapLayer.tilemap._convert.WorldToTileXY;d(e,n,!0,a,f,u);var c=a.x,m=a.y;d(e+h,n+i,!1,r,f,u);var x=Math.ceil(r.x),g=Math.ceil(r.y);return l(c,m,x-c,g-m,o,u)};p.exports=s},96113:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),v=t(20242),a=t(10095),r=function(s){return s===l.ORTHOGONAL?a:v};p.exports=r},16926:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),v=t(86625),a=t(96897),r=t(29747),s=t(15108),e=t(85896),n=function(h){return h===l.ORTHOGONAL?e:h===l.ISOMETRIC?a:h===l.HEXAGONAL?v:h===l.STAGGERED?s:r};p.exports=n},55762:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),v=t(20242),a=t(51900),r=t(63288),s=function(e){return e===l.ORTHOGONAL?r:e===l.STAGGERED?a:v};p.exports=s},45091:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62991),v=function(a,r,s){if(l(a,r,s)){var e=s.data[r][a];return e!==null&&e.index>-1}else return!1};p.exports=v},24152:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45091),v=t(26099),a=new v,r=function(s,e,n,h){h.tilemapLayer.worldToTileXY(s,e,!0,a,n);var i=a.x,o=a.y;return l(i,o,h)};p.exports=r},90454:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(63448),v=t(56583),a=function(r,s){var e=r.tilemapLayer.tilemap,n=r.tilemapLayer,h=Math.floor(e.tileWidth*n.scaleX),i=Math.floor(e.tileHeight*n.scaleY),o=r.hexSideLength,f,u,d,c;if(r.staggerAxis==="y"){var m=(i-o)/2+o;f=v(s.worldView.x-n.x,h,0,!0)-n.cullPaddingX,u=l(s.worldView.right-n.x,h,0,!0)+n.cullPaddingX,d=v(s.worldView.y-n.y,m,0,!0)-n.cullPaddingY,c=l(s.worldView.bottom-n.y,m,0,!0)+n.cullPaddingY}else{var x=(h-o)/2+o;f=v(s.worldView.x-n.x,x,0,!0)-n.cullPaddingX,u=l(s.worldView.right-n.x,x,0,!0)+n.cullPaddingX,d=v(s.worldView.y-n.y,i,0,!0)-n.cullPaddingY,c=l(s.worldView.bottom-n.y,i,0,!0)+n.cullPaddingY}return{left:f,right:u,top:d,bottom:c}};p.exports=a},9474:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(90454),v=t(32483),a=function(r,s,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var h=r.tilemapLayer,i=l(r,s);return h.skipCull&&h.scrollFactorX===1&&h.scrollFactorY===1&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),v(r,i,n,e),e};p.exports=a},27229:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19951),v=t(26099),a=new v,r=function(s,e,n,h){var i=h.baseTileWidth,o=h.baseTileHeight,f=h.tilemapLayer;f&&(i*=f.scaleX,o*=f.scaleY);var u=l(s,e,a,n,h),d=[],c=.5773502691896257,m,x;h.staggerAxis==="y"?(m=c*i,x=o/2):(m=i/2,x=c*o);for(var g=0;g<6;g++){var T=2*Math.PI*(.5-g)/6;d.push(new v(u.x+m*Math.cos(T),u.y+x*Math.sin(T)))}return d};p.exports=r},19951:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,s,e,n){s||(s=new l);var h=n.baseTileWidth,i=n.baseTileHeight,o=n.tilemapLayer,f=0,u=0;o&&(e||(e=o.scene.cameras.main),f=o.x+e.scrollX*(1-o.scrollFactorX),u=o.y+e.scrollY*(1-o.scrollFactorY),h*=o.scaleX,i*=o.scaleY);var d=h/2,c=i/2,m,x;return n.staggerAxis==="y"?(m=f+h*a+h,x=u+1.5*r*c+c,r%2===0&&(this.staggerIndex==="odd"?m-=d:m+=d)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(m=f+1.5*a*d+d,x=u+i*a+i,a%2===0&&(this.staggerIndex==="odd"?x-=c:x+=c)),s.set(m,x)};p.exports=v},86625:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,s,e,n,h){e||(e=new l);var i=h.baseTileWidth,o=h.baseTileHeight,f=h.tilemapLayer;f&&(n||(n=f.scene.cameras.main),a=a-(f.x+n.scrollX*(1-f.scrollFactorX)),r=r-(f.y+n.scrollY*(1-f.scrollFactorY)),i*=f.scaleX,o*=f.scaleY);var u=.5773502691896257,d=-.3333333333333333,c=0,m=.6666666666666666,x=i/2,g=o/2,T,S,E,P,F;h.staggerAxis==="y"?(T=(a-x)/(u*i),S=(r-g)/g,E=u*T+d*S,P=c*T+m*S):(T=(a-x)/x,S=(r-g)/(u*o),E=d*T+u*S,P=m*T+c*S),F=-E-P;var R=Math.round(E),M=Math.round(P),O=Math.round(F),I=Math.abs(R-E),V=Math.abs(M-P),X=Math.abs(O-F);I>V&&I>X?R=-M-O:V>X&&(M=-R-O);var z,Z=M;return h.staggerIndex==="odd"?z=Z%2===0?M/2+R:M/2+R-.5:z=Z%2===0?M/2+R:M/2+R+.5,e.set(z,Z)};p.exports=v},62991:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return t>=0&&t<v.width&&l>=0&&l<v.height};p.exports=y},14018:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33528),v=function(a,r,s,e){s===void 0&&(s=[]),e===void 0&&(e=0),s.length=0;var n=a.tilemapLayer,h=a.data,i=a.width,o=a.height,f=n.skipCull,u=0,d=i,c=0,m=o,x,g,T;if(e===0)for(g=c;g<m;g++)for(x=u;x<d;x++)T=h[g][x],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!f&&!l(x,g,a,r)||s.push(T));else if(e===1)for(g=c;g<m;g++)for(x=d;x>=u;x--)T=h[g][x],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!f&&!l(x,g,a,r)||s.push(T));else if(e===2)for(g=m;g>=c;g--)for(x=u;x<d;x++)T=h[g][x],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!f&&!l(x,g,a,r)||s.push(T));else if(e===3)for(g=m;g>=c;g--)for(x=d;x>=u;x--)T=h[g][x],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!f&&!l(x,g,a,r)||s.push(T));return n.tilesDrawn=s.length,n.tilesTotal=i*o,s};p.exports=v},14127:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,s,e,n){s||(s=new l);var h=n.baseTileWidth,i=n.baseTileHeight,o=n.tilemapLayer,f=0,u=0;o&&(e||(e=o.scene.cameras.main),f=o.x+e.scrollX*(1-o.scrollFactorX),h*=o.scaleX,u=o.y+e.scrollY*(1-o.scrollFactorY),i*=o.scaleY);var d=f+(a-r)*(h/2),c=u+(a+r)*(i/2);return s.set(d,c)};p.exports=v},96897:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,s,e,n,h,i){e||(e=new l);var o=h.baseTileWidth,f=h.baseTileHeight,u=h.tilemapLayer;u&&(n||(n=u.scene.cameras.main),r=r-(u.y+n.scrollY*(1-u.scrollFactorY)),f*=u.scaleY,a=a-(u.x+n.scrollX*(1-u.scrollFactorX)),o*=u.scaleX);var d=o/2,c=f/2;a=a-d,i||(r=r-f);var m=.5*(a/d+r/c),x=.5*(-a/d+r/c);return s&&(m=Math.floor(m),x=Math.floor(x)),e.set(m,x)};p.exports=v},71558:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23029),v=t(62991),a=t(72023),r=t(20576),s=function(e,n,h,i,o){if(i===void 0&&(i=!0),!v(n,h,o))return null;var f,u=o.data[h][n],d=u&&u.collides;e instanceof l?(o.data[h][n]===null&&(o.data[h][n]=new l(o,e.index,n,h,o.tileWidth,o.tileHeight)),o.data[h][n].copy(e)):(f=e,o.data[h][n]===null?o.data[h][n]=new l(o,f,n,h,o.tileWidth,o.tileHeight):o.data[h][n].index=f);var c=o.data[h][n],m=o.collideIndexes.indexOf(c.index)!==-1;if(f=e instanceof l?e.index:e,f===-1)c.width=o.tileWidth,c.height=o.tileHeight;else{var x=o.tilemapLayer.tilemap,g=x.tiles,T=g[f][2],S=x.tilesets[T];c.width=S.tileWidth,c.height=S.tileHeight}return r(c,m),i&&d!==c.collides&&a(n,h,o),c};p.exports=s},26303:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71558),v=t(26099),a=new v,r=function(s,e,n,h,i,o){return o.tilemapLayer.worldToTileXY(e,n,!0,a,i,o),l(s,a.x,a.y,h,o)};p.exports=r},14051:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42573),v=t(71558),a=function(r,s,e,n,h){if(n===void 0&&(n=!0),!Array.isArray(r))return null;Array.isArray(r[0])||(r=[r]);for(var i=r.length,o=r[0].length,f=0;f<i;f++)for(var u=0;u<o;u++){var d=r[f][u];v(d,s+u,e+f,!1,h)}n&&l(s-1,e-1,o+2,i+2,h)};p.exports=a},77389:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=t(26546),a=function(r,s,e,n,h,i){var o,f=l(r,s,e,n,{},i);if(!h)for(h=[],o=0;o<f.length;o++)h.indexOf(f[o].index)===-1&&h.push(f[o].index);for(o=0;o<f.length;o++)f[o].index=v(h)};p.exports=a},63557:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23029),v=t(62991),a=t(72023),r=function(s,e,n,h,i){if(n===void 0&&(n=!0),h===void 0&&(h=!0),!v(s,e,i))return null;var o=i.data[e][s];if(o)i.data[e][s]=n?null:new l(i,-1,s,e,i.tileWidth,i.tileHeight);else return null;return h&&o&&o.collides&&a(s,e,i),o};p.exports=r},94178:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(63557),v=t(26099),a=new v,r=function(s,e,n,h,i,o){return o.tilemapLayer.worldToTileXY(s,e,!0,a,i,o),l(a.x,a.y,n,h,o)};p.exports=r},15533:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=t(3956),a=new v(105,210,231,150),r=new v(243,134,48,200),s=new v(40,39,37,150),e=function(n,h,i){h===void 0&&(h={});var o=h.tileColor!==void 0?h.tileColor:a,f=h.collidingTileColor!==void 0?h.collidingTileColor:r,u=h.faceColor!==void 0?h.faceColor:s,d=l(0,0,i.width,i.height,null,i);n.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),n.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var c=0;c<d.length;c++){var m=d[c],x=m.width,g=m.height,T=m.pixelX,S=m.pixelY,E=m.collides?f:o;E!==null&&(n.fillStyle(E.color,E.alpha/255),n.fillRect(T,S,x,g)),T+=1,S+=1,x-=2,g-=2,u!==null&&(n.lineStyle(1,u.color,u.alpha/255),m.faceTop&&n.lineBetween(T,S,T+x,S),m.faceRight&&n.lineBetween(T+x,S,T+x,S+g),m.faceBottom&&n.lineBetween(T,S+g,T+x,S+g),m.faceLeft&&n.lineBetween(T,S,T,S+g))}};p.exports=e},27987:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=function(a,r,s,e,n,h,i){for(var o=l(s,e,n,h,null,i),f=0;f<o.length;f++)o[f]&&o[f].index===a&&(o[f].index=r)};p.exports=v},32483:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){var r=t.data,s=t.width,e=t.height,n=t.tilemapLayer,h=Math.max(0,l.left),i=Math.min(s,l.right),o=Math.max(0,l.top),f=Math.min(e,l.bottom),u,d,c;if(v===0)for(d=o;d<f;d++)for(u=h;r[d]&&u<i;u++)c=r[d][u],!(!c||c.index===-1||!c.visible||c.alpha===0)&&a.push(c);else if(v===1)for(d=o;d<f;d++)for(u=i;r[d]&&u>=h;u--)c=r[d][u],!(!c||c.index===-1||!c.visible||c.alpha===0)&&a.push(c);else if(v===2)for(d=f;d>=o;d--)for(u=h;r[d]&&u<i;u++)c=r[d][u],!(!c||c.index===-1||!c.visible||c.alpha===0)&&a.push(c);else if(v===3)for(d=f;d>=o;d--)for(u=i;r[d]&&u>=h;u--)c=r[d][u],!(!c||c.index===-1||!c.visible||c.alpha===0)&&a.push(c);return n.tilesDrawn=a.length,n.tilesTotal=s*e,a};p.exports=y},57068:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20576),v=t(42573),a=t(9589),r=function(s,e,n,h,i){e===void 0&&(e=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),Array.isArray(s)||(s=[s]);for(var o=0;o<s.length;o++)a(s[o],e,h);if(i)for(var f=0;f<h.height;f++)for(var u=0;u<h.width;u++){var d=h.data[f][u];d&&s.indexOf(d.index)!==-1&&l(d,e)}n&&v(0,0,h.width,h.height,h)};p.exports=r},37266:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20576),v=t(42573),a=t(9589),r=function(s,e,n,h,i,o){if(n===void 0&&(n=!0),h===void 0&&(h=!0),o===void 0&&(o=!0),!(s>e)){for(var f=s;f<=e;f++)a(f,n,i);if(o)for(var u=0;u<i.height;u++)for(var d=0;d<i.width;d++){var c=i.data[u][d];c&&c.index>=s&&c.index<=e&&l(c,n)}h&&v(0,0,i.width,i.height,i)}};p.exports=r},75661:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20576),v=t(42573),a=t(9589),r=function(s,e,n,h){e===void 0&&(e=!0),n===void 0&&(n=!0),Array.isArray(s)||(s=[s]);for(var i=0;i<h.height;i++)for(var o=0;o<h.width;o++){var f=h.data[i][o];f&&s.indexOf(f.index)===-1&&(l(f,e),a(f.index,e,h))}n&&v(0,0,h.width,h.height,h)};p.exports=r},64740:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20576),v=t(42573),a=t(97022),r=function(s,e,n,h){e===void 0&&(e=!0),n===void 0&&(n=!0);for(var i=0;i<h.height;i++)for(var o=0;o<h.width;o++){var f=h.data[i][o];if(f){for(var u in s)if(a(f.properties,u)){var d=s[u];Array.isArray(d)||(d=[d]);for(var c=0;c<d.length;c++)f.properties[u]===d[c]&&l(f,e)}}}n&&v(0,0,h.width,h.height,h)};p.exports=r},63307:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20576),v=t(42573),a=function(r,s,e){r===void 0&&(r=!0),s===void 0&&(s=!0);for(var n=0;n<e.height;n++)for(var h=0;h<e.width;h++){var i=e.data[n][h];if(i){var o=i.getCollisionGroup();o&&o.objects&&o.objects.length>0&&l(i,r)}}s&&v(0,0,e.width,e.height,e)};p.exports=a},9589:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){var a=v.collideIndexes.indexOf(t);l&&a===-1?v.collideIndexes.push(t):!l&&a!==-1&&v.collideIndexes.splice(a,1)};p.exports=y},20576:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){l?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};p.exports=y},79583:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){if(typeof t=="number")a.callbacks[t]=l!==null?{callback:l,callbackContext:v}:void 0;else for(var r=0,s=t.length;r<s;r++)a.callbacks[t[r]]=l!==null?{callback:l,callbackContext:v}:void 0};p.exports=y},93254:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=function(a,r,s,e,n,h,i){for(var o=l(a,r,s,e,null,i),f=0;f<o.length;f++)o[f].setCollisionCallback(n,h)};p.exports=v},32903:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=t(33680),a=function(r,s,e,n,h){var i=l(r,s,e,n,null,h),o=i.map(function(u){return u.index});v(o);for(var f=0;f<i.length;f++)i[f].index=o[f]};p.exports=a},61325:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(63448),v=t(56583),a=function(r,s){var e=r.tilemapLayer.tilemap,n=r.tilemapLayer,h=Math.floor(e.tileWidth*n.scaleX),i=Math.floor(e.tileHeight*n.scaleY),o=v(s.worldView.x-n.x,h,0,!0)-n.cullPaddingX,f=l(s.worldView.right-n.x,h,0,!0)+n.cullPaddingX,u=v(s.worldView.y-n.y,i/2,0,!0)-n.cullPaddingY,d=l(s.worldView.bottom-n.y,i/2,0,!0)+n.cullPaddingY;return{left:o,right:f,top:u,bottom:d}};p.exports=a},54503:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61325),v=t(32483),a=function(r,s,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var h=r.tilemapLayer,i=l(r,s);return h.skipCull&&h.scrollFactorX===1&&h.scrollFactorY===1&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),v(r,i,n,e),e};p.exports=a},97202:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,s,e,n){s||(s=new l);var h=n.baseTileWidth,i=n.baseTileHeight,o=n.tilemapLayer,f=0,u=0;o&&(e||(e=o.scene.cameras.main),f=o.x+e.scrollX*(1-o.scrollFactorX),h*=o.scaleX,u=o.y+e.scrollY*(1-o.scrollFactorY),i*=o.scaleY);var d=f+a*h+r%2*(h/2),c=u+r*(i/2);return s.set(d,c)};p.exports=v},28054:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){var a=v.baseTileHeight,r=v.tilemapLayer,s=0;return r&&(l===void 0&&(l=r.scene.cameras.main),s=r.y+l.scrollY*(1-r.scrollFactorY),a*=r.scaleY),s+t*(a/2)+a};p.exports=y},15108:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,s,e,n,h){e||(e=new l);var i=h.baseTileWidth,o=h.baseTileHeight,f=h.tilemapLayer;f&&(n||(n=f.scene.cameras.main),r=r-(f.y+n.scrollY*(1-f.scrollFactorY)),o*=f.scaleY,a=a-(f.x+n.scrollX*(1-f.scrollFactorX)),i*=f.scaleX);var u=s?Math.floor(r/(o/2)):r/(o/2),d=s?Math.floor((a+u%2*.5*i)/i):(a+u%2*.5*i)/i;return e.set(d,u)};p.exports=v},51900:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){var r=a.baseTileHeight,s=a.tilemapLayer;return s&&(v||(v=s.scene.cameras.main),t=t-(s.y+v.scrollY*(1-s.scrollFactorY)),r*=s.scaleY),l?Math.floor(t/(r/2)):t/(r/2)};p.exports=y},86560:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=function(a,r,s,e,n,h,i){for(var o=l(s,e,n,h,null,i),f=0;f<o.length;f++)o[f]&&(o[f].index===a?o[f].index=r:o[f].index===r&&(o[f].index=a))};p.exports=v},97281:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){var a=v.baseTileWidth,r=v.tilemapLayer,s=0;return r&&(l||(l=r.scene.cameras.main),s=r.x+l.scrollX*(1-r.scrollFactorX),a*=r.scaleX),s+t*a};p.exports=y},70326:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97281),v=t(29650),a=t(26099),r=function(s,e,n,h,i){return n||(n=new a(0,0)),n.x=l(s,h,i),n.y=v(e,h,i),n};p.exports=r},29650:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){var a=v.baseTileHeight,r=v.tilemapLayer,s=0;return r&&(l||(l=r.scene.cameras.main),s=r.y+l.scrollY*(1-r.scrollFactorY),a*=r.scaleY),s+t*a};p.exports=y},77366:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=t(75508),a=function(r,s,e,n,h,i){if(h){var o,f=l(r,s,e,n,null,i),u=0;for(o=0;o<h.length;o++)u+=h[o].weight;if(!(u<=0))for(o=0;o<f.length;o++){for(var d=v.RND.frac()*u,c=0,m=-1,x=0;x<h.length;x++)if(c+=h[x].weight,d<=c){var g=h[x].index;m=Array.isArray(g)?g[Math.floor(v.RND.frac()*g.length)]:g;break}f[o].index=m}}};p.exports=a},10095:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85896),v=t(26099),a=new v,r=function(s,e,n,h){return l(s,0,e,a,n,h),a.x};p.exports=r},85896:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,s,e,n,h){s===void 0&&(s=!0),e||(e=new l);var i=h.baseTileWidth,o=h.baseTileHeight,f=h.tilemapLayer;f&&(n||(n=f.scene.cameras.main),a=a-(f.x+n.scrollX*(1-f.scrollFactorX)),r=r-(f.y+n.scrollY*(1-f.scrollFactorY)),i*=f.scaleX,o*=f.scaleY);var u=a/i,d=r/o;return s&&(u=Math.floor(u),d=Math.floor(d)),e.set(u,d)};p.exports=v},63288:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85896),v=t(26099),a=new v,r=function(s,e,n,h){return l(0,s,e,a,n,h),a.y};p.exports=r},81086:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={ORIENTATION:t(91907)};p.exports=l},62501:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79291),v=t(21829),a={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};a=l(!1,a,v.ORIENTATION),p.exports=a},14977:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(91907),a=t(95540),r=new l({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","layer"),this.id=a(e,"id",0),this.x=a(e,"x",0),this.y=a(e,"y",0),this.width=a(e,"width",0),this.height=a(e,"height",0),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.baseTileWidth=a(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=a(e,"baseTileHeight",this.tileHeight),this.orientation=a(e,"orientation",v.ORTHOGONAL),this.widthInPixels=a(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=a(e,"alpha",1),this.visible=a(e,"visible",!0),this.properties=a(e,"properties",[]),this.indexes=a(e,"indexes",[]),this.collideIndexes=a(e,"collideIndexes",[]),this.callbacks=a(e,"callbacks",[]),this.bodies=a(e,"bodies",[]),this.data=a(e,"data",[]),this.tilemapLayer=a(e,"tilemapLayer",null),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});p.exports=r},87010:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(91907),a=t(95540),r=new l({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","map"),this.width=a(e,"width",0),this.height=a(e,"height",0),this.infinite=a(e,"infinite",!1),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.widthInPixels=a(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.tileHeight),this.format=a(e,"format",null),this.orientation=a(e,"orientation",v.ORTHOGONAL),this.renderOrder=a(e,"renderOrder","right-down"),this.version=a(e,"version","1"),this.properties=a(e,"properties",{}),this.layers=a(e,"layers",[]),this.images=a(e,"images",[]),this.objects=a(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=a(e,"collision",{}),this.tilesets=a(e,"tilesets",[]),this.imageCollections=a(e,"imageCollections",[]),this.tiles=a(e,"tiles",[]),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});p.exports=r},48700:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95540),a=new l({initialize:function(s){s===void 0&&(s={}),this.name=v(s,"name","object layer"),this.id=v(s,"id",0),this.opacity=v(s,"opacity",1),this.properties=v(s,"properties",{}),this.propertyTypes=v(s,"propertytypes",{}),this.type=v(s,"type","objectgroup"),this.visible=v(s,"visible",!0),this.objects=v(s,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});p.exports=a},6641:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),v=function(a){return a=a.toLowerCase(),a==="isometric"?l.ISOMETRIC:a==="staggered"?l.STAGGERED:a==="hexagonal"?l.HEXAGONAL:l.ORTHOGONAL};p.exports=v},46177:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(80341),v=t(2342),a=t(82593),r=t(46594),s=t(87021),e=function(n,h,i,o,f,u){var d;switch(h){case l.ARRAY_2D:d=v(n,i,o,f,u);break;case l.CSV:d=a(n,i,o,f,u);break;case l.TILED_JSON:d=r(n,i,u);break;case l.WELTMEISTER:d=s(n,i,u);break;default:console.warn("Unrecognized tilemap data format: "+h),d=null}return d};p.exports=e},2342:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(80341),v=t(14977),a=t(87010),r=t(23029),s=function(e,n,h,i,o){for(var f=new v({tileWidth:h,tileHeight:i}),u=new a({name:e,tileWidth:h,tileHeight:i,format:l.ARRAY_2D,layers:[f]}),d=[],c=n.length,m=0,x=0;x<n.length;x++){d[x]=[];for(var g=n[x],T=0;T<g.length;T++){var S=parseInt(g[T],10);isNaN(S)||S===-1?d[x][T]=o?null:new r(f,-1,T,x,h,i):d[x][T]=new r(f,S,T,x,h,i)}m===0&&(m=g.length)}return u.width=f.width=m,u.height=f.height=c,u.widthInPixels=f.widthInPixels=m*h,u.heightInPixels=f.heightInPixels=c*i,f.data=d,u};p.exports=s},82593:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(80341),v=t(2342),a=function(r,s,e,n,h){var i=s.trim().split(`
`).map(function(f){return f.split(",")}),o=v(r,i,e,n,h);return o.format=l.CSV,o};p.exports=a},6656:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(14977),v=t(23029),a=function(r,s){for(var e=[],n=0;n<r.layer.length;n++){for(var h=r.layer[n],i=new l({name:h.name,width:h.width,height:h.height,tileWidth:h.tilesize,tileHeight:h.tilesize,visible:h.visible===1}),o=[],f=[],u=0;u<h.data.length;u++){for(var d=0;d<h.data[u].length;d++){var c=h.data[u][d]-1,m;c>-1?m=new v(i,c,d,u,h.tilesize,h.tilesize):m=s?null:new v(i,-1,d,u,h.tilesize,h.tilesize),o.push(m)}f.push(o),o=[]}i.data=f,e.push(i)}return e};p.exports=a},96483:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33629),v=function(a){for(var r=[],s=[],e=0;e<a.layer.length;e++){var n=a.layer[e],h=n.tilesetName;h!==""&&s.indexOf(h)===-1&&(s.push(h),r.push(new l(h,0,n.tilesize,n.tilesize,0,0)))}return r};p.exports=v},87021:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(80341),v=t(87010),a=t(6656),r=t(96483),s=function(e,n,h){if(n.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var i=0,o=0,f=0;f<n.layer.length;f++)n.layer[f].width>i&&(i=n.layer[f].width),n.layer[f].height>o&&(o=n.layer[f].height);var u=new v({width:i,height:o,name:e,tileWidth:n.layer[0].tilesize,tileHeight:n.layer[0].tilesize,format:l.WELTMEISTER});return u.layers=a(n,h),u.tilesets=r(n),u};p.exports=s},52833:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79291),v=function(a){for(var r,s,e,n,h,i=0;i<a.layers.length;i++){r=a.layers[i],n=null;for(var o=0;o<r.data.length;o++){h=r.data[o];for(var f=0;f<h.length;f++)s=h[f],!(s===null||s.index<0)&&(e=a.tiles[s.index][2],n=a.tilesets[e],s.width=n.tileWidth,s.height=n.tileHeight,n.tileProperties&&n.tileProperties[s.index-n.firstgid]&&(s.properties=l(s.properties,n.tileProperties[s.index-n.firstgid])))}}};p.exports=v},41868:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var l=window.atob(t),v=l.length,a=new Array(v/4),r=0;r<v;r+=4)a[r/4]=(l.charCodeAt(r)|l.charCodeAt(r+1)<<8|l.charCodeAt(r+2)<<16|l.charCodeAt(r+3)<<24)>>>0;return a};p.exports=y},84101:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33629),v=function(a){var r,s,e=[];for(r=0;r<a.imageCollections.length;r++)for(var n=a.imageCollections[r],h=n.images,i=0;i<h.length;i++){var o=h[i];s=new l(o.image,o.gid,n.imageWidth,n.imageHeight,0,0),s.updateTileData(n.imageWidth,n.imageHeight),a.tilesets.push(s)}for(r=0;r<a.tilesets.length;r++){s=a.tilesets[r];for(var f=s.tileMargin,u=s.tileMargin,d=0,c=0,m=0,x=s.firstgid;x<s.firstgid+s.total&&(e[x]=[f,u,r],f+=s.tileWidth+s.tileSpacing,d++,!(d===s.total||(c++,c===s.columns&&(f=s.tileMargin,u+=s.tileHeight+s.tileSpacing,c=0,m++,m===s.rows))));x++);}return e};p.exports=v},79677:(p,y,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),v=function(a,r,s){if(!r)return{i:0,layers:a.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=r.x+l(r,"startx",0)*a.tilewidth+l(r,"offsetx",0),n=r.y+l(r,"starty",0)*a.tileheight+l(r,"offsety",0);return{i:0,layers:r.layers,name:s.name+r.name+"/",opacity:s.opacity*r.opacity,visible:s.visible&&r.visible,x:s.x+e,y:s.y+n}};p.exports=v},29920:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=2147483648,t=1073741824,l=536870912,v=function(a){var r=!!(a&y),s=!!(a&t),e=!!(a&l);a=a&~(y|t|l);var n=0,h=!1;return r&&s&&e?(n=Math.PI/2,h=!0):r&&s&&!e?(n=Math.PI,h=!1):r&&!s&&e?(n=Math.PI/2,h=!1):r&&!s&&!e?(n=0,h=!0):!r&&s&&e?(n=3*Math.PI/2,h=!1):!r&&s&&!e?(n=Math.PI,h=!0):!r&&!s&&e?(n=3*Math.PI/2,h=!0):!r&&!s&&!e&&(n=0,h=!1),{gid:a,flippedHorizontal:r,flippedVertical:s,flippedAntiDiagonal:e,rotation:n,flipped:h}};p.exports=v},12635:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),v=t(79677),a=function(r){for(var s=[],e=[],n=v(r);n.i<n.layers.length||e.length>0;){if(n.i>=n.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=e.pop();continue}var h=n.layers[n.i];if(n.i++,h.type!=="imagelayer"){if(h.type==="group"){var i=v(r,h,n);e.push(n),n=i}continue}var o=l(h,"offsetx",0)+l(h,"startx",0),f=l(h,"offsety",0)+l(h,"starty",0);s.push({name:n.name+h.name,image:h.image,x:n.x+o+h.x,y:n.y+f+h.y,alpha:n.opacity*h.opacity,visible:n.visible&&h.visible,properties:l(h,"properties",{})})}return s};p.exports=a},46594:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(51233),v=t(84101),a=t(91907),r=t(62644),s=t(80341),e=t(6641),n=t(87010),h=t(12635),i=t(22611),o=t(28200),f=t(24619),u=function(d,c,m){var x=r(c),g=new n({width:x.width,height:x.height,name:d,tileWidth:x.tilewidth,tileHeight:x.tileheight,orientation:e(x.orientation),format:s.TILED_JSON,version:x.version,properties:x.properties,renderOrder:x.renderorder,infinite:x.infinite});g.orientation===a.HEXAGONAL&&(g.hexSideLength=x.hexsidelength,g.staggerAxis=x.staggeraxis,g.staggerIndex=x.staggerindex),g.layers=o(x,m),g.images=h(x);var T=f(x);return g.tilesets=T.tilesets,g.imageCollections=T.imageCollections,g.objects=i(x),g.tiles=v(g),l(g),g};p.exports=u},52205:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(18254),v=t(29920),a=function(e){return{x:e.x,y:e.y}},r=["id","name","type","rotation","properties","visible","x","y","width","height"],s=function(e,n,h){n===void 0&&(n=0),h===void 0&&(h=0);var i=l(e,r);if(i.x+=n,i.y+=h,e.gid){var o=v(e.gid);i.gid=o.gid,i.flippedHorizontal=o.flippedHorizontal,i.flippedVertical=o.flippedVertical,i.flippedAntiDiagonal=o.flippedAntiDiagonal}else e.polyline?i.polyline=e.polyline.map(a):e.polygon?i.polygon=e.polygon.map(a):e.ellipse?i.ellipse=e.ellipse:e.text?i.text=e.text:e.point?i.point=!0:i.rectangle=!0;return i};p.exports=s},22611:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),v=t(52205),a=t(48700),r=t(79677),s=function(e){for(var n=[],h=[],i=r(e);i.i<i.layers.length||h.length>0;){if(i.i>=i.layers.length){if(h.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=h.pop();continue}var o=i.layers[i.i];if(i.i++,o.opacity*=i.opacity,o.visible=i.visible&&o.visible,o.type!=="objectgroup"){if(o.type==="group"){var f=r(e,o,i);h.push(i),i=f}continue}o.name=i.name+o.name;for(var u=i.x+l(o,"startx",0)+l(o,"offsetx",0),d=i.y+l(o,"starty",0)+l(o,"offsety",0),c=[],m=0;m<o.objects.length;m++){var x=v(o.objects[m],u,d);c.push(x)}var g=new a(o);g.objects=c,n.push(g)}return n};p.exports=s},28200:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41868),v=t(91907),a=t(79677),r=t(6641),s=t(95540),e=t(14977),n=t(29920),h=t(23029),i=function(o,f){for(var u=s(o,"infinite",!1),d=[],c=[],m=a(o);m.i<m.layers.length||c.length>0;){if(m.i>=m.layers.length){if(c.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}m=c.pop();continue}var x=m.layers[m.i];if(m.i++,x.type!=="tilelayer"){if(x.type==="group"){var g=a(o,x,m);c.push(m),m=g}continue}if(x.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+x.name+"'");continue}else if(x.encoding&&x.encoding==="base64"){if(x.chunks)for(var T=0;T<x.chunks.length;T++)x.chunks[T].data=l(x.chunks[T].data);x.data&&(x.data=l(x.data)),delete x.encoding}var S,E,P,F,R=[],M=0;if(u){var O=s(x,"startx",0)+x.x,I=s(x,"starty",0)+x.y;S=new e({name:m.name+x.name,id:x.id,x:m.x+s(x,"offsetx",0)+O*o.tilewidth,y:m.y+s(x,"offsety",0)+I*o.tileheight,width:x.width,height:x.height,tileWidth:o.tilewidth,tileHeight:o.tileheight,alpha:m.opacity*x.opacity,visible:m.visible&&x.visible,properties:s(x,"properties",[]),orientation:r(o.orientation)}),S.orientation===v.HEXAGONAL&&(S.hexSideLength=o.hexsidelength,S.staggerAxis=o.staggeraxis,S.staggerIndex=o.staggerindex);for(var V=0;V<x.height;V++){R[V]=[null];for(var X=0;X<x.width;X++)R[V][X]=null}for(V=0,_=x.chunks.length;V<_;V++)for(var z=x.chunks[V],Z=z.x-O,N=z.y-I,Y=0,L=0,b=z.data.length;L<b;L++){var U=M+Z,W=Y+N;E=n(z.data[L]),E.gid>0?(P=new h(S,E.gid,U,W,o.tilewidth,o.tileheight),P.rotation=E.rotation,P.flipX=E.flipped,R[W][U]=P):(F=f?null:new h(S,-1,U,W,o.tilewidth,o.tileheight),R[W][U]=F),M++,M===z.width&&(Y++,M=0)}}else{S=new e({name:m.name+x.name,id:x.id,x:m.x+s(x,"offsetx",0)+x.x,y:m.y+s(x,"offsety",0)+x.y,width:x.width,height:x.height,tileWidth:o.tilewidth,tileHeight:o.tileheight,alpha:m.opacity*x.opacity,visible:m.visible&&x.visible,properties:s(x,"properties",[]),orientation:r(o.orientation)}),S.orientation===v.HEXAGONAL&&(S.hexSideLength=o.hexsidelength,S.staggerAxis=o.staggeraxis,S.staggerIndex=o.staggerindex);for(var j=[],Q=0,_=x.data.length;Q<_;Q++)E=n(x.data[Q]),E.gid>0?(P=new h(S,E.gid,M,R.length,o.tilewidth,o.tileheight),P.rotation=E.rotation,P.flipX=E.flipped,j.push(P)):(F=f?null:new h(S,-1,M,R.length,o.tilewidth,o.tileheight),j.push(F)),M++,M===x.width&&(R.push(j),M=0,j=[])}S.data=R,d.push(S)}return d};p.exports=i},24619:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33629),v=t(16536),a=t(52205),r=t(57880),s=function(e){for(var n=[],h=[],i=null,o,f=0;f<e.tilesets.length;f++){var u=e.tilesets[f];if(u.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(u.image){var d=new l(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing,void 0,void 0,u.tileoffset);if(e.version>1){var c=void 0,m=void 0;if(Array.isArray(u.tiles)){c=c||{},m=m||{};for(var x=0;x<u.tiles.length;x++){var g=u.tiles[x];if(g.properties){var T={};g.properties.forEach(function(V){T[V.name]=V.value}),m[g.id]=T}if(g.objectgroup&&((c[g.id]||(c[g.id]={})).objectgroup=g.objectgroup,g.objectgroup.objects)){var S=g.objectgroup.objects.map(function(V){return a(V)});c[g.id].objectgroup.objects=S}g.animation&&((c[g.id]||(c[g.id]={})).animation=g.animation),g.type&&((c[g.id]||(c[g.id]={})).type=g.type)}}Array.isArray(u.wangsets)&&(c=c||{},m=m||{},r(u.wangsets,c)),c&&(d.tileData=c,d.tileProperties=m)}else if(u.tileproperties&&(d.tileProperties=u.tileproperties),u.tiles){d.tileData=u.tiles;for(o in d.tileData){var E=d.tileData[o].objectgroup;if(E&&E.objects){var P=E.objects.map(function(V){return a(V)});d.tileData[o].objectgroup.objects=P}}}d.updateTileData(u.imagewidth,u.imageheight),n.push(d)}else{var F=new v(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing,u.properties),R=0;for(x=0;x<u.tiles.length;x++){g=u.tiles[x];var M=g.image,O=parseInt(g.id,10),I=u.firstgid+O;F.addImage(I,M),R=Math.max(O,R)}F.maxId=R,h.push(F)}i&&(i.lastgid=u.firstgid-1),i=u}return{tilesets:n,imageCollections:h}};p.exports=s},57880:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){for(var v=0;v<t.length;v++){var a=t[v],r=v;if(a.name&&a.name!==""&&(r=a.name),Array.isArray(a.wangtiles)&&a.wangtiles.length>0){var s={},e={},n,h,i;if(Array.isArray(a.edgecolors))for(n=0;n<a.edgecolors.length;n++)i=1+n,h=a.edgecolors[n],h.name!==""&&(s[i]=h.name);if(Array.isArray(a.cornercolors))for(n=0;n<a.cornercolors.length;n++)i=1+n,h=a.cornercolors[n],h.name!==""&&(e[i]=h.name);if(Array.isArray(a.colors))for(n=0;n<a.colors.length;n++)h=a.colors[n],i=1+n,h.name!==""&&(s[i]=e[i]=h.name);for(var o=[s,e,s,e,s,e,s,e],f=0;f<a.wangtiles.length;f++){var u=a.wangtiles[f],d=l[u.tileid]||(l[u.tileid]={});d=d.wangid||(d.wangid={});for(var c=[],m=0;m<Math.min(o.length,u.wangid.length);m++){if(h=u.wangid[m],h===0){c.push(void 0);continue}var x=o[m][h];if(x!==void 0){c.push(x);continue}c.push(h)}d[r]=c}}}};p.exports=y},96761:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(37277),a=t(44594),r=t(94880),s=t(72905),e=new l({initialize:function(h){this.scene=h,this.systems=h.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],h.sys.events.once(a.BOOT,this.boot,this),h.sys.events.on(a.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var n=this.systems.events;n.on(a.PRE_UPDATE,this.preUpdate,this),n.on(a.UPDATE,this.update,this),n.once(a.SHUTDOWN,this.shutdown,this)},addEvent:function(n){var h;return n instanceof r?(h=n,this.removeEvent(h),h.elapsed=h.startAt,h.hasDispatched=!1,h.repeatCount=h.repeat===-1||h.loop?999999999999:h.repeat):h=new r(n),this._pendingInsertion.push(h),h},delayedCall:function(n,h,i,o){return this.addEvent({delay:n,callback:h,args:i,callbackScope:o})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(n){Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++){var i=n[h];s(this._pendingRemoval,i),s(this._pendingInsertion,i),s(this._active,i)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var n=this._pendingRemoval.length,h=this._pendingInsertion.length;if(!(n===0&&h===0)){var i,o;for(i=0;i<n;i++){o=this._pendingRemoval[i];var f=this._active.indexOf(o);f>-1&&this._active.splice(f,1),o.destroy()}for(i=0;i<h;i++)o=this._pendingInsertion[i],this._active.push(o);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(n,h){if(this.now=n,!this.paused){h*=this.timeScale;for(var i=0;i<this._active.length;i++){var o=this._active[i];if(!o.paused&&(o.elapsed+=h*o.timeScale,o.elapsed>=o.delay)){var f=o.elapsed-o.delay;if(o.elapsed=o.delay,!o.hasDispatched&&o.callback&&(o.hasDispatched=!0,o.callback.apply(o.callbackScope,o.args)),o.repeatCount>0){if(o.repeatCount--,f>=o.delay)for(;f>=o.delay&&o.repeatCount>0;)o.callback&&o.callback.apply(o.callbackScope,o.args),f-=o.delay,o.repeatCount--;o.elapsed=f,o.hasDispatched=!1}else o.hasDispatched&&this._pendingRemoval.push(o)}}}},shutdown:function(){var n;for(n=0;n<this._pendingInsertion.length;n++)this._pendingInsertion[n].destroy();for(n=0;n<this._active.length;n++)this._active[n].destroy();for(n=0;n<this._pendingRemoval.length;n++)this._pendingRemoval[n].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var h=this.systems.events;h.off(a.PRE_UPDATE,this.preUpdate,this),h.off(a.UPDATE,this.update,this),h.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});v.register("Clock",e,"time"),p.exports=e},96120:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(50792),a=t(39429),r=t(95540),s=t(44594),e=t(89809),n=new l({Extends:v,initialize:function(i,o){v.call(this),this.scene=i,this.systems=i.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var f=this.systems.events;f.on(s.PRE_UPDATE,this.preUpdate,this),f.on(s.UPDATE,this.update,this),f.once(s.SHUTDOWN,this.destroy,this),o&&this.add(o)},preUpdate:function(h,i){this.paused||(this.elapsed+=i)},update:function(){if(!(this.paused||this.complete)){var h,i=this.events,o=!1,f=this.systems,u;for(h=0;h<i.length;h++){var d=i[h];if(!d.complete&&d.time<=this.elapsed){if(d.complete=!0,this.totalComplete++,u=d.target?d.target:this,d.if&&!d.if.call(u,d))continue;if(d.once&&(o=!0),d.set&&d.target)for(var c in d.set)d.target[c]=d.set[c];this.iteration&&d.repeat++,d.loop&&d.repeat&&d.loop.call(u),d.tween&&f.tweens.add(d.tween),d.sound&&(typeof d.sound=="string"?f.sound.play(d.sound):f.sound.play(d.sound.key,d.sound.config)),d.event&&this.emit(d.event,u),d.run&&d.run.call(u),d.stop&&this.stop()}}if(o)for(h=0;h<i.length;h++)i[h].complete&&i[h].once&&(i.splice(h,1),h--);this.totalComplete>=i.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(e.COMPLETE,this)}},play:function(h){return h===void 0&&(h=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,h&&this.reset(),this},pause:function(){return this.paused=!0,this},repeat:function(h){return(h===void 0||h===!0)&&(h=-1),h===!1&&(h=0),this.loop=h,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(h){h===void 0&&(h=!1),this.elapsed=0,h||(this.iteration=0);for(var i=0;i<this.events.length;i++)this.events[i].complete=!1,h||(this.events[i].repeat=0);return this.play(!1)},add:function(h){Array.isArray(h)||(h=[h]);var i=this.events,o=0;i.length>0&&(o=i[i.length-1].time);for(var f=0;f<h.length;f++){var u=h[f],d=r(u,"at",0),c=r(u,"in",null);c!==null&&(d=this.elapsed+c);var m=r(u,"from",null);m!==null&&(d=o+m),i.push({complete:!1,time:d,repeat:0,if:r(u,"if",null),run:r(u,"run",null),loop:r(u,"loop",null),event:r(u,"event",null),target:r(u,"target",null),set:r(u,"set",null),tween:r(u,"tween",null),sound:r(u,"sound",null),once:r(u,"once",!1),stop:r(u,"stop",!1)}),o=d}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var h=Math.min(this.totalComplete,this.events.length);return h/this.events.length},destroy:function(){var h=this.systems.events;h.off(s.PRE_UPDATE,this.preUpdate,this),h.off(s.UPDATE,this.update,this),h.off(s.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});a.register("timeline",function(h){return new n(this.scene,h)}),p.exports=n},94880:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95540),a=new l({initialize:function(s){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(s)},reset:function(r){if(this.delay=v(r,"delay",0),this.repeat=v(r,"repeat",0),this.loop=v(r,"loop",!1),this.callback=v(r,"callback",void 0),this.callbackScope=v(r,"callbackScope",this),this.args=v(r,"args",[]),this.timeScale=v(r,"timeScale",1),this.startAt=v(r,"startAt",0),this.paused=v(r,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var r=this.delay+this.delay*this.repeat,s=this.elapsed+this.delay*(this.repeat-this.repeatCount);return s/r}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(r){r===void 0&&(r=!1),this.elapsed=this.delay,this.hasDispatched=!r,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});p.exports=a},35945:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},89809:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(35945)}},90291:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72905),v=t(83419),a=t(43491),r=t(88032),s=t(37277),e=t(44594),n=t(93109),h=t(86081),i=t(8357),o=t(43960),f=t(26012),u=new v({initialize:function(c){this.scene=c,this.events=c.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(d){Array.isArray(d)||(d=[d]);for(var c=[],m=0;m<d.length;m++){var x=d[m];x instanceof h||x instanceof o?c.push(x):Array.isArray(x.tweens)?c.push(f(this,x)):c.push(i(this,x))}return c.length===1?c[0]:c},add:function(d){var c=d,m=this.tweens;return c instanceof h||c instanceof o||(Array.isArray(c.tweens)?c=f(this,c):c=i(this,c)),m.push(c.reset()),c},addMultiple:function(d){for(var c,m=[],x=this.tweens,g=0;g<d.length;g++)c=d[g],c instanceof h||c instanceof o||(Array.isArray(c.tweens)?c=f(this,c):c=i(this,c)),x.push(c.reset()),m.push(c);return m},chain:function(d){var c=f(this,d);return this.tweens.push(c.init()),c},getChainedTweens:function(d){return d.getChainedTweens()},has:function(d){return this.tweens.indexOf(d)>-1},existing:function(d){return this.has(d)||this.tweens.push(d.reset()),this},addCounter:function(d){var c=r(this,d);return this.tweens.push(c.reset()),c},stagger:function(d,c){return n(d,c)},setLagSmooth:function(d,c){return d===void 0&&(d=1/1e-8),c===void 0&&(c=0),this.maxLag=d,this.lagSkip=Math.min(c,this.maxLag),this},setFps:function(d){return d===void 0&&(d=240),this.gap=1e3/d,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(d){var c=Date.now()-this.prevTime;c>this.maxLag&&(this.startTime+=c-this.lagSkip),this.prevTime+=c;var m=this.prevTime-this.startTime,x=m-this.nextTime,g=m-this.time*1e3;return x>0||d?(m/=1e3,this.time=m,this.nextTime+=x+(x>=this.gap?4:this.gap-x)):g=0,g},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(d){d===void 0&&(d=!1);var c=this.getDelta(d);if(!(c<=0)){this.processing=!0;var m,x,g=[],T=this.tweens;for(m=0;m<T.length;m++)x=T[m],x.update(c)&&g.push(x);var S=g.length;if(S&&T.length>0){for(m=0;m<S;m++){x=g[m];var E=T.indexOf(x);E>-1&&(x.isPendingRemove()||x.isDestroyed())&&(T.splice(E,1),x.destroy())}g.length=0}this.processing=!1}},remove:function(d){return this.processing?d.setPendingRemoveState():(l(this.tweens,d),d.setRemovedState()),this},reset:function(d){return this.existing(d),d.seek(),d.setActiveState(),this},makeActive:function(d){return this.existing(d),d.setActiveState(),this},each:function(d,c){var m,x=[null];for(m=1;m<arguments.length;m++)x.push(arguments[m]);return this.tweens.forEach(function(g){x[0]=g,d.apply(c,x)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(d){var c=[],m=this.tweens;Array.isArray(d)?d=a(d):d=[d];for(var x=d.length,g=0;g<m.length;g++)for(var T=m[g],S=0;S<x;S++)!T.isDestroyed()&&T.hasTarget(d[S])&&c.push(T);return c},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(d){return this.timeScale=d,this},isTweening:function(d){for(var c=this.tweens,m,x=0;x<c.length;x++)if(m=c[x],m.isPlaying()&&m.hasTarget(d))return!0;return!1},killAll:function(){for(var d=this.processing?this.getTweens():this.tweens,c=0;c<d.length;c++)d[c].destroy();return this.processing||(d.length=0),this},killTweensOf:function(d){for(var c=this.getTweensOf(d),m=0;m<c.length;m++)c[m].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});s.register("TweenManager",u,"tweens"),p.exports=u},57355:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){return t&&t.hasOwnProperty(l)?t[l]:v};p.exports=y},6113:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62640),v=t(35355),a=function(r,s){var e=l.Power0;if(typeof r=="string")if(l.hasOwnProperty(r))e=l[r];else{var n="";if(r.indexOf(".")){n=r.substring(r.indexOf(".")+1);var h=n.toLowerCase();h==="in"?n="easeIn":h==="out"?n="easeOut":h==="inout"&&(n="easeInOut")}r=v(r.substring(0,r.indexOf(".")+1)+n),l.hasOwnProperty(r)&&(e=l[r])}else typeof r=="function"&&(e=r);if(!s)return e;var i=s.slice(0);return i.unshift(0),function(o){return i[0]=o,e.apply(this,i)}};p.exports=a},91389:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(89318),v=t(77259),a=t(28392),r={bezier:l,catmull:v,catmullrom:v,linear:a},s=function(e){if(e===null)return null;var n=r.linear;return typeof e=="string"?r.hasOwnProperty(e)&&(n=r[e]):typeof e=="function"&&(n=e),n};p.exports=s},55292:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){var a;if(t.hasOwnProperty(l)){var r=typeof t[l];r==="function"?a=function(s,e,n,h,i,o){return t[l](s,e,n,h,i,o)}:a=function(){return t[l]}}else typeof v=="function"?a=v:a=function(){return v};return a};p.exports=y},82985:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(81076),v=function(a){var r,s=[];if(a.hasOwnProperty("props"))for(r in a.props)r.substring(0,1)!=="_"&&s.push({key:r,value:a.props[r]});else for(r in a)l.indexOf(r)===-1&&r.substring(0,1)!=="_"&&s.push({key:r,value:a[r]});return s};p.exports=v},62329:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35154),v=function(a){var r=l(a,"targets",null);return r===null||(typeof r=="function"&&(r=r.call()),Array.isArray(r)||(r=[r])),r};p.exports=v},17777:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30976),v=t(99472);function a(h){return!!h.getActive&&typeof h.getActive=="function"}function r(h){return!!h.getStart&&typeof h.getStart=="function"}function s(h){return!!h.getEnd&&typeof h.getEnd=="function"}function e(h){return r(h)||s(h)||a(h)}var n=function(h,i){var o,f=function(z,Z,N){return N},u=function(z,Z,N){return N},d=null,c=typeof i;if(c==="number")f=function(){return i};else if(Array.isArray(i))u=function(){return i[0]},f=function(){return i[i.length-1]};else if(c==="string"){var m=i.toLowerCase(),x=m.substring(0,6)==="random",g=m.substring(0,3)==="int";if(x||g){var T=m.indexOf("("),S=m.indexOf(")"),E=m.indexOf(",");if(T&&S&&E){var P=parseFloat(m.substring(T+1,E)),F=parseFloat(m.substring(E+1,S));x?f=function(){return v(P,F)}:f=function(){return l(P,F)}}else throw new Error("invalid random() format")}else{m=m[0];var R=parseFloat(i.substr(2));switch(m){case"+":f=function(z,Z,N){return N+R};break;case"-":f=function(z,Z,N){return N-R};break;case"*":f=function(z,Z,N){return N*R};break;case"/":f=function(z,Z,N){return N/R};break;default:f=function(){return parseFloat(i)}}}}else if(c==="function")f=i;else if(c==="object")if(e(i))a(i)&&(d=i.getActive),s(i)&&(f=i.getEnd),r(i)&&(u=i.getStart);else if(i.hasOwnProperty("value"))o=n(h,i.value);else{var M=i.hasOwnProperty("to"),O=i.hasOwnProperty("from"),I=i.hasOwnProperty("start");if(M&&(O||I)){if(o=n(h,i.to),I){var V=n(h,i.start);o.getActive=V.getEnd}if(O){var X=n(h,i.from);o.getStart=X.getEnd}}}return o||(o={getActive:d,getEnd:f,getStart:u}),o};p.exports=n},88032:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70402),v=t(69902),a=t(23568),r=t(57355),s=t(6113),e=t(55292),n=t(35154),h=t(17777),i=t(269),o=t(86081),f=function(u,d,c){if(d instanceof o)return d.parent=u,d;c===void 0?c=v:c=i(v,c);var m=n(d,"from",0),x=n(d,"to",1),g=[{value:m}],T=n(d,"delay",c.delay),S=n(d,"easeParams",c.easeParams),E=n(d,"ease",c.ease),P=h("value",x),F=new o(u,g),R=F.add(0,"value",P.getEnd,P.getStart,P.getActive,s(n(d,"ease",E),n(d,"easeParams",S)),e(d,"delay",T),n(d,"duration",c.duration),r(d,"yoyo",c.yoyo),n(d,"hold",c.hold),n(d,"repeat",c.repeat),n(d,"repeatDelay",c.repeatDelay),!1,!1);R.start=m,R.current=m,F.completeDelay=a(d,"completeDelay",0),F.loop=Math.round(a(d,"loop",0)),F.loopDelay=Math.round(a(d,"loopDelay",0)),F.paused=r(d,"paused",!1),F.persist=r(d,"persist",!1),F.callbackScope=n(d,"callbackScope",F);for(var M=l.TYPES,O=0;O<M.length;O++){var I=M[O],V=n(d,I,!1);if(V){var X=n(d,I+"Params",[]);F.setCallback(I,V,X)}}return F};p.exports=f},93109:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6113),v=t(35154),a=t(36383),r=function(s,e){e===void 0&&(e={});var n,h=v(e,"start",0),i=v(e,"ease",null),o=v(e,"grid",null),f=v(e,"from",0),u=f==="first",d=f==="center",c=f==="last",m=typeof f=="number",x=Array.isArray(s),g=parseFloat(x?s[0]:s),T=x?parseFloat(s[1]):0,S=Math.max(g,T);if(x&&(h+=g),o){var E=o[0],P=o[1],F=0,R=0,M=0,O=0,I=[];c?(F=E-1,R=P-1):m?(F=f%E,R=Math.floor(f/E)):d&&(F=(E-1)/2,R=(P-1)/2);for(var V=a.MIN_SAFE_INTEGER,X=0;X<P;X++){I[X]=[];for(var z=0;z<E;z++){M=F-z,O=R-X;var Z=Math.sqrt(M*M+O*O);Z>V&&(V=Z),I[X][z]=Z}}}var N=i?l(i):null;return o?n=function(Y,L,b,U){var W=0,j=U%E,Q=Math.floor(U/E);j>=0&&j<E&&Q>=0&&Q<P&&(W=I[Q][j]);var _;if(x){var et=T-g;N?_=W/V*et*N(W/V):_=W/V*et}else N?_=W*g*N(W/V):_=W*g;return _+h}:n=function(Y,L,b,U,W){W--;var j;u?j=U:d?j=Math.abs(W/2-U):c?j=W-U:m&&(j=Math.abs(f-U));var Q;if(x){var _;d?_=(T-g)/W*(j*2):_=(T-g)/W*j,N?Q=_*N(j/W):Q=_}else N?Q=W*S*N(j/W):Q=j*g;return Q+h},n};p.exports=r},8357:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70402),v=t(69902),a=t(23568),r=t(57355),s=t(6113),e=t(91389),n=t(55292),h=t(82985),i=t(62329),o=t(35154),f=t(17777),u=t(269),d=t(86081),c=function(m,x,g){if(x instanceof d)return x.parent=m,x;g===void 0?g=v:g=u(v,g);var T=i(x);!T&&g.targets&&(T=g.targets);for(var S=h(x),E=o(x,"delay",g.delay),P=o(x,"duration",g.duration),F=o(x,"easeParams",g.easeParams),R=o(x,"ease",g.ease),M=o(x,"hold",g.hold),O=o(x,"repeat",g.repeat),I=o(x,"repeatDelay",g.repeatDelay),V=r(x,"yoyo",g.yoyo),X=r(x,"flipX",g.flipX),z=r(x,"flipY",g.flipY),Z=o(x,"interpolation",g.interpolation),N=function(ct,gt,Et,xt){if(Et==="texture"){var Mt=xt,Vt=void 0;Array.isArray(xt)?(Mt=xt[0],Vt=xt[1]):xt.hasOwnProperty("value")?(Mt=xt.value,Array.isArray(xt.value)?(Mt=xt.value[0],Vt=xt.value[1]):typeof xt.value=="string"&&(Mt=xt.value)):typeof xt=="string"&&(Mt=xt),ct.addFrame(gt,Mt,Vt,n(xt,"delay",E),o(xt,"duration",P),o(xt,"hold",M),o(xt,"repeat",O),o(xt,"repeatDelay",I),r(xt,"flipX",X),r(xt,"flipY",z))}else{var Wt=f(Et,xt),Nt=e(o(xt,"interpolation",Z));ct.add(gt,Et,Wt.getEnd,Wt.getStart,Wt.getActive,s(o(xt,"ease",R),o(xt,"easeParams",F)),n(xt,"delay",E),o(xt,"duration",P),r(xt,"yoyo",V),o(xt,"hold",M),o(xt,"repeat",O),o(xt,"repeatDelay",I),r(xt,"flipX",X),r(xt,"flipY",z),Nt,Nt?xt:null)}},Y=new d(m,T),L=0;L<S.length;L++)for(var b=S[L].key,U=S[L].value,W=0;W<T.length;W++)b==="scale"&&!T[W].hasOwnProperty("scale")?(N(Y,W,"scaleX",U),N(Y,W,"scaleY",U)):N(Y,W,b,U);Y.completeDelay=a(x,"completeDelay",0),Y.loop=Math.round(a(x,"loop",0)),Y.loopDelay=Math.round(a(x,"loopDelay",0)),Y.paused=r(x,"paused",!1),Y.persist=r(x,"persist",!1),Y.callbackScope=o(x,"callbackScope",Y);for(var j=l.TYPES,Q=0;Q<j.length;Q++){var _=j[Q],et=o(x,_,!1);if(et){var st=o(x,_+"Params",[]);Y.setCallback(_,et,st)}}return Y};p.exports=c},26012:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70402),v=t(23568),a=t(57355),r=t(62329),s=t(35154),e=t(8357),n=t(43960),h=function(i,o){if(o instanceof n)return o.parent=i,o;var f=new n(i);f.startDelay=s(o,"delay",0),f.completeDelay=v(o,"completeDelay",0),f.loop=Math.round(v(o,"loop",s(o,"repeat",0))),f.loopDelay=Math.round(v(o,"loopDelay",s(o,"repeatDelay",0))),f.paused=a(o,"paused",!1),f.persist=a(o,"persist",!1),f.callbackScope=s(o,"callbackScope",f);var u,d=l.TYPES;for(u=0;u<d.length;u++){var c=d[u],m=s(o,c,!1);if(m){var x=s(o,c+"Params",[]);f.setCallback(c,m,x)}}var g=s(o,"tweens",null);if(Array.isArray(g)){var T=[],S=r(o),E=void 0;for(S&&(E={targets:S}),u=0;u<g.length;u++)T.push(e(f,g[u],E));f.add(T)}return f};p.exports=h},30231:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="active"},98540:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},67233:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},2859:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},98336:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="repeat"},25764:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},32193:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},84371:p=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},70766:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},55659:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="yoyo"},842:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};p.exports=l},70402:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(50792),a=t(842),r=t(86353),s=new l({Extends:v,initialize:function(n){v.call(this),this.parent=n,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=r.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(a.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(a.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(a.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(a.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(a.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,n,h){return h===void 0&&(h=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:n,params:h}),this},setPendingState:function(){this.state=r.PENDING},setActiveState:function(){this.state=r.ACTIVE},setLoopDelayState:function(){this.state=r.LOOP_DELAY},setCompleteDelayState:function(){this.state=r.COMPLETE_DELAY},setStartDelayState:function(){this.state=r.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=r.PENDING_REMOVE},setRemovedState:function(){this.state=r.REMOVED},setFinishedState:function(){this.state=r.FINISHED},setDestroyedState:function(){this.state=r.DESTROYED},isPending:function(){return this.state===r.PENDING},isActive:function(){return this.state===r.ACTIVE},isLoopDelayed:function(){return this.state===r.LOOP_DELAY},isCompleteDelayed:function(){return this.state===r.COMPLETE_DELAY},isStartDelayed:function(){return this.state===r.START_DELAY},isPendingRemove:function(){return this.state===r.PENDING_REMOVE},isRemoved:function(){return this.state===r.REMOVED},isFinished:function(){return this.state===r.FINISHED},isDestroyed:function(){return this.state===r.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});s.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],p.exports=s},95042:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(842),a=t(86353),r=new l({initialize:function(e,n,h,i,o,f,u,d,c,m){this.tween=e,this.targetIndex=n,this.duration=i,this.totalDuration=0,this.delay=0,this.getDelay=h,this.yoyo=o,this.hold=f,this.repeat=u,this.repeatDelay=d,this.repeatCounter=0,this.flipX=c,this.flipY=m,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(s){s===void 0&&(s=this.current),this.tween.targets[this.targetIndex][this.key]=s},setCreatedState:function(){this.state=a.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=a.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=a.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=a.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=a.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=a.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=a.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=a.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===a.CREATED},isDelayed:function(){return this.state===a.DELAY},isPendingRender:function(){return this.state===a.PENDING_RENDER},isPlayingForward:function(){return this.state===a.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===a.PLAYING_BACKWARD},isHolding:function(){return this.state===a.HOLD_DELAY},isRepeating:function(){return this.state===a.REPEAT_DELAY},isComplete:function(){return this.state===a.COMPLETE},setStateFromEnd:function(s){this.yoyo?this.onRepeat(s,!0,!0):this.repeatCounter>0?this.onRepeat(s,!0,!1):this.setCompleteState()},setStateFromStart:function(s){this.repeatCounter>0?this.onRepeat(s,!1):this.setCompleteState()},reset:function(){var s=this.tween,e=s.totalTargets,n=this.targetIndex,h=s.targets[n],i=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(h,i,0,n,e,s),this.repeatCounter=this.repeat===-1?a.MAX:this.repeat,this.setPendingRenderState();var o=this.duration+this.hold;this.yoyo&&(o+=this.duration);var f=o+this.repeatDelay;this.totalDuration=this.delay+o,this.repeat===-1?(this.totalDuration+=f*a.MAX,s.isInfinite=!0):this.repeat>0&&(this.totalDuration+=f*this.repeat),this.totalDuration>s.duration&&(s.duration=this.totalDuration),this.delay<s.startDelay&&(s.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(s,e,n){var h=this.tween,i=h.totalTargets,o=this.targetIndex,f=h.targets[o],u=this.key,d=u!=="texture";if(this.elapsed=s,this.progress=s/this.duration,this.flipX&&f.toggleFlipX(),this.flipY&&f.toggleFlipY(),d&&(e||n)&&(this.start=this.getStartValue(f,u,this.start,o,i,h)),n){this.setPlayingBackwardState(),this.dispatchEvent(v.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,d&&(this.end=this.getEndValue(f,u,this.start,o,i,h)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-s,d&&(this.current=this.start,f[u]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(v.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});p.exports=r},69902:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};p.exports=y},81076:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70402),v=t(83419),a=t(842),r=t(44603),s=t(39429),e=t(36383),n=t(86353),h=t(48177),i=t(42220),o=new v({Extends:l,initialize:function(u,d){l.call(this,u),this.targets=d,this.totalTargets=d.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(f,u,d,c,m,x,g,T,S,E,P,F,R,M,O,I){var V=new h(this,f,u,d,c,m,x,g,T,S,E,P,F,R,M,O,I);return this.totalData=this.data.push(V),V},addFrame:function(f,u,d,c,m,x,g,T,S,E){var P=new i(this,f,u,d,c,m,x,g,T,S,E);return this.totalData=this.data.push(P),P},getValue:function(f){f===void 0&&(f=0);var u=null;return this.data&&(u=this.data[f].current),u},hasTarget:function(f){return this.targets&&this.targets.indexOf(f)!==-1},updateTo:function(f,u,d){if(d===void 0&&(d=!1),f!=="texture")for(var c=0;c<this.totalData;c++){var m=this.data[c];m.key===f&&(m.isPlayingForward()||m.isPlayingBackward())&&(m.end=u,d&&(m.start=m.current))}return this},restart:function(){switch(this.state){case n.REMOVED:case n.FINISHED:this.seek(),this.parent.makeActive(this);break;case n.PENDING:case n.PENDING_REMOVE:this.parent.reset(this);break;case n.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,l.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(f,u,d){if(f===void 0&&(f=0),u===void 0&&(u=16.6),d===void 0&&(d=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;d||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive");var c=this.paused;if(this.paused=!1,f>0){for(var m=Math.floor(f/u),x=f-m*u,g=0;g<m;g++)this.update(u);x>0&&this.update(x)}return this.paused=c,this.isSeeking=!1,this},initTweenData:function(f){f===void 0&&(f=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var u=this.data,d=0;d<this.totalData;d++)u[d].reset(f);this.duration=Math.max(this.duration,.01);var c=this.duration,m=this.completeDelay,x=this.loopCounter,g=this.loopDelay;x>0?this.totalDuration=c+m+(c+g)*x:this.totalDuration=c+m},reset:function(f){return f===void 0&&(f=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=n.MAX),f||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")),this},update:function(f){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(f*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(a.TWEEN_START,"onStart"),f=0));var u=!1;if(this.isActive())for(var d=this.data,c=0;c<this.totalData;c++)d[c].update(f)&&(u=!0);this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),u||this.nextState();var m=this.isPendingRemove();return m&&this.persist&&(this.setFinishedState(),m=!1),m},forward:function(f){return this.update(f),this},rewind:function(f){return this.update(-f),this},dispatchEvent:function(f,u){if(!this.isSeeking){this.emit(f,this,this.targets);var d=this.callbacks[u];d&&d.func.apply(this.callbackScope,[this,this.targets].concat(d.params))}},destroy:function(){l.prototype.destroy.call(this),this.targets=null}});s.register("tween",function(f){return this.scene.sys.tweens.add(f)}),r.register("tween",function(f){return this.scene.sys.tweens.create(f)}),p.exports=o},43960:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72905),v=t(70402),a=t(83419),r=t(842),s=t(44603),e=t(39429),n=t(86353),h=new a({Extends:v,initialize:function(o){v.call(this,o),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?n.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(r.TWEEN_ACTIVE,"onActive"),this},add:function(i){var o=this.parent.create(i);Array.isArray(o)||(o=[o]);for(var f=this.data,u=0;u<o.length;u++){var d=o[u];d.parent=this,f.push(d.reset())}return this.totalData=f.length,this},remove:function(i){return l(this.data,i),i.setRemovedState(),i===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(i){for(var o=this.data,f=0;f<this.totalData;f++)if(o[f].hasTarget(i))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(i){return i.seek(),i.setActiveState(),this},makeActive:function(i){return i.reset(),i.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(r.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var i=this.data,o=this.totalData,f=0;f<o;f++)i[f].reset(!1);this.currentIndex=0,this.currentTween=i[0]},update:function(i){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;i*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(i):this.isCompleteDelayed()?this.updateCompleteDelay(i):this.isStartDelayed()&&(i=this.updateStartCountdown(i));var o=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(i)&&this.nextTween()&&this.nextState(),o=this.isPendingRemove(),o&&this.persist&&(this.setFinishedState(),o=!1)),o},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(i){this.currentIndex=i,this.currentTween=this.data[i],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(r.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(i,o){this.emit(i,this);var f=this.callbacks[o];f&&f.func.apply(this.callbackScope,[this].concat(f.params))},destroy:function(){v.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(i){return this.scene.sys.tweens.chain(i)}),s.register("tweenchain",function(i){return this.scene.sys.tweens.create(i)}),p.exports=h},48177:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95042),v=t(45319),a=t(83419),r=t(842),s=new a({Extends:l,initialize:function(n,h,i,o,f,u,d,c,m,x,g,T,S,E,P,F,R){l.call(this,n,h,c,m,x,g,T,S,E,P),this.key=i,this.getActiveValue=u,this.getEndValue=o,this.getStartValue=f,this.ease=d,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=F,this.interpolationData=R},reset:function(e){l.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex],h=this.key;e&&(n[h]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(n[h]=this.getActiveValue(n,h,0))},update:function(e){var n=this.tween,h=n.totalTargets,i=this.targetIndex,o=n.targets[i],f=this.key;if(!o)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(o,f,o[f],i,h,n),this.end=this.getEndValue(o,f,this.start,i,h,n),this.current=this.start,o[f]=this.start,this.setPlayingForwardState(),!0;var u=this.isPlayingForward(),d=this.isPlayingBackward();if(u||d){var c=this.elapsed,m=this.duration,x=0,g=!1;c+=e,c>=m?(x=c-m,c=m,g=!0):c<0&&(c=0);var T=v(c/m,0,1);if(this.elapsed=c,this.progress=T,this.previous=this.current,g)u?(this.current=this.end,o[f]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(x)):(this.current=this.start,o[f]=this.start,this.setStateFromStart(x));else{u||(T=1-T);var S=this.ease(T);this.interpolation?this.current=this.interpolation(this.interpolationData,S):this.current=this.start+(this.end-this.start)*S,o[f]=this.current}this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,n){var h=this.tween;if(!h.isSeeking){var i=h.targets[this.targetIndex],o=this.key,f=this.current,u=this.previous;h.emit(e,h,o,i,f,u);var d=h.callbacks[n];d&&d.func.apply(h.callbackScope,[h,i,o,f,u].concat(d.params))}},destroy:function(){l.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});p.exports=s},42220:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95042),v=t(45319),a=t(83419),r=t(842),s=new a({Extends:l,initialize:function(n,h,i,o,f,u,d,c,m,x,g){l.call(this,n,h,f,u,!1,d,c,m,x,g),this.key="texture",this.startTexture=null,this.endTexture=i,this.startFrame=null,this.endFrame=o,this.yoyo=c!==0},reset:function(e){l.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=n.texture.key,this.startFrame=n.frame.name),e&&n.setTexture(this.startTexture,this.startFrame)},update:function(e){var n=this.tween,h=this.targetIndex,i=n.targets[h];if(!i)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&i.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var o=this.isPlayingForward(),f=this.isPlayingBackward();if(o||f){var u=this.elapsed,d=this.duration,c=0,m=!1;u+=e,u>=d?(c=u-d,u=d,m=!0):u<0&&(u=0);var x=v(u/d,0,1);this.elapsed=u,this.progress=x,m&&(o?(i.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(c)):(i.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(c))),this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,n){var h=this.tween;if(!h.isSeeking){var i=h.targets[this.targetIndex],o=this.key;h.emit(e,h,o,i);var f=h.callbacks[n];f&&f.func.apply(h.callbackScope,[h,i,o].concat(f.params))}},destroy:function(){l.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});p.exports=s},86353:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};p.exports=y},83419:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(s){return!!s.get&&typeof s.get=="function"||!!s.set&&typeof s.set=="function"}function t(s,e,n){var h=n?s[e]:Object.getOwnPropertyDescriptor(s,e);return!n&&h.value&&typeof h.value=="object"&&(h=h.value),h&&y(h)?(typeof h.enumerable>"u"&&(h.enumerable=!0),typeof h.configurable>"u"&&(h.configurable=!0),h):!1}function l(s,e){var n=Object.getOwnPropertyDescriptor(s,e);return n?(n.value&&typeof n.value=="object"&&(n=n.value),n.configurable===!1):!1}function v(s,e,n,h){for(var i in e)if(e.hasOwnProperty(i)){var o=t(e,i,n);if(o!==!1){var f=h||s;if(l(f.prototype,i)){if(r.ignoreFinals)continue;throw new Error("cannot override final property '"+i+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(s.prototype,i,o)}else s.prototype[i]=e[i]}}function a(s,e){if(e){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++)v(s,e[n].prototype||e[n])}}function r(s){s||(s={});var e,n;if(s.initialize){if(typeof s.initialize!="function")throw new Error("initialize must be a function");e=s.initialize,delete s.initialize}else if(s.Extends){var h=s.Extends;e=function(){h.apply(this,arguments)}}else e=function(){};s.Extends?(e.prototype=Object.create(s.Extends.prototype),e.prototype.constructor=e,n=s.Extends,delete s.Extends):e.prototype.constructor=e;var i=null;return s.Mixins&&(i=s.Mixins,delete s.Mixins),a(e,i),v(e,s,!0,n),e}r.extend=v,r.mixin=a,r.ignoreFinals=!1,p.exports=r},29747:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};p.exports=y},20242:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){return null};p.exports=y},71146:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a,r){if(r===void 0&&(r=t),v>0){var s=v-t.length;if(s<=0)return null}if(!Array.isArray(l))return t.indexOf(l)===-1?(t.push(l),a&&a.call(r,l),l):null;for(var e=l.length-1;e>=0;)t.indexOf(l[e])!==-1&&l.splice(e,1),e--;if(e=l.length,e===0)return null;v>0&&e>s&&(l.splice(s),e=s);for(var n=0;n<e;n++){var h=l[n];t.push(h),a&&a.call(r,h)}return l};p.exports=y},51067:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a,r,s){if(v===void 0&&(v=0),s===void 0&&(s=t),a>0){var e=a-t.length;if(e<=0)return null}if(!Array.isArray(l))return t.indexOf(l)===-1?(t.splice(v,0,l),r&&r.call(s,l),l):null;for(var n=l.length-1;n>=0;)t.indexOf(l[n])!==-1&&l.pop(),n--;if(n=l.length,n===0)return null;a>0&&n>e&&(l.splice(e),n=e);for(var h=n-1;h>=0;h--){var i=l[h];t.splice(v,0,i),r&&r.call(s,i)}return l};p.exports=y},66905:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){var v=t.indexOf(l);return v!==-1&&v<t.length&&(t.splice(v,1),t.push(l)),l};p.exports=y},21612:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82011),v=function(a,r,s,e,n){e===void 0&&(e=0),n===void 0&&(n=a.length);var h=0;if(l(a,e,n))for(var i=e;i<n;i++){var o=a[i];o[r]===s&&h++}return h};p.exports=v},95428:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){var a,r=[null];for(a=3;a<arguments.length;a++)r.push(arguments[a]);for(a=0;a<t.length;a++)r[0]=t[a],l.apply(v,r);return t};p.exports=y},36914:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82011),v=function(a,r,s,e,n){if(e===void 0&&(e=0),n===void 0&&(n=a.length),l(a,e,n)){var h,i=[null];for(h=5;h<arguments.length;h++)i.push(arguments[h]);for(h=e;h<n;h++)i[0]=a[h],r.apply(s,i)}return a};p.exports=v},81957:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){if(l.length){if(l.length===1)return l[0]}else return NaN;var a=1,r,s;if(v){if(t<l[0][v])return l[0];for(;l[a][v]<t;)a++}else for(;l[a]<t;)a++;return a>l.length&&(a=l.length),v?(r=l[a-1][v],s=l[a][v],s-t<=t-r?l[a]:l[a-1]):(r=l[a-1],s=l[a],s-t<=t-r?s:r)};p.exports=y},43491:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){l===void 0&&(l=[]);for(var v=0;v<t.length;v++)Array.isArray(t[v])?y(t[v],l):l.push(t[v]);return l};p.exports=y},46710:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82011),v=function(a,r,s,e,n){e===void 0&&(e=0),n===void 0&&(n=a.length);var h=[];if(l(a,e,n))for(var i=e;i<n;i++){var o=a[i];(!r||r&&s===void 0&&o.hasOwnProperty(r)||r&&s!==void 0&&o[r]===s)&&h.push(o)}return h};p.exports=v},58731:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82011),v=function(a,r,s,e,n){if(e===void 0&&(e=0),n===void 0&&(n=a.length),l(a,e,n))for(var h=e;h<n;h++){var i=a[h];if(!r||r&&s===void 0&&i.hasOwnProperty(r)||r&&s!==void 0&&i[r]===s)return i}return null};p.exports=v},26546:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){l===void 0&&(l=0),v===void 0&&(v=t.length);var a=l+Math.floor(Math.random()*v);return t[a]===void 0?null:t[a]};p.exports=y},85835:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){if(l===v)return t;var a=t.indexOf(l),r=t.indexOf(v);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return a>r||(t.splice(a,1),r===t.length-1?t.push(l):t.splice(r,0,l)),t};p.exports=y},83371:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){if(l===v)return t;var a=t.indexOf(l),r=t.indexOf(v);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return a<r||(t.splice(a,1),r===0?t.unshift(l):t.splice(r,0,l)),t};p.exports=y},70864:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){var v=t.indexOf(l);if(v>0){var a=t[v-1],r=t.indexOf(a);t[v]=a,t[r]=l}return t};p.exports=y},69693:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){var a=t.indexOf(l);if(a===-1||v<0||v>=t.length)throw new Error("Supplied index out of bounds");return a!==v&&(t.splice(a,1),t.splice(v,0,l)),l};p.exports=y},40853:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){var v=t.indexOf(l);if(v!==-1&&v<t.length-1){var a=t[v+1],r=t.indexOf(a);t[v]=a,t[r]=l}return t};p.exports=y},20283:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){var r=[],s,e=!1;if((v||a)&&(e=!0,v||(v=""),a||(a="")),l<t)for(s=t;s>=l;s--)e?r.push(v+s.toString()+a):r.push(s);else for(s=t;s<=l;s++)e?r.push(v+s.toString()+a):r.push(s);return r};p.exports=y},593:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2284),v=function(a,r,s){a===void 0&&(a=0),r===void 0&&(r=null),s===void 0&&(s=1),r===null&&(r=a,a=0);for(var e=[],n=Math.max(l((r-a)/(s||1)),0),h=0;h<n;h++)e.push(a),a+=s;return e};p.exports=v},43886:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(v,a,r){var s=v[a];v[a]=v[r],v[r]=s}function t(v,a){return v<a?-1:v>a?1:0}var l=function(v,a,r,s,e){for(r===void 0&&(r=0),s===void 0&&(s=v.length-1),e===void 0&&(e=t);s>r;){if(s-r>600){var n=s-r+1,h=a-r+1,i=Math.log(n),o=.5*Math.exp(2*i/3),f=.5*Math.sqrt(i*o*(n-o)/n)*(h-n/2<0?-1:1),u=Math.max(r,Math.floor(a-h*o/n+f)),d=Math.min(s,Math.floor(a+(n-h)*o/n+f));l(v,a,u,d,e)}var c=v[a],m=r,x=s;for(y(v,r,a),e(v[s],c)>0&&y(v,r,s);m<x;){for(y(v,m,x),m++,x--;e(v[m],c)<0;)m++;for(;e(v[x],c)>0;)x--}e(v[r],c)===0?y(v,r,x):(x++,y(v,x,s)),x<=a&&(r=x+1),a<=x&&(s=x-1)}};p.exports=l},88492:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35154),v=t(33680),a=function(s,e,n){for(var h=[],i=0;i<s.length;i++)for(var o=0;o<e.length;o++)for(var f=0;f<n;f++)h.push({a:s[i],b:e[o]});return h},r=function(s,e,n){var h=l(n,"max",0),i=l(n,"qty",1),o=l(n,"random",!1),f=l(n,"randomB",!1),u=l(n,"repeat",0),d=l(n,"yoyo",!1),c=[];if(f&&v(e),u===-1)if(h===0)u=0;else{var m=s.length*e.length*i;d&&(m*=2),u=Math.ceil(h/m)}for(var x=0;x<=u;x++){var g=a(s,e,i);o&&v(g),c=c.concat(g),d&&(g.reverse(),c=c.concat(g))}return h&&c.splice(h),c};p.exports=r},72905:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19133),v=function(a,r,s,e){e===void 0&&(e=a);var n;if(!Array.isArray(r))return n=a.indexOf(r),n!==-1?(l(a,n),s&&s.call(e,r),r):null;for(var h=r.length-1,i=[];h>=0;){var o=r[h];n=a.indexOf(o),n!==-1&&(l(a,n),i.push(o),s&&s.call(e,o)),h--}return i};p.exports=v},60248:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19133),v=function(a,r,s,e){if(e===void 0&&(e=a),r<0||r>a.length-1)throw new Error("Index out of bounds");var n=l(a,r);return s&&s.call(e,n),n};p.exports=v},81409:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82011),v=function(a,r,s,e,n){if(r===void 0&&(r=0),s===void 0&&(s=a.length),n===void 0&&(n=a),l(a,r,s)){var h=s-r,i=a.splice(r,h);if(e)for(var o=0;o<i.length;o++){var f=i[o];e.call(n,f)}return i}else return[]};p.exports=v},31856:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19133),v=function(a,r,s){r===void 0&&(r=0),s===void 0&&(s=a.length);var e=r+Math.floor(Math.random()*s);return l(a,e)};p.exports=v},42169:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){var a=t.indexOf(l),r=t.indexOf(v);return a!==-1&&r===-1?(t[a]=v,!0):!1};p.exports=y},86003:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){l===void 0&&(l=1);for(var v=null,a=0;a<l;a++)v=t.shift(),t.push(v);return v};p.exports=y},49498:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){l===void 0&&(l=1);for(var v=null,a=0;a<l;a++)v=t.pop(),t.unshift(v);return v};p.exports=y},82011:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){var r=t.length;if(l<0||l>r||l>=v||v>r){if(a)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};p.exports=y},89545:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){var v=t.indexOf(l);return v!==-1&&v>0&&(t.splice(v,1),t.unshift(l)),l};p.exports=y},17810:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82011),v=function(a,r,s,e,n){if(e===void 0&&(e=0),n===void 0&&(n=a.length),l(a,e,n))for(var h=e;h<n;h++){var i=a[h];i.hasOwnProperty(r)&&(i[r]=s)}return a};p.exports=v},33680:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var l=t.length-1;l>0;l--){var v=Math.floor(Math.random()*(l+1)),a=t[l];t[l]=t[v],t[v]=a}return t};p.exports=y},90126:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var l=/\D/g;return t.sort(function(v,a){return parseInt(v.replace(l,""),10)-parseInt(a.replace(l,""),10)}),t};p.exports=y},19133:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){if(!(l>=t.length)){for(var v=t.length-1,a=t[l],r=l;r<v;r++)t[r]=t[r+1];return t.length=v,a}};p.exports=y},19186:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82264);function v(e,n){return String(e).localeCompare(n)}function a(e,n){var h=e.length;if(h<=1)return e;for(var i=new Array(h),o=1;o<h;o*=2){r(e,n,o,i);var f=e;e=i,i=f}return e}function r(e,n,h,i){var o=e.length,f=0,u=h*2,d,c,m,x,g;for(d=0;d<o;d+=u)for(c=d+h,m=c+h,c>o&&(c=o),m>o&&(m=o),x=d,g=c;;)if(x<c&&g<m)n(e[x],e[g])<=0?i[f++]=e[x++]:i[f++]=e[g++];else if(x<c)i[f++]=e[x++];else if(g<m)i[f++]=e[g++];else break}var s=function(e,n){if(n===void 0&&(n=v),!e||e.length<2)return e;if(l.features.stableSort)return e.sort(n);var h=a(e,n);return h!==e&&r(h,null,e.length,e),e};p.exports=s},25630:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){if(l===v)return t;var a=t.indexOf(l),r=t.indexOf(v);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return t[a]=v,t[r]=l,t};p.exports=y},37105:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var l=t[0].length,v=1;v<t.length;v++)if(t[v].length!==l)return!1;return!0};p.exports=y},63362:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41836),v=t(86922),a=function(r){var s="";if(!v(r))return s;for(var e=0;e<r.length;e++){for(var n=0;n<r[e].length;n++){var h=r[e][n].toString();h!=="undefined"?s+=l(h,2):s+="?",n<r[e].length-1&&(s+=" |")}if(e<r.length-1){s+=`
`;for(var i=0;i<r[e].length;i++)s+="---",i<r[e].length-1&&(s+="+");s+=`
`}}return s};p.exports=a},92598:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.reverse()};p.exports=y},21224:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var l=0;l<t.length;l++)t[l].reverse();return t};p.exports=y},98717:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37829),v=function(a){return l(a,180)};p.exports=v},44657:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37829),v=function(a,r){r===void 0&&(r=1);for(var s=0;s<r;s++)a=l(a,90);return a};p.exports=v},37829:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(86922),v=t(2429),a=function(r,s){if(s===void 0&&(s=90),!l(r))return null;if(typeof s!="string"&&(s=(s%360+360)%360),s===90||s===-270||s==="rotateLeft")r=v(r),r.reverse();else if(s===-90||s===270||s==="rotateRight")r.reverse(),r=v(r);else if(Math.abs(s)===180||s==="rotate180"){for(var e=0;e<r.length;e++)r[e].reverse();r.reverse()}return r};p.exports=a},92632:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37829),v=function(a,r){r===void 0&&(r=1);for(var s=0;s<r;s++)a=l(a,-90);return a};p.exports=v},69512:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(86003),v=t(49498),a=function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),e!==0&&(e<0?l(r,Math.abs(e)):v(r,e)),s!==0)for(var n=0;n<r.length;n++){var h=r[n];s<0?l(h,Math.abs(s)):v(h,s)}return r};p.exports=a},2429:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var l=t.length,v=t[0].length,a=new Array(v),r=0;r<v;r++){a[r]=new Array(l);for(var s=l-1;s>-1;s--)a[r][s]=t[s][r]}return a};p.exports=y},54915:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:p=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(l,v){for(var a=new Uint8Array(l),r=a.length,s=v?"data:"+v+";base64,":"",e=0;e<r;e+=3)s+=y[a[e]>>2],s+=y[(a[e]&3)<<4|a[e+1]>>4],s+=y[(a[e+1]&15)<<2|a[e+2]>>6],s+=y[a[e+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s};p.exports=t},53134:p=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),l=0;l<y.length;l++)t[y.charCodeAt(l)]=l;var v=function(a){a=a.substr(a.indexOf(",")+1);var r=a.length,s=r*.75,e=0,n,h,i,o;a[r-1]==="="&&(s--,a[r-2]==="="&&s--);for(var f=new ArrayBuffer(s),u=new Uint8Array(f),d=0;d<r;d+=4)n=t[a.charCodeAt(d)],h=t[a.charCodeAt(d+1)],i=t[a.charCodeAt(d+2)],o=t[a.charCodeAt(d+3)],u[e++]=n<<2|h>>4,u[e++]=(h&15)<<4|i>>2,u[e++]=(i&3)<<6|o&63;return f};p.exports=v},65839:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var l={};for(var v in t)Array.isArray(t[v])?l[v]=t[v].slice(0):l[v]=t[v];return l};p.exports=y},62644:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var l,v,a;if(typeof t!="object"||t===null)return t;l=Array.isArray(t)?[]:{};for(a in t)v=t[a],l[a]=y(v);return l};p.exports=y},79291:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41212),v=function(){var a,r,s,e,n,h,i=arguments[0]||{},o=1,f=arguments.length,u=!1;for(typeof i=="boolean"&&(u=i,i=arguments[1]||{},o=2),f===o&&(i=this,--o);o<f;o++)if((a=arguments[o])!=null)for(r in a)s=i[r],e=a[r],i!==e&&(u&&e&&(l(e)||(n=Array.isArray(e)))?(n?(n=!1,h=s&&Array.isArray(s)?s:[]):h=s&&l(s)?s:{},i[r]=v(u,h,e)):e!==void 0&&(i[r]=e));return i};p.exports=v},23568:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75508),v=t(35154),a=function(r,s,e){var n=v(r,s,null);if(n===null)return e;if(Array.isArray(n))return l.RND.pick(n);if(typeof n=="object"){if(n.hasOwnProperty("randInt"))return l.RND.integerInRange(n.randInt[0],n.randInt[1]);if(n.hasOwnProperty("randFloat"))return l.RND.realInRange(n.randFloat[0],n.randFloat[1])}else if(typeof n=="function")return n(s);return n};p.exports=a},95540:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){var a=typeof t;return!t||a==="number"||a==="string"?v:t.hasOwnProperty(l)&&t[l]!==void 0?t[l]:v};p.exports=y},82840:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35154),v=t(45319),a=function(r,s,e,n,h){h===void 0&&(h=e);var i=l(r,s,h);return v(i,e,n)};p.exports=a},35154:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){if(!t&&!a||typeof t=="number")return v;if(t&&t.hasOwnProperty(l))return t[l];if(a&&a.hasOwnProperty(l))return a[l];if(l.indexOf(".")!==-1){for(var r=l.split("."),s=t,e=a,n=v,h=v,i=!0,o=!0,f=0;f<r.length;f++)s&&s.hasOwnProperty(r[f])?(n=s[r[f]],s=s[r[f]]):i=!1,e&&e.hasOwnProperty(r[f])?(h=e[r[f]],e=e[r[f]]):o=!1;return i?n:o?h:v}else return v};p.exports=y},69036:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){for(var v=0;v<l.length;v++)if(!t.hasOwnProperty(l[v]))return!1;return!0};p.exports=y},1985:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){for(var v=0;v<l.length;v++)if(t.hasOwnProperty(l[v]))return!0;return!1};p.exports=y},97022:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t.hasOwnProperty(l)};p.exports=y},41212:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};p.exports=y},46975:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41786),v=function(a,r){var s=l(a);for(var e in r)s.hasOwnProperty(e)||(s[e]=r[e]);return s};p.exports=v},269:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41786),v=function(a,r){var s=l(a);for(var e in r)s.hasOwnProperty(e)&&(s[e]=r[e]);return s};p.exports=v},18254:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97022),v=function(a,r){for(var s={},e=0;e<r.length;e++){var n=r[e];l(a,n)&&(s[n]=a[n])}return s};p.exports=v},61622:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(l))return t[l]=v,!0;if(l.indexOf(".")!==-1){for(var a=l.split("."),r=t,s=t,e=0;e<a.length;e++)if(r.hasOwnProperty(a[e]))s=r,r=r[a[e]];else return!1;return s[a[a.length-1]]=v,!0}return!1};p.exports=y},1183:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return t.replace(/%([0-9]+)/g,function(v,a){return l[Number(a)-1]})};p.exports=y},41836:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l,v,a){l===void 0&&(l=0),v===void 0&&(v=" "),a===void 0&&(a=3),t=t.toString();var r=0;if(l+1>=t.length)switch(a){case 1:t=new Array(l+1-t.length).join(v)+t;break;case 3:var s=Math.ceil((r=l-t.length)/2),e=r-s;t=new Array(e+1).join(v)+t+new Array(s+1).join(v);break;default:t=t+new Array(l+1-t.length).join(v);break}return t};p.exports=y},33628:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,l){return l===0?t.slice(1):t.slice(0,l-1)+t.slice(l)};p.exports=y},27671:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.split("").reverse().join("")};p.exports=y},45650:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var l=Math.random()*16|0,v=t==="x"?l:l&3|8;return v.toString(16)})};p.exports=y},35355:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t&&t[0].toUpperCase()+t.slice(1)};p.exports=y},31749:(p,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},G={};function H(p){var y=G[p];if(y!==void 0)return y.exports;var t=G[p]={exports:{}};return D[p](t,t.exports,H),t.exports}H.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var J=H(85454);return J})())})(nu);var Dp=nu.exports;const xs=_n(Dp),vi=vo(C=>({isGameOver:!1,setIsGameOver(A){C({isGameOver:A})},upcomingFruit:null,setUpcomingFruit(A){C({upcomingFruit:{...A,uuid:crypto.randomUUID()}})},score:0,setScore(A){C({score:A})},isMenuOpen:!0,setIsMenuOpen(A){C({isMenuOpen:A})},isStarted:!1,setIsStarted(A=!0){C({isStarted:A})},pointerX:0,setPointerX(A){C({pointerX:A})},isLeaderboardOpen:!1,setIsLeaderboardOpen(A){C({isLeaderboardOpen:A})},startTime:Date.now(),newScoreId:null,setNewScoreId(A){C({newScoreId:A})}}));var su=typeof global=="object"&&global&&global.Object===Object&&global,Ip=typeof self=="object"&&self&&self.Object===Object&&self,Vi=su||Ip||Function("return this")(),or=Vi.Symbol,ru=Object.prototype,Bp=ru.hasOwnProperty,bp=ru.toString,ys=or?or.toStringTag:void 0;function Gp(C){var A=Bp.call(C,ys),D=C[ys];try{C[ys]=void 0;var G=!0}catch{}var H=bp.call(C);return G&&(A?C[ys]=D:delete C[ys]),H}var Np=Object.prototype,Vp=Np.toString;function Up(C){return Vp.call(C)}var zp="[object Null]",Xp="[object Undefined]",au=or?or.toStringTag:void 0;function Xn(C){return C==null?C===void 0?Xp:zp:au&&au in Object(C)?Gp(C):Up(C)}function hr(C){return C!=null&&typeof C=="object"}var Yp="[object Symbol]";function Wp(C){return typeof C=="symbol"||hr(C)&&Xn(C)==Yp}var Hp=Array.isArray,Kp=/\s/;function jp(C){for(var A=C.length;A--&&Kp.test(C.charAt(A)););return A}var Zp=/^\s+/;function $p(C){return C&&C.slice(0,jp(C)+1).replace(Zp,"")}function Yn(C){var A=typeof C;return C!=null&&(A=="object"||A=="function")}var ou=NaN,Jp=/^[-+]0x[0-9a-f]+$/i,Qp=/^0b[01]+$/i,kp=/^0o[0-7]+$/i,qp=parseInt;function Wn(C){if(typeof C=="number")return C;if(Wp(C))return ou;if(Yn(C)){var A=typeof C.valueOf=="function"?C.valueOf():C;C=Yn(A)?A+"":A}if(typeof C!="string")return C===0?C:+C;C=$p(C);var D=Qp.test(C);return D||kp.test(C)?qp(C.slice(2),D?2:8):Jp.test(C)?ou:+C}var hu=1/0,_p=17976931348623157e292;function t0(C){if(!C)return C===0?C:0;if(C=Wn(C),C===hu||C===-hu){var A=C<0?-1:1;return A*_p}return C===C?C:0}function e0(C){var A=t0(C),D=A%1;return A===A?D?A-D:A:0}var i0="[object AsyncFunction]",n0="[object Function]",s0="[object GeneratorFunction]",r0="[object Proxy]";function lu(C){if(!Yn(C))return!1;var A=Xn(C);return A==n0||A==s0||A==i0||A==r0}var ba=Vi["__core-js_shared__"],uu=function(){var C=/[^.]+$/.exec(ba&&ba.keys&&ba.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""}();function a0(C){return!!uu&&uu in C}var o0=Function.prototype,h0=o0.toString;function vn(C){if(C!=null){try{return h0.call(C)}catch{}try{return C+""}catch{}}return""}var l0=/[\\^$.*+?()[\]{}|]/g,u0=/^\[object .+?Constructor\]$/,f0=Function.prototype,d0=Object.prototype,c0=f0.toString,v0=d0.hasOwnProperty,p0=RegExp("^"+c0.call(v0).replace(l0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m0(C){if(!Yn(C)||a0(C))return!1;var A=lu(C)?p0:u0;return A.test(vn(C))}function g0(C,A){return C==null?void 0:C[A]}function Ts(C,A){var D=g0(C,A);return m0(D)?D:void 0}var Ga=Ts(Vi,"WeakMap"),x0=9007199254740991;function fu(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=x0}function y0(C){return C!=null&&fu(C.length)&&!lu(C)}var T0=Object.prototype;function du(C){var A=C&&C.constructor,D=typeof A=="function"&&A.prototype||T0;return C===D}var S0="[object Arguments]";function cu(C){return hr(C)&&Xn(C)==S0}var vu=Object.prototype,E0=vu.hasOwnProperty,C0=vu.propertyIsEnumerable,P0=cu(function(){return arguments}())?cu:function(C){return hr(C)&&E0.call(C,"callee")&&!C0.call(C,"callee")};function A0(){return!1}var pu=typeof ze=="object"&&ze&&!ze.nodeType&&ze,mu=pu&&typeof module=="object"&&module&&!module.nodeType&&module,R0=mu&&mu.exports===pu,gu=R0?Vi.Buffer:void 0,M0=gu?gu.isBuffer:void 0,F0=M0||A0,L0="[object Arguments]",O0="[object Array]",w0="[object Boolean]",D0="[object Date]",I0="[object Error]",B0="[object Function]",b0="[object Map]",G0="[object Number]",N0="[object Object]",V0="[object RegExp]",U0="[object Set]",z0="[object String]",X0="[object WeakMap]",Y0="[object ArrayBuffer]",W0="[object DataView]",H0="[object Float32Array]",K0="[object Float64Array]",j0="[object Int8Array]",Z0="[object Int16Array]",$0="[object Int32Array]",J0="[object Uint8Array]",Q0="[object Uint8ClampedArray]",k0="[object Uint16Array]",q0="[object Uint32Array]",Oe={};Oe[H0]=Oe[K0]=Oe[j0]=Oe[Z0]=Oe[$0]=Oe[J0]=Oe[Q0]=Oe[k0]=Oe[q0]=!0,Oe[L0]=Oe[O0]=Oe[Y0]=Oe[w0]=Oe[W0]=Oe[D0]=Oe[I0]=Oe[B0]=Oe[b0]=Oe[G0]=Oe[N0]=Oe[V0]=Oe[U0]=Oe[z0]=Oe[X0]=!1;function _0(C){return hr(C)&&fu(C.length)&&!!Oe[Xn(C)]}function tm(C){return function(A){return C(A)}}var xu=typeof ze=="object"&&ze&&!ze.nodeType&&ze,Ss=xu&&typeof module=="object"&&module&&!module.nodeType&&module,em=Ss&&Ss.exports===xu,Na=em&&su.process,yu=function(){try{var C=Ss&&Ss.require&&Ss.require("util").types;return C||Na&&Na.binding&&Na.binding("util")}catch{}}(),Tu=yu&&yu.isTypedArray,im=Tu?tm(Tu):_0;function nm(C,A){return function(D){return C(A(D))}}var sm=nm(Object.keys,Object),rm=Object.prototype,am=rm.hasOwnProperty;function om(C){if(!du(C))return sm(C);var A=[];for(var D in Object(C))am.call(C,D)&&D!="constructor"&&A.push(D);return A}var Va=Ts(Vi,"Map");function hm(C,A,D){var G=-1,H=C.length;A<0&&(A=-A>H?0:H+A),D=D>H?H:D,D<0&&(D+=H),H=A>D?0:D-A>>>0,A>>>=0;for(var J=Array(H);++G<H;)J[G]=C[G+A];return J}var lm=Math.ceil,um=Math.max;function fm(C,A,D){A===void 0?A=1:A=um(e0(A),0);var G=C==null?0:C.length;if(!G||A<1)return[];for(var H=0,J=0,p=Array(lm(G/A));H<G;)p[J++]=hm(C,H,H+=A);return p}function dm(C,A,D){return C===C&&(D!==void 0&&(C=C<=D?C:D),A!==void 0&&(C=C>=A?C:A)),C}function cm(C,A,D){return D===void 0&&(D=A,A=void 0),D!==void 0&&(D=Wn(D),D=D===D?D:0),A!==void 0&&(A=Wn(A),A=A===A?A:0),dm(Wn(C),A,D)}var Ua=Ts(Vi,"DataView"),za=Ts(Vi,"Promise"),Xa=Ts(Vi,"Set"),Su="[object Map]",vm="[object Object]",Eu="[object Promise]",Cu="[object Set]",Pu="[object WeakMap]",Au="[object DataView]",pm=vn(Ua),mm=vn(Va),gm=vn(za),xm=vn(Xa),ym=vn(Ga),pn=Xn;(Ua&&pn(new Ua(new ArrayBuffer(1)))!=Au||Va&&pn(new Va)!=Su||za&&pn(za.resolve())!=Eu||Xa&&pn(new Xa)!=Cu||Ga&&pn(new Ga)!=Pu)&&(pn=function(C){var A=Xn(C),D=A==vm?C.constructor:void 0,G=D?vn(D):"";if(G)switch(G){case pm:return Au;case mm:return Su;case gm:return Eu;case xm:return Cu;case ym:return Pu}return A});var Ya=function(){return Vi.Date.now()},Tm="Expected a function",Sm=Math.max,Em=Math.min;function Cm(C,A,D){var G,H,J,p,y,t,l=0,v=!1,a=!1,r=!0;if(typeof C!="function")throw new TypeError(Tm);A=Wn(A)||0,Yn(D)&&(v=!!D.leading,a="maxWait"in D,J=a?Sm(Wn(D.maxWait)||0,A):J,r="trailing"in D?!!D.trailing:r);function s(c){var m=G,x=H;return G=H=void 0,l=c,p=C.apply(x,m),p}function e(c){return l=c,y=setTimeout(i,A),v?s(c):p}function n(c){var m=c-t,x=c-l,g=A-m;return a?Em(g,J-x):g}function h(c){var m=c-t,x=c-l;return t===void 0||m>=A||m<0||a&&x>=J}function i(){var c=Ya();if(h(c))return o(c);y=setTimeout(i,n(c))}function o(c){return y=void 0,r&&G?s(c):(G=H=void 0,p)}function f(){y!==void 0&&clearTimeout(y),l=0,G=t=H=y=void 0}function u(){return y===void 0?p:o(Ya())}function d(){var c=Ya(),m=h(c);if(G=arguments,H=this,t=c,m){if(y===void 0)return e(t);if(a)return clearTimeout(y),y=setTimeout(i,A),s(t)}return y===void 0&&(y=setTimeout(i,A)),p}return d.cancel=f,d.flush=u,d}var Pm="[object Map]",Am="[object Set]",Rm=Object.prototype,Mm=Rm.hasOwnProperty;function Fm(C){if(C==null)return!0;if(y0(C)&&(Hp(C)||typeof C=="string"||typeof C.splice=="function"||F0(C)||im(C)||P0(C)))return!C.length;var A=pn(C);if(A==Pm||A==Am)return!C.size;if(du(C))return!om(C).length;for(var D in C)if(Mm.call(C,D))return!1;return!0}var Lm="Expected a function";function Om(C,A,D){var G=!0,H=!0;if(typeof C!="function")throw new TypeError(Lm);return Yn(D)&&(G="leading"in D?!!D.leading:G,H="trailing"in D?!!D.trailing:H),Cm(C,A,{leading:G,maxWait:A,trailing:H})}const lr=vo(C=>({overrideFruit:null,setOverrideFruit(A){C({overrideFruit:A})},disableMerging:!1,setDisableMerging(A){C({disableMerging:A})}})),ur=["blueberry","grape","lemon","orange","apple","dragonfruit","pear","peach","pineapple","honeydew","watermelon"];function wm(){const C=new Map;let A=3.75;for(let D=0;D<ur.length;D++){const G=ur[D];C.set(G,{name:G,radius:A,index:D,points:(D+1)*2}),A=A*1.25}return C}const Ru=wm(),Es=[...Ru.values()];function Wa(C){return Es[C]}function Ha(C){const A=Ru.get(C);return A||(console.error(`No fruit matching name "${C}"`),null)}function Dm(C){const A=ur.indexOf(C),D=Wa(A+1);return D||null}function Mu(){const C=Math.floor(Math.random()*5);return Wa(C)}var Fu={exports:{}};(function(C,A){(function(D,G){C.exports=G()})(Oi,function(){var D=function(w,B){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,$){K.__proto__=$}||function(K,$){for(var k in $)Object.prototype.hasOwnProperty.call($,k)&&(K[k]=$[k])})(w,B)},G=function(){return(G=Object.assign||function(w){for(var B,K=1,$=arguments.length;K<$;K++)for(var k in B=arguments[K])Object.prototype.hasOwnProperty.call(B,k)&&(w[k]=B[k]);return w}).apply(this,arguments)};function H(w,B,K){for(var $,k=0,tt=B.length;k<tt;k++)!$&&k in B||(($=$||Array.prototype.slice.call(B,0,k))[k]=B[k]);return w.concat($||Array.prototype.slice.call(B))}var J=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Oi,p=Object.keys,y=Array.isArray;function t(w,B){return typeof B!="object"||p(B).forEach(function(K){w[K]=B[K]}),w}typeof Promise>"u"||J.Promise||(J.Promise=Promise);var l=Object.getPrototypeOf,v={}.hasOwnProperty;function a(w,B){return v.call(w,B)}function r(w,B){typeof B=="function"&&(B=B(l(w))),(typeof Reflect>"u"?p:Reflect.ownKeys)(B).forEach(function(K){e(w,K,B[K])})}var s=Object.defineProperty;function e(w,B,K,$){s(w,B,t(K&&a(K,"get")&&typeof K.get=="function"?{get:K.get,set:K.set,configurable:!0}:{value:K,configurable:!0,writable:!0},$))}function n(w){return{from:function(B){return w.prototype=Object.create(B.prototype),e(w.prototype,"constructor",w),{extend:r.bind(null,w.prototype)}}}}var h=Object.getOwnPropertyDescriptor,i=[].slice;function o(w,B,K){return i.call(w,B,K)}function f(w,B){return B(w)}function u(w){if(!w)throw new Error("Assertion Failed")}function d(w){J.setImmediate?setImmediate(w):setTimeout(w,0)}function c(w,B){if(typeof B=="string"&&a(w,B))return w[B];if(!B)return w;if(typeof B!="string"){for(var K=[],$=0,k=B.length;$<k;++$){var tt=c(w,B[$]);K.push(tt)}return K}var it=B.indexOf(".");if(it!==-1){var nt=w[B.substr(0,it)];return nt==null?void 0:c(nt,B.substr(it+1))}}function m(w,B,K){if(w&&B!==void 0&&!("isFrozen"in Object&&Object.isFrozen(w)))if(typeof B!="string"&&"length"in B){u(typeof K!="string"&&"length"in K);for(var $=0,k=B.length;$<k;++$)m(w,B[$],K[$])}else{var tt,it,nt=B.indexOf(".");nt!==-1?(tt=B.substr(0,nt),(it=B.substr(nt+1))===""?K===void 0?y(w)&&!isNaN(parseInt(tt))?w.splice(tt,1):delete w[tt]:w[tt]=K:m(nt=!(nt=w[tt])||!a(w,tt)?w[tt]={}:nt,it,K)):K===void 0?y(w)&&!isNaN(parseInt(B))?w.splice(B,1):delete w[B]:w[B]=K}}function x(w){var B,K={};for(B in w)a(w,B)&&(K[B]=w[B]);return K}var g=[].concat;function T(w){return g.apply([],w)}var yi="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(T([8,16,32,64].map(function(w){return["Int","Uint","Float"].map(function(B){return B+w+"Array"})}))).filter(function(w){return J[w]}),S=new Set(yi.map(function(w){return J[w]})),E=null;function P(w){return E=new WeakMap,w=function B(K){if(!K||typeof K!="object")return K;var $=E.get(K);if($)return $;if(y(K)){$=[],E.set(K,$);for(var k=0,tt=K.length;k<tt;++k)$.push(B(K[k]))}else if(S.has(K.constructor))$=K;else{var it,nt=l(K);for(it in $=nt===Object.prototype?{}:Object.create(nt),E.set(K,$),K)a(K,it)&&($[it]=B(K[it]))}return $}(w),E=null,w}var F={}.toString;function R(w){return F.call(w).slice(8,-1)}var M=typeof Symbol<"u"?Symbol.iterator:"@@iterator",O=typeof M=="symbol"?function(w){var B;return w!=null&&(B=w[M])&&B.apply(w)}:function(){return null};function I(w,B){return B=w.indexOf(B),0<=B&&w.splice(B,1),0<=B}var V={};function X(w){var B,K,$,k;if(arguments.length===1){if(y(w))return w.slice();if(this===V&&typeof w=="string")return[w];if(k=O(w)){for(K=[];!($=k.next()).done;)K.push($.value);return K}if(w==null)return[w];if(typeof(B=w.length)!="number")return[w];for(K=new Array(B);B--;)K[B]=w[B];return K}for(B=arguments.length,K=new Array(B);B--;)K[B]=arguments[B];return K}var z=typeof Symbol<"u"?function(w){return w[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Zt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],di=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Zt),Z={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function N(w,B){this.name=w,this.message=B}function Y(w,B){return w+". Errors: "+Object.keys(B).map(function(K){return B[K].toString()}).filter(function(K,$,k){return k.indexOf(K)===$}).join(`
`)}function L(w,B,K,$){this.failures=B,this.failedKeys=$,this.successCount=K,this.message=Y(w,B)}function b(w,B){this.name="BulkError",this.failures=Object.keys(B).map(function(K){return B[K]}),this.failuresByPos=B,this.message=Y(w,this.failures)}n(N).from(Error).extend({toString:function(){return this.name+": "+this.message}}),n(L).from(N),n(b).from(N);var U=di.reduce(function(w,B){return w[B]=B+"Error",w},{}),W=N,j=di.reduce(function(w,B){var K=B+"Error";function $(k,tt){this.name=K,k?typeof k=="string"?(this.message="".concat(k).concat(tt?`
 `+tt:""),this.inner=tt||null):typeof k=="object"&&(this.message="".concat(k.name," ").concat(k.message),this.inner=k):(this.message=Z[B]||K,this.inner=null)}return n($).from(W),w[B]=$,w},{});j.Syntax=SyntaxError,j.Type=TypeError,j.Range=RangeError;var Q=Zt.reduce(function(w,B){return w[B+"Error"]=j[B],w},{}),_=di.reduce(function(w,B){return["Syntax","Type","Range"].indexOf(B)===-1&&(w[B+"Error"]=j[B]),w},{});function et(){}function st(w){return w}function ct(w,B){return w==null||w===st?B:function(K){return B(w(K))}}function gt(w,B){return function(){w.apply(this,arguments),B.apply(this,arguments)}}function Et(w,B){return w===et?B:function(){var K=w.apply(this,arguments);K!==void 0&&(arguments[0]=K);var $=this.onsuccess,k=this.onerror;this.onsuccess=null,this.onerror=null;var tt=B.apply(this,arguments);return $&&(this.onsuccess=this.onsuccess?gt($,this.onsuccess):$),k&&(this.onerror=this.onerror?gt(k,this.onerror):k),tt!==void 0?tt:K}}function xt(w,B){return w===et?B:function(){w.apply(this,arguments);var K=this.onsuccess,$=this.onerror;this.onsuccess=this.onerror=null,B.apply(this,arguments),K&&(this.onsuccess=this.onsuccess?gt(K,this.onsuccess):K),$&&(this.onerror=this.onerror?gt($,this.onerror):$)}}function Mt(w,B){return w===et?B:function(K){var $=w.apply(this,arguments);t(K,$);var k=this.onsuccess,tt=this.onerror;return this.onsuccess=null,this.onerror=null,K=B.apply(this,arguments),k&&(this.onsuccess=this.onsuccess?gt(k,this.onsuccess):k),tt&&(this.onerror=this.onerror?gt(tt,this.onerror):tt),$===void 0?K===void 0?void 0:K:t($,K)}}function Vt(w,B){return w===et?B:function(){return B.apply(this,arguments)!==!1&&w.apply(this,arguments)}}function Wt(w,B){return w===et?B:function(){var K=w.apply(this,arguments);if(K&&typeof K.then=="function"){for(var $=this,k=arguments.length,tt=new Array(k);k--;)tt[k]=arguments[k];return K.then(function(){return B.apply($,tt)})}return B.apply(this,arguments)}}_.ModifyError=L,_.DexieError=N,_.BulkError=b;var Nt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Pt(w){Nt=w}var bt={},Gt=100,yi=typeof Promise>"u"?[]:function(){var w=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[w,l(w),w];var B=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[B,l(B),w]}(),Zt=yi[0],di=yi[1],yi=yi[2],di=di&&di.then,$t=Zt&&Zt.constructor,le=!!yi,ve=function(w,B){We.push([w,B]),qt&&(queueMicrotask(Kn),qt=!1)},ie=!0,qt=!0,de=[],ce=[],Le=st,Se={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:et,pgp:!1,env:{},finalize:et},Ut=Se,We=[],Ye=0,ke=[];function Bt(w){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var B=this._PSD=Ut;if(typeof w!="function"){if(w!==bt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&pi(this,this._value))}this._state=null,this._value=null,++B.ref,function K($,k){try{k(function(tt){if($._state===null){if(tt===$)throw new TypeError("A promise cannot be resolved with itself.");var it=$._lib&&Ci();tt&&typeof tt.then=="function"?K($,function(nt,ut){tt instanceof Bt?tt._then(nt,ut):tt.then(nt,ut)}):($._state=!0,$._value=tt,mi($)),it&&xi()}},pi.bind(null,$))}catch(tt){pi($,tt)}}(this,w)}var qe={get:function(){var w=Ut,B=ki;function K($,k){var tt=this,it=!w.global&&(w!==Ut||B!==ki),nt=it&&!Ot(),ut=new Bt(function(ht,vt){gi(tt,new hi(Xe($,w,it,nt),Xe(k,w,it,nt),ht,vt,w))});return this._consoleTask&&(ut._consoleTask=this._consoleTask),ut}return K.prototype=bt,K},set:function(w){e(this,"then",w&&w.prototype===bt?qe:{get:function(){return w},set:qe.set})}};function hi(w,B,K,$,k){this.onFulfilled=typeof w=="function"?w:null,this.onRejected=typeof B=="function"?B:null,this.resolve=K,this.reject=$,this.psd=k}function pi(w,B){var K,$;ce.push(B),w._state===null&&(K=w._lib&&Ci(),B=Le(B),w._state=!1,w._value=B,$=w,de.some(function(k){return k._value===$._value})||de.push($),mi(w),K&&xi())}function mi(w){var B=w._listeners;w._listeners=[];for(var K=0,$=B.length;K<$;++K)gi(w,B[K]);var k=w._PSD;--k.ref||k.finalize(),Ye===0&&(++Ye,ve(function(){--Ye==0&&$i()},[]))}function gi(w,B){if(w._state!==null){var K=w._state?B.onFulfilled:B.onRejected;if(K===null)return(w._state?B.resolve:B.reject)(w._value);++B.psd.ref,++Ye,ve(Ps,[K,w,B])}else w._listeners.push(B)}function Ps(w,B,K){try{var $,k=B._value;!B._state&&ce.length&&(ce=[]),$=Nt&&B._consoleTask?B._consoleTask.run(function(){return w(k)}):w(k),B._state||ce.indexOf(k)!==-1||function(tt){for(var it=de.length;it;)if(de[--it]._value===tt._value)return de.splice(it,1)}(B),K.resolve($)}catch(tt){K.reject(tt)}finally{--Ye==0&&$i(),--K.psd.ref||K.psd.finalize()}}function Kn(){te(Se,function(){Ci()&&xi()})}function Ci(){var w=ie;return qt=ie=!1,w}function xi(){var w,B,K;do for(;0<We.length;)for(w=We,We=[],K=w.length,B=0;B<K;++B){var $=w[B];$[0].apply(null,$[1])}while(0<We.length);qt=ie=!0}function $i(){var w=de;de=[],w.forEach(function($){$._PSD.onunhandled.call(null,$._value,$)});for(var B=ke.slice(0),K=B.length;K;)B[--K]()}function li(w){return new Bt(bt,!1,w)}function Ee(w,B){var K=Ut;return function(){var $=Ci(),k=Ut;try{return ue(K,!0),w.apply(this,arguments)}catch(tt){B&&B(tt)}finally{ue(k,!1),$&&xi()}}}r(Bt.prototype,{then:qe,_then:function(w,B){gi(this,new hi(null,null,w,B,Ut))},catch:function(w){if(arguments.length===1)return this.then(null,w);var B=w,K=arguments[1];return typeof B=="function"?this.then(null,function($){return($ instanceof B?K:li)($)}):this.then(null,function($){return($&&$.name===B?K:li)($)})},finally:function(w){return this.then(function(B){return Bt.resolve(w()).then(function(){return B})},function(B){return Bt.resolve(w()).then(function(){return li(B)})})},timeout:function(w,B){var K=this;return w<1/0?new Bt(function($,k){var tt=setTimeout(function(){return k(new j.Timeout(B))},w);K.then($,k).finally(clearTimeout.bind(null,tt))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&e(Bt.prototype,Symbol.toStringTag,"Dexie.Promise"),Se.env=re(),r(Bt,{all:function(){var w=X.apply(null,arguments).map(Qt);return new Bt(function(B,K){w.length===0&&B([]);var $=w.length;w.forEach(function(k,tt){return Bt.resolve(k).then(function(it){w[tt]=it,--$||B(w)},K)})})},resolve:function(w){return w instanceof Bt?w:w&&typeof w.then=="function"?new Bt(function(B,K){w.then(B,K)}):new Bt(bt,!0,w)},reject:li,race:function(){var w=X.apply(null,arguments).map(Qt);return new Bt(function(B,K){w.map(function($){return Bt.resolve($).then(B,K)})})},PSD:{get:function(){return Ut},set:function(w){return Ut=w}},totalEchoes:{get:function(){return ki}},newPSD:rt,usePSD:te,scheduler:{get:function(){return ve},set:function(w){ve=w}},rejectionMapper:{get:function(){return Le},set:function(w){Le=w}},follow:function(w,B){return new Bt(function(K,$){return rt(function(k,tt){var it=Ut;it.unhandleds=[],it.onunhandled=tt,it.finalize=gt(function(){var nt,ut=this;nt=function(){ut.unhandleds.length===0?k():tt(ut.unhandleds[0])},ke.push(function ht(){nt(),ke.splice(ke.indexOf(ht),1)}),++Ye,ve(function(){--Ye==0&&$i()},[])},it.finalize),w()},B,K,$)})}}),$t&&($t.allSettled&&e(Bt,"allSettled",function(){var w=X.apply(null,arguments).map(Qt);return new Bt(function(B){w.length===0&&B([]);var K=w.length,$=new Array(K);w.forEach(function(k,tt){return Bt.resolve(k).then(function(it){return $[tt]={status:"fulfilled",value:it}},function(it){return $[tt]={status:"rejected",reason:it}}).then(function(){return--K||B($)})})})}),$t.any&&typeof AggregateError<"u"&&e(Bt,"any",function(){var w=X.apply(null,arguments).map(Qt);return new Bt(function(B,K){w.length===0&&K(new AggregateError([]));var $=w.length,k=new Array($);w.forEach(function(tt,it){return Bt.resolve(tt).then(function(nt){return B(nt)},function(nt){k[it]=nt,--$||K(new AggregateError(k))})})})}));var we={awaits:0,echoes:0,id:0},jn=0,Ji=[],Qi=0,ki=0,Zn=0;function rt(w,B,K,$){var k=Ut,tt=Object.create(k);return tt.parent=k,tt.ref=0,tt.global=!1,tt.id=++Zn,Se.env,tt.env=le?{Promise:Bt,PromiseProp:{value:Bt,configurable:!0,writable:!0},all:Bt.all,race:Bt.race,allSettled:Bt.allSettled,any:Bt.any,resolve:Bt.resolve,reject:Bt.reject}:{},B&&t(tt,B),++k.ref,tt.finalize=function(){--this.parent.ref||this.parent.finalize()},$=te(tt,w,K,$),tt.ref===0&&tt.finalize(),$}function Lt(){return we.id||(we.id=++jn),++we.awaits,we.echoes+=Gt,we.id}function Ot(){return!!we.awaits&&(--we.awaits==0&&(we.id=0),we.echoes=we.awaits*Gt,!0)}function Qt(w){return we.echoes&&w&&w.constructor===$t?(Lt(),w.then(function(B){return Ot(),B},function(B){return Ot(),ee(B)})):w}function ge(){var w=Ji[Ji.length-1];Ji.pop(),ue(w,!1)}function ue(w,B){var K,$=Ut;(B?!we.echoes||Qi++&&w===Ut:!Qi||--Qi&&w===Ut)||queueMicrotask(B?(function(k){++ki,we.echoes&&--we.echoes!=0||(we.echoes=we.awaits=we.id=0),Ji.push(Ut),ue(k,!0)}).bind(null,w):ge),w!==Ut&&(Ut=w,$===Se&&(Se.env=re()),le&&(K=Se.env.Promise,B=w.env,($.global||w.global)&&(Object.defineProperty(J,"Promise",B.PromiseProp),K.all=B.all,K.race=B.race,K.resolve=B.resolve,K.reject=B.reject,B.allSettled&&(K.allSettled=B.allSettled),B.any&&(K.any=B.any))))}function re(){var w=J.Promise;return le?{Promise:w,PromiseProp:Object.getOwnPropertyDescriptor(J,"Promise"),all:w.all,race:w.race,allSettled:w.allSettled,any:w.any,resolve:w.resolve,reject:w.reject}:{}}function te(w,B,K,$,k){var tt=Ut;try{return ue(w,!0),B(K,$,k)}finally{ue(tt,!1)}}function Xe(w,B,K,$){return typeof w!="function"?w:function(){var k=Ut;K&&Lt(),ue(B,!0);try{return w.apply(this,arguments)}finally{ue(k,!1),$&&queueMicrotask(Ot)}}}function Me(w){Promise===$t&&we.echoes===0?Qi===0?w():enqueueNativeMicroTask(w):setTimeout(w,0)}(""+di).indexOf("[native code]")===-1&&(Lt=Ot=et);var ee=Bt.reject,Ge="",He="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ui="String expected.",Be=[],Pi="__dbnames",mn="readonly",gn="readwrite";function si(w,B){return w?B?function(){return w.apply(this,arguments)&&B.apply(this,arguments)}:w:B}var As={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function xn(w){return typeof w!="string"||/\./.test(w)?function(B){return B}:function(B){return B[w]===void 0&&w in B&&delete(B=P(B))[w],B}}function Rs(){throw j.Type()}function xe(w,B){try{var K=Ms(w),$=Ms(B);if(K!==$)return K==="Array"?1:$==="Array"?-1:K==="binary"?1:$==="binary"?-1:K==="string"?1:$==="string"?-1:K==="Date"?1:$!=="Date"?NaN:-1;switch(K){case"number":case"Date":case"string":return B<w?1:w<B?-1:0;case"binary":return function(k,tt){for(var it=k.length,nt=tt.length,ut=it<nt?it:nt,ht=0;ht<ut;++ht)if(k[ht]!==tt[ht])return k[ht]<tt[ht]?-1:1;return it===nt?0:it<nt?-1:1}(Fs(w),Fs(B));case"Array":return function(k,tt){for(var it=k.length,nt=tt.length,ut=it<nt?it:nt,ht=0;ht<ut;++ht){var vt=xe(k[ht],tt[ht]);if(vt!==0)return vt}return it===nt?0:it<nt?-1:1}(w,B)}}catch{}return NaN}function Ms(w){var B=typeof w;return B!="object"?B:ArrayBuffer.isView(w)?"binary":(w=R(w),w==="ArrayBuffer"?"binary":w)}function Fs(w){return w instanceof Uint8Array?w:ArrayBuffer.isView(w)?new Uint8Array(w.buffer,w.byteOffset,w.byteLength):new Uint8Array(w)}var Ls=(Pe.prototype._trans=function(w,B,K){var $=this._tx||Ut.trans,k=this.name,tt=Nt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(w==="readonly"?"read":"write"," ").concat(this.name));function it(ht,vt,ot){if(!ot.schema[k])throw new j.NotFound("Table "+k+" not part of transaction");return B(ot.idbtrans,ot)}var nt=Ci();try{var ut=$&&$.db._novip===this.db._novip?$===Ut.trans?$._promise(w,it,K):rt(function(){return $._promise(w,it,K)},{trans:$,transless:Ut.transless||Ut}):function ht(vt,ot,pt,lt){if(vt.idbdb&&(vt._state.openComplete||Ut.letThrough||vt._vip)){var dt=vt._createTransaction(ot,pt,vt._dbSchema);try{dt.create(),vt._state.PR1398_maxLoop=3}catch(mt){return mt.name===U.InvalidState&&vt.isOpen()&&0<--vt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),vt.close({disableAutoOpen:!1}),vt.open().then(function(){return ht(vt,ot,pt,lt)})):ee(mt)}return dt._promise(ot,function(mt,ft){return rt(function(){return Ut.trans=dt,lt(mt,ft,dt)})}).then(function(mt){if(ot==="readwrite")try{dt.idbtrans.commit()}catch{}return ot==="readonly"?mt:dt._completion.then(function(){return mt})})}if(vt._state.openComplete)return ee(new j.DatabaseClosed(vt._state.dbOpenError));if(!vt._state.isBeingOpened){if(!vt._state.autoOpen)return ee(new j.DatabaseClosed);vt.open().catch(et)}return vt._state.dbReadyPromise.then(function(){return ht(vt,ot,pt,lt)})}(this.db,w,[this.name],it);return tt&&(ut._consoleTask=tt,ut=ut.catch(function(ht){return console.trace(ht),ee(ht)})),ut}finally{nt&&xi()}},Pe.prototype.get=function(w,B){var K=this;return w&&w.constructor===Object?this.where(w).first(B):w==null?ee(new j.Type("Invalid argument to Table.get()")):this._trans("readonly",function($){return K.core.get({trans:$,key:w}).then(function(k){return K.hook.reading.fire(k)})}).then(B)},Pe.prototype.where=function(w){if(typeof w=="string")return new this.db.WhereClause(this,w);if(y(w))return new this.db.WhereClause(this,"[".concat(w.join("+"),"]"));var B=p(w);if(B.length===1)return this.where(B[0]).equals(w[B[0]]);var K=this.schema.indexes.concat(this.schema.primKey).filter(function(ut){if(ut.compound&&B.every(function(vt){return 0<=ut.keyPath.indexOf(vt)})){for(var ht=0;ht<B.length;++ht)if(B.indexOf(ut.keyPath[ht])===-1)return!1;return!0}return!1}).sort(function(ut,ht){return ut.keyPath.length-ht.keyPath.length})[0];if(K&&this.db._maxKey!==Ge){var it=K.keyPath.slice(0,B.length);return this.where(it).equals(it.map(function(ht){return w[ht]}))}!K&&Nt&&console.warn("The query ".concat(JSON.stringify(w)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(B.join("+"),"]"));var $=this.schema.idxByName,k=this.db._deps.indexedDB;function tt(ut,ht){return k.cmp(ut,ht)===0}var nt=B.reduce(function(pt,ht){var vt=pt[0],ot=pt[1],pt=$[ht],lt=w[ht];return[vt||pt,vt||!pt?si(ot,pt&&pt.multi?function(dt){return dt=c(dt,ht),y(dt)&&dt.some(function(mt){return tt(lt,mt)})}:function(dt){return tt(lt,c(dt,ht))}):ot]},[null,null]),it=nt[0],nt=nt[1];return it?this.where(it.name).equals(w[it.keyPath]).filter(nt):K?this.filter(nt):this.where(B).equals("")},Pe.prototype.filter=function(w){return this.toCollection().and(w)},Pe.prototype.count=function(w){return this.toCollection().count(w)},Pe.prototype.offset=function(w){return this.toCollection().offset(w)},Pe.prototype.limit=function(w){return this.toCollection().limit(w)},Pe.prototype.each=function(w){return this.toCollection().each(w)},Pe.prototype.toArray=function(w){return this.toCollection().toArray(w)},Pe.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Pe.prototype.orderBy=function(w){return new this.db.Collection(new this.db.WhereClause(this,y(w)?"[".concat(w.join("+"),"]"):w))},Pe.prototype.reverse=function(){return this.toCollection().reverse()},Pe.prototype.mapToClass=function(w){var B,K=this.db,$=this.name;function k(){return B!==null&&B.apply(this,arguments)||this}(this.schema.mappedClass=w).prototype instanceof Rs&&(function(ut,ht){if(typeof ht!="function"&&ht!==null)throw new TypeError("Class extends value "+String(ht)+" is not a constructor or null");function vt(){this.constructor=ut}D(ut,ht),ut.prototype=ht===null?Object.create(ht):(vt.prototype=ht.prototype,new vt)}(k,B=w),Object.defineProperty(k.prototype,"db",{get:function(){return K},enumerable:!1,configurable:!0}),k.prototype.table=function(){return $},w=k);for(var tt=new Set,it=w.prototype;it;it=l(it))Object.getOwnPropertyNames(it).forEach(function(ut){return tt.add(ut)});function nt(ut){if(!ut)return ut;var ht,vt=Object.create(w.prototype);for(ht in ut)if(!tt.has(ht))try{vt[ht]=ut[ht]}catch{}return vt}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=nt,this.hook("reading",nt),w},Pe.prototype.defineClass=function(){return this.mapToClass(function(w){t(this,w)})},Pe.prototype.add=function(w,B){var K=this,$=this.schema.primKey,k=$.auto,tt=$.keyPath,it=w;return tt&&k&&(it=xn(tt)(w)),this._trans("readwrite",function(nt){return K.core.mutate({trans:nt,type:"add",keys:B!=null?[B]:null,values:[it]})}).then(function(nt){return nt.numFailures?Bt.reject(nt.failures[0]):nt.lastResult}).then(function(nt){if(tt)try{m(w,tt,nt)}catch{}return nt})},Pe.prototype.update=function(w,B){return typeof w!="object"||y(w)?this.where(":id").equals(w).modify(B):(w=c(w,this.schema.primKey.keyPath),w===void 0?ee(new j.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(w).modify(B))},Pe.prototype.put=function(w,B){var K=this,$=this.schema.primKey,k=$.auto,tt=$.keyPath,it=w;return tt&&k&&(it=xn(tt)(w)),this._trans("readwrite",function(nt){return K.core.mutate({trans:nt,type:"put",values:[it],keys:B!=null?[B]:null})}).then(function(nt){return nt.numFailures?Bt.reject(nt.failures[0]):nt.lastResult}).then(function(nt){if(tt)try{m(w,tt,nt)}catch{}return nt})},Pe.prototype.delete=function(w){var B=this;return this._trans("readwrite",function(K){return B.core.mutate({trans:K,type:"delete",keys:[w]})}).then(function(K){return K.numFailures?Bt.reject(K.failures[0]):void 0})},Pe.prototype.clear=function(){var w=this;return this._trans("readwrite",function(B){return w.core.mutate({trans:B,type:"deleteRange",range:As})}).then(function(B){return B.numFailures?Bt.reject(B.failures[0]):void 0})},Pe.prototype.bulkGet=function(w){var B=this;return this._trans("readonly",function(K){return B.core.getMany({keys:w,trans:K}).then(function($){return $.map(function(k){return B.hook.reading.fire(k)})})})},Pe.prototype.bulkAdd=function(w,B,K){var $=this,k=Array.isArray(B)?B:void 0,tt=(K=K||(k?void 0:B))?K.allKeys:void 0;return this._trans("readwrite",function(it){var ht=$.schema.primKey,nt=ht.auto,ht=ht.keyPath;if(ht&&k)throw new j.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(k&&k.length!==w.length)throw new j.InvalidArgument("Arguments objects and keys must have the same length");var ut=w.length,ht=ht&&nt?w.map(xn(ht)):w;return $.core.mutate({trans:it,type:"add",keys:k,values:ht,wantResults:tt}).then(function(dt){var ot=dt.numFailures,pt=dt.results,lt=dt.lastResult,dt=dt.failures;if(ot===0)return tt?pt:lt;throw new b("".concat($.name,".bulkAdd(): ").concat(ot," of ").concat(ut," operations failed"),dt)})})},Pe.prototype.bulkPut=function(w,B,K){var $=this,k=Array.isArray(B)?B:void 0,tt=(K=K||(k?void 0:B))?K.allKeys:void 0;return this._trans("readwrite",function(it){var ht=$.schema.primKey,nt=ht.auto,ht=ht.keyPath;if(ht&&k)throw new j.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(k&&k.length!==w.length)throw new j.InvalidArgument("Arguments objects and keys must have the same length");var ut=w.length,ht=ht&&nt?w.map(xn(ht)):w;return $.core.mutate({trans:it,type:"put",keys:k,values:ht,wantResults:tt}).then(function(dt){var ot=dt.numFailures,pt=dt.results,lt=dt.lastResult,dt=dt.failures;if(ot===0)return tt?pt:lt;throw new b("".concat($.name,".bulkPut(): ").concat(ot," of ").concat(ut," operations failed"),dt)})})},Pe.prototype.bulkUpdate=function(w){var B=this,K=this.core,$=w.map(function(it){return it.key}),k=w.map(function(it){return it.changes}),tt=[];return this._trans("readwrite",function(it){return K.getMany({trans:it,keys:$,cache:"clone"}).then(function(nt){var ut=[],ht=[];w.forEach(function(ot,pt){var lt=ot.key,dt=ot.changes,mt=nt[pt];if(mt){for(var ft=0,yt=Object.keys(dt);ft<yt.length;ft++){var St=yt[ft],Ct=dt[St];if(St===B.schema.primKey.keyPath){if(xe(Ct,lt)!==0)throw new j.Constraint("Cannot update primary key in bulkUpdate()")}else m(mt,St,Ct)}tt.push(pt),ut.push(lt),ht.push(mt)}});var vt=ut.length;return K.mutate({trans:it,type:"put",keys:ut,values:ht,updates:{keys:$,changeSpecs:k}}).then(function(ot){var pt=ot.numFailures,lt=ot.failures;if(pt===0)return vt;for(var dt=0,mt=Object.keys(lt);dt<mt.length;dt++){var ft,yt=mt[dt],St=tt[Number(yt)];St!=null&&(ft=lt[yt],delete lt[yt],lt[St]=ft)}throw new b("".concat(B.name,".bulkUpdate(): ").concat(pt," of ").concat(vt," operations failed"),lt)})})})},Pe.prototype.bulkDelete=function(w){var B=this,K=w.length;return this._trans("readwrite",function($){return B.core.mutate({trans:$,type:"delete",keys:w})}).then(function(it){var k=it.numFailures,tt=it.lastResult,it=it.failures;if(k===0)return tt;throw new b("".concat(B.name,".bulkDelete(): ").concat(k," of ").concat(K," operations failed"),it)})},Pe);function Pe(){}function yn(w){function B(it,nt){if(nt){for(var ut=arguments.length,ht=new Array(ut-1);--ut;)ht[ut-1]=arguments[ut];return K[it].subscribe.apply(null,ht),w}if(typeof it=="string")return K[it]}var K={};B.addEventType=tt;for(var $=1,k=arguments.length;$<k;++$)tt(arguments[$]);return B;function tt(it,nt,ut){if(typeof it!="object"){var ht;nt=nt||Vt;var vt={subscribers:[],fire:ut=ut||et,subscribe:function(ot){vt.subscribers.indexOf(ot)===-1&&(vt.subscribers.push(ot),vt.fire=nt(vt.fire,ot))},unsubscribe:function(ot){vt.subscribers=vt.subscribers.filter(function(pt){return pt!==ot}),vt.fire=vt.subscribers.reduce(nt,ut)}};return K[it]=B[it]=vt}p(ht=it).forEach(function(ot){var pt=ht[ot];if(y(pt))tt(ot,ht[ot][0],ht[ot][1]);else{if(pt!=="asap")throw new j.InvalidArgument("Invalid event config");var lt=tt(ot,st,function(){for(var dt=arguments.length,mt=new Array(dt);dt--;)mt[dt]=arguments[dt];lt.subscribers.forEach(function(ft){d(function(){ft.apply(null,mt)})})})}})}}function Tn(w,B){return n(B).from({prototype:w}),B}function Ai(w,B){return!(w.filter||w.algorithm||w.or)&&(B?w.justLimit:!w.replayFilter)}function Sn(w,B){w.filter=si(w.filter,B)}function qi(w,B,K){var $=w.replayFilter;w.replayFilter=$?function(){return si($(),B())}:B,w.justLimit=K&&!$}function _i(w,B){if(w.isPrimKey)return B.primaryKey;var K=B.getIndexByKeyPath(w.index);if(!K)throw new j.Schema("KeyPath "+w.index+" on object store "+B.name+" is not indexed");return K}function En(w,B,K){var $=_i(w,B.schema);return B.openCursor({trans:K,values:!w.keysOnly,reverse:w.dir==="prev",unique:!!w.unique,query:{index:$,range:w.range}})}function $n(w,B,K,$){var k=w.replayFilter?si(w.filter,w.replayFilter()):w.filter;if(w.or){var tt={},it=function(nt,ut,ht){var vt,ot;k&&!k(ut,ht,function(pt){return ut.stop(pt)},function(pt){return ut.fail(pt)})||((ot=""+(vt=ut.primaryKey))=="[object ArrayBuffer]"&&(ot=""+new Uint8Array(vt)),a(tt,ot)||(tt[ot]=!0,B(nt,ut,ht)))};return Promise.all([w.or._iterate(it,K),Os(En(w,$,K),w.algorithm,it,!w.keysOnly&&w.valueMapper)])}return Os(En(w,$,K),si(w.algorithm,k),B,!w.keysOnly&&w.valueMapper)}function Os(w,B,K,$){var k=Ee($?function(tt,it,nt){return K($(tt),it,nt)}:K);return w.then(function(tt){if(tt)return tt.start(function(){var it=function(){return tt.continue()};B&&!B(tt,function(nt){return it=nt},function(nt){tt.stop(nt),it=et},function(nt){tt.fail(nt),it=et})||k(tt.value,tt,function(nt){return it=nt}),it()})})}var yi=Symbol(),Cn=(Pn.prototype.execute=function(w){if(this.add!==void 0){var B=this.add;if(y(B))return H(H([],y(w)?w:[],!0),B).sort();if(typeof B=="number")return(Number(w)||0)+B;if(typeof B=="bigint")try{return BigInt(w)+B}catch{return BigInt(0)+B}throw new TypeError("Invalid term ".concat(B))}if(this.remove!==void 0){var K=this.remove;if(y(K))return y(w)?w.filter(function($){return!K.includes($)}).sort():[];if(typeof K=="number")return Number(w)-K;if(typeof K=="bigint")try{return BigInt(w)-K}catch{return BigInt(0)-K}throw new TypeError("Invalid subtrahend ".concat(K))}return B=(B=this.replacePrefix)===null||B===void 0?void 0:B[0],B&&typeof w=="string"&&w.startsWith(B)?this.replacePrefix[1]+w.substring(B.length):w},Pn);function Pn(w){Object.assign(this,w)}var dr=(me.prototype._read=function(w,B){var K=this._ctx;return K.error?K.table._trans(null,ee.bind(null,K.error)):K.table._trans("readonly",w).then(B)},me.prototype._write=function(w){var B=this._ctx;return B.error?B.table._trans(null,ee.bind(null,B.error)):B.table._trans("readwrite",w,"locked")},me.prototype._addAlgorithm=function(w){var B=this._ctx;B.algorithm=si(B.algorithm,w)},me.prototype._iterate=function(w,B){return $n(this._ctx,w,B,this._ctx.table.core)},me.prototype.clone=function(w){var B=Object.create(this.constructor.prototype),K=Object.create(this._ctx);return w&&t(K,w),B._ctx=K,B},me.prototype.raw=function(){return this._ctx.valueMapper=null,this},me.prototype.each=function(w){var B=this._ctx;return this._read(function(K){return $n(B,w,K,B.table.core)})},me.prototype.count=function(w){var B=this;return this._read(function(K){var $=B._ctx,k=$.table.core;if(Ai($,!0))return k.count({trans:K,query:{index:_i($,k.schema),range:$.range}}).then(function(it){return Math.min(it,$.limit)});var tt=0;return $n($,function(){return++tt,!1},K,k).then(function(){return tt})}).then(w)},me.prototype.sortBy=function(w,B){var K=w.split(".").reverse(),$=K[0],k=K.length-1;function tt(ut,ht){return ht?tt(ut[K[ht]],ht-1):ut[$]}var it=this._ctx.dir==="next"?1:-1;function nt(ut,ht){return ut=tt(ut,k),ht=tt(ht,k),ut<ht?-it:ht<ut?it:0}return this.toArray(function(ut){return ut.sort(nt)}).then(B)},me.prototype.toArray=function(w){var B=this;return this._read(function(K){var $=B._ctx;if($.dir==="next"&&Ai($,!0)&&0<$.limit){var k=$.valueMapper,tt=_i($,$.table.core.schema);return $.table.core.query({trans:K,limit:$.limit,values:!0,query:{index:tt,range:$.range}}).then(function(nt){return nt=nt.result,k?nt.map(k):nt})}var it=[];return $n($,function(nt){return it.push(nt)},K,$.table.core).then(function(){return it})},w)},me.prototype.offset=function(w){var B=this._ctx;return w<=0||(B.offset+=w,Ai(B)?qi(B,function(){var K=w;return function($,k){return K===0||(K===1?--K:k(function(){$.advance(K),K=0}),!1)}}):qi(B,function(){var K=w;return function(){return--K<0}})),this},me.prototype.limit=function(w){return this._ctx.limit=Math.min(this._ctx.limit,w),qi(this._ctx,function(){var B=w;return function(K,$,k){return--B<=0&&$(k),0<=B}},!0),this},me.prototype.until=function(w,B){return Sn(this._ctx,function(K,$,k){return!w(K.value)||($(k),B)}),this},me.prototype.first=function(w){return this.limit(1).toArray(function(B){return B[0]}).then(w)},me.prototype.last=function(w){return this.reverse().first(w)},me.prototype.filter=function(w){var B;return Sn(this._ctx,function(K){return w(K.value)}),(B=this._ctx).isMatch=si(B.isMatch,w),this},me.prototype.and=function(w){return this.filter(w)},me.prototype.or=function(w){return new this.db.WhereClause(this._ctx.table,w,this)},me.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},me.prototype.desc=function(){return this.reverse()},me.prototype.eachKey=function(w){var B=this._ctx;return B.keysOnly=!B.isMatch,this.each(function(K,$){w($.key,$)})},me.prototype.eachUniqueKey=function(w){return this._ctx.unique="unique",this.eachKey(w)},me.prototype.eachPrimaryKey=function(w){var B=this._ctx;return B.keysOnly=!B.isMatch,this.each(function(K,$){w($.primaryKey,$)})},me.prototype.keys=function(w){var B=this._ctx;B.keysOnly=!B.isMatch;var K=[];return this.each(function($,k){K.push(k.key)}).then(function(){return K}).then(w)},me.prototype.primaryKeys=function(w){var B=this._ctx;if(B.dir==="next"&&Ai(B,!0)&&0<B.limit)return this._read(function($){var k=_i(B,B.table.core.schema);return B.table.core.query({trans:$,values:!1,limit:B.limit,query:{index:k,range:B.range}})}).then(function($){return $.result}).then(w);B.keysOnly=!B.isMatch;var K=[];return this.each(function($,k){K.push(k.primaryKey)}).then(function(){return K}).then(w)},me.prototype.uniqueKeys=function(w){return this._ctx.unique="unique",this.keys(w)},me.prototype.firstKey=function(w){return this.limit(1).keys(function(B){return B[0]}).then(w)},me.prototype.lastKey=function(w){return this.reverse().firstKey(w)},me.prototype.distinct=function(){var w=this._ctx,w=w.index&&w.table.schema.idxByName[w.index];if(!w||!w.multi)return this;var B={};return Sn(this._ctx,function(k){var $=k.primaryKey.toString(),k=a(B,$);return B[$]=!0,!k}),this},me.prototype.modify=function(w){var B=this,K=this._ctx;return this._write(function($){var k,tt,it;it=typeof w=="function"?w:(k=p(w),tt=k.length,function(ft){for(var yt=!1,St=0;St<tt;++St){var Ct=k[St],Rt=w[Ct],Ft=c(ft,Ct);Rt instanceof Cn?(m(ft,Ct,Rt.execute(Ft)),yt=!0):Ft!==Rt&&(m(ft,Ct,Rt),yt=!0)}return yt});function nt(ft,Ct){var St=Ct.failures,Ct=Ct.numFailures;dt+=ft-Ct;for(var Rt=0,Ft=p(St);Rt<Ft.length;Rt++){var Ht=Ft[Rt];lt.push(St[Ht])}}var ut=K.table.core,ht=ut.schema.primaryKey,vt=ht.outbound,ot=ht.extractKey,pt=B.db._options.modifyChunkSize||200,lt=[],dt=0,mt=[];return B.clone().primaryKeys().then(function(ft){function yt(Ct){var Rt=Math.min(pt,ft.length-Ct);return ut.getMany({trans:$,keys:ft.slice(Ct,Ct+Rt),cache:"immutable"}).then(function(Ft){for(var Ht=[],It=[],Yt=vt?[]:null,Kt=[],Xt=0;Xt<Rt;++Xt){var ne=Ft[Xt],se={value:P(ne),primKey:ft[Ct+Xt]};it.call(se,se.value,se)!==!1&&(se.value==null?Kt.push(ft[Ct+Xt]):vt||xe(ot(ne),ot(se.value))===0?(It.push(se.value),vt&&Yt.push(ft[Ct+Xt])):(Kt.push(ft[Ct+Xt]),Ht.push(se.value)))}return Promise.resolve(0<Ht.length&&ut.mutate({trans:$,type:"add",values:Ht}).then(function(fe){for(var ae in fe.failures)Kt.splice(parseInt(ae),1);nt(Ht.length,fe)})).then(function(){return(0<It.length||St&&typeof w=="object")&&ut.mutate({trans:$,type:"put",keys:Yt,values:It,criteria:St,changeSpec:typeof w!="function"&&w,isAdditionalChunk:0<Ct}).then(function(fe){return nt(It.length,fe)})}).then(function(){return(0<Kt.length||St&&w===tn)&&ut.mutate({trans:$,type:"delete",keys:Kt,criteria:St,isAdditionalChunk:0<Ct}).then(function(fe){return nt(Kt.length,fe)})}).then(function(){return ft.length>Ct+Rt&&yt(Ct+pt)})})}var St=Ai(K)&&K.limit===1/0&&(typeof w!="function"||w===tn)&&{index:K.index,range:K.range};return yt(0).then(function(){if(0<lt.length)throw new L("Error modifying one or more objects",lt,dt,mt);return ft.length})})})},me.prototype.delete=function(){var w=this._ctx,B=w.range;return Ai(w)&&(w.isPrimKey||B.type===3)?this._write(function(K){var $=w.table.core.schema.primaryKey,k=B;return w.table.core.count({trans:K,query:{index:$,range:k}}).then(function(tt){return w.table.core.mutate({trans:K,type:"deleteRange",range:k}).then(function(it){var nt=it.failures;if(it.lastResult,it.results,it=it.numFailures,it)throw new L("Could not delete some values",Object.keys(nt).map(function(ut){return nt[ut]}),tt-it);return tt-it})})}):this.modify(tn)},me);function me(){}var tn=function(w,B){return B.value=null};function $a(w,B){return w<B?-1:w===B?0:1}function en(w,B){return B<w?-1:w===B?0:1}function $e(w,B,K){return w=w instanceof cr?new w.Collection(w):w,w._ctx.error=new(K||TypeError)(B),w}function Ui(w){return new w.Collection(w,function(){return ws("")}).limit(0)}function Jn(w,B,K,$){var k,tt,it,nt,ut,ht,vt,ot=K.length;if(!K.every(function(dt){return typeof dt=="string"}))return $e(w,ui);function pt(dt){k=dt==="next"?function(ft){return ft.toUpperCase()}:function(ft){return ft.toLowerCase()},tt=dt==="next"?function(ft){return ft.toLowerCase()}:function(ft){return ft.toUpperCase()},it=dt==="next"?$a:en;var mt=K.map(function(ft){return{lower:tt(ft),upper:k(ft)}}).sort(function(ft,yt){return it(ft.lower,yt.lower)});nt=mt.map(function(ft){return ft.upper}),ut=mt.map(function(ft){return ft.lower}),vt=(ht=dt)==="next"?"":$}pt("next"),w=new w.Collection(w,function(){return Ri(nt[0],ut[ot-1]+$)}),w._ondirectionchange=function(dt){pt(dt)};var lt=0;return w._addAlgorithm(function(dt,mt,ft){var yt=dt.key;if(typeof yt!="string")return!1;var St=tt(yt);if(B(St,ut,lt))return!0;for(var Ct=null,Rt=lt;Rt<ot;++Rt){var Ft=function(Ht,It,Yt,Kt,Xt,ne){for(var se=Math.min(Ht.length,Kt.length),fe=-1,ae=0;ae<se;++ae){var Si=It[ae];if(Si!==Kt[ae])return Xt(Ht[ae],Yt[ae])<0?Ht.substr(0,ae)+Yt[ae]+Yt.substr(ae+1):Xt(Ht[ae],Kt[ae])<0?Ht.substr(0,ae)+Kt[ae]+Yt.substr(ae+1):0<=fe?Ht.substr(0,fe)+It[fe]+Yt.substr(fe+1):null;Xt(Ht[ae],Si)<0&&(fe=ae)}return se<Kt.length&&ne==="next"?Ht+Yt.substr(Ht.length):se<Ht.length&&ne==="prev"?Ht.substr(0,Yt.length):fe<0?null:Ht.substr(0,fe)+Kt[fe]+Yt.substr(fe+1)}(yt,St,nt[Rt],ut[Rt],it,ht);Ft===null&&Ct===null?lt=Rt+1:(Ct===null||0<it(Ct,Ft))&&(Ct=Ft)}return mt(Ct!==null?function(){dt.continue(Ct+vt)}:ft),!1}),w}function Ri(w,B,K,$){return{type:2,lower:w,upper:B,lowerOpen:K,upperOpen:$}}function ws(w){return{type:1,lower:w,upper:w}}var cr=(Object.defineProperty(Ve.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ve.prototype.between=function(w,B,K,$){K=K!==!1,$=$===!0;try{return 0<this._cmp(w,B)||this._cmp(w,B)===0&&(K||$)&&(!K||!$)?Ui(this):new this.Collection(this,function(){return Ri(w,B,!K,!$)})}catch{return $e(this,He)}},Ve.prototype.equals=function(w){return w==null?$e(this,He):new this.Collection(this,function(){return ws(w)})},Ve.prototype.above=function(w){return w==null?$e(this,He):new this.Collection(this,function(){return Ri(w,void 0,!0)})},Ve.prototype.aboveOrEqual=function(w){return w==null?$e(this,He):new this.Collection(this,function(){return Ri(w,void 0,!1)})},Ve.prototype.below=function(w){return w==null?$e(this,He):new this.Collection(this,function(){return Ri(void 0,w,!1,!0)})},Ve.prototype.belowOrEqual=function(w){return w==null?$e(this,He):new this.Collection(this,function(){return Ri(void 0,w)})},Ve.prototype.startsWith=function(w){return typeof w!="string"?$e(this,ui):this.between(w,w+Ge,!0,!0)},Ve.prototype.startsWithIgnoreCase=function(w){return w===""?this.startsWith(w):Jn(this,function(B,K){return B.indexOf(K[0])===0},[w],Ge)},Ve.prototype.equalsIgnoreCase=function(w){return Jn(this,function(B,K){return B===K[0]},[w],"")},Ve.prototype.anyOfIgnoreCase=function(){var w=X.apply(V,arguments);return w.length===0?Ui(this):Jn(this,function(B,K){return K.indexOf(B)!==-1},w,"")},Ve.prototype.startsWithAnyOfIgnoreCase=function(){var w=X.apply(V,arguments);return w.length===0?Ui(this):Jn(this,function(B,K){return K.some(function($){return B.indexOf($)===0})},w,Ge)},Ve.prototype.anyOf=function(){var w=this,B=X.apply(V,arguments),K=this._cmp;try{B.sort(K)}catch{return $e(this,He)}if(B.length===0)return Ui(this);var $=new this.Collection(this,function(){return Ri(B[0],B[B.length-1])});$._ondirectionchange=function(tt){K=tt==="next"?w._ascending:w._descending,B.sort(K)};var k=0;return $._addAlgorithm(function(tt,it,nt){for(var ut=tt.key;0<K(ut,B[k]);)if(++k===B.length)return it(nt),!1;return K(ut,B[k])===0||(it(function(){tt.continue(B[k])}),!1)}),$},Ve.prototype.notEqual=function(w){return this.inAnyRange([[-1/0,w],[w,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ve.prototype.noneOf=function(){var w=X.apply(V,arguments);if(w.length===0)return new this.Collection(this);try{w.sort(this._ascending)}catch{return $e(this,He)}var B=w.reduce(function(K,$){return K?K.concat([[K[K.length-1][1],$]]):[[-1/0,$]]},null);return B.push([w[w.length-1],this.db._maxKey]),this.inAnyRange(B,{includeLowers:!1,includeUppers:!1})},Ve.prototype.inAnyRange=function(yt,B){var K=this,$=this._cmp,k=this._ascending,tt=this._descending,it=this._min,nt=this._max;if(yt.length===0)return Ui(this);if(!yt.every(function(St){return St[0]!==void 0&&St[1]!==void 0&&k(St[0],St[1])<=0}))return $e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",j.InvalidArgument);var ut=!B||B.includeLowers!==!1,ht=B&&B.includeUppers===!0,vt,ot=k;function pt(St,Ct){return ot(St[0],Ct[0])}try{(vt=yt.reduce(function(St,Ct){for(var Rt=0,Ft=St.length;Rt<Ft;++Rt){var Ht=St[Rt];if($(Ct[0],Ht[1])<0&&0<$(Ct[1],Ht[0])){Ht[0]=it(Ht[0],Ct[0]),Ht[1]=nt(Ht[1],Ct[1]);break}}return Rt===Ft&&St.push(Ct),St},[])).sort(pt)}catch{return $e(this,He)}var lt=0,dt=ht?function(St){return 0<k(St,vt[lt][1])}:function(St){return 0<=k(St,vt[lt][1])},mt=ut?function(St){return 0<tt(St,vt[lt][0])}:function(St){return 0<=tt(St,vt[lt][0])},ft=dt,yt=new this.Collection(this,function(){return Ri(vt[0][0],vt[vt.length-1][1],!ut,!ht)});return yt._ondirectionchange=function(St){ot=St==="next"?(ft=dt,k):(ft=mt,tt),vt.sort(pt)},yt._addAlgorithm(function(St,Ct,Rt){for(var Ft,Ht=St.key;ft(Ht);)if(++lt===vt.length)return Ct(Rt),!1;return!dt(Ft=Ht)&&!mt(Ft)||(K._cmp(Ht,vt[lt][1])===0||K._cmp(Ht,vt[lt][0])===0||Ct(function(){ot===k?St.continue(vt[lt][0]):St.continue(vt[lt][1])}),!1)}),yt},Ve.prototype.startsWithAnyOf=function(){var w=X.apply(V,arguments);return w.every(function(B){return typeof B=="string"})?w.length===0?Ui(this):this.inAnyRange(w.map(function(B){return[B,B+Ge]})):$e(this,"startsWithAnyOf() only works with strings")},Ve);function Ve(){}function ri(w){return Ee(function(B){return nn(B),w(B.target.error),!1})}function nn(w){w.stopPropagation&&w.stopPropagation(),w.preventDefault&&w.preventDefault()}var An="storagemutated",Qn="x-storagemutated-1",Ti=yn(null,An),Ja=(fi.prototype._lock=function(){return u(!Ut.global),++this._reculock,this._reculock!==1||Ut.global||(Ut.lockOwnerFor=this),this},fi.prototype._unlock=function(){if(u(!Ut.global),--this._reculock==0)for(Ut.global||(Ut.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var w=this._blockedFuncs.shift();try{te(w[1],w[0])}catch{}}return this},fi.prototype._locked=function(){return this._reculock&&Ut.lockOwnerFor!==this},fi.prototype.create=function(w){var B=this;if(!this.mode)return this;var K=this.db.idbdb,$=this.db._state.dbOpenError;if(u(!this.idbtrans),!w&&!K)switch($&&$.name){case"DatabaseClosedError":throw new j.DatabaseClosed($);case"MissingAPIError":throw new j.MissingAPI($.message,$);default:throw new j.OpenFailed($)}if(!this.active)throw new j.TransactionInactive;return u(this._completion._state===null),(w=this.idbtrans=w||(this.db.core||K).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ee(function(k){nn(k),B._reject(w.error)}),w.onabort=Ee(function(k){nn(k),B.active&&B._reject(new j.Abort(w.error)),B.active=!1,B.on("abort").fire(k)}),w.oncomplete=Ee(function(){B.active=!1,B._resolve(),"mutatedParts"in w&&Ti.storagemutated.fire(w.mutatedParts)}),this},fi.prototype._promise=function(w,B,K){var $=this;if(w==="readwrite"&&this.mode!=="readwrite")return ee(new j.ReadOnly("Transaction is readonly"));if(!this.active)return ee(new j.TransactionInactive);if(this._locked())return new Bt(function(tt,it){$._blockedFuncs.push([function(){$._promise(w,B,K).then(tt,it)},Ut])});if(K)return rt(function(){var tt=new Bt(function(it,nt){$._lock();var ut=B(it,nt,$);ut&&ut.then&&ut.then(it,nt)});return tt.finally(function(){return $._unlock()}),tt._lib=!0,tt});var k=new Bt(function(tt,it){var nt=B(tt,it,$);nt&&nt.then&&nt.then(tt,it)});return k._lib=!0,k},fi.prototype._root=function(){return this.parent?this.parent._root():this},fi.prototype.waitFor=function(w){var B,K=this._root(),$=Bt.resolve(w);K._waitingFor?K._waitingFor=K._waitingFor.then(function(){return $}):(K._waitingFor=$,K._waitingQueue=[],B=K.idbtrans.objectStore(K.storeNames[0]),function tt(){for(++K._spinCount;K._waitingQueue.length;)K._waitingQueue.shift()();K._waitingFor&&(B.get(-1/0).onsuccess=tt)}());var k=K._waitingFor;return new Bt(function(tt,it){$.then(function(nt){return K._waitingQueue.push(Ee(tt.bind(null,nt)))},function(nt){return K._waitingQueue.push(Ee(it.bind(null,nt)))}).finally(function(){K._waitingFor===k&&(K._waitingFor=null)})})},fi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new j.Abort))},fi.prototype.table=function(w){var B=this._memoizedTables||(this._memoizedTables={});if(a(B,w))return B[w];var K=this.schema[w];if(!K)throw new j.NotFound("Table "+w+" not part of transaction");return K=new this.db.Table(w,K,this),K.core=this.db.core.table(w),B[w]=K},fi);function fi(){}function Ds(w,B,K,$,k,tt,it){return{name:w,keyPath:B,unique:K,multi:$,auto:k,compound:tt,src:(K&&!it?"&":"")+($?"*":"")+(k?"++":"")+Is(B)}}function Is(w){return typeof w=="string"?w:w?"["+[].join.call(w,"+")+"]":""}function sn(w,B,K){return{name:w,primKey:B,indexes:K,mappedClass:null,idxByName:($=function(k){return[k.name,k]},K.reduce(function(k,tt,it){return it=$(tt,it),it&&(k[it[0]]=it[1]),k},{}))};var $}var Rn=function(w){try{return w.only([[]]),Rn=function(){return[[]]},[[]]}catch{return Rn=function(){return Ge},Ge}};function Mi(w){return w==null?function(){}:typeof w=="string"?(B=w).split(".").length===1?function(K){return K[B]}:function(K){return c(K,B)}:function(K){return c(K,w)};var B}function Bs(w){return[].slice.call(w)}var vr=0;function Fi(w){return w==null?":id":typeof w=="string"?w:"[".concat(w.join("+"),"]")}function bs(w,B,ut){function $(ft){if(ft.type===3)return null;if(ft.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var lt=ft.lower,dt=ft.upper,mt=ft.lowerOpen,ft=ft.upperOpen;return lt===void 0?dt===void 0?null:B.upperBound(dt,!!ft):dt===void 0?B.lowerBound(lt,!!mt):B.bound(lt,dt,!!mt,!!ft)}function k(pt){var lt,dt=pt.name;return{name:dt,schema:pt,mutate:function(mt){var ft=mt.trans,yt=mt.type,St=mt.keys,Ct=mt.values,Rt=mt.range;return new Promise(function(Ft,Ht){Ft=Ee(Ft);var It=ft.objectStore(dt),Yt=It.keyPath==null,Kt=yt==="put"||yt==="add";if(!Kt&&yt!=="delete"&&yt!=="deleteRange")throw new Error("Invalid operation type: "+yt);var Xt,ne=(St||Ct||{length:1}).length;if(St&&Ct&&St.length!==Ct.length)throw new Error("Given keys array must have same length as given values array.");if(ne===0)return Ft({numFailures:0,failures:{},results:[],lastResult:void 0});function se(ei){++Si,nn(ei)}var fe=[],ae=[],Si=0;if(yt==="deleteRange"){if(Rt.type===4)return Ft({numFailures:Si,failures:ae,results:[],lastResult:void 0});Rt.type===3?fe.push(Xt=It.clear()):fe.push(Xt=It.delete($(Rt)))}else{var Yt=Kt?Yt?[Ct,St]:[Ct,null]:[St,null],oe=Yt[0],_e=Yt[1];if(Kt)for(var ti=0;ti<ne;++ti)fe.push(Xt=_e&&_e[ti]!==void 0?It[yt](oe[ti],_e[ti]):It[yt](oe[ti])),Xt.onerror=se;else for(ti=0;ti<ne;++ti)fe.push(Xt=It[yt](oe[ti])),Xt.onerror=se}function Tr(ei){ei=ei.target.result,fe.forEach(function(wn,oo){return wn.error!=null&&(ae[oo]=wn.error)}),Ft({numFailures:Si,failures:ae,results:yt==="delete"?St:fe.map(function(wn){return wn.result}),lastResult:ei})}Xt.onerror=function(ei){se(ei),Tr(ei)},Xt.onsuccess=Tr})},getMany:function(mt){var ft=mt.trans,yt=mt.keys;return new Promise(function(St,Ct){St=Ee(St);for(var Rt,Ft=ft.objectStore(dt),Ht=yt.length,It=new Array(Ht),Yt=0,Kt=0,Xt=function(fe){fe=fe.target,It[fe._pos]=fe.result,++Kt===Yt&&St(It)},ne=ri(Ct),se=0;se<Ht;++se)yt[se]!=null&&((Rt=Ft.get(yt[se]))._pos=se,Rt.onsuccess=Xt,Rt.onerror=ne,++Yt);Yt===0&&St(It)})},get:function(mt){var ft=mt.trans,yt=mt.key;return new Promise(function(St,Ct){St=Ee(St);var Rt=ft.objectStore(dt).get(yt);Rt.onsuccess=function(Ft){return St(Ft.target.result)},Rt.onerror=ri(Ct)})},query:(lt=ht,function(mt){return new Promise(function(ft,yt){ft=Ee(ft);var St,Ct,Rt,Yt=mt.trans,Ft=mt.values,Ht=mt.limit,Xt=mt.query,It=Ht===1/0?void 0:Ht,Kt=Xt.index,Xt=Xt.range,Yt=Yt.objectStore(dt),Kt=Kt.isPrimaryKey?Yt:Yt.index(Kt.name),Xt=$(Xt);if(Ht===0)return ft({result:[]});lt?((It=Ft?Kt.getAll(Xt,It):Kt.getAllKeys(Xt,It)).onsuccess=function(ne){return ft({result:ne.target.result})},It.onerror=ri(yt)):(St=0,Ct=!Ft&&"openKeyCursor"in Kt?Kt.openKeyCursor(Xt):Kt.openCursor(Xt),Rt=[],Ct.onsuccess=function(ne){var se=Ct.result;return se?(Rt.push(Ft?se.value:se.primaryKey),++St===Ht?ft({result:Rt}):void se.continue()):ft({result:Rt})},Ct.onerror=ri(yt))})}),openCursor:function(mt){var ft=mt.trans,yt=mt.values,St=mt.query,Ct=mt.reverse,Rt=mt.unique;return new Promise(function(Ft,Ht){Ft=Ee(Ft);var Kt=St.index,It=St.range,Yt=ft.objectStore(dt),Yt=Kt.isPrimaryKey?Yt:Yt.index(Kt.name),Kt=Ct?Rt?"prevunique":"prev":Rt?"nextunique":"next",Xt=!yt&&"openKeyCursor"in Yt?Yt.openKeyCursor($(It),Kt):Yt.openCursor($(It),Kt);Xt.onerror=ri(Ht),Xt.onsuccess=Ee(function(ne){var se,fe,ae,Si,oe=Xt.result;oe?(oe.___id=++vr,oe.done=!1,se=oe.continue.bind(oe),fe=(fe=oe.continuePrimaryKey)&&fe.bind(oe),ae=oe.advance.bind(oe),Si=function(){throw new Error("Cursor not stopped")},oe.trans=ft,oe.stop=oe.continue=oe.continuePrimaryKey=oe.advance=function(){throw new Error("Cursor not started")},oe.fail=Ee(Ht),oe.next=function(){var _e=this,ti=1;return this.start(function(){return ti--?_e.continue():_e.stop()}).then(function(){return _e})},oe.start=function(_e){function ti(){if(Xt.result)try{_e()}catch(ei){oe.fail(ei)}else oe.done=!0,oe.start=function(){throw new Error("Cursor behind last entry")},oe.stop()}var Tr=new Promise(function(ei,wn){ei=Ee(ei),Xt.onerror=ri(wn),oe.fail=wn,oe.stop=function(oo){oe.stop=oe.continue=oe.continuePrimaryKey=oe.advance=Si,ei(oo)}});return Xt.onsuccess=Ee(function(ei){Xt.onsuccess=ti,ti()}),oe.continue=se,oe.continuePrimaryKey=fe,oe.advance=ae,ti(),Tr},Ft(oe)):Ft(null)},Ht)})},count:function(mt){var ft=mt.query,yt=mt.trans,St=ft.index,Ct=ft.range;return new Promise(function(Rt,Ft){var Ht=yt.objectStore(dt),It=St.isPrimaryKey?Ht:Ht.index(St.name),Ht=$(Ct),It=Ht?It.count(Ht):It.count();It.onsuccess=Ee(function(Yt){return Rt(Yt.target.result)}),It.onerror=ri(Ft)})}}}var tt,it,nt,vt=(it=ut,nt=Bs((tt=w).objectStoreNames),{schema:{name:tt.name,tables:nt.map(function(pt){return it.objectStore(pt)}).map(function(pt){var lt=pt.keyPath,ft=pt.autoIncrement,dt=y(lt),mt={},ft={name:pt.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:lt==null,compound:dt,keyPath:lt,autoIncrement:ft,unique:!0,extractKey:Mi(lt)},indexes:Bs(pt.indexNames).map(function(yt){return pt.index(yt)}).map(function(Rt){var St=Rt.name,Ct=Rt.unique,Ft=Rt.multiEntry,Rt=Rt.keyPath,Ft={name:St,compound:y(Rt),keyPath:Rt,unique:Ct,multiEntry:Ft,extractKey:Mi(Rt)};return mt[Fi(Rt)]=Ft}),getIndexByKeyPath:function(yt){return mt[Fi(yt)]}};return mt[":id"]=ft.primaryKey,lt!=null&&(mt[Fi(lt)]=ft.primaryKey),ft})},hasGetAll:0<nt.length&&"getAll"in it.objectStore(nt[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),ut=vt.schema,ht=vt.hasGetAll,vt=ut.tables.map(k),ot={};return vt.forEach(function(pt){return ot[pt.name]=pt}),{stack:"dbcore",transaction:w.transaction.bind(w),table:function(pt){if(!ot[pt])throw new Error("Table '".concat(pt,"' not found"));return ot[pt]},MIN_KEY:-1/0,MAX_KEY:Rn(B),schema:ut}}function Gs(w,B,K,$){var k=K.IDBKeyRange;return K.indexedDB,{dbcore:($=bs(B,k,$),w.dbcore.reduce(function(tt,it){return it=it.create,G(G({},tt),it(tt))},$))}}function rn(w,$){var K=$.db,$=Gs(w._middlewares,K,w._deps,$);w.core=$.dbcore,w.tables.forEach(function(k){var tt=k.name;w.core.schema.tables.some(function(it){return it.name===tt})&&(k.core=w.core.table(tt),w[tt]instanceof w.Table&&(w[tt].core=k.core))})}function kn(w,B,K,$){K.forEach(function(k){var tt=$[k];B.forEach(function(it){var nt=function ut(ht,vt){return h(ht,vt)||(ht=l(ht))&&ut(ht,vt)}(it,k);(!nt||"value"in nt&&nt.value===void 0)&&(it===w.Transaction.prototype||it instanceof w.Transaction?e(it,k,{get:function(){return this.table(k)},set:function(ut){s(this,k,{value:ut,writable:!0,configurable:!0,enumerable:!0})}}):it[k]=new w.Table(k,tt))})})}function Ns(w,B){B.forEach(function(K){for(var $ in K)K[$]instanceof w.Table&&delete K[$]})}function Qa(w,B){return w._cfg.version-B._cfg.version}function ka(w,B,K,$){var k=w._dbSchema;K.objectStoreNames.contains("$meta")&&!k.$meta&&(k.$meta=sn("$meta",_t("")[0],[]),w._storeNames.push("$meta"));var tt=w._createTransaction("readwrite",w._storeNames,k);tt.create(K),tt._completion.catch($);var it=tt._reject.bind(tt),nt=Ut.transless||Ut;rt(function(){return Ut.trans=tt,Ut.transless=nt,B!==0?(rn(w,K),ht=B,((ut=tt).storeNames.includes("$meta")?ut.table("$meta").get("version").then(function(vt){return vt??ht}):Bt.resolve(ht)).then(function(vt){return pt=vt,lt=tt,dt=K,mt=[],vt=(ot=w)._versions,ft=ot._dbSchema=Jt(0,ot.idbdb,dt),(vt=vt.filter(function(yt){return yt._cfg.version>=pt})).length!==0?(vt.forEach(function(yt){mt.push(function(){var St=ft,Ct=yt._cfg.dbschema;jt(ot,St,dt),jt(ot,Ct,dt),ft=ot._dbSchema=Ct;var Rt=at(St,Ct);Rt.add.forEach(function(Kt){Tt(dt,Kt[0],Kt[1].primKey,Kt[1].indexes)}),Rt.change.forEach(function(Kt){if(Kt.recreate)throw new j.Upgrade("Not yet support for changing primary key");var Xt=dt.objectStore(Kt.name);Kt.add.forEach(function(ne){return Dt(Xt,ne)}),Kt.change.forEach(function(ne){Xt.deleteIndex(ne.name),Dt(Xt,ne)}),Kt.del.forEach(function(ne){return Xt.deleteIndex(ne)})});var Ft=yt._cfg.contentUpgrade;if(Ft&&yt._cfg.version>pt){rn(ot,dt),lt._memoizedTables={};var Ht=x(Ct);Rt.del.forEach(function(Kt){Ht[Kt]=St[Kt]}),Ns(ot,[ot.Transaction.prototype]),kn(ot,[ot.Transaction.prototype],p(Ht),Ht),lt.schema=Ht;var It,Yt=z(Ft);return Yt&&Lt(),Rt=Bt.follow(function(){var Kt;(It=Ft(lt))&&Yt&&(Kt=Ot.bind(null,null),It.then(Kt,Kt))}),It&&typeof It.then=="function"?Bt.resolve(It):Rt.then(function(){return It})}}),mt.push(function(St){var Ct,Rt,Ft=yt._cfg.dbschema;Ct=Ft,Rt=St,[].slice.call(Rt.db.objectStoreNames).forEach(function(Ht){return Ct[Ht]==null&&Rt.db.deleteObjectStore(Ht)}),Ns(ot,[ot.Transaction.prototype]),kn(ot,[ot.Transaction.prototype],ot._storeNames,ot._dbSchema),lt.schema=ot._dbSchema}),mt.push(function(St){ot.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(ot.idbdb.version/10)===yt._cfg.version?(ot.idbdb.deleteObjectStore("$meta"),delete ot._dbSchema.$meta,ot._storeNames=ot._storeNames.filter(function(Ct){return Ct!=="$meta"})):St.objectStore("$meta").put(yt._cfg.version,"version"))})}),function yt(){return mt.length?Bt.resolve(mt.shift()(lt.idbtrans)).then(yt):Bt.resolve()}().then(function(){At(ft,dt)})):Bt.resolve();var ot,pt,lt,dt,mt,ft}).catch(it)):(p(k).forEach(function(vt){Tt(K,vt,k[vt].primKey,k[vt].indexes)}),rn(w,K),void Bt.follow(function(){return w.on.populate.fire(tt)}).catch(it));var ut,ht})}function q(w,B){At(w._dbSchema,B),B.db.version%10!=0||B.objectStoreNames.contains("$meta")||B.db.createObjectStore("$meta").add(Math.ceil(B.db.version/10-1),"version");var K=Jt(0,w.idbdb,B);jt(w,w._dbSchema,B);for(var $=0,k=at(K,w._dbSchema).change;$<k.length;$++){var tt=function(it){if(it.change.length||it.recreate)return console.warn("Unable to patch indexes of table ".concat(it.name," because it has changes on the type of index or primary key.")),{value:void 0};var nt=B.objectStore(it.name);it.add.forEach(function(ut){Nt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(it.name,".").concat(ut.src)),Dt(nt,ut)})}(k[$]);if(typeof tt=="object")return tt.value}}function at(w,B){var K,$={del:[],add:[],change:[]};for(K in w)B[K]||$.del.push(K);for(K in B){var k=w[K],tt=B[K];if(k){var it={name:K,def:tt,recreate:!1,del:[],add:[],change:[]};if(""+(k.primKey.keyPath||"")!=""+(tt.primKey.keyPath||"")||k.primKey.auto!==tt.primKey.auto)it.recreate=!0,$.change.push(it);else{var nt=k.idxByName,ut=tt.idxByName,ht=void 0;for(ht in nt)ut[ht]||it.del.push(ht);for(ht in ut){var vt=nt[ht],ot=ut[ht];vt?vt.src!==ot.src&&it.change.push(ot):it.add.push(ot)}(0<it.del.length||0<it.add.length||0<it.change.length)&&$.change.push(it)}}else $.add.push([K,tt])}return $}function Tt(w,B,K,$){var k=w.db.createObjectStore(B,K.keyPath?{keyPath:K.keyPath,autoIncrement:K.auto}:{autoIncrement:K.auto});return $.forEach(function(tt){return Dt(k,tt)}),k}function At(w,B){p(w).forEach(function(K){B.db.objectStoreNames.contains(K)||(Nt&&console.debug("Dexie: Creating missing table",K),Tt(B,K,w[K].primKey,w[K].indexes))})}function Dt(w,B){w.createIndex(B.name,B.keyPath,{unique:B.unique,multiEntry:B.multi})}function Jt(w,B,K){var $={};return o(B.objectStoreNames,0).forEach(function(k){for(var tt=K.objectStore(k),it=Ds(Is(ht=tt.keyPath),ht||"",!0,!1,!!tt.autoIncrement,ht&&typeof ht!="string",!0),nt=[],ut=0;ut<tt.indexNames.length;++ut){var vt=tt.index(tt.indexNames[ut]),ht=vt.keyPath,vt=Ds(vt.name,ht,!!vt.unique,!!vt.multiEntry,!1,ht&&typeof ht!="string",!1);nt.push(vt)}$[k]=sn(k,it,nt)}),$}function jt(w,B,K){for(var $=K.db.objectStoreNames,k=0;k<$.length;++k){var tt=$[k],it=K.objectStore(tt);w._hasGetAll="getAll"in it;for(var nt=0;nt<it.indexNames.length;++nt){var ut=it.indexNames[nt],ht=it.index(ut).keyPath,vt=typeof ht=="string"?ht:"["+o(ht).join("+")+"]";!B[tt]||(ht=B[tt].idxByName[vt])&&(ht.name=ut,delete B[tt].idxByName[vt],B[tt].idxByName[ut]=ht)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&J.WorkerGlobalScope&&J instanceof J.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(w._hasGetAll=!1)}function _t(w){return w.split(",").map(function(B,K){var $=(B=B.trim()).replace(/([&*]|\+\+)/g,""),k=/^\[/.test($)?$.match(/^\[(.*)\]$/)[1].split("+"):$;return Ds($,k||null,/\&/.test(B),/\*/.test(B),/\+\+/.test(B),y(k),K===0)})}var pe=(Te.prototype._parseStoresSpec=function(w,B){p(w).forEach(function(K){if(w[K]!==null){var $=_t(w[K]),k=$.shift();if(k.unique=!0,k.multi)throw new j.Schema("Primary key cannot be multi-valued");$.forEach(function(tt){if(tt.auto)throw new j.Schema("Only primary key can be marked as autoIncrement (++)");if(!tt.keyPath)throw new j.Schema("Index must have a name and cannot be an empty string")}),B[K]=sn(K,k,$)}})},Te.prototype.stores=function(K){var B=this.db;this._cfg.storesSource=this._cfg.storesSource?t(this._cfg.storesSource,K):K;var K=B._versions,$={},k={};return K.forEach(function(tt){t($,tt._cfg.storesSource),k=tt._cfg.dbschema={},tt._parseStoresSpec($,k)}),B._dbSchema=k,Ns(B,[B._allTables,B,B.Transaction.prototype]),kn(B,[B._allTables,B,B.Transaction.prototype,this._cfg.tables],p(k),k),B._storeNames=p(k),this},Te.prototype.upgrade=function(w){return this._cfg.contentUpgrade=Wt(this._cfg.contentUpgrade||et,w),this},Te);function Te(){}function Ae(w,B){var K=w._dbNamesDB;return K||(K=w._dbNamesDB=new Xi(Pi,{addons:[],indexedDB:w,IDBKeyRange:B})).version(1).stores({dbnames:"name"}),K.table("dbnames")}function Re(w){return w&&typeof w.databases=="function"}function Fe(w){return rt(function(){return Ut.letThrough=!0,w()})}function De(w){return!("from"in w)}var ye=function(w,B){if(!this){var K=new ye;return w&&"d"in w&&t(K,w),K}t(this,arguments.length?{d:1,from:w,to:1<arguments.length?B:w}:{d:0})};function Li(w,B,K){var $=xe(B,K);if(!isNaN($)){if(0<$)throw RangeError();if(De(w))return t(w,{from:B,to:K,d:1});var k=w.l,$=w.r;if(xe(K,w.from)<0)return k?Li(k,B,K):w.l={from:B,to:K,d:1,l:null,r:null},Us(w);if(0<xe(B,w.to))return $?Li($,B,K):w.r={from:B,to:K,d:1,l:null,r:null},Us(w);xe(B,w.from)<0&&(w.from=B,w.l=null,w.d=$?$.d+1:1),0<xe(K,w.to)&&(w.to=K,w.r=null,w.d=w.l?w.l.d+1:1),K=!w.r,k&&!w.l&&zi(w,k),$&&K&&zi(w,$)}}function zi(w,B){De(B)||function K($,ut){var tt=ut.from,it=ut.to,nt=ut.l,ut=ut.r;Li($,tt,it),nt&&K($,nt),ut&&K($,ut)}(w,B)}function Mn(w,B){var K=Vs(B),$=K.next();if($.done)return!1;for(var k=$.value,tt=Vs(w),it=tt.next(k.from),nt=it.value;!$.done&&!it.done;){if(xe(nt.from,k.to)<=0&&0<=xe(nt.to,k.from))return!0;xe(k.from,nt.from)<0?k=($=K.next(nt.from)).value:nt=(it=tt.next(k.from)).value}return!1}function Vs(w){var B=De(w)?null:{s:0,n:w};return{next:function(K){for(var $=0<arguments.length;B;)switch(B.s){case 0:if(B.s=1,$)for(;B.n.l&&xe(K,B.n.from)<0;)B={up:B,n:B.n.l,s:1};else for(;B.n.l;)B={up:B,n:B.n.l,s:1};case 1:if(B.s=2,!$||xe(K,B.n.to)<=0)return{value:B.n,done:!1};case 2:if(B.n.r){B.s=3,B={up:B,n:B.n.r,s:0};continue}case 3:B=B.up}return{done:!0}}}}function Us(w){var B,K,$=(((B=w.r)===null||B===void 0?void 0:B.d)||0)-(((K=w.l)===null||K===void 0?void 0:K.d)||0),k=1<$?"r":$<-1?"l":"";k&&(B=k=="r"?"l":"r",K=G({},w),$=w[k],w.from=$.from,w.to=$.to,w[k]=$[k],K[k]=$[B],(w[B]=K).d=pr(K)),w.d=pr(w)}function pr(K){var B=K.r,K=K.l;return(B?K?Math.max(B.d,K.d):B.d:K?K.d:0)+1}function Fn(w,B){return p(B).forEach(function(K){w[K]?zi(w[K],B[K]):w[K]=function $(k){var tt,it,nt={};for(tt in k)a(k,tt)&&(it=k[tt],nt[tt]=!it||typeof it!="object"||S.has(it.constructor)?it:$(it));return nt}(B[K])}),w}function zs(w,B){return w.all||B.all||Object.keys(w).some(function(K){return B[K]&&Mn(B[K],w[K])})}r(ye.prototype,((di={add:function(w){return zi(this,w),this},addKey:function(w){return Li(this,w,w),this},addKeys:function(w){var B=this;return w.forEach(function(K){return Li(B,K,K)}),this}})[M]=function(){return Vs(this)},di));var Ln={},qa={},_a=!1;function mr(w){Fn(qa,w),_a||(_a=!0,setTimeout(function(){_a=!1,to(qa,!(qa={}))},0))}function to(w,B){B===void 0&&(B=!1);var K=new Set;if(w.all)for(var $=0,k=Object.values(Ln);$<k.length;$++)Uu(it=k[$],w,K,B);else for(var tt in w){var it,nt=/^idb\:\/\/(.*)\/(.*)\//.exec(tt);nt&&(tt=nt[1],nt=nt[2],(it=Ln["idb://".concat(tt,"/").concat(nt)])&&Uu(it,w,K,B))}K.forEach(function(ut){return ut()})}function Uu(w,B,K,$){for(var k=[],tt=0,it=Object.entries(w.queries.query);tt<it.length;tt++){for(var nt=it[tt],ut=nt[0],ht=[],vt=0,ot=nt[1];vt<ot.length;vt++){var pt=ot[vt];zs(B,pt.obsSet)?pt.subscribers.forEach(function(ft){return K.add(ft)}):$&&ht.push(pt)}$&&k.push([ut,ht])}if($)for(var lt=0,dt=k;lt<dt.length;lt++){var mt=dt[lt],ut=mt[0],ht=mt[1];w.queries.query[ut]=ht}}function sg(w){var B=w._state,K=w._deps.indexedDB;if(B.isBeingOpened||w.idbdb)return B.dbReadyPromise.then(function(){return B.dbOpenError?ee(B.dbOpenError):w});B.isBeingOpened=!0,B.dbOpenError=null,B.openComplete=!1;var $=B.openCanceller,k=Math.round(10*w.verno),tt=!1;function it(){if(B.openCanceller!==$)throw new j.DatabaseClosed("db.open() was cancelled")}function nt(){return new Bt(function(pt,lt){if(it(),!K)throw new j.MissingAPI;var dt=w.name,mt=B.autoSchema||!k?K.open(dt):K.open(dt,k);if(!mt)throw new j.MissingAPI;mt.onerror=ri(lt),mt.onblocked=Ee(w._fireOnBlocked),mt.onupgradeneeded=Ee(function(ft){var yt;vt=mt.transaction,B.autoSchema&&!w._options.allowEmptyDB?(mt.onerror=nn,vt.abort(),mt.result.close(),(yt=K.deleteDatabase(dt)).onsuccess=yt.onerror=Ee(function(){lt(new j.NoSuchDatabase("Database ".concat(dt," doesnt exist")))})):(vt.onerror=ri(lt),ft=ft.oldVersion>Math.pow(2,62)?0:ft.oldVersion,ot=ft<1,w.idbdb=mt.result,tt&&q(w,vt),ka(w,ft/10,vt,lt))},lt),mt.onsuccess=Ee(function(){vt=null;var ft,yt,St,Ct,Rt,Ft=w.idbdb=mt.result,Ht=o(Ft.objectStoreNames);if(0<Ht.length)try{var It=Ft.transaction((Ct=Ht).length===1?Ct[0]:Ct,"readonly");if(B.autoSchema)yt=Ft,St=It,(ft=w).verno=yt.version/10,St=ft._dbSchema=Jt(0,yt,St),ft._storeNames=o(yt.objectStoreNames,0),kn(ft,[ft._allTables],p(St),St);else if(jt(w,w._dbSchema,It),((Rt=at(Jt(0,(Rt=w).idbdb,It),Rt._dbSchema)).add.length||Rt.change.some(function(Yt){return Yt.add.length||Yt.change.length}))&&!tt)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ft.close(),k=Ft.version+1,tt=!0,pt(nt());rn(w,It)}catch{}Be.push(w),Ft.onversionchange=Ee(function(Yt){B.vcFired=!0,w.on("versionchange").fire(Yt)}),Ft.onclose=Ee(function(Yt){w.on("close").fire(Yt)}),ot&&(Rt=w._deps,It=dt,Ft=Rt.indexedDB,Rt=Rt.IDBKeyRange,Re(Ft)||It===Pi||Ae(Ft,Rt).put({name:It}).catch(et)),pt()},lt)}).catch(function(pt){switch(pt==null?void 0:pt.name){case"UnknownError":if(0<B.PR1398_maxLoop)return B.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),nt();break;case"VersionError":if(0<k)return k=0,nt()}return Bt.reject(pt)})}var ut,ht=B.dbReadyResolve,vt=null,ot=!1;return Bt.race([$,(typeof navigator>"u"?Bt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(pt){function lt(){return indexedDB.databases().finally(pt)}ut=setInterval(lt,100),lt()}).finally(function(){return clearInterval(ut)}):Promise.resolve()).then(nt)]).then(function(){return it(),B.onReadyBeingFired=[],Bt.resolve(Fe(function(){return w.on.ready.fire(w.vip)})).then(function pt(){if(0<B.onReadyBeingFired.length){var lt=B.onReadyBeingFired.reduce(Wt,et);return B.onReadyBeingFired=[],Bt.resolve(Fe(function(){return lt(w.vip)})).then(pt)}})}).finally(function(){B.openCanceller===$&&(B.onReadyBeingFired=null,B.isBeingOpened=!1)}).catch(function(pt){B.dbOpenError=pt;try{vt&&vt.abort()}catch{}return $===B.openCanceller&&w._close(),ee(pt)}).finally(function(){B.openComplete=!0,ht()}).then(function(){var pt;return ot&&(pt={},w.tables.forEach(function(lt){lt.schema.indexes.forEach(function(dt){dt.name&&(pt["idb://".concat(w.name,"/").concat(lt.name,"/").concat(dt.name)]=new ye(-1/0,[[[]]]))}),pt["idb://".concat(w.name,"/").concat(lt.name,"/")]=pt["idb://".concat(w.name,"/").concat(lt.name,"/:dels")]=new ye(-1/0,[[[]]])}),Ti(An).fire(pt),to(pt,!0)),w})}function eo(w){function B(tt){return w.next(tt)}var K=k(B),$=k(function(tt){return w.throw(tt)});function k(tt){return function(ut){var nt=tt(ut),ut=nt.value;return nt.done?ut:ut&&typeof ut.then=="function"?ut.then(K,$):y(ut)?Promise.all(ut).then(K,$):K(ut)}}return k(B)()}function gr(w,B,K){for(var $=y(w)?w.slice():[w],k=0;k<K;++k)$.push(B);return $}var rg={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(w){return G(G({},w),{table:function(B){var K=w.table(B),$=K.schema,k={},tt=[];function it(ot,pt,lt){var dt=Fi(ot),mt=k[dt]=k[dt]||[],ft=ot==null?0:typeof ot=="string"?1:ot.length,yt=0<pt,yt=G(G({},lt),{name:yt?"".concat(dt,"(virtual-from:").concat(lt.name,")"):lt.name,lowLevelIndex:lt,isVirtual:yt,keyTail:pt,keyLength:ft,extractKey:Mi(ot),unique:!yt&&lt.unique});return mt.push(yt),yt.isPrimaryKey||tt.push(yt),1<ft&&it(ft===2?ot[0]:ot.slice(0,ft-1),pt+1,lt),mt.sort(function(St,Ct){return St.keyTail-Ct.keyTail}),yt}B=it($.primaryKey.keyPath,0,$.primaryKey),k[":id"]=[B];for(var nt=0,ut=$.indexes;nt<ut.length;nt++){var ht=ut[nt];it(ht.keyPath,0,ht)}function vt(ot){var pt,lt=ot.query.index;return lt.isVirtual?G(G({},ot),{query:{index:lt.lowLevelIndex,range:(pt=ot.query.range,lt=lt.keyTail,{type:pt.type===1?2:pt.type,lower:gr(pt.lower,pt.lowerOpen?w.MAX_KEY:w.MIN_KEY,lt),lowerOpen:!0,upper:gr(pt.upper,pt.upperOpen?w.MIN_KEY:w.MAX_KEY,lt),upperOpen:!0})}}):ot}return G(G({},K),{schema:G(G({},$),{primaryKey:B,indexes:tt,getIndexByKeyPath:function(ot){return(ot=k[Fi(ot)])&&ot[0]}}),count:function(ot){return K.count(vt(ot))},query:function(ot){return K.query(vt(ot))},openCursor:function(ot){var pt=ot.query.index,lt=pt.keyTail,dt=pt.isVirtual,mt=pt.keyLength;return dt?K.openCursor(vt(ot)).then(function(yt){return yt&&ft(yt)}):K.openCursor(ot);function ft(yt){return Object.create(yt,{continue:{value:function(St){St!=null?yt.continue(gr(St,ot.reverse?w.MAX_KEY:w.MIN_KEY,lt)):ot.unique?yt.continue(yt.key.slice(0,mt).concat(ot.reverse?w.MIN_KEY:w.MAX_KEY,lt)):yt.continue()}},continuePrimaryKey:{value:function(St,Ct){yt.continuePrimaryKey(gr(St,w.MAX_KEY,lt),Ct)}},primaryKey:{get:function(){return yt.primaryKey}},key:{get:function(){var St=yt.key;return mt===1?St[0]:St.slice(0,mt)}},value:{get:function(){return yt.value}}})}}})}})}};function io(w,B,K,$){return K=K||{},$=$||"",p(w).forEach(function(k){var tt,it,nt;a(B,k)?(tt=w[k],it=B[k],typeof tt=="object"&&typeof it=="object"&&tt&&it?(nt=R(tt))!==R(it)?K[$+k]=B[k]:nt==="Object"?io(tt,it,K,$+k+"."):tt!==it&&(K[$+k]=B[k]):tt!==it&&(K[$+k]=B[k])):K[$+k]=void 0}),p(B).forEach(function(k){a(w,k)||(K[$+k]=B[k])}),K}function no(w,B){return B.type==="delete"?B.keys:B.keys||B.values.map(w.extractKey)}var ag={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(w){return G(G({},w),{table:function(B){var K=w.table(B),$=K.schema.primaryKey;return G(G({},K),{mutate:function(k){var tt=Ut.trans,it=tt.table(B).hook,nt=it.deleting,ut=it.creating,ht=it.updating;switch(k.type){case"add":if(ut.fire===et)break;return tt._promise("readwrite",function(){return vt(k)},!0);case"put":if(ut.fire===et&&ht.fire===et)break;return tt._promise("readwrite",function(){return vt(k)},!0);case"delete":if(nt.fire===et)break;return tt._promise("readwrite",function(){return vt(k)},!0);case"deleteRange":if(nt.fire===et)break;return tt._promise("readwrite",function(){return function ot(pt,lt,dt){return K.query({trans:pt,values:!1,query:{index:$,range:lt},limit:dt}).then(function(mt){var ft=mt.result;return vt({type:"delete",keys:ft,trans:pt}).then(function(yt){return 0<yt.numFailures?Promise.reject(yt.failures[0]):ft.length<dt?{failures:[],numFailures:0,lastResult:void 0}:ot(pt,G(G({},lt),{lower:ft[ft.length-1],lowerOpen:!0}),dt)})})}(k.trans,k.range,1e4)},!0)}return K.mutate(k);function vt(ot){var pt,lt,dt,mt=Ut.trans,ft=ot.keys||no($,ot);if(!ft)throw new Error("Keys missing");return(ot=ot.type==="add"||ot.type==="put"?G(G({},ot),{keys:ft}):G({},ot)).type!=="delete"&&(ot.values=H([],ot.values)),ot.keys&&(ot.keys=H([],ot.keys)),pt=K,dt=ft,((lt=ot).type==="add"?Promise.resolve([]):pt.getMany({trans:lt.trans,keys:dt,cache:"immutable"})).then(function(yt){var St=ft.map(function(Ct,Rt){var Ft,Ht,It,Yt=yt[Rt],Kt={onerror:null,onsuccess:null};return ot.type==="delete"?nt.fire.call(Kt,Ct,Yt,mt):ot.type==="add"||Yt===void 0?(Ft=ut.fire.call(Kt,Ct,ot.values[Rt],mt),Ct==null&&Ft!=null&&(ot.keys[Rt]=Ct=Ft,$.outbound||m(ot.values[Rt],$.keyPath,Ct))):(Ft=io(Yt,ot.values[Rt]),(Ht=ht.fire.call(Kt,Ft,Ct,Yt,mt))&&(It=ot.values[Rt],Object.keys(Ht).forEach(function(Xt){a(It,Xt)?It[Xt]=Ht[Xt]:m(It,Xt,Ht[Xt])}))),Kt});return K.mutate(ot).then(function(Ct){for(var Rt=Ct.failures,Ft=Ct.results,Ht=Ct.numFailures,Ct=Ct.lastResult,It=0;It<ft.length;++It){var Yt=(Ft||ft)[It],Kt=St[It];Yt==null?Kt.onerror&&Kt.onerror(Rt[It]):Kt.onsuccess&&Kt.onsuccess(ot.type==="put"&&yt[It]?ot.values[It]:Yt)}return{failures:Rt,results:Ft,numFailures:Ht,lastResult:Ct}}).catch(function(Ct){return St.forEach(function(Rt){return Rt.onerror&&Rt.onerror(Ct)}),Promise.reject(Ct)})})}}})}})}};function zu(w,B,K){try{if(!B||B.keys.length<w.length)return null;for(var $=[],k=0,tt=0;k<B.keys.length&&tt<w.length;++k)xe(B.keys[k],w[tt])===0&&($.push(K?P(B.values[k]):B.values[k]),++tt);return $.length===w.length?$:null}catch{return null}}var og={stack:"dbcore",level:-1,create:function(w){return{table:function(B){var K=w.table(B);return G(G({},K),{getMany:function($){if(!$.cache)return K.getMany($);var k=zu($.keys,$.trans._cache,$.cache==="clone");return k?Bt.resolve(k):K.getMany($).then(function(tt){return $.trans._cache={keys:$.keys,values:$.cache==="clone"?P(tt):tt},tt})},mutate:function($){return $.type!=="add"&&($.trans._cache=null),K.mutate($)}})}}}};function Xu(w,B){return w.trans.mode==="readonly"&&!!w.subscr&&!w.trans.explicit&&w.trans.db._options.cache!=="disabled"&&!B.schema.primaryKey.outbound}function Yu(w,B){switch(w){case"query":return B.values&&!B.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var hg={stack:"dbcore",level:0,name:"Observability",create:function(w){var B=w.schema.name,K=new ye(w.MIN_KEY,w.MAX_KEY);return G(G({},w),{transaction:function($,k,tt){if(Ut.subscr&&k!=="readonly")throw new j.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ut.querier));return w.transaction($,k,tt)},table:function($){var k=w.table($),tt=k.schema,it=tt.primaryKey,ot=tt.indexes,nt=it.extractKey,ut=it.outbound,ht=it.autoIncrement&&ot.filter(function(lt){return lt.compound&&lt.keyPath.includes(it.keyPath)}),vt=G(G({},k),{mutate:function(lt){function dt(Xt){return Xt="idb://".concat(B,"/").concat($,"/").concat(Xt),Ct[Xt]||(Ct[Xt]=new ye)}var mt,ft,yt,St=lt.trans,Ct=lt.mutatedParts||(lt.mutatedParts={}),Rt=dt(""),Ft=dt(":dels"),Ht=lt.type,Kt=lt.type==="deleteRange"?[lt.range]:lt.type==="delete"?[lt.keys]:lt.values.length<50?[no(it,lt).filter(function(Xt){return Xt}),lt.values]:[],It=Kt[0],Yt=Kt[1],Kt=lt.trans._cache;return y(It)?(Rt.addKeys(It),(Kt=Ht==="delete"||It.length===Yt.length?zu(It,Kt):null)||Ft.addKeys(It),(Kt||Yt)&&(mt=dt,ft=Kt,yt=Yt,tt.indexes.forEach(function(Xt){var ne=mt(Xt.name||"");function se(ae){return ae!=null?Xt.extractKey(ae):null}function fe(ae){return Xt.multiEntry&&y(ae)?ae.forEach(function(Si){return ne.addKey(Si)}):ne.addKey(ae)}(ft||yt).forEach(function(ae,_e){var oe=ft&&se(ft[_e]),_e=yt&&se(yt[_e]);xe(oe,_e)!==0&&(oe!=null&&fe(oe),_e!=null&&fe(_e))})}))):It?(Yt={from:It.lower,to:It.upper},Ft.add(Yt),Rt.add(Yt)):(Rt.add(K),Ft.add(K),tt.indexes.forEach(function(Xt){return dt(Xt.name).add(K)})),k.mutate(lt).then(function(Xt){return!It||lt.type!=="add"&&lt.type!=="put"||(Rt.addKeys(Xt.results),ht&&ht.forEach(function(ne){var se=lt.values.map(function(ae){return ne.extractKey(ae)}),fe=ne.keyPath.findIndex(function(ae){return ae===it.keyPath});Xt.results.forEach(function(ae){return se[fe]=ae}),dt(ne.name).addKeys(se)})),St.mutatedParts=Fn(St.mutatedParts||{},Ct),Xt})}}),ot=function(dt){var mt=dt.query,dt=mt.index,mt=mt.range;return[dt,new ye((dt=mt.lower)!==null&&dt!==void 0?dt:w.MIN_KEY,(mt=mt.upper)!==null&&mt!==void 0?mt:w.MAX_KEY)]},pt={get:function(lt){return[it,new ye(lt.key)]},getMany:function(lt){return[it,new ye().addKeys(lt.keys)]},count:ot,query:ot,openCursor:ot};return p(pt).forEach(function(lt){vt[lt]=function(dt){var mt=Ut.subscr,ft=!!mt,yt=Xu(Ut,k)&&Yu(lt,dt)?dt.obsSet={}:mt;if(ft){var St=function(Yt){return Yt="idb://".concat(B,"/").concat($,"/").concat(Yt),yt[Yt]||(yt[Yt]=new ye)},Ct=St(""),Rt=St(":dels"),mt=pt[lt](dt),ft=mt[0],mt=mt[1];if((lt==="query"&&ft.isPrimaryKey&&!dt.values?Rt:St(ft.name||"")).add(mt),!ft.isPrimaryKey){if(lt!=="count"){var Ft=lt==="query"&&ut&&dt.values&&k.query(G(G({},dt),{values:!1}));return k[lt].apply(this,arguments).then(function(Yt){if(lt==="query"){if(ut&&dt.values)return Ft.then(function(se){return se=se.result,Ct.addKeys(se),Yt});var Kt=dt.values?Yt.result.map(nt):Yt.result;(dt.values?Ct:Rt).addKeys(Kt)}else if(lt==="openCursor"){var Xt=Yt,ne=dt.values;return Xt&&Object.create(Xt,{key:{get:function(){return Rt.addKey(Xt.primaryKey),Xt.key}},primaryKey:{get:function(){var se=Xt.primaryKey;return Rt.addKey(se),se}},value:{get:function(){return ne&&Ct.addKey(Xt.primaryKey),Xt.value}}})}return Yt})}Rt.add(K)}}return k[lt].apply(this,arguments)}}),vt}})}};function Wu(w,B,K){if(K.numFailures===0)return B;if(B.type==="deleteRange")return null;var $=B.keys?B.keys.length:"values"in B&&B.values?B.values.length:1;return K.numFailures===$?null:(B=G({},B),y(B.keys)&&(B.keys=B.keys.filter(function(k,tt){return!(tt in K.failures)})),"values"in B&&y(B.values)&&(B.values=B.values.filter(function(k,tt){return!(tt in K.failures)})),B)}function so(w,B){return K=w,(($=B).lower===void 0||($.lowerOpen?0<xe(K,$.lower):0<=xe(K,$.lower)))&&(w=w,(B=B).upper===void 0||(B.upperOpen?xe(w,B.upper)<0:xe(w,B.upper)<=0));var K,$}function Hu(w,B,pt,$,k,tt){if(!pt||pt.length===0)return w;var it=B.query.index,nt=it.multiEntry,ut=B.query.range,ht=$.schema.primaryKey.extractKey,vt=it.extractKey,ot=(it.lowLevelIndex||it).extractKey,pt=pt.reduce(function(lt,dt){var mt=lt,ft=dt.type==="add"||dt.type==="put"?dt.values.filter(function(Rt){return Rt=vt(Rt),nt&&y(Rt)?Rt.some(function(Ft){return so(Ft,ut)}):so(Rt,ut)}).map(function(Rt){return Rt=P(Rt),tt&&Object.freeze(Rt),Rt}):[];switch(dt.type){case"add":mt=lt.concat(B.values?ft:ft.map(function(Ft){return ht(Ft)}));break;case"put":var yt=new ye().addKeys(dt.values.map(function(Ft){return ht(Ft)})),mt=lt.filter(function(Ft){return Ft=B.values?ht(Ft):Ft,!Mn(new ye(Ft),yt)}).concat(B.values?ft:ft.map(function(Ft){return ht(Ft)}));break;case"delete":var St=new ye().addKeys(dt.keys);mt=lt.filter(function(Ft){return Ft=B.values?ht(Ft):Ft,!Mn(new ye(Ft),St)});break;case"deleteRange":var Ct=dt.range;mt=lt.filter(function(Ft){return!so(ht(Ft),Ct)})}return mt},w);return pt===w?w:(pt.sort(function(lt,dt){return xe(ot(lt),ot(dt))||xe(ht(lt),ht(dt))}),B.limit&&B.limit<1/0&&(pt.length>B.limit?pt.length=B.limit:w.length===B.limit&&pt.length<B.limit&&(k.dirty=!0)),tt?Object.freeze(pt):pt)}function Ku(w,B){return xe(w.lower,B.lower)===0&&xe(w.upper,B.upper)===0&&!!w.lowerOpen==!!B.lowerOpen&&!!w.upperOpen==!!B.upperOpen}function lg(w,B){return function(K,$,k,tt){if(K===void 0)return $!==void 0?-1:0;if($===void 0)return 1;if(($=xe(K,$))===0){if(k&&tt)return 0;if(k)return 1;if(tt)return-1}return $}(w.lower,B.lower,w.lowerOpen,B.lowerOpen)<=0&&0<=function(K,$,k,tt){if(K===void 0)return $!==void 0?1:0;if($===void 0)return-1;if(($=xe(K,$))===0){if(k&&tt)return 0;if(k)return-1;if(tt)return 1}return $}(w.upper,B.upper,w.upperOpen,B.upperOpen)}function ug(w,B,K,$){w.subscribers.add(K),$.addEventListener("abort",function(){var k,tt;w.subscribers.delete(K),w.subscribers.size===0&&(k=w,tt=B,setTimeout(function(){k.subscribers.size===0&&I(tt,k)},3e3))})}var fg={stack:"dbcore",level:0,name:"Cache",create:function(w){var B=w.schema.name;return G(G({},w),{transaction:function(K,$,k){var tt,it,nt=w.transaction(K,$,k);return $==="readwrite"&&(it=(tt=new AbortController).signal,k=function(ut){return function(){if(tt.abort(),$==="readwrite"){for(var ht=new Set,vt=0,ot=K;vt<ot.length;vt++){var pt=ot[vt],lt=Ln["idb://".concat(B,"/").concat(pt)];if(lt){var dt=w.table(pt),mt=lt.optimisticOps.filter(function(ne){return ne.trans===nt});if(nt._explicit&&ut&&nt.mutatedParts)for(var ft=0,yt=Object.values(lt.queries.query);ft<yt.length;ft++)for(var St=0,Ct=(Ht=yt[ft]).slice();St<Ct.length;St++)zs((It=Ct[St]).obsSet,nt.mutatedParts)&&(I(Ht,It),It.subscribers.forEach(function(ne){return ht.add(ne)}));else if(0<mt.length){lt.optimisticOps=lt.optimisticOps.filter(function(ne){return ne.trans!==nt});for(var Rt=0,Ft=Object.values(lt.queries.query);Rt<Ft.length;Rt++)for(var Ht,It,Yt,Kt=0,Xt=(Ht=Ft[Rt]).slice();Kt<Xt.length;Kt++)(It=Xt[Kt]).res!=null&&nt.mutatedParts&&(ut&&!It.dirty?(Yt=Object.isFrozen(It.res),Yt=Hu(It.res,It.req,mt,dt,It,Yt),It.dirty?(I(Ht,It),It.subscribers.forEach(function(ne){return ht.add(ne)})):Yt!==It.res&&(It.res=Yt,It.promise=Bt.resolve({result:Yt}))):(It.dirty&&I(Ht,It),It.subscribers.forEach(function(ne){return ht.add(ne)})))}}}ht.forEach(function(ne){return ne()})}}},nt.addEventListener("abort",k(!1),{signal:it}),nt.addEventListener("error",k(!1),{signal:it}),nt.addEventListener("complete",k(!0),{signal:it})),nt},table:function(K){var $=w.table(K),k=$.schema.primaryKey;return G(G({},$),{mutate:function(tt){var it=Ut.trans;if(k.outbound||it.db._options.cache==="disabled"||it.explicit)return $.mutate(tt);var nt=Ln["idb://".concat(B,"/").concat(K)];return nt?(it=$.mutate(tt),tt.type!=="add"&&tt.type!=="put"||!(50<=tt.values.length||no(k,tt).some(function(ut){return ut==null}))?(nt.optimisticOps.push(tt),tt.mutatedParts&&mr(tt.mutatedParts),it.then(function(ut){0<ut.numFailures&&(I(nt.optimisticOps,tt),(ut=Wu(0,tt,ut))&&nt.optimisticOps.push(ut),tt.mutatedParts&&mr(tt.mutatedParts))}),it.catch(function(){I(nt.optimisticOps,tt),tt.mutatedParts&&mr(tt.mutatedParts)})):it.then(function(ut){var ht=Wu(0,G(G({},tt),{values:tt.values.map(function(lt,ot){var pt,lt=(pt=k.keyPath)!==null&&pt!==void 0&&pt.includes(".")?P(lt):G({},lt);return m(lt,k.keyPath,ut.results[ot]),lt})}),ut);nt.optimisticOps.push(ht),queueMicrotask(function(){return tt.mutatedParts&&mr(tt.mutatedParts)})}),it):$.mutate(tt)},query:function(tt){if(!Xu(Ut,$)||!Yu("query",tt))return $.query(tt);var it=((ht=Ut.trans)===null||ht===void 0?void 0:ht.db._options.cache)==="immutable",ot=Ut,nt=ot.requery,ut=ot.signal,ht=function(dt,mt,ft,yt){var St=Ln["idb://".concat(dt,"/").concat(mt)];if(!St)return[];if(!(mt=St.queries[ft]))return[null,!1,St,null];var Ct=mt[(yt.query?yt.query.index.name:null)||""];if(!Ct)return[null,!1,St,null];switch(ft){case"query":var Rt=Ct.find(function(Ft){return Ft.req.limit===yt.limit&&Ft.req.values===yt.values&&Ku(Ft.req.query.range,yt.query.range)});return Rt?[Rt,!0,St,Ct]:[Ct.find(function(Ft){return("limit"in Ft.req?Ft.req.limit:1/0)>=yt.limit&&(!yt.values||Ft.req.values)&&lg(Ft.req.query.range,yt.query.range)}),!1,St,Ct];case"count":return Rt=Ct.find(function(Ft){return Ku(Ft.req.query.range,yt.query.range)}),[Rt,!!Rt,St,Ct]}}(B,K,"query",tt),vt=ht[0],ot=ht[1],pt=ht[2],lt=ht[3];return vt&&ot?vt.obsSet=tt.obsSet:(ot=$.query(tt).then(function(dt){var mt=dt.result;if(vt&&(vt.res=mt),it){for(var ft=0,yt=mt.length;ft<yt;++ft)Object.freeze(mt[ft]);Object.freeze(mt)}else dt.result=P(mt);return dt}).catch(function(dt){return lt&&vt&&I(lt,vt),Promise.reject(dt)}),vt={obsSet:tt.obsSet,promise:ot,subscribers:new Set,type:"query",req:tt,dirty:!1},lt?lt.push(vt):(lt=[vt],(pt=pt||(Ln["idb://".concat(B,"/").concat(K)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[tt.query.index.name||""]=lt)),ug(vt,lt,nt,ut),vt.promise.then(function(dt){return{result:Hu(dt.result,tt,pt==null?void 0:pt.optimisticOps,$,vt,it)}})}})}})}};function xr(w,B){return new Proxy(w,{get:function(K,$,k){return $==="db"?B:Reflect.get(K,$,k)}})}var Xi=(Ue.prototype.version=function(w){if(isNaN(w)||w<.1)throw new j.Type("Given version is not a positive number");if(w=Math.round(10*w)/10,this.idbdb||this._state.isBeingOpened)throw new j.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,w);var B=this._versions,K=B.filter(function($){return $._cfg.version===w})[0];return K||(K=new this.Version(w),B.push(K),B.sort(Qa),K.stores({}),this._state.autoSchema=!1,K)},Ue.prototype._whenReady=function(w){var B=this;return this.idbdb&&(this._state.openComplete||Ut.letThrough||this._vip)?w():new Bt(function(K,$){if(B._state.openComplete)return $(new j.DatabaseClosed(B._state.dbOpenError));if(!B._state.isBeingOpened){if(!B._state.autoOpen)return void $(new j.DatabaseClosed);B.open().catch(et)}B._state.dbReadyPromise.then(K,$)}).then(w)},Ue.prototype.use=function(w){var B=w.stack,K=w.create,$=w.level,k=w.name;return k&&this.unuse({stack:B,name:k}),w=this._middlewares[B]||(this._middlewares[B]=[]),w.push({stack:B,create:K,level:$??10,name:k}),w.sort(function(tt,it){return tt.level-it.level}),this},Ue.prototype.unuse=function(w){var B=w.stack,K=w.name,$=w.create;return B&&this._middlewares[B]&&(this._middlewares[B]=this._middlewares[B].filter(function(k){return $?k.create!==$:!!K&&k.name!==K})),this},Ue.prototype.open=function(){var w=this;return te(Se,function(){return sg(w)})},Ue.prototype._close=function(){var w=this._state,B=Be.indexOf(this);if(0<=B&&Be.splice(B,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}w.isBeingOpened||(w.dbReadyPromise=new Bt(function(K){w.dbReadyResolve=K}),w.openCanceller=new Bt(function(K,$){w.cancelOpen=$}))},Ue.prototype.close=function(K){var B=(K===void 0?{disableAutoOpen:!0}:K).disableAutoOpen,K=this._state;B?(K.isBeingOpened&&K.cancelOpen(new j.DatabaseClosed),this._close(),K.autoOpen=!1,K.dbOpenError=new j.DatabaseClosed):(this._close(),K.autoOpen=this._options.autoOpen||K.isBeingOpened,K.openComplete=!1,K.dbOpenError=null)},Ue.prototype.delete=function(w){var B=this;w===void 0&&(w={disableAutoOpen:!0});var K=0<arguments.length&&typeof arguments[0]!="object",$=this._state;return new Bt(function(k,tt){function it(){B.close(w);var nt=B._deps.indexedDB.deleteDatabase(B.name);nt.onsuccess=Ee(function(){var ut,ht,vt;ut=B._deps,ht=B.name,vt=ut.indexedDB,ut=ut.IDBKeyRange,Re(vt)||ht===Pi||Ae(vt,ut).delete(ht).catch(et),k()}),nt.onerror=ri(tt),nt.onblocked=B._fireOnBlocked}if(K)throw new j.InvalidArgument("Invalid closeOptions argument to db.delete()");$.isBeingOpened?$.dbReadyPromise.then(it):it()})},Ue.prototype.backendDB=function(){return this.idbdb},Ue.prototype.isOpen=function(){return this.idbdb!==null},Ue.prototype.hasBeenClosed=function(){var w=this._state.dbOpenError;return w&&w.name==="DatabaseClosed"},Ue.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Ue.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Ue.prototype,"tables",{get:function(){var w=this;return p(this._allTables).map(function(B){return w._allTables[B]})},enumerable:!1,configurable:!0}),Ue.prototype.transaction=function(){var w=(function(B,K,$){var k=arguments.length;if(k<2)throw new j.InvalidArgument("Too few arguments");for(var tt=new Array(k-1);--k;)tt[k-1]=arguments[k];return $=tt.pop(),[B,T(tt),$]}).apply(this,arguments);return this._transaction.apply(this,w)},Ue.prototype._transaction=function(w,B,K){var $=this,k=Ut.trans;k&&k.db===this&&w.indexOf("!")===-1||(k=null);var tt,it,nt=w.indexOf("?")!==-1;w=w.replace("!","").replace("?","");try{if(it=B.map(function(ht){if(ht=ht instanceof $.Table?ht.name:ht,typeof ht!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ht}),w=="r"||w===mn)tt=mn;else{if(w!="rw"&&w!=gn)throw new j.InvalidArgument("Invalid transaction mode: "+w);tt=gn}if(k){if(k.mode===mn&&tt===gn){if(!nt)throw new j.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");k=null}k&&it.forEach(function(ht){if(k&&k.storeNames.indexOf(ht)===-1){if(!nt)throw new j.SubTransaction("Table "+ht+" not included in parent transaction.");k=null}}),nt&&k&&!k.active&&(k=null)}}catch(ht){return k?k._promise(null,function(vt,ot){ot(ht)}):ee(ht)}var ut=(function ht(vt,ot,pt,lt,dt){return Bt.resolve().then(function(){var mt=Ut.transless||Ut,ft=vt._createTransaction(ot,pt,vt._dbSchema,lt);if(ft.explicit=!0,mt={trans:ft,transless:mt},lt)ft.idbtrans=lt.idbtrans;else try{ft.create(),ft.idbtrans._explicit=!0,vt._state.PR1398_maxLoop=3}catch(Ct){return Ct.name===U.InvalidState&&vt.isOpen()&&0<--vt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),vt.close({disableAutoOpen:!1}),vt.open().then(function(){return ht(vt,ot,pt,null,dt)})):ee(Ct)}var yt,St=z(dt);return St&&Lt(),mt=Bt.follow(function(){var Ct;(yt=dt.call(ft,ft))&&(St?(Ct=Ot.bind(null,null),yt.then(Ct,Ct)):typeof yt.next=="function"&&typeof yt.throw=="function"&&(yt=eo(yt)))},mt),(yt&&typeof yt.then=="function"?Bt.resolve(yt).then(function(Ct){return ft.active?Ct:ee(new j.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):mt.then(function(){return yt})).then(function(Ct){return lt&&ft._resolve(),ft._completion.then(function(){return Ct})}).catch(function(Ct){return ft._reject(Ct),ee(Ct)})})}).bind(null,this,tt,it,k,K);return k?k._promise(tt,ut,"lock"):Ut.trans?te(Ut.transless,function(){return $._whenReady(ut)}):this._whenReady(ut)},Ue.prototype.table=function(w){if(!a(this._allTables,w))throw new j.InvalidTable("Table ".concat(w," does not exist"));return this._allTables[w]},Ue);function Ue(w,B){var K=this;this._middlewares={},this.verno=0;var $=Ue.dependencies;this._options=B=G({addons:Ue.addons,autoOpen:!0,indexedDB:$.indexedDB,IDBKeyRange:$.IDBKeyRange,cache:"cloned"},B),this._deps={indexedDB:B.indexedDB,IDBKeyRange:B.IDBKeyRange},$=B.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var k,tt,it,nt,ut,ht={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:et,dbReadyPromise:null,cancelOpen:et,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:B.autoOpen};ht.dbReadyPromise=new Bt(function(ot){ht.dbReadyResolve=ot}),ht.openCanceller=new Bt(function(ot,pt){ht.cancelOpen=pt}),this._state=ht,this.name=w,this.on=yn(this,"populate","blocked","versionchange","close",{ready:[Wt,et]}),this.on.ready.subscribe=f(this.on.ready.subscribe,function(ot){return function(pt,lt){Ue.vip(function(){var dt,mt=K._state;mt.openComplete?(mt.dbOpenError||Bt.resolve().then(pt),lt&&ot(pt)):mt.onReadyBeingFired?(mt.onReadyBeingFired.push(pt),lt&&ot(pt)):(ot(pt),dt=K,lt||ot(function ft(){dt.on.ready.unsubscribe(pt),dt.on.ready.unsubscribe(ft)}))})}}),this.Collection=(k=this,Tn(dr.prototype,function(yt,ft){this.db=k;var lt=As,dt=null;if(ft)try{lt=ft()}catch(St){dt=St}var mt=yt._ctx,ft=mt.table,yt=ft.hook.reading.fire;this._ctx={table:ft,index:mt.index,isPrimKey:!mt.index||ft.schema.primKey.keyPath&&mt.index===ft.schema.primKey.name,range:lt,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:dt,or:mt.or,valueMapper:yt!==st?yt:null}})),this.Table=(tt=this,Tn(Ls.prototype,function(ot,pt,lt){this.db=tt,this._tx=lt,this.name=ot,this.schema=pt,this.hook=tt._allTables[ot]?tt._allTables[ot].hook:yn(null,{creating:[Et,et],reading:[ct,st],updating:[Mt,et],deleting:[xt,et]})})),this.Transaction=(it=this,Tn(Ja.prototype,function(ot,pt,lt,dt,mt){var ft=this;this.db=it,this.mode=ot,this.storeNames=pt,this.schema=lt,this.chromeTransactionDurability=dt,this.idbtrans=null,this.on=yn(this,"complete","error","abort"),this.parent=mt||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Bt(function(yt,St){ft._resolve=yt,ft._reject=St}),this._completion.then(function(){ft.active=!1,ft.on.complete.fire()},function(yt){var St=ft.active;return ft.active=!1,ft.on.error.fire(yt),ft.parent?ft.parent._reject(yt):St&&ft.idbtrans&&ft.idbtrans.abort(),ee(yt)})})),this.Version=(nt=this,Tn(pe.prototype,function(ot){this.db=nt,this._cfg={version:ot,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(ut=this,Tn(cr.prototype,function(ot,pt,lt){if(this.db=ut,this._ctx={table:ot,index:pt===":id"?null:pt,or:lt},this._cmp=this._ascending=xe,this._descending=function(dt,mt){return xe(mt,dt)},this._max=function(dt,mt){return 0<xe(dt,mt)?dt:mt},this._min=function(dt,mt){return xe(dt,mt)<0?dt:mt},this._IDBKeyRange=ut._deps.IDBKeyRange,!this._IDBKeyRange)throw new j.MissingAPI})),this.on("versionchange",function(ot){0<ot.newVersion?console.warn("Another connection wants to upgrade database '".concat(K.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(K.name,"'. Closing db now to resume the delete request.")),K.close({disableAutoOpen:!1})}),this.on("blocked",function(ot){!ot.newVersion||ot.newVersion<ot.oldVersion?console.warn("Dexie.delete('".concat(K.name,"') was blocked")):console.warn("Upgrade '".concat(K.name,"' blocked by other connection holding version ").concat(ot.oldVersion/10))}),this._maxKey=Rn(B.IDBKeyRange),this._createTransaction=function(ot,pt,lt,dt){return new K.Transaction(ot,pt,lt,K._options.chromeTransactionDurability,dt)},this._fireOnBlocked=function(ot){K.on("blocked").fire(ot),Be.filter(function(pt){return pt.name===K.name&&pt!==K&&!pt._state.vcFired}).map(function(pt){return pt.on("versionchange").fire(ot)})},this.use(og),this.use(fg),this.use(hg),this.use(rg),this.use(ag);var vt=new Proxy(this,{get:function(ot,pt,lt){if(pt==="_vip")return!0;if(pt==="table")return function(mt){return xr(K.table(mt),vt)};var dt=Reflect.get(ot,pt,lt);return dt instanceof Ls?xr(dt,vt):pt==="tables"?dt.map(function(mt){return xr(mt,vt)}):pt==="_createTransaction"?function(){return xr(dt.apply(this,arguments),vt)}:dt}});this.vip=vt,$.forEach(function(ot){return ot(K)})}var yr,di=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",dg=(ro.prototype.subscribe=function(w,B,K){return this._subscribe(w&&typeof w!="function"?w:{next:w,error:B,complete:K})},ro.prototype[di]=function(){return this},ro);function ro(w){this._subscribe=w}try{yr={indexedDB:J.indexedDB||J.mozIndexedDB||J.webkitIndexedDB||J.msIndexedDB,IDBKeyRange:J.IDBKeyRange||J.webkitIDBKeyRange}}catch{yr={indexedDB:null,IDBKeyRange:null}}function ju(w){var B,K=!1,$=new dg(function(k){var tt=z(w),it,nt=!1,ut={},ht={},vt={get closed(){return nt},unsubscribe:function(){nt||(nt=!0,it&&it.abort(),ot&&Ti.storagemutated.unsubscribe(lt))}};k.start&&k.start(vt);var ot=!1,pt=function(){return Me(dt)},lt=function(mt){Fn(ut,mt),zs(ht,ut)&&pt()},dt=function(){var mt,ft,yt;!nt&&yr.indexedDB&&(ut={},mt={},it&&it.abort(),it=new AbortController,yt=function(St){var Ct=Ci();try{tt&&Lt();var Rt=rt(w,St);return Rt=tt?Rt.finally(Ot):Rt}finally{Ct&&xi()}}(ft={subscr:mt,signal:it.signal,requery:pt,querier:w,trans:null}),Promise.resolve(yt).then(function(St){K=!0,B=St,nt||ft.signal.aborted||(ut={},function(Ct){for(var Rt in Ct)if(a(Ct,Rt))return;return 1}(ht=mt)||ot||(Ti(An,lt),ot=!0),Me(function(){return!nt&&k.next&&k.next(St)}))},function(St){K=!1,["DatabaseClosedError","AbortError"].includes(St==null?void 0:St.name)||nt||Me(function(){nt||k.error&&k.error(St)})}))};return setTimeout(pt,0),vt});return $.hasValue=function(){return K},$.getValue=function(){return B},$}var On=Xi;function ao(w){var B=an;try{an=!0,Ti.storagemutated.fire(w),to(w,!0)}finally{an=B}}r(On,G(G({},_),{delete:function(w){return new On(w,{addons:[]}).delete()},exists:function(w){return new On(w,{addons:[]}).open().then(function(B){return B.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(w){try{return B=On.dependencies,K=B.indexedDB,B=B.IDBKeyRange,(Re(K)?Promise.resolve(K.databases()).then(function($){return $.map(function(k){return k.name}).filter(function(k){return k!==Pi})}):Ae(K,B).toCollection().primaryKeys()).then(w)}catch{return ee(new j.MissingAPI)}var B,K},defineClass:function(){return function(w){t(this,w)}},ignoreTransaction:function(w){return Ut.trans?te(Ut.transless,w):w()},vip:Fe,async:function(w){return function(){try{var B=eo(w.apply(this,arguments));return B&&typeof B.then=="function"?B:Bt.resolve(B)}catch(K){return ee(K)}}},spawn:function(w,B,K){try{var $=eo(w.apply(K,B||[]));return $&&typeof $.then=="function"?$:Bt.resolve($)}catch(k){return ee(k)}},currentTransaction:{get:function(){return Ut.trans||null}},waitFor:function(w,B){return B=Bt.resolve(typeof w=="function"?On.ignoreTransaction(w):w).timeout(B||6e4),Ut.trans?Ut.trans.waitFor(B):B},Promise:Bt,debug:{get:function(){return Nt},set:function(w){Pt(w)}},derive:n,extend:t,props:r,override:f,Events:yn,on:Ti,liveQuery:ju,extendObservabilitySet:Fn,getByKeyPath:c,setByKeyPath:m,delByKeyPath:function(w,B){typeof B=="string"?m(w,B,void 0):"length"in B&&[].map.call(B,function(K){m(w,K,void 0)})},shallowClone:x,deepClone:P,getObjectDiff:io,cmp:xe,asap:d,minKey:-1/0,addons:[],connections:Be,errnames:U,dependencies:yr,cache:Ln,semVer:"4.0.7",version:"4.0.7".split(".").map(function(w){return parseInt(w)}).reduce(function(w,B,K){return w+B/Math.pow(10,2*K)})})),On.maxKey=Rn(On.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ti(An,function(w){an||(w=new CustomEvent(Qn,{detail:w}),an=!0,dispatchEvent(w),an=!1)}),addEventListener(Qn,function(w){w=w.detail,an||ao(w)}));var qn,an=!1,Zu=function(){};return typeof BroadcastChannel<"u"&&((Zu=function(){(qn=new BroadcastChannel(Qn)).onmessage=function(w){return w.data&&ao(w.data)}})(),typeof qn.unref=="function"&&qn.unref(),Ti(An,function(w){an||qn.postMessage(w)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(w){if(!Xi.disableBfCache&&w.persisted){Nt&&console.debug("Dexie: handling persisted pagehide"),qn!=null&&qn.close();for(var B=0,K=Be;B<K.length;B++)K[B].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(w){!Xi.disableBfCache&&w.persisted&&(Nt&&console.debug("Dexie: handling persisted pageshow"),Zu(),ao({all:new ye(-1/0,[[]])}))})),Bt.rejectionMapper=function(w,B){return!w||w instanceof N||w instanceof TypeError||w instanceof SyntaxError||!w.name||!Q[w.name]?w:(B=new Q[w.name](B||w.message,w),"stack"in w&&e(B,"stack",{get:function(){return this.inner.stack}}),B)},Pt(Nt),G(Xi,Object.freeze({__proto__:null,Dexie:Xi,liveQuery:ju,Entity:Rs,cmp:xe,PropModSymbol:yi,PropModification:Cn,replacePrefix:function(w,B){return new Cn({replacePrefix:[w,B]})},add:function(w){return new Cn({add:w})},remove:function(w){return new Cn({remove:w})},default:Xi,RangeSet:ye,mergeRanges:zi,rangesOverlap:Mn}),{default:Xi}),Xi})})(Fu);var Im=Fu.exports;const Ka=_n(Im),Lu=Symbol.for("Dexie"),fr=globalThis[Lu]||(globalThis[Lu]=Ka);if(Ka.semVer!==fr.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ka.semVer} and ${fr.semVer}`);const{liveQuery:Bm,mergeRanges:bg,rangesOverlap:Gg,RangeSet:Ng,cmp:Vg,Entity:Ug,PropModSymbol:zg,PropModification:Xg,replacePrefix:Yg,add:Wg,remove:Hg}=fr;class bm extends fr{constructor(){super("subak-game");be(this,"scores");this.version(1).stores({scores:"++id, name, points, time, createdAt"})}}const Ou=new bm,Gm=.5,Nm=.15;class Vm extends xs.Physics.Matter.Image{constructor(A,D,G,H){super(A.matter.world,D,G,H);const J=Ha(H);if(!J){console.error(`Could not create fruit because fruitName "${H}" is invalid.`);return}const p=A.gw(J.radius);this.setName(H),this.setDisplaySize(p*2,p*2),this.setCircle(p),this.setFriction(Gm),this.setFrictionAir(.01),this.setBounce(Nm),this.setDepth(1),this.active&&(this.setOnCollideWith(A.ceiling,(y,t)=>{const{bodyB:l}=t;A.fruitCollidingWithCeiling.set(l.id,A.time.now)}),this.setOnCollideEnd(y=>{if(y.bodyA.id===A.ceiling.id||y.bodyB.id===A.ceiling.id){const t=y.bodyA.id===A.ceiling.id?y.bodyB:y.bodyA;A.fruitCollidingWithCeiling.delete(t.id)}}))}}class Um extends xs.GameObjects.Arc{constructor(A,D,G,H){super(A,D,G,H),this.setStrokeStyle(1,0,.5),this.setDepth(0),A.tweens.add({targets:this,radius:H*4+50,alpha:0,ease:"Quad.Out",duration:1e3,onComplete:()=>{this.destroy()}})}}const wu={CEILING_HIT:"CEILING_HIT",DROP:"DROP"};class zm extends xs.Scene{constructor(){super(...arguments);be(this,"dropper");be(this,"dropPointer");be(this,"dropLine");be(this,"dropperGroup");be(this,"group");be(this,"ceiling");be(this,"fruitCollidingWithCeiling",new Map);be(this,"state");be(this,"debugState");be(this,"physicsTimeAccumulator",0);be(this,"gh",D=>Number(this.game.config.height)*(D/100));be(this,"gw",D=>Number(this.game.config.width)*(D/100));be(this,"subscribeToStores",()=>{vi.subscribe(this.handleStoreChange),this.state=vi.getState(),lr.subscribe(this.handleDebugStoreChange),this.debugState=lr.getState()});be(this,"handleStoreChange",D=>{this.state=D});be(this,"handleDebugStoreChange",D=>{this.debugState=D});be(this,"handlePointerMove",D=>{this.state.isGameOver||!this.state.isStarted||this.setDropperX(D.x)});be(this,"handleDrop",()=>{if(!this.isGameActive()||!this.dropper.visible)return;const D=this.state.upcomingFruit;if(!D){console.error("No upcoming fruit found.");return}this.dropper.setVisible(!1),this.time.delayedCall(500,()=>{this.dropper.setVisible(!this.state.isGameOver),this.updateDropper(D)});const G=Ha(this.dropper.name);if(!G){console.error(`No fruit found for value: "${this.dropper.name}"`);return}const H=this.addFruit(this.dropper.x,this.dropper.y,G.name);this.group.add(H);const J=Mu();this.setUpcomingFruit(this.debugState.overrideFruit||J)});be(this,"handleCollision",D=>{var G,H;if(!this.debugState.disableMerging){for(const J of D.pairs)if(!(!J.bodyA.gameObject||!J.bodyA.gameObject)&&((G=J.bodyA.gameObject)==null?void 0:G.name)===((H=J.bodyB.gameObject)==null?void 0:H.name)){const p=J.bodyA,y=J.bodyB;this.mergeFruit(p,y)}}});be(this,"handleCollisionActive",Om(this.handleCollision,500));be(this,"handleCeilingHit",()=>{this.endGame()});be(this,"handleReset",()=>{this.setScore(0),this.state.setIsGameOver(!1),this.matter.world.resume(),this.scene.restart()})}preload(){for(const D of ur)this.load.image(`${D}`,`${D}.png`);this.load.image("fruit-pointer","fruit-pointer.png")}isGameActive(){return!this.state.isGameOver&&this.state.isStarted}updateDropper(D){const G=this.gw(D.radius*2);this.dropper.setTexture(D.name).setName(D.name).setDisplaySize(G,G),this.setDropperX(this.input.activePointer.x||this.gw(50)),this.tweens.add({targets:this.dropper,scale:{from:this.dropper.scale*.25,to:this.dropper.scale},alpha:{from:0,to:1},ease:"Elastic",easeParams:[.01,.5],duration:325}),this.group.getChildren().forEach(H=>{H instanceof xs.GameObjects.Image&&(H.postFX.clear(),H.name===D.name&&H.postFX.addShine())})}setDropperX(D){const H=this.dropper.displayWidth/2,J=cm(D,H+0,Number(this.game.config.width)-H-0);this.dropperGroup.setX(J)}addFruit(D,G,H){const J=new Vm(this,D,G,H);return this.add.existing(J),J}setUpcomingFruit(D){this.state.setUpcomingFruit(D)}mergeFruit(D,G){if(!D.gameObject){console.error("mergeFruit requires two bodies with references to a gameObject");return}const H=D.gameObject.name,J=Ha(H);if(!J){console.error(`No fruit data matches fruit with name "${H}"`);return}this.setScore(this.state.score+J.points),D.gameObject.destroy(),G.gameObject.destroy();const p=Dm(H);if(!p)return;const y=(D.position.x+G.position.x)/2,t=(D.position.y+G.position.y)/2,l=this.addFruit(y,t,p.name);this.group.add(l);const v=new Um(this,y,t,this.gw(p.radius));this.add.existing(v)}setScore(D){this.state.setScore(D)}async endGame(){if(this.state.isGameOver)return!1;this.state.setIsGameOver(!0),this.dropper.setVisible(!1),this.fruitCollidingWithCeiling.clear();const D=await Ou.scores.add({name:"???",points:this.state.score,time:Date.now()-this.state.startTime,createdAt:new Date});this.state.setNewScoreId(D)}create(){this.subscribeToStores(),this.matter.world.setBounds(0,0,this.gw(100),this.gh(100)),this.group=this.add.group(),this.lights.enable().setAmbientColor(16777215);const D=this.gh(100/6);this.ceiling=this.matter.add.rectangle(this.gw(50),D/2,this.gw(100),D,{label:"ceiling",isSensor:!0,isStatic:!0}),this.add.rectangle(0,D,this.gw(100),2,0).setOrigin(0).setAlpha(.125).setDepth(-2),this.dropperGroup=this.add.group();const G=D/2,H=Wa(0);this.dropper=this.add.image(this.input.activePointer.x,0,H.name).setY(G),this.dropPointer=this.add.image(0,this.gw(1.5),"fruit-pointer").setAlpha(.5).setDisplaySize(this.gw(5),this.gw(5)),this.dropLine=this.add.rectangle(0,this.gh(1),2,this.gh(100),0).setOrigin(0).setAlpha(.1).setDepth(-2),this.dropperGroup.add(this.dropper),this.dropperGroup.add(this.dropPointer),this.dropperGroup.add(this.dropLine),this.updateDropper(H);const J=Mu();this.setUpcomingFruit(J),this.matter.world.on("collisionstart",this.handleCollision),this.matter.world.on("collisionactive",this.handleCollisionActive),this.events.on(wu.CEILING_HIT,this.handleCeilingHit),this.game.events.on("drop",this.handleDrop),this.game.events.on("reset",this.handleReset)}updatePhysics(D,G){const{deltaMin:H=0}=this.matter.world.runner;for(this.physicsTimeAccumulator+=G;this.physicsTimeAccumulator>=H;)this.matter.step(H),this.physicsTimeAccumulator-=H}update(D,G){this.isGameActive()&&(this.updatePhysics(D,G),this.fruitCollidingWithCeiling.forEach(H=>{D-H>=500&&this.events.emit(wu.CEILING_HIT)}),this.setDropperX(this.state.pointerX*window.devicePixelRatio))}}const ja=300,Du=ja*1.5,Za=window.devicePixelRatio||1;function Xm({gameRef:C}){const A=zt.useRef(null),D=ci(vi,J=>J.isGameOver),G=typeof window.ontouchstart=="function"||navigator.maxTouchPoints>0,H=In(Ba.game,{[Ba.isGameOver]:D});return zt.useEffect(()=>{const J=new xs.Game({scene:[zm],width:ja,height:Du,transparent:!0,render:{mipmapFilter:"LINEAR_MIPMAP_LINEAR",antialias:!0,antialiasGL:!0,roundPixels:!1,pixelArt:!1},physics:{default:"matter",matter:{positionIterations:8,velocityIterations:6,constraintIterations:4,gravity:{x:0,y:window.devicePixelRatio},autoUpdate:!1}},parent:A.current,scale:{width:ja*Za,height:Du*Za,zoom:1/Za}});return C.current=J,()=>{C.current.destroy()}},[]),wt.jsxs(wt.Fragment,{children:[wt.jsx("div",{className:H,ref:A}),G&&wt.jsxs("div",{className:Ba.touchControl,children:["Press down and slide.",wt.jsx("br",{}),"Release to drop."]})]})}const Cs={fruits:"_fruits_pytv1_1",fruitLoop:"_fruitLoop_pytv1_10",fruitGroups:"_fruitGroups_pytv1_27",fruitGroup:"_fruitGroup_pytv1_27",fruit:"_fruit_pytv1_1"};function Ym(){const A=fm(Es,Math.ceil(Es.length/2)).map((D,G)=>{const H=D.map(J=>wt.jsx("div",{className:Cs.fruit,children:wt.jsx("img",{src:`./${J.name}.png`})},J.name));return wt.jsx("div",{className:Cs.fruitGroup,children:H},`fruit-group-${G}`)});return wt.jsxs("div",{className:Cs.fruits,children:[wt.jsx("div",{className:Cs.fruitLoop}),wt.jsx("div",{className:Cs.fruitGroups,children:A})]})}const Iu={dialogBackdrop:"_dialogBackdrop_rbm75_1",dialog:"_dialog_rbm75_1"},Wm={hidden:{opacity:0,scale:.5,y:"8px"},visible:{opacity:1,scale:1,y:"0px"}},Hm={type:"spring",stiffness:1e3,damping:60,mass:1,delay:.125};function Bu({children:C,open:A}){return wt.jsx("div",{className:Iu.dialogBackdrop,children:wt.jsx(tu.dialog,{className:Iu.dialog,variants:Wm,initial:"hidden",animate:"visible",exit:"hidden",transition:Hm,open:A,children:C})})}const Hn={leaderboard:"_leaderboard_n8ujv_1",scores:"_scores_n8ujv_8",scoresScroll:"_scoresScroll_n8ujv_13",rank:"_rank_n8ujv_19",score:"_score_n8ujv_8",time:"_time_n8ujv_21",name:"_name_n8ujv_28"},Km=new Intl.DateTimeFormat("en-US",{year:"2-digit",month:"2-digit",day:"2-digit"});function bu({scores:C}){return!Fm(C)&&wt.jsxs("div",{className:Hn.leaderboard,children:[wt.jsxs("div",{children:["Top Scores from ",wt.jsx("strong",{children:"This Browser"})]}),wt.jsx("div",{className:Hn.scores,children:wt.jsx("div",{className:Hn.scoresScroll,children:wt.jsx("table",{children:wt.jsx("tbody",{children:C==null?void 0:C.map(({id:A,createdAt:D,points:G},H)=>{const J=H+1;return wt.jsxs("tr",{children:[wt.jsx("td",{className:Hn.rank,children:J}),wt.jsx("td",{className:Hn.score,children:wt.jsx("strong",{children:Intl.NumberFormat().format(G)})}),wt.jsx("td",{className:Hn.createdAt,children:Km.format(D)})]},A)})})})})})]})}function jm(C,A,D){var G,H;typeof C=="function"?(G=A||[],H=D):(G=[],H=A);var J=Dn.useRef({hasResult:!1,result:H,error:null}),p=Dn.useReducer(function(l){return l+1},0);p[0];var y=p[1],t=Dn.useMemo(function(){var l=typeof C=="function"?C():C;if(!l||typeof l.subscribe!="function")throw C===l?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!J.current.hasResult&&typeof window<"u"&&(typeof l.hasValue!="function"||l.hasValue()))if(typeof l.getValue=="function")J.current.result=l.getValue(),J.current.hasResult=!0;else{var v=l.subscribe(function(a){J.current.result=a,J.current.hasResult=!0});typeof v=="function"?v():v.unsubscribe()}return l},G);if(Dn.useDebugValue(J.current.result),Dn.useEffect(function(){var l=t.subscribe(function(v){var a=J.current;(a.error!==null||a.result!==v)&&(a.error=null,a.result=v,a.hasResult=!0,y())},function(v){var a=J.current;a.error!==v&&(a.error=v,y())});return typeof l=="function"?l:l.unsubscribe.bind(l)},G),J.current.error)throw J.current.error;return J.current.result}function Zm(C,A,D){return jm(function(){return Bm(C)},A||[],D)}function Gu(){return Zm(()=>Ou.scores.orderBy("points").reverse().limit(25).toArray(),[])}function $m({gameRef:C}){const A=ci(vi,H=>H.score),D=Gu();function G(){C.current.events.emit("reset")}return wt.jsxs(Bu,{open:!0,children:[wt.jsx("header",{children:"Game Over"}),wt.jsx("section",{children:"Thanks for playing! You did great!"}),wt.jsxs("section",{children:["Your score was ",wt.jsx("strong",{children:Intl.NumberFormat().format(A)})]}),wt.jsx("section",{children:wt.jsx(bu,{scores:D})}),wt.jsx("footer",{children:wt.jsx("button",{onClick:G,children:"Start New Game"})})]})}const Jm={score:"_score_10n4o_1"};function Qm({score:C=0}){const A=C.toLocaleString();return wt.jsx("var",{className:Jm.score,children:A})}const km={debug:"_debug_bvjy7_1"};function qm(){const[,C]=ci(vi,t=>[t.upcomingFruit,t.setUpcomingFruit]),[A,D]=ci(lr,t=>[t.overrideFruit,t.setOverrideFruit]),[G,H]=ci(lr,t=>[t.disableMerging,t.setDisableMerging]),J=Es.map((t,l)=>wt.jsx("option",{value:l,children:t.name},t.name));function p(t){const l=t.target,v=Number(l.value),a=Es[v];C(a),D(a)}function y(t){const l=t.target;H(l.checked)}return wt.jsx(wt.Fragment,{children:wt.jsxs("dialog",{className:km.debug,open:!0,children:[wt.jsxs("label",{children:[wt.jsx("div",{children:"Fruit Override"}),wt.jsx("select",{onClick:p,value:A==null?void 0:A.name,children:J})]}),wt.jsxs("label",{children:[wt.jsx("div",{children:"Disable Merging"}),wt.jsx("input",{type:"checkbox",checked:G,onChange:y})]})]})})}const Nu={nextFruitSlot:"_nextFruitSlot_1su8i_1",nextFruitImage:"_nextFruitImage_1su8i_7"},_m={initial:{opacity:0,scale:.25,x:"-150%"},animate:{opacity:1,scale:1,x:"0%"},exit:{opacity:0,scale:.25,x:"150%"}},tg={delay:.25};function eg({nextFruit:C}){return wt.jsx("div",{className:Nu.nextFruitSlot,children:wt.jsx(iu,{children:C&&wt.jsx(tu.img,{variants:_m,initial:"initial",animate:"animate",exit:"exit",transition:tg,className:Nu.nextFruitImage,src:`./${C.name}.png`},C.uuid)})})}const Vu={subakIcon:"_subakIcon_1wnzh_1"};function ig(){const C=ci(vi,G=>G.setIsStarted),A=Gu();function D(){C(!0)}return wt.jsxs(Bu,{open:!0,children:[wt.jsxs("header",{children:["Subak Game ",wt.jsx("img",{className:Vu.subakIcon,src:"./watermelon.png"})]}),wt.jsxs("section",{children:["Match fruits to merge them into a bigger fruit. Try to get to a"," ",wt.jsx("img",{className:Vu.subakIcon,src:"./watermelon.png"}),"."]}),wt.jsx("section",{children:A&&wt.jsx(bu,{scores:A})}),wt.jsx("footer",{children:wt.jsx("button",{type:"button",onClick:D,children:"Start Game"})})]})}function ng(){const C=new URLSearchParams(window.location.search),A=!!C.get("debug")&&C.get("debug")!=="false",D=zt.useRef(null),G=zt.useRef(null),H=pf(G),J=ci(vi,h=>h.score),p=ci(vi,h=>h.upcomingFruit),y=ci(vi,h=>h.isGameOver),t=ci(vi,h=>h.isStarted),l=ci(vi,h=>h.setPointerX),[v,a]=zt.useState(!1);function r(h){const i=h instanceof TouchEvent?h.touches[0].clientX:h instanceof MouseEvent?h.clientX:0,o=(H==null?void 0:H.x)||0,f=i-o;l(f)}function s(){D.current&&(a(!0),setTimeout(()=>{a(!1)},250),D.current.events.emit("drop"))}function e(h){const i=h instanceof TouchEvent?h.touches[0].clientX:h instanceof MouseEvent?h.clientX:0,o=(H==null?void 0:H.x)||0,f=i-o;l(f)}const n=In(Ke.subakGame,{[Ke.isGameOver]:!0,[Ke.isNotStarted]:!0});return wt.jsxs(wt.Fragment,{children:[wt.jsxs("div",{className:n,onMouseDown:r,onTouchStart:r,onMouseUp:s,onTouchEnd:s,onMouseMove:e,onTouchMove:e,children:[wt.jsxs("div",{className:Ke.innerFrame,children:[wt.jsxs("section",{className:Ke.hud,children:[wt.jsxs("div",{className:In(Ke.nextFruit,Ke.hudSection),children:[wt.jsx("h6",{className:Ke.label,children:"Next"}),wt.jsx(eg,{nextFruit:p})]}),wt.jsxs("div",{className:In(Ke.score,Ke.hudSection),children:[wt.jsx("h6",{className:Ke.label,children:"Score"}),wt.jsx(Qm,{score:J})]}),wt.jsxs("div",{className:In(Ke.circleOfEvolution,Ke.hudSection),children:[wt.jsx("h6",{className:Ke.label,children:"Cycle"}),wt.jsx(Ym,{})]})]}),wt.jsx("section",{className:In(Ke.game,{[Ke.isDropping]:v}),children:wt.jsx(Xm,{gameRef:D})})]}),wt.jsx(iu,{children:wt.jsxs("div",{className:Ke.dialogs,children:[y&&wt.jsx($m,{gameRef:D}),!t&&wt.jsx(ig,{})]})})]}),A&&wt.jsx(qm,{})]})}ze.SubakGame=ng,Object.defineProperty(ze,Symbol.toStringTag,{value:"Module"})});
